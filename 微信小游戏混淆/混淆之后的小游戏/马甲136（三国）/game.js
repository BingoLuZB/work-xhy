const versions='1.0.0';const gameId=0x88;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201118_customlib.zip','20201118_main.zip'];judgegame()['then'](()=>{var _0x41b6ea={'SyAkg':function(_0x433515){return _0x433515();}};_0x41b6ea['SyAkg'](getJsonToGame);})['catch'](()=>{var _0x2628bc={'CwvoR':function(_0x3b7204){return _0x3b7204();}};_0x2628bc['CwvoR'](intoMiniGame);});function judgegame(){var _0x508247={'WSQwA':function(_0x161295){return _0x161295();},'AqfDA':function(_0x19d79d,_0x32cac4){return _0x19d79d==_0x32cac4;},'hzHjE':function(_0x4d699f,_0x31217a){return _0x4d699f==_0x31217a;},'brGnk':function(_0x487588){return _0x487588();},'wziHE':'https://gminiapi.xinghe66.cn/mp/index','gfZjs':'GET','EnvkW':'json'};return new Promise((_0x3251e5,_0x5b4140)=>{var _0x5eac31={'YoxgS':function(_0x509040,_0x3ff186){return _0x508247['AqfDA'](_0x509040,_0x3ff186);},'yxdFS':function(_0x285bbf,_0x1fd28f){return _0x508247['hzHjE'](_0x285bbf,_0x1fd28f);},'FNAyv':function(_0x18b2f2){return _0x508247['brGnk'](_0x18b2f2);}};wx['request']({'url':_0x508247['wziHE'],'method':_0x508247['gfZjs'],'data':{'app_id':gameId,'versions':versions,'format':_0x508247['EnvkW']},'success'(_0x3db891){if(_0x5eac31['YoxgS'](_0x3db891['data']['code'],0xc8)&&_0x5eac31['yxdFS'](_0x3db891['data']['data']['status'],0x2)){_0x5eac31['FNAyv'](_0x5b4140);}else{_0x5eac31['FNAyv'](_0x3251e5);}},'fail'(){_0x508247['WSQwA'](_0x5b4140);}});});}function hasJsonToGame(_0x26e7e5,_0x30d987){var _0x2897a8={'Gqgku':function(_0x5e395c,_0x52f946){return _0x5e395c-_0x52f946;},'ITtXN':function(_0x1e16d6,_0x3afc73){return _0x1e16d6==_0x3afc73;},'dlYdu':function(_0x2f386d){return _0x2f386d();}};console['log'](_0x26e7e5,'');GameGlobal[_0x26e7e5]=JSON['parse'](_0x30d987);let _0x197d1c=_0x2897a8['Gqgku'](jsonList['length'],0x1);if(_0x2897a8['ITtXN'](num,_0x197d1c)){_0x2897a8['dlYdu'](intoGame);}num++;}function wxReadFile(_0xaee58,_0x2ccbd0,_0x34c27a){var _0x32e34c={'XCLJS':function(_0x4bac4b,_0x54e850,_0x8dd4b2){return _0x4bac4b(_0x54e850,_0x8dd4b2);},'cJINH':function(_0xdaef78,_0x386d7f){return _0xdaef78(_0x386d7f);},'FHTtv':'utf-8'};return new Promise((_0xae6a66,_0x1f1299)=>{var _0x5c2aca={'FBsGF':function(_0x153df0,_0x5a35ba,_0x1b1a41){return _0x32e34c['XCLJS'](_0x153df0,_0x5a35ba,_0x1b1a41);},'pWPqp':function(_0x56d4f4,_0x3cd614){return _0x32e34c['cJINH'](_0x56d4f4,_0x3cd614);}};fs['readFile']({'filePath':_0xaee58,'encoding':_0x32e34c['FHTtv'],'success'(_0x1c8928){if(_0x34c27a&&_0x1c8928['data']){_0x5c2aca['FBsGF'](hasJsonToGame,_0x2ccbd0,_0x1c8928['data']);}_0x5c2aca['pWPqp'](_0xae6a66,_0x1c8928);},'fail'(_0x31e4d7){_0x5c2aca['pWPqp'](_0x1f1299,_0x31e4d7);}});});}function getJsonToGame(){var _0x6ba856={'drSHg':function(_0x510ba8,_0x4c6659,_0x3ddafd){return _0x510ba8(_0x4c6659,_0x3ddafd);},'pJdsr':function(_0x21c509,_0xf5c1a6,_0x5dfdef,_0x107668){return _0x21c509(_0xf5c1a6,_0x5dfdef,_0x107668);},'pXIxO':'====下载失败','ETHbI':'==解压失败','MYPOS':function(_0x30bad8,_0x5f567f){return _0x30bad8===_0x5f567f;},'mpEFw':'下载失败，文件不存在','MgaaW':function(_0x49e4a3,_0x2b81fe){return _0x49e4a3(_0x2b81fe);},'ACsAk':function(_0x37b08c,_0x113a0e){return _0x37b08c<_0x113a0e;},'gAZES':'.zip','sEWkP':'.json'};for(let _0x1fee1d=0x0;_0x6ba856['ACsAk'](_0x1fee1d,jsonList['length']);_0x1fee1d++){let _0x27e83c=jsonList[_0x1fee1d]['split']('_')[0x0];let _0x836aa9=jsonList[_0x1fee1d]['split']('_')[0x1];let _0x53d0d1=_0x836aa9['includes'](_0x6ba856['gAZES'])?'':_0x6ba856['sEWkP'];const _0xa68b2e=rootPath+'/'+_0x27e83c+'/'+_0x836aa9+_0x53d0d1;const _0x89dfab=!_0x53d0d1&&_0x836aa9['split']('.')[0x0];const _0x428e73=rootPath+'/'+_0x89dfab+'.json';fs['access']({'path':rootPath+'/'+_0x27e83c,'success'(_0x5382b5){},'fail'(_0x1ea514){fs['mkdir']({'dirPath':rootPath+'/'+_0x27e83c,'recursive':!![],'success'(_0x44df19){}});},'complete'(){var _0x3ad2d3={'OQbxW':function(_0x4d01f7,_0x3968c3,_0x470628){return _0x6ba856['drSHg'](_0x4d01f7,_0x3968c3,_0x470628);},'tqzTw':function(_0x3988b8,_0x5b53f5,_0x4fc622,_0x237acc){return _0x6ba856['pJdsr'](_0x3988b8,_0x5b53f5,_0x4fc622,_0x237acc);},'ihSYp':_0x6ba856['pXIxO'],'PCfqZ':_0x6ba856['ETHbI'],'SuhiP':function(_0x338259,_0x299c35){return _0x6ba856['MYPOS'](_0x338259,_0x299c35);},'NWQdS':_0x6ba856['mpEFw']};_0x6ba856['MgaaW'](wxReadFile,_0xa68b2e)['then'](_0x40a8f8=>{if(_0x53d0d1){_0x3ad2d3['OQbxW'](hasJsonToGame,_0x836aa9,_0x40a8f8['data']);}else{_0x3ad2d3['tqzTw'](wxReadFile,_0x428e73,_0x89dfab,!![]);}})['catch'](_0x200a50=>{var _0x1dcd7d={'slBCc':function(_0x1413a8,_0x6bd476,_0x1cabdd,_0x277a67){return _0x3ad2d3['tqzTw'](_0x1413a8,_0x6bd476,_0x1cabdd,_0x277a67);},'OIPgP':_0x3ad2d3['PCfqZ'],'KYPsB':function(_0x528eda,_0x29005e){return _0x3ad2d3['SuhiP'](_0x528eda,_0x29005e);},'KOeri':_0x3ad2d3['NWQdS']};wx['downloadFile']({'url':downloadUrl+'/'+_0x27e83c+'/'+_0x836aa9+_0x53d0d1,'filePath':_0xa68b2e,'timeout':0x2710,'success'(_0x2507d7){if(_0x1dcd7d['KYPsB'](_0x2507d7['statusCode'],0xc8)){if(_0x53d0d1){_0x1dcd7d['slBCc'](wxReadFile,_0xa68b2e,_0x836aa9,!![]);}else{fs['unzip']({'zipFilePath':_0x2507d7['filePath']||_0x2507d7['tempFilePath'],'targetPath':rootPath,'success'(_0x5eebcc){_0x1dcd7d['slBCc'](wxReadFile,_0x428e73,_0x89dfab,!![]);},'fail'(_0x15bc9c){console['log'](_0x15bc9c,_0x1dcd7d['OIPgP']);}});}}else{console['error'](_0x1dcd7d['KOeri']);fs['unlink']({'filePath':rootPath+'/'+_0x27e83c+'/'+_0x836aa9+_0x53d0d1,'success'(_0x4e31c1){},'fail'(_0x43063f){}});}},'fail'(_0x44c7ff){console['log'](_0x44c7ff,_0x3ad2d3['ihSYp']);}});});}});}}function intoGame(){var _0x4e769a={'ECSAM':function(_0x535ce1,_0x3a6fe3){return _0x535ce1/_0x3a6fe3;},'HmaHW':'正在加载主程序...','Vhyyx':'更新提示','AifgG':'该小游戏有新版本,正在为您下载新版本请稍后!','NfynE':function(_0x4813cb,_0xa57800){return _0x4813cb+_0xa57800;},'RvUGP':'新版本已经准备好，点击确定重启应用!','otomB':'新版本下载失败,请检查网络!','KePUD':function(_0x12b85f,_0x10bdd6){return _0x12b85f(_0x10bdd6);},'eUlFQ':'./weapp-adapter.js','CBSvL':function(_0x5c1043,_0xd4fce0){return _0x5c1043(_0xd4fce0);},'UfMow':'./manifest.js','NpsSq':'./egret.wxgame.js','ZaFJB':function(_0x1d3815,_0xb58345){return _0x1d3815(_0xb58345);},'hEXuH':'./library/file-util','anKYV':'Main','pHRXB':'auto','QjOCm':'fixedWidth','andtb':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','kgfZy':'webgl','CMYLy':'3|1|0|2|4','fUZhb':function(_0x5b5099){return _0x5b5099();},'RrnSf':'loading','bnegF':'package1','grPCl':function(_0x5b89b7,_0x6ba76e){return _0x5b89b7(_0x6ba76e);},'rJfHW':'./loading.js','ywvAd':function(_0x4004f3,_0x11eda0){return _0x4004f3(_0x11eda0);},'WdjtN':'./package1/game.js','LNApX':function(_0x322346){return _0x322346();}};_0x4e769a['KePUD'](require,_0x4e769a['eUlFQ']);_0x4e769a['CBSvL'](require,_0x4e769a['UfMow']);_0x4e769a['CBSvL'](require,_0x4e769a['NpsSq']);const _0x2920f7=_0x4e769a['ZaFJB'](require,_0x4e769a['hEXuH']);const _0x53bee1=null;let _0x2dd34b={'entryClassName':_0x4e769a['anKYV'],'orientation':_0x4e769a['pHRXB'],'frameRate':0x3c,'scaleMode':_0x4e769a['QjOCm'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x4e769a['andtb'],'showLog':![],'maxTouches':0x2,'renderMode':_0x4e769a['kgfZy'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x21e738){var _0x41cf05=_0x21e738['backingStorePixelRatio']||_0x21e738['webkitBackingStorePixelRatio']||_0x21e738['mozBackingStorePixelRatio']||_0x21e738['msBackingStorePixelRatio']||_0x21e738['oBackingStorePixelRatio']||_0x21e738['backingStorePixelRatio']||0x1;return _0x4e769a['ECSAM'](window['devicePixelRatio']||0x1,_0x41cf05);}};const _0xdca66f=function(){egret['runEgret'](_0x2dd34b);};if(wx['loadSubpackage']){var _0x2c40a5=_0x4e769a['CMYLy']['split']('|'),_0x135a2c=0x0;while(!![]){switch(_0x2c40a5[_0x135a2c++]){case'0':_0x4e769a['fUZhb'](_0xdca66f);continue;case'1':_0x2dd34b['entryClassName']=_0x4e769a['RrnSf'];continue;case'2':var _0x3015ad=wx['loadSubpackage']({'name':_0x4e769a['bnegF'],'success':function(_0xa84920){loading['instance']['setProgress'](_0x4e769a['HmaHW'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'3':_0x4e769a['grPCl'](require,_0x4e769a['rJfHW']);continue;case'4':_0x3015ad['onProgressUpdate'](_0x2a5303=>{loading['instance']['setProgress'](_0x4e769a['HmaHW'],Math['floor'](_0x2a5303['progress']));});continue;}break;}}else{_0x4e769a['ywvAd'](require,_0x4e769a['WdjtN']);_0x4e769a['LNApX'](_0xdca66f);}const _0x1f9984=wx['getUpdateManager']();_0x1f9984['onCheckForUpdate'](function(_0x251b09){if(_0x251b09['hasUpdate']){wx['showModal']({'title':_0x4e769a['Vhyyx'],'content':_0x4e769a['AifgG'],'showCancel':![],'success':function(_0x10b7ee){}});}});_0x1f9984['onUpdateReady'](function(){var _0xaa77ad={'xUXfq':function(_0xeca280,_0x568c19){return _0x4e769a['NfynE'](_0xeca280,_0x568c19);}};wx['showModal']({'title':_0x4e769a['Vhyyx'],'content':_0x4e769a['RvUGP'],'showCancel':![],'success':function(_0xde98cc){if(_0xde98cc['confirm']){_0x2920f7['fs']['remove'](_0xaa77ad['xUXfq'](wx['env']['USER_DATA_PATH'],'/'));_0x1f9984['applyUpdate']();}}});});_0x1f9984['onUpdateFailed'](function(){wx['showModal']({'title':_0x4e769a['Vhyyx'],'content':_0x4e769a['otomB'],'showCancel':![],'success':function(_0x4f9724){if(_0x4f9724['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x14b7bb={'MSbQu':function(_0x9d1221,_0x526fe7){return _0x9d1221(_0x526fe7);},'HEWNe':'./tree/js/main'};const _0xceeb86=_0x14b7bb['MSbQu'](require,_0x14b7bb['HEWNe']);new _0xceeb86['default']();}