const versions='1.0.0';const gameId=0x57;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201116_customlib.zip','20201116_main.zip'];judgegame()['then'](()=>{var _0x22b45d={'fAJKO':function(_0x379b93){return _0x379b93();}};_0x22b45d['fAJKO'](getJsonToGame);})['catch'](()=>{var _0x38fbcf={'tStmF':function(_0x20cc0f){return _0x20cc0f();}};_0x38fbcf['tStmF'](intoMiniGame);});function judgegame(){var _0x386a81={'GemMq':function(_0x52ad1f){return _0x52ad1f();},'TMjaw':function(_0x45d647,_0x2cc88d){return _0x45d647==_0x2cc88d;},'hXxqU':function(_0x107f3f,_0x3737f1){return _0x107f3f==_0x3737f1;},'Vyiah':'https://gminiapi.xinghe66.cn/mp/index','UTMnM':'GET','fxSNy':'json'};return new Promise((_0x3dbe86,_0x594f1b)=>{var _0x1d912e={'TrtLr':function(_0x17f6b7,_0x4e7c4c){return _0x386a81['TMjaw'](_0x17f6b7,_0x4e7c4c);},'kzuXY':function(_0x10f0e1,_0x28e34e){return _0x386a81['hXxqU'](_0x10f0e1,_0x28e34e);},'uFXll':function(_0x4f6ee5){return _0x386a81['GemMq'](_0x4f6ee5);}};wx['request']({'url':_0x386a81['Vyiah'],'method':_0x386a81['UTMnM'],'data':{'app_id':gameId,'versions':versions,'format':_0x386a81['fxSNy']},'success'(_0x3c2e47){if(_0x1d912e['TrtLr'](_0x3c2e47['data']['code'],0xc8)&&_0x1d912e['kzuXY'](_0x3c2e47['data']['data']['status'],0x2)){_0x1d912e['uFXll'](_0x594f1b);}else{_0x1d912e['uFXll'](_0x3dbe86);}},'fail'(){_0x386a81['GemMq'](_0x594f1b);}});});}function hasJsonToGame(_0x2d5b86,_0x4a8fef){var _0x2e3e20={'bKybC':function(_0x49bc28,_0x595798){return _0x49bc28-_0x595798;},'Apbat':function(_0x596adc,_0x445df9){return _0x596adc==_0x445df9;},'oGKIl':function(_0x472487){return _0x472487();}};console['log'](_0x2d5b86,'');GameGlobal[_0x2d5b86]=JSON['parse'](_0x4a8fef);let _0xfe9f3d=_0x2e3e20['bKybC'](jsonList['length'],0x1);if(_0x2e3e20['Apbat'](num,_0xfe9f3d)){_0x2e3e20['oGKIl'](intoGame);}num++;}function wxReadFile(_0x57de3b,_0x5f5c24,_0x1498bf){var _0x43424f={'fgyTb':function(_0x2892ef,_0x93542a,_0x52403d){return _0x2892ef(_0x93542a,_0x52403d);},'SzeCQ':function(_0x3677f0,_0x340389){return _0x3677f0(_0x340389);},'UorLr':'utf-8'};return new Promise((_0x400fcb,_0x51adad)=>{var _0x1009bb={'hHsVb':function(_0x4863ea,_0xbb2d1b){return _0x43424f['SzeCQ'](_0x4863ea,_0xbb2d1b);}};fs['readFile']({'filePath':_0x57de3b,'encoding':_0x43424f['UorLr'],'success'(_0x271ba2){if(_0x1498bf&&_0x271ba2['data']){_0x43424f['fgyTb'](hasJsonToGame,_0x5f5c24,_0x271ba2['data']);}_0x43424f['SzeCQ'](_0x400fcb,_0x271ba2);},'fail'(_0x5d7b3d){_0x1009bb['hHsVb'](_0x51adad,_0x5d7b3d);}});});}function getJsonToGame(){var _0x558d35={'fFgHi':function(_0xffad3b,_0x2d14b3,_0x5087da){return _0xffad3b(_0x2d14b3,_0x5087da);},'vLtzr':function(_0x3da2d2,_0x310389,_0x124e3b,_0x358390){return _0x3da2d2(_0x310389,_0x124e3b,_0x358390);},'viWSW':'==解压失败','ZoWHA':function(_0x1db9db,_0x434e20){return _0x1db9db===_0x434e20;},'wMbij':'下载失败，文件不存在','ObHFr':'====下载失败','JuQer':function(_0x52b861,_0x2ee04d){return _0x52b861(_0x2ee04d);},'PCdxY':function(_0x4577c1,_0x110789){return _0x4577c1<_0x110789;},'glCct':'.zip','XruUC':'.json'};for(let _0x331ed2=0x0;_0x558d35['PCdxY'](_0x331ed2,jsonList['length']);_0x331ed2++){let _0x27dd8d=jsonList[_0x331ed2]['split']('_')[0x0];let _0x2aa692=jsonList[_0x331ed2]['split']('_')[0x1];let _0x110a6a=_0x2aa692['includes'](_0x558d35['glCct'])?'':_0x558d35['XruUC'];const _0x13fa0e=rootPath+'/'+_0x27dd8d+'/'+_0x2aa692+_0x110a6a;const _0x1506fa=!_0x110a6a&&_0x2aa692['split']('.')[0x0];const _0x49de12=rootPath+'/'+_0x1506fa+'.json';fs['access']({'path':rootPath+'/'+_0x27dd8d,'success'(_0x163fec){},'fail'(_0x52c170){fs['mkdir']({'dirPath':rootPath+'/'+_0x27dd8d,'recursive':!![],'success'(_0x37e39a){}});},'complete'(){var _0xa819ab={'vtItc':function(_0x50190f,_0xee9262,_0x578422){return _0x558d35['fFgHi'](_0x50190f,_0xee9262,_0x578422);},'VvwDs':function(_0x26fba8,_0x5c9b1d,_0x2384bd,_0x1cbd8e){return _0x558d35['vLtzr'](_0x26fba8,_0x5c9b1d,_0x2384bd,_0x1cbd8e);},'SVGIW':_0x558d35['viWSW'],'BFQYs':function(_0x4cc1f3,_0x4dece7){return _0x558d35['ZoWHA'](_0x4cc1f3,_0x4dece7);},'QvthO':_0x558d35['wMbij'],'ksCer':function(_0x44c73e,_0x5c301c,_0x46de13,_0x549ee0){return _0x558d35['vLtzr'](_0x44c73e,_0x5c301c,_0x46de13,_0x549ee0);},'dMaqi':_0x558d35['ObHFr']};_0x558d35['JuQer'](wxReadFile,_0x13fa0e)['then'](_0x162feb=>{if(_0x110a6a){_0xa819ab['vtItc'](hasJsonToGame,_0x2aa692,_0x162feb['data']);}else{_0xa819ab['VvwDs'](wxReadFile,_0x49de12,_0x1506fa,!![]);}})['catch'](_0xcd57d1=>{var _0x19feeb={'clMZF':function(_0x40c85a,_0x3641f2,_0x4e88fe,_0x50b681){return _0xa819ab['ksCer'](_0x40c85a,_0x3641f2,_0x4e88fe,_0x50b681);},'QoqkY':_0xa819ab['dMaqi']};wx['downloadFile']({'url':downloadUrl+'/'+_0x27dd8d+'/'+_0x2aa692+_0x110a6a,'filePath':_0x13fa0e,'timeout':0x2710,'success'(_0x1a0055){var _0x275023={'NOspD':_0xa819ab['SVGIW']};if(_0xa819ab['BFQYs'](_0x1a0055['statusCode'],0xc8)){if(_0x110a6a){_0xa819ab['VvwDs'](wxReadFile,_0x13fa0e,_0x2aa692,!![]);}else{fs['unzip']({'zipFilePath':_0x1a0055['filePath']||_0x1a0055['tempFilePath'],'targetPath':rootPath,'success'(_0x550bbf){_0x19feeb['clMZF'](wxReadFile,_0x49de12,_0x1506fa,!![]);},'fail'(_0x411ed8){console['log'](_0x411ed8,_0x275023['NOspD']);}});}}else{console['error'](_0xa819ab['QvthO']);fs['unlink']({'filePath':rootPath+'/'+_0x27dd8d+'/'+_0x2aa692+_0x110a6a,'success'(_0x5b9cc0){},'fail'(_0x4872f3){}});}},'fail'(_0x2a29f3){console['log'](_0x2a29f3,_0x19feeb['QoqkY']);}});});}});}}function intoGame(){var _0x1f4bf6={'jhicg':function(_0x49f3e8,_0x1f6d7d){return _0x49f3e8/_0x1f6d7d;},'YNAfI':'正在加载主程序...','gHIEq':'更新提示','jhsHk':'该小游戏有新版本,正在为您下载新版本请稍后!','CUnoJ':function(_0x49a5bc,_0x47095b){return _0x49a5bc+_0x47095b;},'CCWxh':'新版本已经准备好，点击确定重启应用!','FYsWQ':'新版本下载失败,请检查网络!','MJGSq':function(_0x46ce57,_0x1e3069){return _0x46ce57(_0x1e3069);},'jRyuL':'./weapp-adapter.js','GiGOA':function(_0x587823,_0x72ef4c){return _0x587823(_0x72ef4c);},'MenVp':'./manifest.js','WMcXx':'./egret.wxgame.js','LBcqs':function(_0x35525,_0x555bb3){return _0x35525(_0x555bb3);},'aaZKl':'./library/file-util','RwbJP':'Main','WCAKt':'auto','RBMoX':'fixedWidth','enAzC':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','XApwg':'webgl','NSVDp':'1|3|2|4|0','dfNVf':'./loading.js','XsUbr':function(_0x1fb2fa){return _0x1fb2fa();},'bKkQA':'loading','VxlJR':'package1','aztdA':'./package1/game.js','iuoUb':function(_0x3096bf){return _0x3096bf();}};_0x1f4bf6['MJGSq'](require,_0x1f4bf6['jRyuL']);_0x1f4bf6['GiGOA'](require,_0x1f4bf6['MenVp']);_0x1f4bf6['GiGOA'](require,_0x1f4bf6['WMcXx']);const _0x1aee66=_0x1f4bf6['LBcqs'](require,_0x1f4bf6['aaZKl']);const _0xef19b5=null;let _0x3ae9ac={'entryClassName':_0x1f4bf6['RwbJP'],'orientation':_0x1f4bf6['WCAKt'],'frameRate':0x3c,'scaleMode':_0x1f4bf6['RBMoX'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x1f4bf6['enAzC'],'showLog':![],'maxTouches':0x2,'renderMode':_0x1f4bf6['XApwg'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x34b1cb){var _0x27d38b=_0x34b1cb['backingStorePixelRatio']||_0x34b1cb['webkitBackingStorePixelRatio']||_0x34b1cb['mozBackingStorePixelRatio']||_0x34b1cb['msBackingStorePixelRatio']||_0x34b1cb['oBackingStorePixelRatio']||_0x34b1cb['backingStorePixelRatio']||0x1;return _0x1f4bf6['jhicg'](window['devicePixelRatio']||0x1,_0x27d38b);}};const _0x251949=function(){egret['runEgret'](_0x3ae9ac);};if(wx['loadSubpackage']){var _0x2593d7=_0x1f4bf6['NSVDp']['split']('|'),_0x5a2be0=0x0;while(!![]){switch(_0x2593d7[_0x5a2be0++]){case'0':_0x37892f['onProgressUpdate'](_0x4650c5=>{loading['instance']['setProgress'](_0x1f4bf6['YNAfI'],Math['floor'](_0x4650c5['progress']));});continue;case'1':_0x1f4bf6['LBcqs'](require,_0x1f4bf6['dfNVf']);continue;case'2':_0x1f4bf6['XsUbr'](_0x251949);continue;case'3':_0x3ae9ac['entryClassName']=_0x1f4bf6['bKkQA'];continue;case'4':var _0x37892f=wx['loadSubpackage']({'name':_0x1f4bf6['VxlJR'],'success':function(_0x580a13){loading['instance']['setProgress'](_0x1f4bf6['YNAfI'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;}break;}}else{_0x1f4bf6['LBcqs'](require,_0x1f4bf6['aztdA']);_0x1f4bf6['iuoUb'](_0x251949);}const _0x42192f=wx['getUpdateManager']();_0x42192f['onCheckForUpdate'](function(_0x22584a){if(_0x22584a['hasUpdate']){wx['showModal']({'title':_0x1f4bf6['gHIEq'],'content':_0x1f4bf6['jhsHk'],'showCancel':![],'success':function(_0x40d5d2){}});}});_0x42192f['onUpdateReady'](function(){var _0x13391e={'sKITQ':function(_0x5d6ba5,_0x5c0753){return _0x1f4bf6['CUnoJ'](_0x5d6ba5,_0x5c0753);}};wx['showModal']({'title':_0x1f4bf6['gHIEq'],'content':_0x1f4bf6['CCWxh'],'showCancel':![],'success':function(_0x3dd5b6){if(_0x3dd5b6['confirm']){_0x1aee66['fs']['remove'](_0x13391e['sKITQ'](wx['env']['USER_DATA_PATH'],'/'));_0x42192f['applyUpdate']();}}});});_0x42192f['onUpdateFailed'](function(){wx['showModal']({'title':_0x1f4bf6['gHIEq'],'content':_0x1f4bf6['FYsWQ'],'showCancel':![],'success':function(_0x57282a){if(_0x57282a['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x1a7694={'vqzyz':function(_0x3c1b36,_0x4c9ac4){return _0x3c1b36(_0x4c9ac4);},'Tebqy':'./tree/js/main'};const _0xec8989=_0x1a7694['vqzyz'](require,_0x1a7694['Tebqy']);new _0xec8989['default']();}