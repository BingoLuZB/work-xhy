const versions='1.0.0';const gameId=0x1c;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj28';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201020_customlib.zip','20201020_main.zip'];judgegame()['then'](()=>{var _0x5bcf64={'zTyvv':function(_0x47bcad){return _0x47bcad();}};_0x5bcf64['zTyvv'](getJsonToGame);})['catch'](()=>{var _0x593277={'GfVbo':function(_0x4aad9e){return _0x4aad9e();}};_0x593277['GfVbo'](intoMiniGame);});function judgegame(){var _0x44e889={'iuEpA':function(_0x30aeac){return _0x30aeac();},'gtnDl':function(_0x4bb372,_0x3b6839){return _0x4bb372==_0x3b6839;},'lFAQk':function(_0x131cda){return _0x131cda();},'cXwJl':'https://gminiapi.xinghe66.cn/mp/index','QTJoq':'GET','zuvbK':'json'};return new Promise((_0x187ad9,_0x3ed1c5)=>{var _0x30d29b={'slNjC':function(_0x24ea7d,_0x1889d5){return _0x44e889['gtnDl'](_0x24ea7d,_0x1889d5);},'hzwiN':function(_0x2eddca){return _0x44e889['lFAQk'](_0x2eddca);},'TyolL':function(_0x4466b1){return _0x44e889['lFAQk'](_0x4466b1);}};wx['request']({'url':_0x44e889['cXwJl'],'method':_0x44e889['QTJoq'],'data':{'app_id':gameId,'versions':versions,'format':_0x44e889['zuvbK']},'success'(_0x2ca6b8){if(_0x30d29b['slNjC'](_0x2ca6b8['data']['code'],0xc8)&&_0x30d29b['slNjC'](_0x2ca6b8['data']['data']['status'],0x2)){_0x30d29b['hzwiN'](_0x3ed1c5);}else{_0x30d29b['TyolL'](_0x187ad9);}},'fail'(){_0x44e889['iuEpA'](_0x3ed1c5);}});});}function hasJsonToGame(_0x2eeb51,_0x2e48d3){var _0xbdd10f={'fPsCV':function(_0xce536,_0x4e713c){return _0xce536-_0x4e713c;},'svMUD':function(_0x109d62,_0x89f48d){return _0x109d62==_0x89f48d;},'DwQGY':function(_0x3ad717){return _0x3ad717();}};console['log'](_0x2eeb51,'');GameGlobal[_0x2eeb51]=JSON['parse'](_0x2e48d3);wx['setStorage']({'key':_0x2eeb51,'data':JSON['parse'](_0x2e48d3)});let _0x31abd8=_0xbdd10f['fPsCV'](jsonList['length'],0x1);if(_0xbdd10f['svMUD'](num,_0x31abd8)){_0xbdd10f['DwQGY'](intoGame);}num++;}function wxReadFile(_0x1da0a9,_0x4050f9,_0xd65ae3){var _0xe11867={'KMbRh':function(_0x40263d,_0x4a081e){return _0x40263d(_0x4a081e);},'FTSIx':function(_0x5696e3,_0xdc5fbe,_0x3f3f55){return _0x5696e3(_0xdc5fbe,_0x3f3f55);},'NsyWl':'utf-8'};return new Promise((_0x1cdf16,_0x8ba865)=>{var _0x29ddd8={'xaiym':function(_0x3779c0,_0x4fcf4a,_0x2a2ffa){return _0xe11867['FTSIx'](_0x3779c0,_0x4fcf4a,_0x2a2ffa);},'oEKHE':function(_0x3d5825,_0x5aac3b){return _0xe11867['KMbRh'](_0x3d5825,_0x5aac3b);}};fs['readFile']({'filePath':_0x1da0a9,'encoding':_0xe11867['NsyWl'],'success'(_0x2cc865){if(_0xd65ae3&&_0x2cc865['data']){_0x29ddd8['xaiym'](hasJsonToGame,_0x4050f9,_0x2cc865['data']);}_0x29ddd8['oEKHE'](_0x1cdf16,_0x2cc865);},'fail'(_0xb3020b){_0xe11867['KMbRh'](_0x8ba865,_0xb3020b);}});});}function getJsonToGame(){var _0x3d1199={'UTenR':function(_0x1325b2,_0x4984b1,_0x4196a7){return _0x1325b2(_0x4984b1,_0x4196a7);},'pWHZD':function(_0x23506d,_0x1aeb98,_0x2a5d75,_0x2e7001){return _0x23506d(_0x1aeb98,_0x2a5d75,_0x2e7001);},'HcPwR':function(_0x5e7c77,_0x13c390){return _0x5e7c77===_0x13c390;},'ZpcpV':function(_0x1e6876,_0x118c1f,_0xc0b2e,_0x553b86){return _0x1e6876(_0x118c1f,_0xc0b2e,_0x553b86);},'oXRiG':'下载失败，文件不存在','HADmO':'====下载失败','IBLPR':'==解压失败','Pvouv':function(_0x2089ef,_0xfc5654){return _0x2089ef(_0xfc5654);},'wyTXw':function(_0x25f676,_0x2b344f){return _0x25f676<_0x2b344f;},'MLWsD':'.zip','lzUoi':'.json'};for(let _0x4f0acc=0x0;_0x3d1199['wyTXw'](_0x4f0acc,jsonList['length']);_0x4f0acc++){let _0x1a2afd=jsonList[_0x4f0acc]['split']('_')[0x0];let _0xbfa8ac=jsonList[_0x4f0acc]['split']('_')[0x1];let _0x36bb5a=_0xbfa8ac['includes'](_0x3d1199['MLWsD'])?'':_0x3d1199['lzUoi'];const _0x54769f=rootPath+'/'+_0x1a2afd+'/'+_0xbfa8ac+_0x36bb5a;const _0x1d7d2d=!_0x36bb5a&&_0xbfa8ac['split']('.')[0x0];const _0x1ba329=rootPath+'/'+_0x1d7d2d+'.json';fs['access']({'path':rootPath+'/'+_0x1a2afd,'success'(_0x4a1191){},'fail'(_0x5ed92d){fs['mkdir']({'dirPath':rootPath+'/'+_0x1a2afd,'recursive':!![],'success'(_0x4255e7){}});},'complete'(){var _0x2df4c6={'reVJZ':function(_0x1a8c7e,_0x2aa6a4){return _0x3d1199['HcPwR'](_0x1a8c7e,_0x2aa6a4);},'CvcKX':function(_0x3fd41d,_0x3565da,_0x86566d,_0xb460ab){return _0x3d1199['ZpcpV'](_0x3fd41d,_0x3565da,_0x86566d,_0xb460ab);},'HOIVy':_0x3d1199['oXRiG'],'dreHT':_0x3d1199['HADmO'],'GtmEo':_0x3d1199['IBLPR']};_0x3d1199['Pvouv'](wxReadFile,_0x54769f)['then'](_0x3868e9=>{if(_0x36bb5a){_0x3d1199['UTenR'](hasJsonToGame,_0xbfa8ac,_0x3868e9['data']);}else{_0x3d1199['pWHZD'](wxReadFile,_0x1ba329,_0x1d7d2d,!![]);}})['catch'](_0x6c0b14=>{var _0xca1563={'hxrig':function(_0x532871,_0x490216,_0x32807e,_0xb083bd){return _0x2df4c6['CvcKX'](_0x532871,_0x490216,_0x32807e,_0xb083bd);},'IPeEL':_0x2df4c6['GtmEo']};wx['downloadFile']({'url':downloadUrl+'/'+_0x1a2afd+'/'+_0xbfa8ac+_0x36bb5a,'filePath':_0x54769f,'timeout':0x2710,'success'(_0x4ba9a3){if(_0x2df4c6['reVJZ'](_0x4ba9a3['statusCode'],0xc8)){if(_0x36bb5a){_0x2df4c6['CvcKX'](wxReadFile,_0x54769f,_0xbfa8ac,!![]);}else{fs['unzip']({'zipFilePath':_0x4ba9a3['filePath']||_0x4ba9a3['tempFilePath'],'targetPath':rootPath,'success'(_0x5316e7){_0xca1563['hxrig'](wxReadFile,_0x1ba329,_0x1d7d2d,!![]);},'fail'(_0x575bff){console['log'](_0x575bff,_0xca1563['IPeEL']);}});}}else{console['error'](_0x2df4c6['HOIVy']);fs['unlink']({'filePath':rootPath+'/'+_0x1a2afd+'/'+_0xbfa8ac+_0x36bb5a,'success'(_0x4381e3){},'fail'(_0x5d47ed){}});}},'fail'(_0x43f5a8){console['log'](_0x43f5a8,_0x2df4c6['dreHT']);}});});}});}}function intoGame(){var _0x20f0fb={'mbNii':function(_0x56e4ce,_0x3a0b9b){return _0x56e4ce/_0x3a0b9b;},'OTPIu':'正在加载主程序...','TaAbN':'更新提示','fAbcJ':'该小游戏有新版本,正在为您下载新版本请稍后!','NYlNj':function(_0xc264e3,_0x494602){return _0xc264e3+_0x494602;},'BdJgO':'新版本已经准备好，点击确定重启应用!','QtGsm':'新版本下载失败,请检查网络!','SNlOG':function(_0x28735e,_0x1aef22){return _0x28735e(_0x1aef22);},'BNhoF':'./weapp-adapter.js','WRKmj':'./manifest.js','JjENI':'./egret.wxgame.js','HKWqI':function(_0x223df3,_0x55f5ad){return _0x223df3(_0x55f5ad);},'EzZyp':'./library/file-util','mxsdh':'Main','gbPMI':'auto','SENbt':'fixedWidth','cEzaj':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','iuVYs':'webgl','LEVPM':'3|2|4|0|1','xaZDw':'package1','OZRXU':'loading','XEvVb':function(_0x47a27a,_0x32033e){return _0x47a27a(_0x32033e);},'CypVf':'./loading.js','LbiCt':function(_0x17ffcd){return _0x17ffcd();},'weMdZ':'./package1/game.js','jZdHS':function(_0x49b799){return _0x49b799();}};_0x20f0fb['SNlOG'](require,_0x20f0fb['BNhoF']);_0x20f0fb['SNlOG'](require,_0x20f0fb['WRKmj']);_0x20f0fb['SNlOG'](require,_0x20f0fb['JjENI']);const _0x5ec117=_0x20f0fb['HKWqI'](require,_0x20f0fb['EzZyp']);const _0x3c442e=null;let _0x56d3ed={'entryClassName':_0x20f0fb['mxsdh'],'orientation':_0x20f0fb['gbPMI'],'frameRate':0x3c,'scaleMode':_0x20f0fb['SENbt'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x20f0fb['cEzaj'],'showLog':![],'maxTouches':0x2,'renderMode':_0x20f0fb['iuVYs'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x2bc7f7){var _0x2aeb59=_0x2bc7f7['backingStorePixelRatio']||_0x2bc7f7['webkitBackingStorePixelRatio']||_0x2bc7f7['mozBackingStorePixelRatio']||_0x2bc7f7['msBackingStorePixelRatio']||_0x2bc7f7['oBackingStorePixelRatio']||_0x2bc7f7['backingStorePixelRatio']||0x1;return _0x20f0fb['mbNii'](window['devicePixelRatio']||0x1,_0x2aeb59);}};const _0x4ca390=function(){egret['runEgret'](_0x56d3ed);};if(wx['loadSubpackage']){var _0x80020d=_0x20f0fb['LEVPM']['split']('|'),_0x472a95=0x0;while(!![]){switch(_0x80020d[_0x472a95++]){case'0':var _0x281134=wx['loadSubpackage']({'name':_0x20f0fb['xaZDw'],'success':function(_0x23dcce){loading['instance']['setProgress'](_0x20f0fb['OTPIu'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'1':_0x281134['onProgressUpdate'](_0x2109c7=>{loading['instance']['setProgress'](_0x20f0fb['OTPIu'],Math['floor'](_0x2109c7['progress']));});continue;case'2':_0x56d3ed['entryClassName']=_0x20f0fb['OZRXU'];continue;case'3':_0x20f0fb['XEvVb'](require,_0x20f0fb['CypVf']);continue;case'4':_0x20f0fb['LbiCt'](_0x4ca390);continue;}break;}}else{_0x20f0fb['XEvVb'](require,_0x20f0fb['weMdZ']);_0x20f0fb['jZdHS'](_0x4ca390);}const _0x3e9e72=wx['getUpdateManager']();_0x3e9e72['onCheckForUpdate'](function(_0x26087a){if(_0x26087a['hasUpdate']){wx['showModal']({'title':_0x20f0fb['TaAbN'],'content':_0x20f0fb['fAbcJ'],'showCancel':![],'success':function(_0x57cef0){}});}});_0x3e9e72['onUpdateReady'](function(){wx['showModal']({'title':_0x20f0fb['TaAbN'],'content':_0x20f0fb['BdJgO'],'showCancel':![],'success':function(_0x3d3d71){if(_0x3d3d71['confirm']){_0x5ec117['fs']['remove'](_0x20f0fb['NYlNj'](wx['env']['USER_DATA_PATH'],'/'));_0x3e9e72['applyUpdate']();}}});});_0x3e9e72['onUpdateFailed'](function(){wx['showModal']({'title':_0x20f0fb['TaAbN'],'content':_0x20f0fb['QtGsm'],'showCancel':![],'success':function(_0x22838f){if(_0x22838f['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x562218={'HNKia':function(_0x24a923,_0x33d735){return _0x24a923(_0x33d735);},'zaiha':'./tree/js/main'};const _0x562daa=_0x562218['HNKia'](require,_0x562218['zaiha']);new _0x562daa['default']();}