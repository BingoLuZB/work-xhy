const versions='1.0.0';const gameId=0x8d;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201118_customlib.zip','20201118_main.zip'];judgegame()['then'](()=>{var _0xb7441a={'MzGFl':function(_0x447c91){return _0x447c91();}};_0xb7441a['MzGFl'](getJsonToGame);})['catch'](()=>{var _0xfde210={'JJWrl':function(_0x434f2b){return _0x434f2b();}};_0xfde210['JJWrl'](intoMiniGame);});function judgegame(){var _0x45d174={'sYSUM':function(_0x26205c,_0x2049ab){return _0x26205c==_0x2049ab;},'siQwz':function(_0x163e1c){return _0x163e1c();},'SHzDG':function(_0x51feb9){return _0x51feb9();},'TmbrA':'https://gminiapi.xinghe66.cn/mp/index','vBugw':'GET','aqREo':'json'};return new Promise((_0x55c9cd,_0x3a532f)=>{var _0x5b7ee7={'mQVUO':function(_0x3744d6){return _0x45d174['SHzDG'](_0x3744d6);}};wx['request']({'url':_0x45d174['TmbrA'],'method':_0x45d174['vBugw'],'data':{'app_id':gameId,'versions':versions,'format':_0x45d174['aqREo']},'success'(_0x2e1a56){if(_0x45d174['sYSUM'](_0x2e1a56['data']['code'],0xc8)&&_0x45d174['sYSUM'](_0x2e1a56['data']['data']['status'],0x2)){_0x45d174['siQwz'](_0x3a532f);}else{_0x45d174['siQwz'](_0x55c9cd);}},'fail'(){_0x5b7ee7['mQVUO'](_0x3a532f);}});});}function hasJsonToGame(_0xa363a9,_0x1cf5a0){var _0x4d0ff2={'NNfyU':function(_0x1aedb9,_0x1c5304){return _0x1aedb9-_0x1c5304;},'hFqZE':function(_0x3700c2,_0x2651bf){return _0x3700c2==_0x2651bf;},'DdPpC':function(_0x42e404){return _0x42e404();}};console['log'](_0xa363a9,'');GameGlobal[_0xa363a9]=JSON['parse'](_0x1cf5a0);let _0x31f187=_0x4d0ff2['NNfyU'](jsonList['length'],0x1);if(_0x4d0ff2['hFqZE'](num,_0x31f187)){_0x4d0ff2['DdPpC'](intoGame);}num++;}function wxReadFile(_0xc6c36,_0xa6ef8c,_0x2dc74d){var _0x34bace={'styvA':function(_0x3619c2,_0x5037c0,_0x4eb338){return _0x3619c2(_0x5037c0,_0x4eb338);},'kFEEC':function(_0x4f4a81,_0x636e82){return _0x4f4a81(_0x636e82);},'NhpiJ':'utf-8'};return new Promise((_0x3f354d,_0x574c5e)=>{fs['readFile']({'filePath':_0xc6c36,'encoding':_0x34bace['NhpiJ'],'success'(_0x37bac9){if(_0x2dc74d&&_0x37bac9['data']){_0x34bace['styvA'](hasJsonToGame,_0xa6ef8c,_0x37bac9['data']);}_0x34bace['kFEEC'](_0x3f354d,_0x37bac9);},'fail'(_0x2ccff3){_0x34bace['kFEEC'](_0x574c5e,_0x2ccff3);}});});}function getJsonToGame(){var _0x44ab23={'SAtaB':function(_0x5b95d7,_0x1e6c50,_0x365c6e){return _0x5b95d7(_0x1e6c50,_0x365c6e);},'fFNNx':function(_0x3eebc9,_0x1d236d,_0x28af43,_0x401a2a){return _0x3eebc9(_0x1d236d,_0x28af43,_0x401a2a);},'DYAmi':function(_0x33c5c5,_0x5d09ca,_0x2d27b5,_0x30d2b2){return _0x33c5c5(_0x5d09ca,_0x2d27b5,_0x30d2b2);},'jaUmT':'==解压失败','YNvTM':function(_0x31c9a2,_0x2202d3){return _0x31c9a2===_0x2202d3;},'YzhwK':'下载失败，文件不存在','GxIEd':'====下载失败','iEMgg':function(_0x2b1d83,_0x4e847b){return _0x2b1d83(_0x4e847b);},'LVwaQ':function(_0x3397cb,_0x157765){return _0x3397cb<_0x157765;},'ocAdf':'.zip','IkFxP':'.json'};for(let _0x246243=0x0;_0x44ab23['LVwaQ'](_0x246243,jsonList['length']);_0x246243++){let _0x336e8e=jsonList[_0x246243]['split']('_')[0x0];let _0x3bd5ac=jsonList[_0x246243]['split']('_')[0x1];let _0x4ba61b=_0x3bd5ac['includes'](_0x44ab23['ocAdf'])?'':_0x44ab23['IkFxP'];const _0x5413f9=rootPath+'/'+_0x336e8e+'/'+_0x3bd5ac+_0x4ba61b;const _0xe08020=!_0x4ba61b&&_0x3bd5ac['split']('.')[0x0];const _0x1ef276=rootPath+'/'+_0xe08020+'.json';fs['access']({'path':rootPath+'/'+_0x336e8e,'success'(_0xa8a9ef){},'fail'(_0x202f71){fs['mkdir']({'dirPath':rootPath+'/'+_0x336e8e,'recursive':!![],'success'(_0x5a73c0){}});},'complete'(){var _0x3d175a={'xyUxP':function(_0x2ea84c,_0x49a2b1,_0x2dc180,_0x5ba6c3){return _0x44ab23['DYAmi'](_0x2ea84c,_0x49a2b1,_0x2dc180,_0x5ba6c3);},'PBaXf':_0x44ab23['jaUmT'],'bdOqk':function(_0x197f6a,_0x5a8ee7){return _0x44ab23['YNvTM'](_0x197f6a,_0x5a8ee7);},'eUbMa':_0x44ab23['YzhwK'],'vIsWp':_0x44ab23['GxIEd']};_0x44ab23['iEMgg'](wxReadFile,_0x5413f9)['then'](_0x48cbfb=>{if(_0x4ba61b){_0x44ab23['SAtaB'](hasJsonToGame,_0x3bd5ac,_0x48cbfb['data']);}else{_0x44ab23['fFNNx'](wxReadFile,_0x1ef276,_0xe08020,!![]);}})['catch'](_0x3878c4=>{wx['downloadFile']({'url':downloadUrl+'/'+_0x336e8e+'/'+_0x3bd5ac+_0x4ba61b,'filePath':_0x5413f9,'timeout':0x2710,'success'(_0x1cb9db){var _0x4ae13c={'IeIOn':function(_0x1cce04,_0x431ded,_0x48a5cf,_0x5c2b35){return _0x3d175a['xyUxP'](_0x1cce04,_0x431ded,_0x48a5cf,_0x5c2b35);},'MuUIf':_0x3d175a['PBaXf']};if(_0x3d175a['bdOqk'](_0x1cb9db['statusCode'],0xc8)){if(_0x4ba61b){_0x3d175a['xyUxP'](wxReadFile,_0x5413f9,_0x3bd5ac,!![]);}else{fs['unzip']({'zipFilePath':_0x1cb9db['filePath']||_0x1cb9db['tempFilePath'],'targetPath':rootPath,'success'(_0x5ef401){_0x4ae13c['IeIOn'](wxReadFile,_0x1ef276,_0xe08020,!![]);},'fail'(_0x3dc20e){console['log'](_0x3dc20e,_0x4ae13c['MuUIf']);}});}}else{console['error'](_0x3d175a['eUbMa']);fs['unlink']({'filePath':rootPath+'/'+_0x336e8e+'/'+_0x3bd5ac+_0x4ba61b,'success'(_0x258624){},'fail'(_0x186887){}});}},'fail'(_0x5051cc){console['log'](_0x5051cc,_0x3d175a['vIsWp']);}});});}});}}function intoGame(){var _0xdd5ecf={'nfYfL':function(_0x43bb6a,_0x4a46ff){return _0x43bb6a/_0x4a46ff;},'uBARg':'正在加载主程序...','VoFKu':'更新提示','Kjwuz':'该小游戏有新版本,正在为您下载新版本请稍后!','HNTzk':function(_0x836d75,_0x17de89){return _0x836d75+_0x17de89;},'CRPSZ':'新版本已经准备好，点击确定重启应用!','lVfKE':'新版本下载失败,请检查网络!','UiBxw':function(_0x29ef46,_0x3e1ff5){return _0x29ef46(_0x3e1ff5);},'nnFgB':'./weapp-adapter.js','NiTkz':'./manifest.js','VlZFg':'./egret.wxgame.js','FyCIo':'./library/file-util','pnQPl':'Main','ZAxhL':'auto','RUlrI':'fixedWidth','gCGGP':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','QMipT':'webgl','LXmGd':'3|1|2|4|0','VYdFV':'loading','NbGOa':function(_0x2cbba7){return _0x2cbba7();},'cXcFD':function(_0x51d433,_0x22b205){return _0x51d433(_0x22b205);},'naCBz':'./loading.js','OGVPv':'package1','kHdjN':function(_0x44e1c0,_0x6d8338){return _0x44e1c0(_0x6d8338);},'SnAIu':'./package1/game.js'};_0xdd5ecf['UiBxw'](require,_0xdd5ecf['nnFgB']);_0xdd5ecf['UiBxw'](require,_0xdd5ecf['NiTkz']);_0xdd5ecf['UiBxw'](require,_0xdd5ecf['VlZFg']);const _0x1fa5df=_0xdd5ecf['UiBxw'](require,_0xdd5ecf['FyCIo']);const _0x4f7ef6=null;let _0x5205bf={'entryClassName':_0xdd5ecf['pnQPl'],'orientation':_0xdd5ecf['ZAxhL'],'frameRate':0x3c,'scaleMode':_0xdd5ecf['RUlrI'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0xdd5ecf['gCGGP'],'showLog':![],'maxTouches':0x2,'renderMode':_0xdd5ecf['QMipT'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x14d817){var _0x2c2e34=_0x14d817['backingStorePixelRatio']||_0x14d817['webkitBackingStorePixelRatio']||_0x14d817['mozBackingStorePixelRatio']||_0x14d817['msBackingStorePixelRatio']||_0x14d817['oBackingStorePixelRatio']||_0x14d817['backingStorePixelRatio']||0x1;return _0xdd5ecf['nfYfL'](window['devicePixelRatio']||0x1,_0x2c2e34);}};const _0x34caad=function(){egret['runEgret'](_0x5205bf);};if(wx['loadSubpackage']){var _0x35c561=_0xdd5ecf['LXmGd']['split']('|'),_0x2decd2=0x0;while(!![]){switch(_0x35c561[_0x2decd2++]){case'0':_0x2b253c['onProgressUpdate'](_0x2e3f0d=>{loading['instance']['setProgress'](_0xdd5ecf['uBARg'],Math['floor'](_0x2e3f0d['progress']));});continue;case'1':_0x5205bf['entryClassName']=_0xdd5ecf['VYdFV'];continue;case'2':_0xdd5ecf['NbGOa'](_0x34caad);continue;case'3':_0xdd5ecf['cXcFD'](require,_0xdd5ecf['naCBz']);continue;case'4':var _0x2b253c=wx['loadSubpackage']({'name':_0xdd5ecf['OGVPv'],'success':function(_0xc65c40){loading['instance']['setProgress'](_0xdd5ecf['uBARg'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;}break;}}else{_0xdd5ecf['kHdjN'](require,_0xdd5ecf['SnAIu']);_0xdd5ecf['NbGOa'](_0x34caad);}const _0x5aa11e=wx['getUpdateManager']();_0x5aa11e['onCheckForUpdate'](function(_0x280130){if(_0x280130['hasUpdate']){wx['showModal']({'title':_0xdd5ecf['VoFKu'],'content':_0xdd5ecf['Kjwuz'],'showCancel':![],'success':function(_0x41d66e){}});}});_0x5aa11e['onUpdateReady'](function(){wx['showModal']({'title':_0xdd5ecf['VoFKu'],'content':_0xdd5ecf['CRPSZ'],'showCancel':![],'success':function(_0x5f020a){if(_0x5f020a['confirm']){_0x1fa5df['fs']['remove'](_0xdd5ecf['HNTzk'](wx['env']['USER_DATA_PATH'],'/'));_0x5aa11e['applyUpdate']();}}});});_0x5aa11e['onUpdateFailed'](function(){wx['showModal']({'title':_0xdd5ecf['VoFKu'],'content':_0xdd5ecf['lVfKE'],'showCancel':![],'success':function(_0xda258b){if(_0xda258b['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x1aa032={'yUDaS':function(_0x5aa059,_0x4bf672){return _0x5aa059(_0x4bf672);},'nQLei':'./tree/js/main'};const _0x2ab114=_0x1aa032['yUDaS'](require,_0x1aa032['nQLei']);new _0x2ab114['default']();}