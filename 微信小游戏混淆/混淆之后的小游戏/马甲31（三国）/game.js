const versions='1.0.0';const gameId=0x1f;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj31';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201019_customlib.zip','20201019_main.zip'];judgegame()['then'](()=>{var _0x302361={'cirhs':function(_0x3efbef){return _0x3efbef();}};_0x302361['cirhs'](getJsonToGame);})['catch'](()=>{var _0x4ada7d={'bQoGL':function(_0x4fff4b){return _0x4fff4b();}};_0x4ada7d['bQoGL'](intoMiniGame);});function judgegame(){var _0x70d395={'UKTmD':function(_0x92b028){return _0x92b028();},'DQXFr':function(_0x348a2d,_0x309e38){return _0x348a2d==_0x309e38;},'RXGRe':function(_0x328bc4){return _0x328bc4();},'bRWre':'https://gminiapi.xinghe66.cn/mp/index','LYYFQ':'GET','jRUns':'json'};return new Promise((_0x1554fd,_0x4d846c)=>{var _0x50dad9={'mmjGK':function(_0x26e6f5,_0x395416){return _0x70d395['DQXFr'](_0x26e6f5,_0x395416);},'vszRg':function(_0x373b35,_0x1dff57){return _0x70d395['DQXFr'](_0x373b35,_0x1dff57);},'VzOEG':function(_0x3f9baa){return _0x70d395['RXGRe'](_0x3f9baa);},'gOgvU':function(_0x3b4a89){return _0x70d395['RXGRe'](_0x3b4a89);}};wx['request']({'url':_0x70d395['bRWre'],'method':_0x70d395['LYYFQ'],'data':{'app_id':gameId,'versions':versions,'format':_0x70d395['jRUns']},'success'(_0x52c3cf){if(_0x50dad9['mmjGK'](_0x52c3cf['data']['code'],0xc8)&&_0x50dad9['vszRg'](_0x52c3cf['data']['data']['status'],0x2)){_0x50dad9['VzOEG'](_0x4d846c);}else{_0x50dad9['gOgvU'](_0x1554fd);}},'fail'(){_0x70d395['UKTmD'](_0x4d846c);}});});}function hasJsonToGame(_0x317530,_0x4a8cf5){var _0x5170c0={'oqOhQ':function(_0xa11aff,_0x124182){return _0xa11aff-_0x124182;},'bvVdl':function(_0x118a6f,_0x2d1dcf){return _0x118a6f==_0x2d1dcf;},'TSXMt':function(_0x270043){return _0x270043();}};console['log'](_0x317530,'');GameGlobal[_0x317530]=JSON['parse'](_0x4a8cf5);let _0x4993be=_0x5170c0['oqOhQ'](jsonList['length'],0x1);if(_0x5170c0['bvVdl'](num,_0x4993be)){_0x5170c0['TSXMt'](intoGame);}num++;}function wxReadFile(_0x4db128,_0x2a8a02,_0x545b5f){var _0x321626={'pZFMw':function(_0x3e1fc0,_0xb85826,_0x53913e){return _0x3e1fc0(_0xb85826,_0x53913e);},'FsvCk':function(_0x146dbb,_0x20c079){return _0x146dbb(_0x20c079);},'uTgEX':'utf-8'};return new Promise((_0x137c1a,_0x360131)=>{fs['readFile']({'filePath':_0x4db128,'encoding':_0x321626['uTgEX'],'success'(_0x52365c){if(_0x545b5f&&_0x52365c['data']){_0x321626['pZFMw'](hasJsonToGame,_0x2a8a02,_0x52365c['data']);}_0x321626['FsvCk'](_0x137c1a,_0x52365c);},'fail'(_0xd5188a){_0x321626['FsvCk'](_0x360131,_0xd5188a);}});});}function getJsonToGame(){var _0x300518={'wilgT':function(_0x4264ed,_0x444b1b,_0x21dada){return _0x4264ed(_0x444b1b,_0x21dada);},'krSiw':function(_0x52ba83,_0xe07c13,_0x223285,_0xdc12ee){return _0x52ba83(_0xe07c13,_0x223285,_0xdc12ee);},'opHBf':'====下载失败','ShZNd':'==解压失败','ROxmP':function(_0x3ec5d1,_0x2a336c){return _0x3ec5d1===_0x2a336c;},'IrWgg':'下载失败，文件不存在','zdAfs':function(_0xc63bef,_0x1fb61f){return _0xc63bef(_0x1fb61f);},'DehKQ':function(_0x53ea25,_0x39e0b0){return _0x53ea25<_0x39e0b0;},'knBmF':'.zip','jvvUX':'.json'};for(let _0x5d945d=0x0;_0x300518['DehKQ'](_0x5d945d,jsonList['length']);_0x5d945d++){let _0x5aee9d=jsonList[_0x5d945d]['split']('_')[0x0];let _0x438639=jsonList[_0x5d945d]['split']('_')[0x1];let _0x51fcfa=_0x438639['includes'](_0x300518['knBmF'])?'':_0x300518['jvvUX'];const _0x7deeaf=rootPath+'/'+_0x5aee9d+'/'+_0x438639+_0x51fcfa;const _0x205fd3=!_0x51fcfa&&_0x438639['split']('.')[0x0];const _0xbc7cb4=rootPath+'/'+_0x205fd3+'.json';fs['access']({'path':rootPath+'/'+_0x5aee9d,'success'(_0x319623){},'fail'(_0x36508a){fs['mkdir']({'dirPath':rootPath+'/'+_0x5aee9d,'recursive':!![],'success'(_0xaf70bf){}});},'complete'(){var _0xc8d7bb={'lEoLm':function(_0x566aae,_0x4c510a,_0x485858){return _0x300518['wilgT'](_0x566aae,_0x4c510a,_0x485858);},'NqIBG':function(_0x12c9a6,_0x3d0f33,_0x5c31bd,_0x2e628b){return _0x300518['krSiw'](_0x12c9a6,_0x3d0f33,_0x5c31bd,_0x2e628b);},'HjsfV':_0x300518['opHBf'],'SjzQw':function(_0x116c14,_0x10dd78,_0xee3757,_0x3db2d6){return _0x300518['krSiw'](_0x116c14,_0x10dd78,_0xee3757,_0x3db2d6);},'eeVCF':_0x300518['ShZNd'],'LbrFV':function(_0x1ab3b6,_0x487958){return _0x300518['ROxmP'](_0x1ab3b6,_0x487958);},'VLGKE':_0x300518['IrWgg']};_0x300518['zdAfs'](wxReadFile,_0x7deeaf)['then'](_0x5e82a4=>{if(_0x51fcfa){_0xc8d7bb['lEoLm'](hasJsonToGame,_0x438639,_0x5e82a4['data']);}else{_0xc8d7bb['NqIBG'](wxReadFile,_0xbc7cb4,_0x205fd3,!![]);}})['catch'](_0x5bfbc9=>{var _0x19085f={'BUeog':function(_0x431c16,_0x13662b,_0x129831,_0x515ffe){return _0xc8d7bb['SjzQw'](_0x431c16,_0x13662b,_0x129831,_0x515ffe);},'okcdR':_0xc8d7bb['eeVCF'],'gAxqN':function(_0x4c1f55,_0x2664c1){return _0xc8d7bb['LbrFV'](_0x4c1f55,_0x2664c1);},'HQUIs':_0xc8d7bb['VLGKE']};wx['downloadFile']({'url':downloadUrl+'/'+_0x5aee9d+'/'+_0x438639+_0x51fcfa,'filePath':_0x7deeaf,'success'(_0x489991){if(_0x19085f['gAxqN'](_0x489991['statusCode'],0xc8)){if(_0x51fcfa){_0x19085f['BUeog'](wxReadFile,_0x7deeaf,_0x438639,!![]);}else{fs['unzip']({'zipFilePath':_0x489991['filePath']||_0x489991['tempFilePath'],'targetPath':rootPath,'success'(_0x215c95){_0x19085f['BUeog'](wxReadFile,_0xbc7cb4,_0x205fd3,!![]);},'fail'(_0x86cf2){console['log'](_0x86cf2,_0x19085f['okcdR']);}});}}else{console['error'](_0x19085f['HQUIs']);fs['unlink']({'filePath':rootPath+'/'+_0x5aee9d+'/'+_0x438639+_0x51fcfa,'success'(_0x327db9){},'fail'(_0x3be1c3){}});}},'fail'(_0x54286f){console['log'](_0x54286f,_0xc8d7bb['HjsfV']);}});});}});}}function intoGame(){var _0x252d1c={'RneiT':function(_0x4520f7,_0x2165b5){return _0x4520f7/_0x2165b5;},'UdvtL':'正在加载主程序...','WBRtA':'更新提示','zqLHg':'该小游戏有新版本,正在为您下载新版本请稍后!','bYACJ':function(_0x1f853c,_0x2416bf){return _0x1f853c+_0x2416bf;},'Rhaal':'新版本已经准备好，点击确定重启应用!','uCPJL':'新版本下载失败,请检查网络!','ivEYs':function(_0x5d6b17,_0x3a06d3){return _0x5d6b17(_0x3a06d3);},'gXntL':'./weapp-adapter.js','WVqHP':'./manifest.js','gwLcl':function(_0x5b9d47,_0x213891){return _0x5b9d47(_0x213891);},'YyvTm':'./egret.wxgame.js','sokoV':function(_0x2c45c6,_0x383c0b){return _0x2c45c6(_0x383c0b);},'zckqr':'./library/file-util','SbKqX':'Main','vQhIi':'auto','IFaiA':'fixedWidth','fahWH':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','jFeJv':'webgl','hkfKK':'0|1|4|3|2','aGdKD':function(_0xe083f2,_0x4e99e1){return _0xe083f2(_0x4e99e1);},'qyUvY':'./loading.js','riTCD':'loading','AGNdE':'package1','SUQIL':function(_0x1968a9){return _0x1968a9();},'IXWDc':'./package1/game.js'};_0x252d1c['ivEYs'](require,_0x252d1c['gXntL']);_0x252d1c['ivEYs'](require,_0x252d1c['WVqHP']);_0x252d1c['gwLcl'](require,_0x252d1c['YyvTm']);const _0x234131=_0x252d1c['sokoV'](require,_0x252d1c['zckqr']);const _0x5383c0=null;let _0x5aca53={'entryClassName':_0x252d1c['SbKqX'],'orientation':_0x252d1c['vQhIi'],'frameRate':0x3c,'scaleMode':_0x252d1c['IFaiA'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x252d1c['fahWH'],'showLog':![],'maxTouches':0x2,'renderMode':_0x252d1c['jFeJv'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x8972c8){var _0x4108ed=_0x8972c8['backingStorePixelRatio']||_0x8972c8['webkitBackingStorePixelRatio']||_0x8972c8['mozBackingStorePixelRatio']||_0x8972c8['msBackingStorePixelRatio']||_0x8972c8['oBackingStorePixelRatio']||_0x8972c8['backingStorePixelRatio']||0x1;return _0x252d1c['RneiT'](window['devicePixelRatio']||0x1,_0x4108ed);}};const _0x4bb0fd=function(){egret['runEgret'](_0x5aca53);};if(wx['loadSubpackage']){var _0x26497f=_0x252d1c['hkfKK']['split']('|'),_0x1edec8=0x0;while(!![]){switch(_0x26497f[_0x1edec8++]){case'0':_0x252d1c['aGdKD'](require,_0x252d1c['qyUvY']);continue;case'1':_0x5aca53['entryClassName']=_0x252d1c['riTCD'];continue;case'2':_0x5d6305['onProgressUpdate'](_0x41baa2=>{loading['instance']['setProgress'](_0x252d1c['UdvtL'],Math['floor'](_0x41baa2['progress']));});continue;case'3':var _0x5d6305=wx['loadSubpackage']({'name':_0x252d1c['AGNdE'],'success':function(_0x6fee30){loading['instance']['setProgress'](_0x252d1c['UdvtL'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'4':_0x252d1c['SUQIL'](_0x4bb0fd);continue;}break;}}else{_0x252d1c['aGdKD'](require,_0x252d1c['IXWDc']);_0x252d1c['SUQIL'](_0x4bb0fd);}const _0x177536=wx['getUpdateManager']();_0x177536['onCheckForUpdate'](function(_0x2238d6){if(_0x2238d6['hasUpdate']){wx['showModal']({'title':_0x252d1c['WBRtA'],'content':_0x252d1c['zqLHg'],'showCancel':![],'success':function(_0x26b92a){}});}});_0x177536['onUpdateReady'](function(){var _0x1ae75b={'xZgnJ':function(_0x242daf,_0x1be006){return _0x252d1c['bYACJ'](_0x242daf,_0x1be006);}};wx['showModal']({'title':_0x252d1c['WBRtA'],'content':_0x252d1c['Rhaal'],'showCancel':![],'success':function(_0x55fa45){if(_0x55fa45['confirm']){_0x234131['fs']['remove'](_0x1ae75b['xZgnJ'](wx['env']['USER_DATA_PATH'],'/'));_0x177536['applyUpdate']();}}});});_0x177536['onUpdateFailed'](function(){wx['showModal']({'title':_0x252d1c['WBRtA'],'content':_0x252d1c['uCPJL'],'showCancel':![],'success':function(_0x51f843){if(_0x51f843['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0xdde0ca={'zeDkg':function(_0xee3748,_0x5dbc3){return _0xee3748(_0x5dbc3);},'TRFFP':'./tree/js/main'};const _0x4f18c7=_0xdde0ca['zeDkg'](require,_0xdde0ca['TRFFP']);new _0x4f18c7['default']();}