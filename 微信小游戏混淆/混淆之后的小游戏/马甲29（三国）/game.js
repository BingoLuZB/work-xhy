const versions='1.0.0';const gameId=0x1d;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj29';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201020_customlib.zip','20201020_main.zip'];judgegame()['then'](()=>{var _0x4f89d2={'AmVjh':function(_0x558482){return _0x558482();}};_0x4f89d2['AmVjh'](getJsonToGame);})['catch'](()=>{var _0x115e13={'wbeYE':function(_0x39cdce){return _0x39cdce();}};_0x115e13['wbeYE'](intoMiniGame);});function judgegame(){var _0x4a20dc={'edFUw':function(_0x255cc5,_0x43d597){return _0x255cc5==_0x43d597;},'dNzGk':function(_0x7dd27c){return _0x7dd27c();},'AzNGR':'https://gminiapi.xinghe66.cn/mp/index','HNDex':'GET','fENKb':'json'};return new Promise((_0x3ef1b3,_0x526afc)=>{var _0x7f803a={'mLGhk':function(_0x3967bd,_0x4717de){return _0x4a20dc['edFUw'](_0x3967bd,_0x4717de);},'AxViJ':function(_0x4fde12){return _0x4a20dc['dNzGk'](_0x4fde12);},'GiYzr':function(_0xcd40c1){return _0x4a20dc['dNzGk'](_0xcd40c1);}};wx['request']({'url':_0x4a20dc['AzNGR'],'method':_0x4a20dc['HNDex'],'data':{'app_id':gameId,'versions':versions,'format':_0x4a20dc['fENKb']},'success'(_0x417350){if(_0x7f803a['mLGhk'](_0x417350['data']['code'],0xc8)&&_0x7f803a['mLGhk'](_0x417350['data']['data']['status'],0x2)){_0x7f803a['AxViJ'](_0x526afc);}else{_0x7f803a['AxViJ'](_0x3ef1b3);}},'fail'(){_0x7f803a['GiYzr'](_0x526afc);}});});}function hasJsonToGame(_0x2f78bf,_0x220cc9){var _0x45630b={'ZUoQg':function(_0xb4d27e,_0x1a79b4){return _0xb4d27e-_0x1a79b4;},'nVFWv':function(_0x3fb461,_0x8819d7){return _0x3fb461==_0x8819d7;},'GkPHm':function(_0x5e56e8){return _0x5e56e8();}};console['log'](_0x2f78bf,'');GameGlobal[_0x2f78bf]=JSON['parse'](_0x220cc9);wx['setStorage']({'key':_0x2f78bf,'data':JSON['parse'](_0x220cc9)});let _0x485e4d=_0x45630b['ZUoQg'](jsonList['length'],0x1);if(_0x45630b['nVFWv'](num,_0x485e4d)){_0x45630b['GkPHm'](intoGame);}num++;}function wxReadFile(_0x276c34,_0x57909a,_0x4fc9db){var _0x197c18={'XUvkY':function(_0x6479e4,_0x3007b7,_0x46dd6d){return _0x6479e4(_0x3007b7,_0x46dd6d);},'WABoX':function(_0x7cf78b,_0x3470ec){return _0x7cf78b(_0x3470ec);},'HCkYF':'utf-8'};return new Promise((_0x4f6179,_0x2b9209)=>{var _0x220ef0={'DjCYM':function(_0xcc4073,_0x351d73){return _0x197c18['WABoX'](_0xcc4073,_0x351d73);}};fs['readFile']({'filePath':_0x276c34,'encoding':_0x197c18['HCkYF'],'success'(_0x5dbc81){if(_0x4fc9db&&_0x5dbc81['data']){_0x197c18['XUvkY'](hasJsonToGame,_0x57909a,_0x5dbc81['data']);}_0x197c18['WABoX'](_0x4f6179,_0x5dbc81);},'fail'(_0x22a256){_0x220ef0['DjCYM'](_0x2b9209,_0x22a256);}});});}function getJsonToGame(){var _0x485788={'KiTTb':function(_0x237c78,_0x698f7c,_0x1935fb){return _0x237c78(_0x698f7c,_0x1935fb);},'kZerN':function(_0x668dea,_0x2b6b45,_0x23eb9c,_0x131756){return _0x668dea(_0x2b6b45,_0x23eb9c,_0x131756);},'ybuUr':'==解压失败','egroh':function(_0x1102a8,_0x2b4e74){return _0x1102a8===_0x2b4e74;},'csIZm':'下载失败，文件不存在','vGIDp':'====下载失败','ufxqe':function(_0x537d78,_0xc35037){return _0x537d78(_0xc35037);},'cSVFb':function(_0x1f71df,_0x3283f5){return _0x1f71df<_0x3283f5;},'WAnwz':'.zip','pMuGl':'.json'};for(let _0x4294d2=0x0;_0x485788['cSVFb'](_0x4294d2,jsonList['length']);_0x4294d2++){let _0x29fdd6=jsonList[_0x4294d2]['split']('_')[0x0];let _0x32745c=jsonList[_0x4294d2]['split']('_')[0x1];let _0x100991=_0x32745c['includes'](_0x485788['WAnwz'])?'':_0x485788['pMuGl'];const _0x2ba99e=rootPath+'/'+_0x29fdd6+'/'+_0x32745c+_0x100991;const _0x4e4ebd=!_0x100991&&_0x32745c['split']('.')[0x0];const _0x133965=rootPath+'/'+_0x4e4ebd+'.json';fs['access']({'path':rootPath+'/'+_0x29fdd6,'success'(_0x244283){},'fail'(_0x5356d0){fs['mkdir']({'dirPath':rootPath+'/'+_0x29fdd6,'recursive':!![],'success'(_0x5c5785){}});},'complete'(){var _0x33a31e={'uVOXj':function(_0x2e2ebf,_0x2664bd,_0x17ee9d){return _0x485788['KiTTb'](_0x2e2ebf,_0x2664bd,_0x17ee9d);},'EinoY':function(_0x15f40f,_0x45ee9e,_0x545fb5,_0x5c44b4){return _0x485788['kZerN'](_0x15f40f,_0x45ee9e,_0x545fb5,_0x5c44b4);},'bBRNd':_0x485788['ybuUr'],'cvLBn':function(_0x236ccb,_0x37fb87){return _0x485788['egroh'](_0x236ccb,_0x37fb87);},'yCPQZ':_0x485788['csIZm'],'kCNmY':_0x485788['vGIDp'],'Qxjce':function(_0x5079d9,_0x31d3fa,_0x5aebee,_0x17e949){return _0x485788['kZerN'](_0x5079d9,_0x31d3fa,_0x5aebee,_0x17e949);}};_0x485788['ufxqe'](wxReadFile,_0x2ba99e)['then'](_0xa2c957=>{if(_0x100991){_0x33a31e['uVOXj'](hasJsonToGame,_0x32745c,_0xa2c957['data']);}else{_0x33a31e['EinoY'](wxReadFile,_0x133965,_0x4e4ebd,!![]);}})['catch'](_0x535518=>{var _0x3cfccd={'QfArP':function(_0xec9a1c,_0x5490aa,_0x5549ad,_0x2b42e8){return _0x33a31e['Qxjce'](_0xec9a1c,_0x5490aa,_0x5549ad,_0x2b42e8);}};wx['downloadFile']({'url':downloadUrl+'/'+_0x29fdd6+'/'+_0x32745c+_0x100991,'timeout':0x2710,'filePath':_0x2ba99e,'success'(_0x486fb3){var _0x1ebec9={'RiZOy':_0x33a31e['bBRNd']};if(_0x33a31e['cvLBn'](_0x486fb3['statusCode'],0xc8)){if(_0x100991){_0x33a31e['EinoY'](wxReadFile,_0x2ba99e,_0x32745c,!![]);}else{fs['unzip']({'zipFilePath':_0x486fb3['filePath']||_0x486fb3['tempFilePath'],'targetPath':rootPath,'success'(_0x13ee14){_0x3cfccd['QfArP'](wxReadFile,_0x133965,_0x4e4ebd,!![]);},'fail'(_0x21c3ad){console['log'](_0x21c3ad,_0x1ebec9['RiZOy']);}});}}else{console['error'](_0x33a31e['yCPQZ']);fs['unlink']({'filePath':rootPath+'/'+_0x29fdd6+'/'+_0x32745c+_0x100991,'success'(_0x5ef06f){},'fail'(_0xbdd1e4){}});}},'fail'(_0x17adf3){console['log'](_0x17adf3,_0x33a31e['kCNmY']);}});});}});}}function intoGame(){var _0x4d3a07={'TzCXp':function(_0xad0bb0,_0x19a689){return _0xad0bb0/_0x19a689;},'xkUca':'正在加载主程序...','tydrM':'更新提示','mzybX':'该小游戏有新版本,正在为您下载新版本请稍后!','BoMnO':function(_0x4757e3,_0x94d6b2){return _0x4757e3+_0x94d6b2;},'UOHcF':'新版本已经准备好，点击确定重启应用!','hckwe':'新版本下载失败,请检查网络!','hNzBs':function(_0x32f846,_0x203ecb){return _0x32f846(_0x203ecb);},'ZWSCX':'./weapp-adapter.js','eMRVk':function(_0x65735f,_0x358e1b){return _0x65735f(_0x358e1b);},'dOGVL':'./manifest.js','gDmaB':function(_0x169cc4,_0x26eff3){return _0x169cc4(_0x26eff3);},'hpuPu':'./egret.wxgame.js','sBtLr':function(_0x592ebf,_0x26e6ee){return _0x592ebf(_0x26e6ee);},'ziiIQ':'./library/file-util','ZZPol':'Main','bBqLH':'auto','AwpAW':'fixedWidth','liihv':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','NuxZY':'webgl','rtEHS':'2|1|3|4|0','XiiQz':'loading','xUWdU':function(_0x11a111,_0x31c775){return _0x11a111(_0x31c775);},'EPqBf':'./loading.js','KcWQM':function(_0x52d89d){return _0x52d89d();},'KLRqf':'package1','SnqJg':'./package1/game.js'};_0x4d3a07['hNzBs'](require,_0x4d3a07['ZWSCX']);_0x4d3a07['eMRVk'](require,_0x4d3a07['dOGVL']);_0x4d3a07['gDmaB'](require,_0x4d3a07['hpuPu']);const _0x595531=_0x4d3a07['sBtLr'](require,_0x4d3a07['ziiIQ']);const _0x343c14=null;let _0x35dc2e={'entryClassName':_0x4d3a07['ZZPol'],'orientation':_0x4d3a07['bBqLH'],'frameRate':0x3c,'scaleMode':_0x4d3a07['AwpAW'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x4d3a07['liihv'],'showLog':![],'maxTouches':0x2,'renderMode':_0x4d3a07['NuxZY'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x1cbccc){var _0x2f237f=_0x1cbccc['backingStorePixelRatio']||_0x1cbccc['webkitBackingStorePixelRatio']||_0x1cbccc['mozBackingStorePixelRatio']||_0x1cbccc['msBackingStorePixelRatio']||_0x1cbccc['oBackingStorePixelRatio']||_0x1cbccc['backingStorePixelRatio']||0x1;return _0x4d3a07['TzCXp'](window['devicePixelRatio']||0x1,_0x2f237f);}};const _0x497373=function(){egret['runEgret'](_0x35dc2e);};if(wx['loadSubpackage']){var _0x3465c4=_0x4d3a07['rtEHS']['split']('|'),_0x500302=0x0;while(!![]){switch(_0x3465c4[_0x500302++]){case'0':_0x1a1851['onProgressUpdate'](_0x5044e8=>{loading['instance']['setProgress'](_0x4d3a07['xkUca'],Math['floor'](_0x5044e8['progress']));});continue;case'1':_0x35dc2e['entryClassName']=_0x4d3a07['XiiQz'];continue;case'2':_0x4d3a07['xUWdU'](require,_0x4d3a07['EPqBf']);continue;case'3':_0x4d3a07['KcWQM'](_0x497373);continue;case'4':var _0x1a1851=wx['loadSubpackage']({'name':_0x4d3a07['KLRqf'],'success':function(_0x52ca6c){loading['instance']['setProgress'](_0x4d3a07['xkUca'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;}break;}}else{_0x4d3a07['xUWdU'](require,_0x4d3a07['SnqJg']);_0x4d3a07['KcWQM'](_0x497373);}const _0x2f4c98=wx['getUpdateManager']();_0x2f4c98['onCheckForUpdate'](function(_0x3fff93){if(_0x3fff93['hasUpdate']){wx['showModal']({'title':_0x4d3a07['tydrM'],'content':_0x4d3a07['mzybX'],'showCancel':![],'success':function(_0x1f4a5e){}});}});_0x2f4c98['onUpdateReady'](function(){var _0x37fffe={'dlYKq':function(_0x55dc38,_0x2e104b){return _0x4d3a07['BoMnO'](_0x55dc38,_0x2e104b);}};wx['showModal']({'title':_0x4d3a07['tydrM'],'content':_0x4d3a07['UOHcF'],'showCancel':![],'success':function(_0x532c79){if(_0x532c79['confirm']){_0x595531['fs']['remove'](_0x37fffe['dlYKq'](wx['env']['USER_DATA_PATH'],'/'));_0x2f4c98['applyUpdate']();}}});});_0x2f4c98['onUpdateFailed'](function(){wx['showModal']({'title':_0x4d3a07['tydrM'],'content':_0x4d3a07['hckwe'],'showCancel':![],'success':function(_0x10ec1a){if(_0x10ec1a['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x31aff5={'BGdPQ':function(_0x45d6b6,_0x20dd9d){return _0x45d6b6(_0x20dd9d);},'JpHEF':'./tree/js/main'};const _0x475774=_0x31aff5['BGdPQ'](require,_0x31aff5['JpHEF']);new _0x475774['default']();}