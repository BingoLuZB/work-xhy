/*Obfuscated by JShaman.com*/const versions='1.0.0';const gameId=0x322;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/SG/mj802';const jsonList=['20210312_main.zip','20210312_ibmin.zip'];const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;judgegame()['then'](()=>{getJsonToGame();})['catch'](()=>{intoMiniGame();});function judgegame(){return new Promise((_0x458b27,_0x2883dc)=>{wx['request']({'url':'https://gminiapi.xinghe66.cn/mp/index','method':'GET','data':{'app_id':gameId,'versions':versions,'format':'json'},'success'(_0x989087){if(_0x989087['data']['code']==0xc8&&_0x989087['data']['data']['status']==0x2){_0x2883dc();}else{_0x458b27();}},'fail'(){_0x2883dc();}});});}function hasJsonToGame(_0x4e61ac,_0x2c078d){console['log'](_0x4e61ac,'');wx[_0x4e61ac]=JSON['parse'](_0x2c078d);let _0x5e61d2=jsonList['length']-0x1;if(num==_0x5e61d2){intoGame();}num++;}function wxReadFile(_0x485e22,_0xa6c49a,_0x23bb62){return new Promise((_0x407f04,_0x486480)=>{fs['readFile']({'filePath':_0x485e22,'encoding':'utf-8','success'(_0xe5c387){if(_0x23bb62&&_0xe5c387['data']){hasJsonToGame(_0xa6c49a,_0xe5c387['data']);}_0x407f04(_0xe5c387);},'fail'(_0x421319){_0x486480(_0x421319);}});});}function getJsonToGame(){for(let _0x5f1cfa=0x0;_0x5f1cfa<jsonList['length'];_0x5f1cfa++){let _0x3d9aa=jsonList[_0x5f1cfa]['split']('_')[0x0];let _0x58a1d3=jsonList[_0x5f1cfa]['split']('_')[0x1];let _0x237f1a=_0x58a1d3['includes']('.zip')?'':'.json';const _0x1e31b0=rootPath+'/'+_0x3d9aa+'/'+_0x58a1d3+_0x237f1a;const _0x3bc366=!_0x237f1a&&_0x58a1d3['split']('.')[0x0];const _0x40db68=rootPath+'/'+_0x3bc366+'.json';fs['access']({'path':rootPath+'/'+_0x3d9aa,'success'(_0x27318c){},'fail'(_0x46ca74){fs['mkdir']({'dirPath':rootPath+'/'+_0x3d9aa,'recursive':!![],'success'(_0x267a25){}});},'complete'(){wxReadFile(_0x1e31b0)['then'](_0x133698=>{if(_0x237f1a){hasJsonToGame(_0x58a1d3,_0x133698['data']);}else{wxReadFile(_0x40db68,_0x3bc366,!![]);}})['catch'](_0x154419=>{wx['downloadFile']({'url':downloadUrl+'/'+_0x3d9aa+'/'+_0x58a1d3+_0x237f1a,'filePath':_0x1e31b0,'timeout':0x2710,'success'(_0x195c73){if(_0x195c73['statusCode']===0xc8){if(_0x237f1a){wxReadFile(_0x1e31b0,_0x58a1d3,!![]);}else{fs['unzip']({'zipFilePath':_0x195c73['filePath']||_0x195c73['tempFilePath'],'targetPath':rootPath,'success'(_0x110140){wxReadFile(_0x40db68,_0x3bc366,!![]);},'fail'(_0x24c3a0){console['log'](_0x24c3a0,'==解压失败');}});}}else{console['error']('下载失败，文件不存在');fs['unlink']({'filePath':rootPath+'/'+_0x3d9aa+'/'+_0x58a1d3+_0x237f1a,'success'(_0x4c7127){},'fail'(_0xcc297c){}});}},'fail'(_0x45dcc0){console['log'](_0x45dcc0,'====下载失败');}});});}});}}function intoGame(){require('./weapp-adapter.js');require('./manifest.js');require('./egret.wxgame.js');const _0x105c8d=require('./library/file-util');const _0x46a4cb=null;let _0x325b73={'entryClassName':'Main','orientation':'auto','frameRate':0x3c,'scaleMode':'fixedWidth','contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','showLog':![],'maxTouches':0x2,'renderMode':'webgl','audioType':0x0,'calculateCanvasScaleFactor':function(_0x1d3960){var _0x552a17=_0x1d3960['backingStorePixelRatio']||_0x1d3960['webkitBackingStorePixelRatio']||_0x1d3960['mozBackingStorePixelRatio']||_0x1d3960['msBackingStorePixelRatio']||_0x1d3960['oBackingStorePixelRatio']||_0x1d3960['backingStorePixelRatio']||0x1;return(window['devicePixelRatio']||0x1)/_0x552a17;}};const _0x2b3dac=function(){egret['runEgret'](_0x325b73);};if(wx['loadSubpackage']){require('./loading.js');_0x325b73['entryClassName']='loading';_0x2b3dac();var _0x393a00=wx['loadSubpackage']({'name':'package1','success':function(_0x4d48a6){loading['instance']['setProgress']('正在加载主程序...',Math['floor'](0x64));loading['instance']['onSuccess']();}});_0x393a00['onProgressUpdate'](_0x2bbb33=>{loading['instance']['setProgress']('正在加载主程序...',Math['floor'](_0x2bbb33['progress']));});}else{require('./package1/game.js');_0x2b3dac();}const _0x4a9d3e=wx['getUpdateManager']();_0x4a9d3e['onCheckForUpdate'](function(_0x30fe2f){if(_0x30fe2f['hasUpdate']){wx['showModal']({'title':'更新提示','content':'该小游戏有新版本,正在为您下载新版本请稍后!','showCancel':![],'success':function(_0x376f70){}});}});_0x4a9d3e['onUpdateReady'](function(){wx['showModal']({'title':'更新提示','content':'新版本已经准备好，点击确定重启应用!','showCancel':![],'success':function(_0x37e824){if(_0x37e824['confirm']){_0x105c8d['fs']['remove'](wx['env']['USER_DATA_PATH']+'/');_0x4a9d3e['applyUpdate']();}}});});_0x4a9d3e['onUpdateFailed'](function(){wx['showModal']({'title':'更新提示','content':'新版本下载失败,请检查网络!','showCancel':![],'success':function(_0x49f3aa){if(_0x49f3aa['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){const _0x24bcd3=require('./tree/js/main');new _0x24bcd3['default']();}