const versions='1.0.0';const gameId=121;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201119_customlib.zip','20201119_main.zip'];judgegame()['then'](()=>{var _0x392f93={'WBWcT':function(_0x5d7138){return _0x5d7138();}};_0x392f93['WBWcT'](getJsonToGame);})['catch'](()=>{var _0x286028={'lfPoz':function(_0x162e3f){return _0x162e3f();}};_0x286028['lfPoz'](intoMiniGame);});function judgegame(){var _0xadcacd={'aoLQL':function(_0x5435a0,_0x4a1bdb){return _0x5435a0==_0x4a1bdb;},'uKMDs':function(_0x66fc33){return _0x66fc33();},'iYQvz':'https://gminiapi.xinghe66.cn/mp/index','NIGWB':'GET','ufgGm':'json'};return new Promise((_0x1a124a,_0x4fd8dd)=>{var _0x37be72={'gPSJj':function(_0x23f0f4,_0x53c6aa){return _0xadcacd['aoLQL'](_0x23f0f4,_0x53c6aa);},'pLZNv':function(_0x4ab2af){return _0xadcacd['uKMDs'](_0x4ab2af);},'bCVzR':function(_0x5a2ea0){return _0xadcacd['uKMDs'](_0x5a2ea0);}};wx['request']({'url':_0xadcacd['iYQvz'],'method':_0xadcacd['NIGWB'],'data':{'app_id':gameId,'versions':versions,'format':_0xadcacd['ufgGm']},'success'(_0xbe24ea){if(_0x37be72['gPSJj'](_0xbe24ea['data']['code'],0xc8)&&_0x37be72['gPSJj'](_0xbe24ea['data']['data']['status'],0x2)){_0x37be72['pLZNv'](_0x4fd8dd);}else{_0x37be72['bCVzR'](_0x1a124a);}},'fail'(){_0x37be72['bCVzR'](_0x4fd8dd);}});});}function hasJsonToGame(_0x4ff17e,_0x3d77f3){var _0x30aba2={'nvxcE':function(_0x26324e,_0x3a89de){return _0x26324e-_0x3a89de;},'RGawh':function(_0x2a84e8,_0x4830b7){return _0x2a84e8==_0x4830b7;},'HNake':function(_0xc0be0){return _0xc0be0();}};console['log'](_0x4ff17e,'');GameGlobal[_0x4ff17e]=JSON['parse'](_0x3d77f3);let _0x11504e=_0x30aba2['nvxcE'](jsonList['length'],0x1);if(_0x30aba2['RGawh'](num,_0x11504e)){_0x30aba2['HNake'](intoGame);}num++;}function wxReadFile(_0x21c2f6,_0x5edfc9,_0x4c4ad4){var _0x31b4ce={'tHfWi':function(_0x3d65b1,_0x151aab,_0x3cb743){return _0x3d65b1(_0x151aab,_0x3cb743);},'xBNes':function(_0x34e7e4,_0x2f50ca){return _0x34e7e4(_0x2f50ca);},'RTowx':function(_0x42afab,_0x13d1f8){return _0x42afab(_0x13d1f8);},'Fdqgh':'utf-8'};return new Promise((_0x31f16b,_0x25e4a0)=>{fs['readFile']({'filePath':_0x21c2f6,'encoding':_0x31b4ce['Fdqgh'],'success'(_0x337b59){if(_0x4c4ad4&&_0x337b59['data']){_0x31b4ce['tHfWi'](hasJsonToGame,_0x5edfc9,_0x337b59['data']);}_0x31b4ce['xBNes'](_0x31f16b,_0x337b59);},'fail'(_0x2fa22e){_0x31b4ce['RTowx'](_0x25e4a0,_0x2fa22e);}});});}function getJsonToGame(){var _0x4524a0={'ReXre':function(_0x1940a4,_0x5749d7,_0x54c6da){return _0x1940a4(_0x5749d7,_0x54c6da);},'jWnSC':function(_0x5e097e,_0x5982e6,_0x543efe,_0x18ef1d){return _0x5e097e(_0x5982e6,_0x543efe,_0x18ef1d);},'Yvmkc':'==解压失败','HHJRl':function(_0x20b4d3,_0x3a95c8){return _0x20b4d3===_0x3a95c8;},'gRhlC':function(_0x1af505,_0x3d60e9,_0x24ee2d,_0x2cec3f){return _0x1af505(_0x3d60e9,_0x24ee2d,_0x2cec3f);},'LLbSE':'下载失败，文件不存在','jnOXP':'====下载失败','HcfPk':function(_0x2ece4a,_0x47458c){return _0x2ece4a(_0x47458c);},'oquMO':function(_0x53b2dc,_0x1fafb1){return _0x53b2dc<_0x1fafb1;},'iSKxo':'.zip','iLgsN':'.json'};for(let _0x325c99=0x0;_0x4524a0['oquMO'](_0x325c99,jsonList['length']);_0x325c99++){let _0x5a3cc0=jsonList[_0x325c99]['split']('_')[0x0];let _0x3192bc=jsonList[_0x325c99]['split']('_')[0x1];let _0x4f0bee=_0x3192bc['includes'](_0x4524a0['iSKxo'])?'':_0x4524a0['iLgsN'];const _0x3b2ed4=rootPath+'/'+_0x5a3cc0+'/'+_0x3192bc+_0x4f0bee;const _0x4e037c=!_0x4f0bee&&_0x3192bc['split']('.')[0x0];const _0x18ca86=rootPath+'/'+_0x4e037c+'.json';fs['access']({'path':rootPath+'/'+_0x5a3cc0,'success'(_0xfd9f5a){},'fail'(_0x4a8c85){fs['mkdir']({'dirPath':rootPath+'/'+_0x5a3cc0,'recursive':!![],'success'(_0x149eec){}});},'complete'(){var _0xd75b2a={'EDPEC':function(_0x3d5a0e,_0x256657,_0x21328d){return _0x4524a0['ReXre'](_0x3d5a0e,_0x256657,_0x21328d);},'CgcsU':function(_0x430428,_0x48592a,_0x38dc2d,_0x2d207d){return _0x4524a0['jWnSC'](_0x430428,_0x48592a,_0x38dc2d,_0x2d207d);},'tVPuw':_0x4524a0['Yvmkc'],'yLQIS':function(_0x29406b,_0x3cad93){return _0x4524a0['HHJRl'](_0x29406b,_0x3cad93);},'oxUCY':function(_0x3dbbae,_0xa3ef41,_0x41a532,_0x52cca9){return _0x4524a0['gRhlC'](_0x3dbbae,_0xa3ef41,_0x41a532,_0x52cca9);},'BqxHG':_0x4524a0['LLbSE'],'sKyoV':_0x4524a0['jnOXP']};_0x4524a0['HcfPk'](wxReadFile,_0x3b2ed4)['then'](_0x40043e=>{if(_0x4f0bee){_0xd75b2a['EDPEC'](hasJsonToGame,_0x3192bc,_0x40043e['data']);}else{_0xd75b2a['CgcsU'](wxReadFile,_0x18ca86,_0x4e037c,!![]);}})['catch'](_0x2cd444=>{wx['downloadFile']({'url':downloadUrl+'/'+_0x5a3cc0+'/'+_0x3192bc+_0x4f0bee,'filePath':_0x3b2ed4,'timeout':0x2710,'success'(_0x113ee3){var _0x1fe996={'TeYMb':function(_0x43edeb,_0x4c1a47,_0x2bf2b9,_0x3fc207){return _0xd75b2a['CgcsU'](_0x43edeb,_0x4c1a47,_0x2bf2b9,_0x3fc207);},'jBgVm':_0xd75b2a['tVPuw']};if(_0xd75b2a['yLQIS'](_0x113ee3['statusCode'],0xc8)){if(_0x4f0bee){_0xd75b2a['oxUCY'](wxReadFile,_0x3b2ed4,_0x3192bc,!![]);}else{fs['unzip']({'zipFilePath':_0x113ee3['filePath']||_0x113ee3['tempFilePath'],'targetPath':rootPath,'success'(_0x2ef38b){_0x1fe996['TeYMb'](wxReadFile,_0x18ca86,_0x4e037c,!![]);},'fail'(_0x3bc12c){console['log'](_0x3bc12c,_0x1fe996['jBgVm']);}});}}else{console['error'](_0xd75b2a['BqxHG']);fs['unlink']({'filePath':rootPath+'/'+_0x5a3cc0+'/'+_0x3192bc+_0x4f0bee,'success'(_0x1bd448){},'fail'(_0x4225b8){}});}},'fail'(_0x45b2bf){console['log'](_0x45b2bf,_0xd75b2a['sKyoV']);}});});}});}}function intoGame(){var _0x1e76ec={'TDQjA':function(_0x4a0936,_0x75100c){return _0x4a0936/_0x75100c;},'kqeev':'正在加载主程序...','INxxU':'更新提示','SqapS':'该小游戏有新版本,正在为您下载新版本请稍后!','poIIh':function(_0x57829f,_0x42435d){return _0x57829f+_0x42435d;},'VjDTi':'新版本已经准备好，点击确定重启应用!','DeEiz':'新版本下载失败,请检查网络!','kJhAE':function(_0x27a138,_0xf55a15){return _0x27a138(_0xf55a15);},'Oogow':'./weapp-adapter.js','RDTfq':function(_0x1128c1,_0x5cc8f9){return _0x1128c1(_0x5cc8f9);},'Eyoeb':'./manifest.js','zhgLS':function(_0x2812a8,_0x54445d){return _0x2812a8(_0x54445d);},'tPDGd':'./egret.wxgame.js','ZnOpO':function(_0x3a0011,_0x8627ed){return _0x3a0011(_0x8627ed);},'uYget':'./library/file-util','BBYso':'Main','pOLgB':'auto','CFcyd':'fixedWidth','JsJch':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','LcXTa':'webgl','mMWHs':'4|1|3|0|2','lExsk':'package1','uzNVy':'loading','eYPAb':function(_0x2bc21f){return _0x2bc21f();},'PRlbc':'./loading.js','MZbBQ':'./package1/game.js','UKnXA':function(_0x55d881){return _0x55d881();}};_0x1e76ec['kJhAE'](require,_0x1e76ec['Oogow']);_0x1e76ec['RDTfq'](require,_0x1e76ec['Eyoeb']);_0x1e76ec['zhgLS'](require,_0x1e76ec['tPDGd']);const _0xcd6320=_0x1e76ec['ZnOpO'](require,_0x1e76ec['uYget']);const _0x501757=null;let _0x26ca0d={'entryClassName':_0x1e76ec['BBYso'],'orientation':_0x1e76ec['pOLgB'],'frameRate':0x3c,'scaleMode':_0x1e76ec['CFcyd'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x1e76ec['JsJch'],'showLog':![],'maxTouches':0x2,'renderMode':_0x1e76ec['LcXTa'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x5466fe){var _0x2266e9=_0x5466fe['backingStorePixelRatio']||_0x5466fe['webkitBackingStorePixelRatio']||_0x5466fe['mozBackingStorePixelRatio']||_0x5466fe['msBackingStorePixelRatio']||_0x5466fe['oBackingStorePixelRatio']||_0x5466fe['backingStorePixelRatio']||0x1;return _0x1e76ec['TDQjA'](window['devicePixelRatio']||0x1,_0x2266e9);}};const _0x422a26=function(){egret['runEgret'](_0x26ca0d);};if(wx['loadSubpackage']){var _0x51ca91=_0x1e76ec['mMWHs']['split']('|'),_0x541494=0x0;while(!![]){switch(_0x51ca91[_0x541494++]){case'0':var _0x1cfc44=wx['loadSubpackage']({'name':_0x1e76ec['lExsk'],'success':function(_0x4ae6ff){loading['instance']['setProgress'](_0x1e76ec['kqeev'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'1':_0x26ca0d['entryClassName']=_0x1e76ec['uzNVy'];continue;case'2':_0x1cfc44['onProgressUpdate'](_0x375e7a=>{loading['instance']['setProgress'](_0x1e76ec['kqeev'],Math['floor'](_0x375e7a['progress']));});continue;case'3':_0x1e76ec['eYPAb'](_0x422a26);continue;case'4':_0x1e76ec['ZnOpO'](require,_0x1e76ec['PRlbc']);continue;}break;}}else{_0x1e76ec['ZnOpO'](require,_0x1e76ec['MZbBQ']);_0x1e76ec['UKnXA'](_0x422a26);}const _0x20eb1f=wx['getUpdateManager']();_0x20eb1f['onCheckForUpdate'](function(_0x47a1c3){if(_0x47a1c3['hasUpdate']){wx['showModal']({'title':_0x1e76ec['INxxU'],'content':_0x1e76ec['SqapS'],'showCancel':![],'success':function(_0x362e61){}});}});_0x20eb1f['onUpdateReady'](function(){wx['showModal']({'title':_0x1e76ec['INxxU'],'content':_0x1e76ec['VjDTi'],'showCancel':![],'success':function(_0x19f109){if(_0x19f109['confirm']){_0xcd6320['fs']['remove'](_0x1e76ec['poIIh'](wx['env']['USER_DATA_PATH'],'/'));_0x20eb1f['applyUpdate']();}}});});_0x20eb1f['onUpdateFailed'](function(){wx['showModal']({'title':_0x1e76ec['INxxU'],'content':_0x1e76ec['DeEiz'],'showCancel':![],'success':function(_0x45d558){if(_0x45d558['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x2b54ad={'VztSr':'mini'};wx['loadSubpackage']({'name':_0x2b54ad['VztSr'],'success':function(_0x6971b6){}});}