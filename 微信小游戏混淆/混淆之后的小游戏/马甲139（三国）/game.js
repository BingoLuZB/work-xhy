const versions='1.0.0';const gameId=0x8b;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201118_customlib.zip','20201118_main.zip'];judgegame()['then'](()=>{var _0x359b15={'pVFnX':function(_0x3d9ff0){return _0x3d9ff0();}};_0x359b15['pVFnX'](getJsonToGame);})['catch'](()=>{var _0x52aaf7={'dcXcs':function(_0x6ffb5a){return _0x6ffb5a();}};_0x52aaf7['dcXcs'](intoMiniGame);});function judgegame(){var _0x8476a8={'qGhTI':function(_0x4ccd30,_0x2da365){return _0x4ccd30==_0x2da365;},'ezgfZ':function(_0x48ee67){return _0x48ee67();},'HVjwh':'https://gminiapi.xinghe66.cn/mp/index','CmyOX':'GET','OKqcm':'json'};return new Promise((_0x41ed22,_0x5ad175)=>{wx['request']({'url':_0x8476a8['HVjwh'],'method':_0x8476a8['CmyOX'],'data':{'app_id':gameId,'versions':versions,'format':_0x8476a8['OKqcm']},'success'(_0x53bc7b){if(_0x8476a8['qGhTI'](_0x53bc7b['data']['code'],0xc8)&&_0x8476a8['qGhTI'](_0x53bc7b['data']['data']['status'],0x2)){_0x8476a8['ezgfZ'](_0x5ad175);}else{_0x8476a8['ezgfZ'](_0x41ed22);}},'fail'(){_0x8476a8['ezgfZ'](_0x5ad175);}});});}function hasJsonToGame(_0x1031a9,_0x1ba1df){var _0x1d8a3b={'Nvcwu':function(_0xc862a6,_0x1c3125){return _0xc862a6-_0x1c3125;},'OhCAI':function(_0x1f0433,_0x33a20c){return _0x1f0433==_0x33a20c;},'gjsen':function(_0x4e3fcf){return _0x4e3fcf();}};console['log'](_0x1031a9,'');GameGlobal[_0x1031a9]=JSON['parse'](_0x1ba1df);let _0xa65b0e=_0x1d8a3b['Nvcwu'](jsonList['length'],0x1);if(_0x1d8a3b['OhCAI'](num,_0xa65b0e)){_0x1d8a3b['gjsen'](intoGame);}num++;}function wxReadFile(_0x9d1169,_0x5640e1,_0x41d8bf){var _0x1fec25={'DEwrZ':function(_0x68a6ef,_0x555278,_0x47f57e){return _0x68a6ef(_0x555278,_0x47f57e);},'Ovydg':function(_0x4a1d8b,_0x20d3a5){return _0x4a1d8b(_0x20d3a5);},'evkuQ':function(_0x2e7927,_0x5bb2b2){return _0x2e7927(_0x5bb2b2);},'eeFsc':'utf-8'};return new Promise((_0x1573ba,_0x1f4735)=>{fs['readFile']({'filePath':_0x9d1169,'encoding':_0x1fec25['eeFsc'],'success'(_0x4bddf3){if(_0x41d8bf&&_0x4bddf3['data']){_0x1fec25['DEwrZ'](hasJsonToGame,_0x5640e1,_0x4bddf3['data']);}_0x1fec25['Ovydg'](_0x1573ba,_0x4bddf3);},'fail'(_0xcaa0d1){_0x1fec25['evkuQ'](_0x1f4735,_0xcaa0d1);}});});}function getJsonToGame(){var _0x3a96a1={'dNRbA':function(_0x3ea5d9,_0x2b11eb,_0x5289fc){return _0x3ea5d9(_0x2b11eb,_0x5289fc);},'mwmWI':function(_0x5008dd,_0x3d08ce,_0x58750d,_0x36b083){return _0x5008dd(_0x3d08ce,_0x58750d,_0x36b083);},'FsoeA':'==解压失败','Hcjps':function(_0x4e4e7a,_0x2401c1){return _0x4e4e7a===_0x2401c1;},'VAGRM':'下载失败，文件不存在','odKoe':'====下载失败','xKewO':function(_0x26a255,_0xb27ee8){return _0x26a255(_0xb27ee8);},'FTwWj':function(_0x7ab2eb,_0x2ca211){return _0x7ab2eb<_0x2ca211;},'ILZWq':'.zip','QYRsW':'.json'};for(let _0x2d2217=0x0;_0x3a96a1['FTwWj'](_0x2d2217,jsonList['length']);_0x2d2217++){let _0x551252=jsonList[_0x2d2217]['split']('_')[0x0];let _0x54164d=jsonList[_0x2d2217]['split']('_')[0x1];let _0x38b5d8=_0x54164d['includes'](_0x3a96a1['ILZWq'])?'':_0x3a96a1['QYRsW'];const _0x56174=rootPath+'/'+_0x551252+'/'+_0x54164d+_0x38b5d8;const _0x176bb5=!_0x38b5d8&&_0x54164d['split']('.')[0x0];const _0xe5de89=rootPath+'/'+_0x176bb5+'.json';fs['access']({'path':rootPath+'/'+_0x551252,'success'(_0x417a4d){},'fail'(_0x232d8a){fs['mkdir']({'dirPath':rootPath+'/'+_0x551252,'recursive':!![],'success'(_0x299add){}});},'complete'(){var _0x245e81={'XzirI':function(_0x4bddb2,_0x36f04c,_0x119a3c){return _0x3a96a1['dNRbA'](_0x4bddb2,_0x36f04c,_0x119a3c);},'ZJQVg':function(_0x2e3e17,_0x3457e2,_0x468028,_0x1dc80b){return _0x3a96a1['mwmWI'](_0x2e3e17,_0x3457e2,_0x468028,_0x1dc80b);},'aekZF':function(_0x50692e,_0x1a8f93,_0x5a66ea,_0x22329c){return _0x3a96a1['mwmWI'](_0x50692e,_0x1a8f93,_0x5a66ea,_0x22329c);},'OyCzw':_0x3a96a1['FsoeA'],'oprxV':function(_0x4bb673,_0x43f1b9){return _0x3a96a1['Hcjps'](_0x4bb673,_0x43f1b9);},'lXNhL':function(_0x3e236b,_0x93bd8d,_0x3b5f9a,_0x334be3){return _0x3a96a1['mwmWI'](_0x3e236b,_0x93bd8d,_0x3b5f9a,_0x334be3);},'GmYtx':_0x3a96a1['VAGRM'],'wAhuo':_0x3a96a1['odKoe']};_0x3a96a1['xKewO'](wxReadFile,_0x56174)['then'](_0x2753cf=>{if(_0x38b5d8){_0x245e81['XzirI'](hasJsonToGame,_0x54164d,_0x2753cf['data']);}else{_0x245e81['ZJQVg'](wxReadFile,_0xe5de89,_0x176bb5,!![]);}})['catch'](_0x156da3=>{var _0x307a63={'GbJlH':function(_0x37fbe4,_0x379c74,_0x3aed91,_0x1cc8d3){return _0x245e81['aekZF'](_0x37fbe4,_0x379c74,_0x3aed91,_0x1cc8d3);},'hJnQO':_0x245e81['OyCzw'],'AIBFr':function(_0x5a75ee,_0x2debe8){return _0x245e81['oprxV'](_0x5a75ee,_0x2debe8);},'UZqwU':function(_0x4a62c6,_0x38249a,_0x47f805,_0x1bbdab){return _0x245e81['lXNhL'](_0x4a62c6,_0x38249a,_0x47f805,_0x1bbdab);},'vwDEk':_0x245e81['GmYtx'],'zSCvw':_0x245e81['wAhuo']};wx['downloadFile']({'url':downloadUrl+'/'+_0x551252+'/'+_0x54164d+_0x38b5d8,'filePath':_0x56174,'timeout':0x2710,'success'(_0x1860f7){if(_0x307a63['AIBFr'](_0x1860f7['statusCode'],0xc8)){if(_0x38b5d8){_0x307a63['UZqwU'](wxReadFile,_0x56174,_0x54164d,!![]);}else{fs['unzip']({'zipFilePath':_0x1860f7['filePath']||_0x1860f7['tempFilePath'],'targetPath':rootPath,'success'(_0xc4a0a){_0x307a63['GbJlH'](wxReadFile,_0xe5de89,_0x176bb5,!![]);},'fail'(_0x574ef5){console['log'](_0x574ef5,_0x307a63['hJnQO']);}});}}else{console['error'](_0x307a63['vwDEk']);fs['unlink']({'filePath':rootPath+'/'+_0x551252+'/'+_0x54164d+_0x38b5d8,'success'(_0x21dbeb){},'fail'(_0x244e7e){}});}},'fail'(_0x588fb4){console['log'](_0x588fb4,_0x307a63['zSCvw']);}});});}});}}function intoGame(){var _0x328ac1={'OVlKR':function(_0x4226c9,_0x2af46c){return _0x4226c9/_0x2af46c;},'tohLt':'正在加载主程序...','GezFp':'更新提示','KiSfD':'该小游戏有新版本,正在为您下载新版本请稍后!','nWIOf':function(_0x5b67df,_0x2838d6){return _0x5b67df+_0x2838d6;},'AoESz':'新版本已经准备好，点击确定重启应用!','chzAi':'新版本下载失败,请检查网络!','sXzWY':function(_0x2f2085,_0x2cdc61){return _0x2f2085(_0x2cdc61);},'Kydte':'./weapp-adapter.js','ImlYF':'./manifest.js','hwoqT':'./egret.wxgame.js','pDbXI':'./library/file-util','awZku':'Main','OIgHb':'auto','ZPjcZ':'fixedWidth','JVkfS':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','UjqoF':'webgl','kYuxC':'1|4|3|2|0','iSPTb':'./loading.js','nbcjA':'package1','Qugxe':function(_0xc173b5){return _0xc173b5();},'bJLhM':'loading','RIHYn':'./package1/game.js','GBcou':function(_0x3f7dd0){return _0x3f7dd0();}};_0x328ac1['sXzWY'](require,_0x328ac1['Kydte']);_0x328ac1['sXzWY'](require,_0x328ac1['ImlYF']);_0x328ac1['sXzWY'](require,_0x328ac1['hwoqT']);const _0x3aa134=_0x328ac1['sXzWY'](require,_0x328ac1['pDbXI']);const _0x1ac7d6=null;let _0x56f930={'entryClassName':_0x328ac1['awZku'],'orientation':_0x328ac1['OIgHb'],'frameRate':0x3c,'scaleMode':_0x328ac1['ZPjcZ'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x328ac1['JVkfS'],'showLog':![],'maxTouches':0x2,'renderMode':_0x328ac1['UjqoF'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x42bf61){var _0x4a756e=_0x42bf61['backingStorePixelRatio']||_0x42bf61['webkitBackingStorePixelRatio']||_0x42bf61['mozBackingStorePixelRatio']||_0x42bf61['msBackingStorePixelRatio']||_0x42bf61['oBackingStorePixelRatio']||_0x42bf61['backingStorePixelRatio']||0x1;return _0x328ac1['OVlKR'](window['devicePixelRatio']||0x1,_0x4a756e);}};const _0x5e7c75=function(){egret['runEgret'](_0x56f930);};if(wx['loadSubpackage']){var _0x3aafaa=_0x328ac1['kYuxC']['split']('|'),_0x6cbfc7=0x0;while(!![]){switch(_0x3aafaa[_0x6cbfc7++]){case'0':_0x44e969['onProgressUpdate'](_0x49336b=>{loading['instance']['setProgress'](_0x328ac1['tohLt'],Math['floor'](_0x49336b['progress']));});continue;case'1':_0x328ac1['sXzWY'](require,_0x328ac1['iSPTb']);continue;case'2':var _0x44e969=wx['loadSubpackage']({'name':_0x328ac1['nbcjA'],'success':function(_0x254ddd){loading['instance']['setProgress'](_0x328ac1['tohLt'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'3':_0x328ac1['Qugxe'](_0x5e7c75);continue;case'4':_0x56f930['entryClassName']=_0x328ac1['bJLhM'];continue;}break;}}else{_0x328ac1['sXzWY'](require,_0x328ac1['RIHYn']);_0x328ac1['GBcou'](_0x5e7c75);}const _0x4ce07b=wx['getUpdateManager']();_0x4ce07b['onCheckForUpdate'](function(_0x5d6a40){if(_0x5d6a40['hasUpdate']){wx['showModal']({'title':_0x328ac1['GezFp'],'content':_0x328ac1['KiSfD'],'showCancel':![],'success':function(_0x1c2389){}});}});_0x4ce07b['onUpdateReady'](function(){wx['showModal']({'title':_0x328ac1['GezFp'],'content':_0x328ac1['AoESz'],'showCancel':![],'success':function(_0x37b550){if(_0x37b550['confirm']){_0x3aa134['fs']['remove'](_0x328ac1['nWIOf'](wx['env']['USER_DATA_PATH'],'/'));_0x4ce07b['applyUpdate']();}}});});_0x4ce07b['onUpdateFailed'](function(){wx['showModal']({'title':_0x328ac1['GezFp'],'content':_0x328ac1['chzAi'],'showCancel':![],'success':function(_0x2332d0){if(_0x2332d0['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0xe8197e={'GSkeA':function(_0x4ccb80,_0x44363e){return _0x4ccb80(_0x44363e);},'XHCQI':'./tree/js/main'};const _0x307394=_0xe8197e['GSkeA'](require,_0xe8197e['XHCQI']);new _0x307394['default']();}