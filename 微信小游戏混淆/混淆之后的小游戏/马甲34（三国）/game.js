const versions='1.0.0';const gameId=0x22;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj34';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201022_customlib.zip','20201022_main.zip'];judgegame()['then'](()=>{var _0x1c03bb={'lknoZ':function(_0x218a2e){return _0x218a2e();}};_0x1c03bb['lknoZ'](getJsonToGame);})['catch'](()=>{var _0x176888={'lfiLF':function(_0x1d7a0a){return _0x1d7a0a();}};_0x176888['lfiLF'](intoMiniGame);});function judgegame(){var _0x8db431={'gbtoj':function(_0x2a39ee){return _0x2a39ee();},'GxrIn':function(_0x4a13ab,_0x31e4f9){return _0x4a13ab==_0x31e4f9;},'ANKse':function(_0x27057b){return _0x27057b();},'ATsNW':'https://gminiapi.xinghe66.cn/mp/index','HGHFm':'GET','KCdTE':'json'};return new Promise((_0x56ac8a,_0x35bc1e)=>{var _0x4c1fa1={'CYIFH':function(_0x158419,_0x352052){return _0x8db431['GxrIn'](_0x158419,_0x352052);},'sedgD':function(_0x103770,_0x5498bb){return _0x8db431['GxrIn'](_0x103770,_0x5498bb);},'sPYZC':function(_0x592994){return _0x8db431['ANKse'](_0x592994);}};wx['request']({'url':_0x8db431['ATsNW'],'method':_0x8db431['HGHFm'],'data':{'app_id':gameId,'versions':versions,'format':_0x8db431['KCdTE']},'success'(_0x22e6a){if(_0x4c1fa1['CYIFH'](_0x22e6a['data']['code'],0xc8)&&_0x4c1fa1['sedgD'](_0x22e6a['data']['data']['status'],0x2)){_0x4c1fa1['sPYZC'](_0x35bc1e);}else{_0x4c1fa1['sPYZC'](_0x56ac8a);}},'fail'(){_0x8db431['gbtoj'](_0x35bc1e);}});});}function hasJsonToGame(_0x334344,_0x49df20){var _0x389ef9={'UvmNj':function(_0x30097c,_0x4e1fdb){return _0x30097c-_0x4e1fdb;},'vLAJz':function(_0xfa0a49,_0x3339fa){return _0xfa0a49==_0x3339fa;},'tDzYX':function(_0x4dfdbf){return _0x4dfdbf();}};console['log'](_0x334344,'');GameGlobal[_0x334344]=JSON['parse'](_0x49df20);let _0x4e4973=_0x389ef9['UvmNj'](jsonList['length'],0x1);if(_0x389ef9['vLAJz'](num,_0x4e4973)){_0x389ef9['tDzYX'](intoGame);}num++;}function wxReadFile(_0x59d6f6,_0xc9251,_0x3f98bc){var _0x1f31a1={'IzdTt':function(_0x4da714,_0x21ceb3){return _0x4da714(_0x21ceb3);},'Ibiwy':function(_0xa2ad5a,_0xf530c,_0x25c2ab){return _0xa2ad5a(_0xf530c,_0x25c2ab);},'awhhy':function(_0x2fd392,_0x119254){return _0x2fd392(_0x119254);},'YjYqh':'utf-8'};return new Promise((_0x128470,_0x236c4d)=>{var _0x1342dd={'Yixeh':function(_0xb97603,_0x4114ee,_0x44a72d){return _0x1f31a1['Ibiwy'](_0xb97603,_0x4114ee,_0x44a72d);},'qnlhy':function(_0x256ae1,_0x2ef552){return _0x1f31a1['awhhy'](_0x256ae1,_0x2ef552);}};fs['readFile']({'filePath':_0x59d6f6,'encoding':_0x1f31a1['YjYqh'],'success'(_0x50e0bf){if(_0x3f98bc&&_0x50e0bf['data']){_0x1342dd['Yixeh'](hasJsonToGame,_0xc9251,_0x50e0bf['data']);}_0x1342dd['qnlhy'](_0x128470,_0x50e0bf);},'fail'(_0x28a843){_0x1f31a1['IzdTt'](_0x236c4d,_0x28a843);}});});}function getJsonToGame(){var _0x5c7850={'BEXPL':function(_0x9d5f55,_0x284d51,_0x4f86b4){return _0x9d5f55(_0x284d51,_0x4f86b4);},'FTXwd':function(_0x1023fe,_0x5c606d,_0x28e0f1,_0x5a67de){return _0x1023fe(_0x5c606d,_0x28e0f1,_0x5a67de);},'XwWTl':function(_0x4ce122,_0x3fb6cd){return _0x4ce122===_0x3fb6cd;},'sRNvn':function(_0x55da89,_0x4ee0f5,_0x498e7e,_0x59092e){return _0x55da89(_0x4ee0f5,_0x498e7e,_0x59092e);},'cVDlS':'下载失败，文件不存在','RAYLf':'====下载失败','WUunJ':'==解压失败','afAen':function(_0x30199f,_0x4530d7){return _0x30199f(_0x4530d7);},'IMSIX':function(_0x3d98bb,_0x708a0e){return _0x3d98bb<_0x708a0e;},'wlyzn':'.zip','ielKh':'.json'};for(let _0x29e602=0x0;_0x5c7850['IMSIX'](_0x29e602,jsonList['length']);_0x29e602++){let _0x4cd274=jsonList[_0x29e602]['split']('_')[0x0];let _0x3f062c=jsonList[_0x29e602]['split']('_')[0x1];let _0x4a6199=_0x3f062c['includes'](_0x5c7850['wlyzn'])?'':_0x5c7850['ielKh'];const _0x2d2b8b=rootPath+'/'+_0x4cd274+'/'+_0x3f062c+_0x4a6199;const _0x4cd904=!_0x4a6199&&_0x3f062c['split']('.')[0x0];const _0x19bd32=rootPath+'/'+_0x4cd904+'.json';fs['access']({'path':rootPath+'/'+_0x4cd274,'success'(_0x22d7a0){},'fail'(_0x4cd8a3){fs['mkdir']({'dirPath':rootPath+'/'+_0x4cd274,'recursive':!![],'success'(_0xa6ca64){}});},'complete'(){var _0x4a7d97={'siIjR':function(_0x43d2fe,_0x501057){return _0x5c7850['XwWTl'](_0x43d2fe,_0x501057);},'Cdhfj':function(_0x1dd3dc,_0x3118bb,_0x4d91b9,_0x4a37d4){return _0x5c7850['sRNvn'](_0x1dd3dc,_0x3118bb,_0x4d91b9,_0x4a37d4);},'mPnUY':_0x5c7850['cVDlS'],'gLYef':_0x5c7850['RAYLf'],'oRCTU':function(_0x5c556e,_0xe1728b,_0x4f6086,_0x223727){return _0x5c7850['sRNvn'](_0x5c556e,_0xe1728b,_0x4f6086,_0x223727);},'bWBFe':_0x5c7850['WUunJ']};_0x5c7850['afAen'](wxReadFile,_0x2d2b8b)['then'](_0x34d828=>{if(_0x4a6199){_0x5c7850['BEXPL'](hasJsonToGame,_0x3f062c,_0x34d828['data']);}else{_0x5c7850['FTXwd'](wxReadFile,_0x19bd32,_0x4cd904,!![]);}})['catch'](_0x6b6dd8=>{var _0x239019={'Hozfd':function(_0x3d7e96,_0x1d264b,_0x20e127,_0x47a320){return _0x4a7d97['oRCTU'](_0x3d7e96,_0x1d264b,_0x20e127,_0x47a320);},'cWAfj':_0x4a7d97['bWBFe']};wx['downloadFile']({'url':downloadUrl+'/'+_0x4cd274+'/'+_0x3f062c+_0x4a6199,'filePath':_0x2d2b8b,'timeout':0x2710,'success'(_0x5d07a8){if(_0x4a7d97['siIjR'](_0x5d07a8['statusCode'],0xc8)){if(_0x4a6199){_0x4a7d97['Cdhfj'](wxReadFile,_0x2d2b8b,_0x3f062c,!![]);}else{fs['unzip']({'zipFilePath':_0x5d07a8['filePath']||_0x5d07a8['tempFilePath'],'targetPath':rootPath,'success'(_0xe4d394){_0x239019['Hozfd'](wxReadFile,_0x19bd32,_0x4cd904,!![]);},'fail'(_0x49d84f){console['log'](_0x49d84f,_0x239019['cWAfj']);}});}}else{console['error'](_0x4a7d97['mPnUY']);fs['unlink']({'filePath':rootPath+'/'+_0x4cd274+'/'+_0x3f062c+_0x4a6199,'success'(_0x19c280){},'fail'(_0xf64b03){}});}},'fail'(_0x27ea63){console['log'](_0x27ea63,_0x4a7d97['gLYef']);}});});}});}}function intoGame(){var _0x4239ae={'EjiME':function(_0x4d4428,_0x261b28){return _0x4d4428/_0x261b28;},'PPoTA':'正在加载主程序...','gwyCT':'更新提示','xTkyR':'该小游戏有新版本,正在为您下载新版本请稍后!','HdhRD':function(_0x1774a0,_0x2d027e){return _0x1774a0+_0x2d027e;},'IPSCj':'新版本已经准备好，点击确定重启应用!','XjPTq':'新版本下载失败,请检查网络!','DMqXX':function(_0x37f773,_0x197ab2){return _0x37f773(_0x197ab2);},'LYMRl':'./weapp-adapter.js','CDEjL':function(_0x27c90e,_0xb7399a){return _0x27c90e(_0xb7399a);},'WWQPG':'./manifest.js','IORRK':function(_0x58076d,_0x36f3ee){return _0x58076d(_0x36f3ee);},'vopDt':'./egret.wxgame.js','alQFf':function(_0x23bb6c,_0xc1860a){return _0x23bb6c(_0xc1860a);},'MiZzI':'./library/file-util','yTLZd':'Main','hpIwX':'auto','Sznex':'fixedWidth','Dqjyh':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','Jazne':'webgl','hRtzh':'2|3|1|4|0','bRFmm':function(_0xd3edc6){return _0xd3edc6();},'WSlee':'./loading.js','JURQZ':'loading','oReVS':'package1','LQyKA':function(_0x14d2bd,_0x164062){return _0x14d2bd(_0x164062);},'WtMAN':'./package1/game.js'};_0x4239ae['DMqXX'](require,_0x4239ae['LYMRl']);_0x4239ae['CDEjL'](require,_0x4239ae['WWQPG']);_0x4239ae['IORRK'](require,_0x4239ae['vopDt']);const _0x49cd29=_0x4239ae['alQFf'](require,_0x4239ae['MiZzI']);const _0x261e00=null;let _0x433e68={'entryClassName':_0x4239ae['yTLZd'],'orientation':_0x4239ae['hpIwX'],'frameRate':0x3c,'scaleMode':_0x4239ae['Sznex'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x4239ae['Dqjyh'],'showLog':![],'maxTouches':0x2,'renderMode':_0x4239ae['Jazne'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x29b44e){var _0x1c63ad=_0x29b44e['backingStorePixelRatio']||_0x29b44e['webkitBackingStorePixelRatio']||_0x29b44e['mozBackingStorePixelRatio']||_0x29b44e['msBackingStorePixelRatio']||_0x29b44e['oBackingStorePixelRatio']||_0x29b44e['backingStorePixelRatio']||0x1;return _0x4239ae['EjiME'](window['devicePixelRatio']||0x1,_0x1c63ad);}};const _0x3c0773=function(){egret['runEgret'](_0x433e68);};if(wx['loadSubpackage']){var _0x200aab=_0x4239ae['hRtzh']['split']('|'),_0x17d7ae=0x0;while(!![]){switch(_0x200aab[_0x17d7ae++]){case'0':_0x5cefab['onProgressUpdate'](_0x2ab0a0=>{loading['instance']['setProgress'](_0x4239ae['PPoTA'],Math['floor'](_0x2ab0a0['progress']));});continue;case'1':_0x4239ae['bRFmm'](_0x3c0773);continue;case'2':_0x4239ae['alQFf'](require,_0x4239ae['WSlee']);continue;case'3':_0x433e68['entryClassName']=_0x4239ae['JURQZ'];continue;case'4':var _0x5cefab=wx['loadSubpackage']({'name':_0x4239ae['oReVS'],'success':function(_0x134bf6){loading['instance']['setProgress'](_0x4239ae['PPoTA'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;}break;}}else{_0x4239ae['LQyKA'](require,_0x4239ae['WtMAN']);_0x4239ae['bRFmm'](_0x3c0773);}const _0x4d750d=wx['getUpdateManager']();_0x4d750d['onCheckForUpdate'](function(_0x244e7c){if(_0x244e7c['hasUpdate']){wx['showModal']({'title':_0x4239ae['gwyCT'],'content':_0x4239ae['xTkyR'],'showCancel':![],'success':function(_0x23a7b5){}});}});_0x4d750d['onUpdateReady'](function(){wx['showModal']({'title':_0x4239ae['gwyCT'],'content':_0x4239ae['IPSCj'],'showCancel':![],'success':function(_0x1886f0){if(_0x1886f0['confirm']){_0x49cd29['fs']['remove'](_0x4239ae['HdhRD'](wx['env']['USER_DATA_PATH'],'/'));_0x4d750d['applyUpdate']();}}});});_0x4d750d['onUpdateFailed'](function(){wx['showModal']({'title':_0x4239ae['gwyCT'],'content':_0x4239ae['XjPTq'],'showCancel':![],'success':function(_0x3f1359){if(_0x3f1359['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x339cce={'UBJSA':function(_0x1fd2ac,_0x13708d){return _0x1fd2ac(_0x13708d);},'qdUTn':'./tree/js/main'};const _0x26fe9e=_0x339cce['UBJSA'](require,_0x339cce['qdUTn']);new _0x26fe9e['default']();}