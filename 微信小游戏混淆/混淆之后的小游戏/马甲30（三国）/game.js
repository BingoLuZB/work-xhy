const versions='1.0.0';const gameId=0x1e;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj30';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201020_customlib.zip','20201020_main.zip'];judgegame()['then'](()=>{var _0x20d18e={'RLOjG':function(_0x13f55c){return _0x13f55c();}};_0x20d18e['RLOjG'](getJsonToGame);})['catch'](()=>{var _0x503adb={'syRbZ':function(_0x207186){return _0x207186();}};_0x503adb['syRbZ'](intoMiniGame);});function judgegame(){var _0x313fd4={'mfsoN':function(_0x5253c0){return _0x5253c0();},'BzkHK':function(_0xb3bfa4,_0x502397){return _0xb3bfa4==_0x502397;},'pjOMW':'https://gminiapi.xinghe66.cn/mp/index','jAbso':'GET','OEkCL':'json'};return new Promise((_0x49dc6c,_0x3d3842)=>{var _0x4ac560={'BginT':function(_0x4cb98b,_0x30a93f){return _0x313fd4['BzkHK'](_0x4cb98b,_0x30a93f);},'YjTQm':function(_0x1258b7){return _0x313fd4['mfsoN'](_0x1258b7);}};wx['request']({'url':_0x313fd4['pjOMW'],'method':_0x313fd4['jAbso'],'data':{'app_id':gameId,'versions':versions,'format':_0x313fd4['OEkCL']},'success'(_0x10d378){if(_0x4ac560['BginT'](_0x10d378['data']['code'],0xc8)&&_0x4ac560['BginT'](_0x10d378['data']['data']['status'],0x2)){_0x4ac560['YjTQm'](_0x3d3842);}else{_0x4ac560['YjTQm'](_0x49dc6c);}},'fail'(){_0x313fd4['mfsoN'](_0x3d3842);}});});}function hasJsonToGame(_0x9c2f06,_0x3ab1cd){var _0x473a2d={'TxVdl':function(_0x44e691,_0x4ca7f8){return _0x44e691-_0x4ca7f8;},'bQSgI':function(_0x253e57,_0x36f6ad){return _0x253e57==_0x36f6ad;},'juErY':function(_0x4b04d6){return _0x4b04d6();}};console['log'](_0x9c2f06,'');GameGlobal[_0x9c2f06]=JSON['parse'](_0x3ab1cd);let _0x70fad7=_0x473a2d['TxVdl'](jsonList['length'],0x1);if(_0x473a2d['bQSgI'](num,_0x70fad7)){_0x473a2d['juErY'](intoGame);}num++;}function wxReadFile(_0xe988da,_0x53001d,_0xe6d657){var _0x1aeab4={'MNmRt':function(_0x148732,_0x4bc6be){return _0x148732(_0x4bc6be);},'XSxVb':function(_0x409be5,_0x852046,_0x79fc16){return _0x409be5(_0x852046,_0x79fc16);},'eaufZ':'utf-8'};return new Promise((_0x4fa9d9,_0x5559cf)=>{var _0x127b99={'BGRVy':function(_0x57efdd,_0x29f1af,_0x26095d){return _0x1aeab4['XSxVb'](_0x57efdd,_0x29f1af,_0x26095d);},'yRHlE':function(_0x3c27b7,_0x5259dc){return _0x1aeab4['MNmRt'](_0x3c27b7,_0x5259dc);}};fs['readFile']({'filePath':_0xe988da,'encoding':_0x1aeab4['eaufZ'],'success'(_0x56aaca){if(_0xe6d657&&_0x56aaca['data']){_0x127b99['BGRVy'](hasJsonToGame,_0x53001d,_0x56aaca['data']);}_0x127b99['yRHlE'](_0x4fa9d9,_0x56aaca);},'fail'(_0x826cd8){_0x1aeab4['MNmRt'](_0x5559cf,_0x826cd8);}});});}function getJsonToGame(){var _0x4388f0={'zotZv':function(_0x1b7f6c,_0x3449ae,_0x25fb11){return _0x1b7f6c(_0x3449ae,_0x25fb11);},'ZQtRt':function(_0x5d720a,_0x52f491,_0x451086,_0x285068){return _0x5d720a(_0x52f491,_0x451086,_0x285068);},'ZZKiY':function(_0x73b3b0,_0x36256e,_0xc82a5,_0x4f98bc){return _0x73b3b0(_0x36256e,_0xc82a5,_0x4f98bc);},'bTkMC':'==解压失败','khFKH':function(_0x1da8c0,_0x391e83){return _0x1da8c0===_0x391e83;},'rtmZh':'下载失败，文件不存在','MaZQR':'====下载失败','jtJuM':function(_0x3d9c5f,_0x5d18b3){return _0x3d9c5f(_0x5d18b3);},'klDEu':function(_0x15ee30,_0x133d22){return _0x15ee30<_0x133d22;},'CKmwb':'.zip','xqYxU':'.json'};for(let _0x5256df=0x0;_0x4388f0['klDEu'](_0x5256df,jsonList['length']);_0x5256df++){let _0x537fae=jsonList[_0x5256df]['split']('_')[0x0];let _0x2238df=jsonList[_0x5256df]['split']('_')[0x1];let _0x2d1531=_0x2238df['includes'](_0x4388f0['CKmwb'])?'':_0x4388f0['xqYxU'];const _0x2dd18b=rootPath+'/'+_0x537fae+'/'+_0x2238df+_0x2d1531;const _0x25b0bf=!_0x2d1531&&_0x2238df['split']('.')[0x0];const _0x35a448=rootPath+'/'+_0x25b0bf+'.json';fs['access']({'path':rootPath+'/'+_0x537fae,'success'(_0x4f68fa){},'fail'(_0x13ead4){fs['mkdir']({'dirPath':rootPath+'/'+_0x537fae,'recursive':!![],'success'(_0x25bc43){}});},'complete'(){var _0x53ba94={'JXkST':function(_0x25f81d,_0x16cda7){return _0x4388f0['khFKH'](_0x25f81d,_0x16cda7);},'IISEy':function(_0x4b4199,_0x365d21,_0x17940a,_0x3b3226){return _0x4388f0['ZZKiY'](_0x4b4199,_0x365d21,_0x17940a,_0x3b3226);},'evOPK':_0x4388f0['rtmZh'],'wHFvI':_0x4388f0['MaZQR']};_0x4388f0['jtJuM'](wxReadFile,_0x2dd18b)['then'](_0x3b24db=>{if(_0x2d1531){_0x4388f0['zotZv'](hasJsonToGame,_0x2238df,_0x3b24db['data']);}else{_0x4388f0['ZQtRt'](wxReadFile,_0x35a448,_0x25b0bf,!![]);}})['catch'](_0x436822=>{var _0xb403c6={'lUGAz':function(_0x5650b1,_0x2baeb3,_0x2f6cdf,_0x43c94d){return _0x4388f0['ZZKiY'](_0x5650b1,_0x2baeb3,_0x2f6cdf,_0x43c94d);},'ewJbx':_0x4388f0['bTkMC']};wx['downloadFile']({'url':downloadUrl+'/'+_0x537fae+'/'+_0x2238df+_0x2d1531,'timeout':0x2710,'filePath':_0x2dd18b,'success'(_0x15e19c){if(_0x53ba94['JXkST'](_0x15e19c['statusCode'],0xc8)){if(_0x2d1531){_0x53ba94['IISEy'](wxReadFile,_0x2dd18b,_0x2238df,!![]);}else{fs['unzip']({'zipFilePath':_0x15e19c['filePath']||_0x15e19c['tempFilePath'],'targetPath':rootPath,'success'(_0x4ca9e9){_0xb403c6['lUGAz'](wxReadFile,_0x35a448,_0x25b0bf,!![]);},'fail'(_0xd1927e){console['log'](_0xd1927e,_0xb403c6['ewJbx']);}});}}else{console['error'](_0x53ba94['evOPK']);fs['unlink']({'filePath':rootPath+'/'+_0x537fae+'/'+_0x2238df+_0x2d1531,'success'(_0xafc5f8){},'fail'(_0x3cac2f){}});}},'fail'(_0x127814){console['log'](_0x127814,_0x53ba94['wHFvI']);}});});}});}}function intoGame(){var _0x49ee03={'Kdbom':function(_0x1fe53e,_0x8db71d){return _0x1fe53e/_0x8db71d;},'VovcT':'正在加载主程序...','ahKGL':'更新提示','ZXbCk':'该小游戏有新版本,正在为您下载新版本请稍后!','qcccM':function(_0x258bf4,_0x388f29){return _0x258bf4+_0x388f29;},'iUrJo':'新版本已经准备好，点击确定重启应用!','tlYmi':'新版本下载失败,请检查网络!','uecLR':function(_0x127137,_0x338de8){return _0x127137(_0x338de8);},'RMoEj':'./weapp-adapter.js','yunWj':function(_0x32f847,_0x4efe01){return _0x32f847(_0x4efe01);},'gFfwI':'./manifest.js','vXvWF':function(_0x597b1c,_0x53f9f1){return _0x597b1c(_0x53f9f1);},'WSDNv':'./egret.wxgame.js','EVFkI':function(_0x37d689,_0x5d8273){return _0x37d689(_0x5d8273);},'JmfgY':'./library/file-util','vARfi':'Main','OJtsy':'auto','BVtlY':'fixedWidth','MTCEq':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','INCvw':'webgl','YQEFK':'3|0|1|4|2','WipEV':'loading','yKqCL':function(_0x27b9f3){return _0x27b9f3();},'TToLo':'./loading.js','ayKzA':'package1','EfRHw':'./package1/game.js','ckySI':function(_0x4e05af){return _0x4e05af();}};_0x49ee03['uecLR'](require,_0x49ee03['RMoEj']);_0x49ee03['yunWj'](require,_0x49ee03['gFfwI']);_0x49ee03['vXvWF'](require,_0x49ee03['WSDNv']);const _0x462734=_0x49ee03['EVFkI'](require,_0x49ee03['JmfgY']);const _0x30a586=null;let _0x66fdfe={'entryClassName':_0x49ee03['vARfi'],'orientation':_0x49ee03['OJtsy'],'frameRate':0x3c,'scaleMode':_0x49ee03['BVtlY'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x49ee03['MTCEq'],'showLog':![],'maxTouches':0x2,'renderMode':_0x49ee03['INCvw'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x4f16ca){var _0x387482=_0x4f16ca['backingStorePixelRatio']||_0x4f16ca['webkitBackingStorePixelRatio']||_0x4f16ca['mozBackingStorePixelRatio']||_0x4f16ca['msBackingStorePixelRatio']||_0x4f16ca['oBackingStorePixelRatio']||_0x4f16ca['backingStorePixelRatio']||0x1;return _0x49ee03['Kdbom'](window['devicePixelRatio']||0x1,_0x387482);}};const _0x26934a=function(){egret['runEgret'](_0x66fdfe);};if(wx['loadSubpackage']){var _0x31ccdc=_0x49ee03['YQEFK']['split']('|'),_0x32153b=0x0;while(!![]){switch(_0x31ccdc[_0x32153b++]){case'0':_0x66fdfe['entryClassName']=_0x49ee03['WipEV'];continue;case'1':_0x49ee03['yKqCL'](_0x26934a);continue;case'2':_0x44c475['onProgressUpdate'](_0x50c551=>{loading['instance']['setProgress'](_0x49ee03['VovcT'],Math['floor'](_0x50c551['progress']));});continue;case'3':_0x49ee03['EVFkI'](require,_0x49ee03['TToLo']);continue;case'4':var _0x44c475=wx['loadSubpackage']({'name':_0x49ee03['ayKzA'],'success':function(_0x460c62){loading['instance']['setProgress'](_0x49ee03['VovcT'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;}break;}}else{_0x49ee03['EVFkI'](require,_0x49ee03['EfRHw']);_0x49ee03['ckySI'](_0x26934a);}const _0x223b6c=wx['getUpdateManager']();_0x223b6c['onCheckForUpdate'](function(_0x58d5de){if(_0x58d5de['hasUpdate']){wx['showModal']({'title':_0x49ee03['ahKGL'],'content':_0x49ee03['ZXbCk'],'showCancel':![],'success':function(_0x200f35){}});}});_0x223b6c['onUpdateReady'](function(){var _0x4053d3={'ILmRy':function(_0x58e6bf,_0x43f64e){return _0x49ee03['qcccM'](_0x58e6bf,_0x43f64e);}};wx['showModal']({'title':_0x49ee03['ahKGL'],'content':_0x49ee03['iUrJo'],'showCancel':![],'success':function(_0x2e041a){if(_0x2e041a['confirm']){_0x462734['fs']['remove'](_0x4053d3['ILmRy'](wx['env']['USER_DATA_PATH'],'/'));_0x223b6c['applyUpdate']();}}});});_0x223b6c['onUpdateFailed'](function(){wx['showModal']({'title':_0x49ee03['ahKGL'],'content':_0x49ee03['tlYmi'],'showCancel':![],'success':function(_0x6ad393){if(_0x6ad393['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x1d6bd2={'zKUho':function(_0x2864fa,_0x48d0ee){return _0x2864fa(_0x48d0ee);},'mYaKu':'./tree/js/main'};const _0x563172=_0x1d6bd2['zKUho'](require,_0x1d6bd2['mYaKu']);new _0x563172['default']();}