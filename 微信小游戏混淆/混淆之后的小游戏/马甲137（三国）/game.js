const versions='1.0.0';const gameId=0x89;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201118_customlib.zip','20201118_main.zip'];judgegame()['then'](()=>{var _0x36a091={'DuxaB':function(_0x5161e3){return _0x5161e3();}};_0x36a091['DuxaB'](getJsonToGame);})['catch'](()=>{var _0x375e1a={'rUKbn':function(_0x498f00){return _0x498f00();}};_0x375e1a['rUKbn'](intoMiniGame);});function judgegame(){var _0x47c113={'IFnFZ':function(_0x294c27,_0x29ba55){return _0x294c27==_0x29ba55;},'KxLuw':function(_0x4cbacb){return _0x4cbacb();},'lnlOQ':'https://gminiapi.xinghe66.cn/mp/index','gOKBB':'GET','xBlXD':'json'};return new Promise((_0x5265ea,_0x2472ea)=>{var _0x4c2086={'cJpoB':function(_0x58dd57,_0x47ad19){return _0x47c113['IFnFZ'](_0x58dd57,_0x47ad19);},'qgPST':function(_0x52af37){return _0x47c113['KxLuw'](_0x52af37);},'zopHx':function(_0x48ff21){return _0x47c113['KxLuw'](_0x48ff21);}};wx['request']({'url':_0x47c113['lnlOQ'],'method':_0x47c113['gOKBB'],'data':{'app_id':gameId,'versions':versions,'format':_0x47c113['xBlXD']},'success'(_0xc2fb08){if(_0x4c2086['cJpoB'](_0xc2fb08['data']['code'],0xc8)&&_0x4c2086['cJpoB'](_0xc2fb08['data']['data']['status'],0x2)){_0x4c2086['qgPST'](_0x2472ea);}else{_0x4c2086['zopHx'](_0x5265ea);}},'fail'(){_0x4c2086['zopHx'](_0x2472ea);}});});}function hasJsonToGame(_0x224b6f,_0x5f2660){var _0x120256={'wkluC':function(_0x120620,_0x62dc55){return _0x120620-_0x62dc55;},'HNpKP':function(_0x1709aa,_0x45e8bd){return _0x1709aa==_0x45e8bd;},'IcJFt':function(_0x2f956e){return _0x2f956e();}};console['log'](_0x224b6f,'');GameGlobal[_0x224b6f]=JSON['parse'](_0x5f2660);let _0x4338c2=_0x120256['wkluC'](jsonList['length'],0x1);if(_0x120256['HNpKP'](num,_0x4338c2)){_0x120256['IcJFt'](intoGame);}num++;}function wxReadFile(_0xb15f4b,_0x5f57d6,_0x51407d){var _0x20e9b4={'eakZT':function(_0x314698,_0x5b526b,_0x39aa6f){return _0x314698(_0x5b526b,_0x39aa6f);},'ctXCW':function(_0x59f6bb,_0x426ae3){return _0x59f6bb(_0x426ae3);},'vctPV':'utf-8'};return new Promise((_0x5aaf27,_0x4f840b)=>{var _0xb418c8={'FQrMT':function(_0x3e3446,_0x3db911){return _0x20e9b4['ctXCW'](_0x3e3446,_0x3db911);}};fs['readFile']({'filePath':_0xb15f4b,'encoding':_0x20e9b4['vctPV'],'success'(_0x5552ca){if(_0x51407d&&_0x5552ca['data']){_0x20e9b4['eakZT'](hasJsonToGame,_0x5f57d6,_0x5552ca['data']);}_0x20e9b4['ctXCW'](_0x5aaf27,_0x5552ca);},'fail'(_0x13f11b){_0xb418c8['FQrMT'](_0x4f840b,_0x13f11b);}});});}function getJsonToGame(){var _0x3f866c={'bMdKx':function(_0x5800cf,_0x3e8aba,_0x40b865){return _0x5800cf(_0x3e8aba,_0x40b865);},'lbofG':function(_0x51e575,_0x4f8ee8,_0x373550,_0x5ada56){return _0x51e575(_0x4f8ee8,_0x373550,_0x5ada56);},'ggxID':function(_0xc3dc4,_0xc9de90,_0x4cd906,_0x2d961a){return _0xc3dc4(_0xc9de90,_0x4cd906,_0x2d961a);},'jjlOp':'==解压失败','FPbrN':function(_0x499d0b,_0x8838a5){return _0x499d0b===_0x8838a5;},'IasqW':'下载失败，文件不存在','DgBCY':'====下载失败','RhyMx':function(_0x2c429b,_0x72a45){return _0x2c429b(_0x72a45);},'WBArx':function(_0x3bd617,_0x79e725){return _0x3bd617<_0x79e725;},'UlLZJ':'.zip','jdwIy':'.json'};for(let _0x214fe3=0x0;_0x3f866c['WBArx'](_0x214fe3,jsonList['length']);_0x214fe3++){let _0x3bc58f=jsonList[_0x214fe3]['split']('_')[0x0];let _0x307d7a=jsonList[_0x214fe3]['split']('_')[0x1];let _0x2c2338=_0x307d7a['includes'](_0x3f866c['UlLZJ'])?'':_0x3f866c['jdwIy'];const _0x51fe6c=rootPath+'/'+_0x3bc58f+'/'+_0x307d7a+_0x2c2338;const _0x474160=!_0x2c2338&&_0x307d7a['split']('.')[0x0];const _0x401861=rootPath+'/'+_0x474160+'.json';fs['access']({'path':rootPath+'/'+_0x3bc58f,'success'(_0x44696f){},'fail'(_0x33c772){fs['mkdir']({'dirPath':rootPath+'/'+_0x3bc58f,'recursive':!![],'success'(_0x2bf65d){}});},'complete'(){var _0x21f156={'gpFcd':_0x3f866c['jjlOp'],'kPHjN':function(_0x4b1b9d,_0x23f4fb){return _0x3f866c['FPbrN'](_0x4b1b9d,_0x23f4fb);},'bNRuf':function(_0xb84fa8,_0x36270d,_0x5d3d6d,_0x4c1f10){return _0x3f866c['ggxID'](_0xb84fa8,_0x36270d,_0x5d3d6d,_0x4c1f10);},'Abkdi':_0x3f866c['IasqW'],'yHPuD':_0x3f866c['DgBCY']};_0x3f866c['RhyMx'](wxReadFile,_0x51fe6c)['then'](_0x3aa845=>{if(_0x2c2338){_0x3f866c['bMdKx'](hasJsonToGame,_0x307d7a,_0x3aa845['data']);}else{_0x3f866c['lbofG'](wxReadFile,_0x401861,_0x474160,!![]);}})['catch'](_0x46d310=>{var _0x56acb5={'tGIdW':function(_0x32d54b,_0xd613b6,_0x3027f7,_0x51fcb4){return _0x3f866c['ggxID'](_0x32d54b,_0xd613b6,_0x3027f7,_0x51fcb4);}};wx['downloadFile']({'url':downloadUrl+'/'+_0x3bc58f+'/'+_0x307d7a+_0x2c2338,'filePath':_0x51fe6c,'timeout':0x2710,'success'(_0x1f4c49){var _0x374139={'VVyEo':_0x21f156['gpFcd']};if(_0x21f156['kPHjN'](_0x1f4c49['statusCode'],0xc8)){if(_0x2c2338){_0x21f156['bNRuf'](wxReadFile,_0x51fe6c,_0x307d7a,!![]);}else{fs['unzip']({'zipFilePath':_0x1f4c49['filePath']||_0x1f4c49['tempFilePath'],'targetPath':rootPath,'success'(_0x23d565){_0x56acb5['tGIdW'](wxReadFile,_0x401861,_0x474160,!![]);},'fail'(_0x53b36e){console['log'](_0x53b36e,_0x374139['VVyEo']);}});}}else{console['error'](_0x21f156['Abkdi']);fs['unlink']({'filePath':rootPath+'/'+_0x3bc58f+'/'+_0x307d7a+_0x2c2338,'success'(_0x49c9d4){},'fail'(_0x3bdd57){}});}},'fail'(_0x58abf6){console['log'](_0x58abf6,_0x21f156['yHPuD']);}});});}});}}function intoGame(){var _0x12ad0e={'eAGKJ':function(_0x32f46d,_0x5aaf96){return _0x32f46d/_0x5aaf96;},'YeIYZ':'正在加载主程序...','Kokps':'更新提示','cXXst':'该小游戏有新版本,正在为您下载新版本请稍后!','mIlSm':function(_0x483174,_0x39e408){return _0x483174+_0x39e408;},'GmrYj':'新版本已经准备好，点击确定重启应用!','wSsIc':'新版本下载失败,请检查网络!','ygsPD':function(_0x7e52b9,_0xa40f94){return _0x7e52b9(_0xa40f94);},'wuxUO':'./weapp-adapter.js','tnSeG':function(_0x37b145,_0x233791){return _0x37b145(_0x233791);},'AeKwj':'./manifest.js','KdfCx':'./egret.wxgame.js','mFaFm':function(_0x59c7bc,_0x3814bf){return _0x59c7bc(_0x3814bf);},'FUcgS':'./library/file-util','NtuXH':'Main','rBTRc':'auto','GMvYB':'fixedWidth','xopRn':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','RWVSQ':'webgl','IoepK':'3|2|0|4|1','TtPrR':function(_0x2022da){return _0x2022da();},'PxfyY':'loading','IeQGu':function(_0x3553c1,_0x7f60ae){return _0x3553c1(_0x7f60ae);},'WaWDr':'./loading.js','aduPv':'package1','pWEyJ':'./package1/game.js'};_0x12ad0e['ygsPD'](require,_0x12ad0e['wuxUO']);_0x12ad0e['tnSeG'](require,_0x12ad0e['AeKwj']);_0x12ad0e['tnSeG'](require,_0x12ad0e['KdfCx']);const _0x30eca4=_0x12ad0e['mFaFm'](require,_0x12ad0e['FUcgS']);const _0x4b5d2f=null;let _0x2b7cbf={'entryClassName':_0x12ad0e['NtuXH'],'orientation':_0x12ad0e['rBTRc'],'frameRate':0x3c,'scaleMode':_0x12ad0e['GMvYB'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x12ad0e['xopRn'],'showLog':![],'maxTouches':0x2,'renderMode':_0x12ad0e['RWVSQ'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x1c451d){var _0x5daa03=_0x1c451d['backingStorePixelRatio']||_0x1c451d['webkitBackingStorePixelRatio']||_0x1c451d['mozBackingStorePixelRatio']||_0x1c451d['msBackingStorePixelRatio']||_0x1c451d['oBackingStorePixelRatio']||_0x1c451d['backingStorePixelRatio']||0x1;return _0x12ad0e['eAGKJ'](window['devicePixelRatio']||0x1,_0x5daa03);}};const _0x5d94f6=function(){egret['runEgret'](_0x2b7cbf);};if(wx['loadSubpackage']){var _0x67603=_0x12ad0e['IoepK']['split']('|'),_0x390a5f=0x0;while(!![]){switch(_0x67603[_0x390a5f++]){case'0':_0x12ad0e['TtPrR'](_0x5d94f6);continue;case'1':_0x180e06['onProgressUpdate'](_0x107c57=>{loading['instance']['setProgress'](_0x12ad0e['YeIYZ'],Math['floor'](_0x107c57['progress']));});continue;case'2':_0x2b7cbf['entryClassName']=_0x12ad0e['PxfyY'];continue;case'3':_0x12ad0e['IeQGu'](require,_0x12ad0e['WaWDr']);continue;case'4':var _0x180e06=wx['loadSubpackage']({'name':_0x12ad0e['aduPv'],'success':function(_0x10ea92){loading['instance']['setProgress'](_0x12ad0e['YeIYZ'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;}break;}}else{_0x12ad0e['IeQGu'](require,_0x12ad0e['pWEyJ']);_0x12ad0e['TtPrR'](_0x5d94f6);}const _0x3d67f9=wx['getUpdateManager']();_0x3d67f9['onCheckForUpdate'](function(_0x227813){if(_0x227813['hasUpdate']){wx['showModal']({'title':_0x12ad0e['Kokps'],'content':_0x12ad0e['cXXst'],'showCancel':![],'success':function(_0x43f2ee){}});}});_0x3d67f9['onUpdateReady'](function(){wx['showModal']({'title':_0x12ad0e['Kokps'],'content':_0x12ad0e['GmrYj'],'showCancel':![],'success':function(_0x3bde7a){if(_0x3bde7a['confirm']){_0x30eca4['fs']['remove'](_0x12ad0e['mIlSm'](wx['env']['USER_DATA_PATH'],'/'));_0x3d67f9['applyUpdate']();}}});});_0x3d67f9['onUpdateFailed'](function(){wx['showModal']({'title':_0x12ad0e['Kokps'],'content':_0x12ad0e['wSsIc'],'showCancel':![],'success':function(_0x99242d){if(_0x99242d['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0xc39b5e={'kUrNW':function(_0x4e2ce9,_0x3afac8){return _0x4e2ce9(_0x3afac8);},'fbNgp':'./tree/js/main'};const _0x5be6b0=_0xc39b5e['kUrNW'](require,_0xc39b5e['fbNgp']);new _0x5be6b0['default']();}