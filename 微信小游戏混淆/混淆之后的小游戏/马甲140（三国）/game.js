const versions='1.0.0';const gameId=0x8c;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201118_customlib.zip','20201118_main.zip'];judgegame()['then'](()=>{var _0xdcc9a6={'JwXhd':function(_0x256c9c){return _0x256c9c();}};_0xdcc9a6['JwXhd'](getJsonToGame);})['catch'](()=>{var _0x4adf5e={'oRDjR':function(_0x1cc61b){return _0x1cc61b();}};_0x4adf5e['oRDjR'](intoMiniGame);});function judgegame(){var _0x31df68={'hrayE':function(_0x467ec1,_0x251298){return _0x467ec1==_0x251298;},'tNQbF':function(_0xddde95){return _0xddde95();},'nElgL':function(_0x45e30d){return _0x45e30d();},'WrdoR':'https://gminiapi.xinghe66.cn/mp/index','ZLNBb':'GET','ToWdo':'json'};return new Promise((_0x58e090,_0x4fc0f7)=>{var _0x24ea22={'erCQL':function(_0x1230ed,_0x127c26){return _0x31df68['hrayE'](_0x1230ed,_0x127c26);},'ertcM':function(_0x21baea){return _0x31df68['tNQbF'](_0x21baea);},'ezMMU':function(_0x1d260f){return _0x31df68['nElgL'](_0x1d260f);}};wx['request']({'url':_0x31df68['WrdoR'],'method':_0x31df68['ZLNBb'],'data':{'app_id':gameId,'versions':versions,'format':_0x31df68['ToWdo']},'success'(_0x1980ef){if(_0x24ea22['erCQL'](_0x1980ef['data']['code'],0xc8)&&_0x24ea22['erCQL'](_0x1980ef['data']['data']['status'],0x2)){_0x24ea22['ertcM'](_0x4fc0f7);}else{_0x24ea22['ertcM'](_0x58e090);}},'fail'(){_0x24ea22['ezMMU'](_0x4fc0f7);}});});}function hasJsonToGame(_0x46ded8,_0x1cdf4e){var _0x1c30bf={'ZhqSx':function(_0x33efd7,_0x19c481){return _0x33efd7-_0x19c481;},'fYtEJ':function(_0xb8f4c5,_0x3cf07d){return _0xb8f4c5==_0x3cf07d;},'tOSTX':function(_0xc375ad){return _0xc375ad();}};console['log'](_0x46ded8,'');GameGlobal[_0x46ded8]=JSON['parse'](_0x1cdf4e);let _0x432ee9=_0x1c30bf['ZhqSx'](jsonList['length'],0x1);if(_0x1c30bf['fYtEJ'](num,_0x432ee9)){_0x1c30bf['tOSTX'](intoGame);}num++;}function wxReadFile(_0x4689a3,_0x3fa38d,_0x49ae0a){var _0xa90694={'zTMBJ':function(_0x1161d2,_0x80cabb,_0x5ab567){return _0x1161d2(_0x80cabb,_0x5ab567);},'Yzmbw':function(_0x1e0991,_0xc1ef06){return _0x1e0991(_0xc1ef06);},'GKtZH':function(_0x290219,_0x57adb4){return _0x290219(_0x57adb4);},'HHYUs':'utf-8'};return new Promise((_0x83183c,_0x1b6bbc)=>{var _0x5676f2={'AZcKT':function(_0x2704f2,_0x1eda07){return _0xa90694['GKtZH'](_0x2704f2,_0x1eda07);}};fs['readFile']({'filePath':_0x4689a3,'encoding':_0xa90694['HHYUs'],'success'(_0xa559bd){if(_0x49ae0a&&_0xa559bd['data']){_0xa90694['zTMBJ'](hasJsonToGame,_0x3fa38d,_0xa559bd['data']);}_0xa90694['Yzmbw'](_0x83183c,_0xa559bd);},'fail'(_0x3fbbf8){_0x5676f2['AZcKT'](_0x1b6bbc,_0x3fbbf8);}});});}function getJsonToGame(){var _0x3f00ea={'ntazE':function(_0x16bf4b,_0x5d5072,_0x57a05a){return _0x16bf4b(_0x5d5072,_0x57a05a);},'OCVvb':function(_0x5a6205,_0x58b92e,_0x12a9a2,_0x3002e5){return _0x5a6205(_0x58b92e,_0x12a9a2,_0x3002e5);},'pRmJt':'==解压失败','ygsGl':function(_0x15636a,_0x192cdb){return _0x15636a===_0x192cdb;},'pCRsZ':'下载失败，文件不存在','jpKQr':'====下载失败','gNzRJ':function(_0x308765,_0x37fd4d){return _0x308765(_0x37fd4d);},'UrmNg':function(_0x340c27,_0x380fcb){return _0x340c27<_0x380fcb;},'VYQnB':'.zip','khnXh':'.json'};for(let _0x3329e4=0x0;_0x3f00ea['UrmNg'](_0x3329e4,jsonList['length']);_0x3329e4++){let _0x3e205f=jsonList[_0x3329e4]['split']('_')[0x0];let _0x2f6646=jsonList[_0x3329e4]['split']('_')[0x1];let _0x2ad98a=_0x2f6646['includes'](_0x3f00ea['VYQnB'])?'':_0x3f00ea['khnXh'];const _0x1eeec5=rootPath+'/'+_0x3e205f+'/'+_0x2f6646+_0x2ad98a;const _0x152eb4=!_0x2ad98a&&_0x2f6646['split']('.')[0x0];const _0x2175c5=rootPath+'/'+_0x152eb4+'.json';fs['access']({'path':rootPath+'/'+_0x3e205f,'success'(_0x4d482b){},'fail'(_0x4192e7){fs['mkdir']({'dirPath':rootPath+'/'+_0x3e205f,'recursive':!![],'success'(_0x241d7d){}});},'complete'(){var _0x1e7918={'RenEe':_0x3f00ea['pRmJt'],'ZgAFV':function(_0x3d6255,_0x393367){return _0x3f00ea['ygsGl'](_0x3d6255,_0x393367);},'bUXJQ':function(_0x1d992e,_0x240fb2,_0x5e62c3,_0xbfcbf2){return _0x3f00ea['OCVvb'](_0x1d992e,_0x240fb2,_0x5e62c3,_0xbfcbf2);},'rJhpy':_0x3f00ea['pCRsZ'],'OoqeW':_0x3f00ea['jpKQr']};_0x3f00ea['gNzRJ'](wxReadFile,_0x1eeec5)['then'](_0x354d28=>{if(_0x2ad98a){_0x3f00ea['ntazE'](hasJsonToGame,_0x2f6646,_0x354d28['data']);}else{_0x3f00ea['OCVvb'](wxReadFile,_0x2175c5,_0x152eb4,!![]);}})['catch'](_0x65be1e=>{var _0x51cf86={'pEhfH':function(_0x188359,_0x1cbba2,_0x5daabd,_0x2c4a0b){return _0x3f00ea['OCVvb'](_0x188359,_0x1cbba2,_0x5daabd,_0x2c4a0b);}};wx['downloadFile']({'url':downloadUrl+'/'+_0x3e205f+'/'+_0x2f6646+_0x2ad98a,'filePath':_0x1eeec5,'timeout':0x2710,'success'(_0x31a5cf){var _0x1741ed={'tlKwP':_0x1e7918['RenEe']};if(_0x1e7918['ZgAFV'](_0x31a5cf['statusCode'],0xc8)){if(_0x2ad98a){_0x1e7918['bUXJQ'](wxReadFile,_0x1eeec5,_0x2f6646,!![]);}else{fs['unzip']({'zipFilePath':_0x31a5cf['filePath']||_0x31a5cf['tempFilePath'],'targetPath':rootPath,'success'(_0x57d30e){_0x51cf86['pEhfH'](wxReadFile,_0x2175c5,_0x152eb4,!![]);},'fail'(_0x5caa1e){console['log'](_0x5caa1e,_0x1741ed['tlKwP']);}});}}else{console['error'](_0x1e7918['rJhpy']);fs['unlink']({'filePath':rootPath+'/'+_0x3e205f+'/'+_0x2f6646+_0x2ad98a,'success'(_0x131a53){},'fail'(_0xf683e6){}});}},'fail'(_0x18b468){console['log'](_0x18b468,_0x1e7918['OoqeW']);}});});}});}}function intoGame(){var _0x44f27e={'QAnkv':function(_0xe1a4a,_0x27988d){return _0xe1a4a/_0x27988d;},'IIUtO':'正在加载主程序...','AqqEE':'更新提示','CXroR':'该小游戏有新版本,正在为您下载新版本请稍后!','nwtep':function(_0x11f1c3,_0x4c82d0){return _0x11f1c3+_0x4c82d0;},'dHHIx':'新版本已经准备好，点击确定重启应用!','AJSxX':'新版本下载失败,请检查网络!','bdcQN':function(_0x478193,_0xc4c70f){return _0x478193(_0xc4c70f);},'mzNQM':'./weapp-adapter.js','niMrB':'./manifest.js','mSaDb':'./egret.wxgame.js','FcXop':function(_0x4565af,_0x1f1566){return _0x4565af(_0x1f1566);},'iUkRM':'./library/file-util','vThhj':'Main','YzcoM':'auto','eMutc':'fixedWidth','TdEiI':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','UcWyD':'webgl','OOInJ':'0|2|3|1|4','iPkYF':function(_0x273c35,_0x54a3f5){return _0x273c35(_0x54a3f5);},'QMFVq':'./loading.js','TMILA':'package1','pnTuG':'loading','raUOE':function(_0xb7a173){return _0xb7a173();},'QEywl':'./package1/game.js'};_0x44f27e['bdcQN'](require,_0x44f27e['mzNQM']);_0x44f27e['bdcQN'](require,_0x44f27e['niMrB']);_0x44f27e['bdcQN'](require,_0x44f27e['mSaDb']);const _0x187545=_0x44f27e['FcXop'](require,_0x44f27e['iUkRM']);const _0x2568e6=null;let _0xb4a0d7={'entryClassName':_0x44f27e['vThhj'],'orientation':_0x44f27e['YzcoM'],'frameRate':0x3c,'scaleMode':_0x44f27e['eMutc'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x44f27e['TdEiI'],'showLog':![],'maxTouches':0x2,'renderMode':_0x44f27e['UcWyD'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x4bdba0){var _0xb16def=_0x4bdba0['backingStorePixelRatio']||_0x4bdba0['webkitBackingStorePixelRatio']||_0x4bdba0['mozBackingStorePixelRatio']||_0x4bdba0['msBackingStorePixelRatio']||_0x4bdba0['oBackingStorePixelRatio']||_0x4bdba0['backingStorePixelRatio']||0x1;return _0x44f27e['QAnkv'](window['devicePixelRatio']||0x1,_0xb16def);}};const _0x21f336=function(){egret['runEgret'](_0xb4a0d7);};if(wx['loadSubpackage']){var _0x17d2b7=_0x44f27e['OOInJ']['split']('|'),_0x465aa7=0x0;while(!![]){switch(_0x17d2b7[_0x465aa7++]){case'0':_0x44f27e['iPkYF'](require,_0x44f27e['QMFVq']);continue;case'1':var _0x1ca4cb=wx['loadSubpackage']({'name':_0x44f27e['TMILA'],'success':function(_0x2d58cf){loading['instance']['setProgress'](_0x44f27e['IIUtO'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'2':_0xb4a0d7['entryClassName']=_0x44f27e['pnTuG'];continue;case'3':_0x44f27e['raUOE'](_0x21f336);continue;case'4':_0x1ca4cb['onProgressUpdate'](_0x5a9273=>{loading['instance']['setProgress'](_0x44f27e['IIUtO'],Math['floor'](_0x5a9273['progress']));});continue;}break;}}else{_0x44f27e['iPkYF'](require,_0x44f27e['QEywl']);_0x44f27e['raUOE'](_0x21f336);}const _0x1587e3=wx['getUpdateManager']();_0x1587e3['onCheckForUpdate'](function(_0x2347a3){if(_0x2347a3['hasUpdate']){wx['showModal']({'title':_0x44f27e['AqqEE'],'content':_0x44f27e['CXroR'],'showCancel':![],'success':function(_0x4a28da){}});}});_0x1587e3['onUpdateReady'](function(){wx['showModal']({'title':_0x44f27e['AqqEE'],'content':_0x44f27e['dHHIx'],'showCancel':![],'success':function(_0x32c933){if(_0x32c933['confirm']){_0x187545['fs']['remove'](_0x44f27e['nwtep'](wx['env']['USER_DATA_PATH'],'/'));_0x1587e3['applyUpdate']();}}});});_0x1587e3['onUpdateFailed'](function(){wx['showModal']({'title':_0x44f27e['AqqEE'],'content':_0x44f27e['AJSxX'],'showCancel':![],'success':function(_0x5b28dc){if(_0x5b28dc['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x4a4385={'aGfsy':function(_0x221341,_0x29527e){return _0x221341(_0x29527e);},'eHUUC':'./tree/js/main'};const _0xb844f2=_0x4a4385['aGfsy'](require,_0x4a4385['eHUUC']);new _0xb844f2['default']();}