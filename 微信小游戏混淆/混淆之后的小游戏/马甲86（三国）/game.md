const versions='1.0.0';const gameId=0x56;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201116_customlib.zip','20201116_main.zip'];judgegame()['then'](()=>{var _0x601c0a={'vdUdN':function(_0x44dffe){return _0x44dffe();}};_0x601c0a['vdUdN'](getJsonToGame);})['catch'](()=>{var _0x18a2a9={'JYMKj':function(_0x47482c){return _0x47482c();}};_0x18a2a9['JYMKj'](intoMiniGame);});function judgegame(){var _0x3a2452={'HmuRf':function(_0x1e59db,_0x4a076e){return _0x1e59db==_0x4a076e;},'JHNlY':function(_0xbacfea){return _0xbacfea();},'JbJuu':'https://gminiapi.xinghe66.cn/mp/index','vGNpX':'GET','fGhJn':'json'};return new Promise((_0x15bc23,_0x1a52c3)=>{var _0x35fcdc={'XiOvX':function(_0x14437d,_0x520ae0){return _0x3a2452['HmuRf'](_0x14437d,_0x520ae0);},'iNglT':function(_0x4959b6){return _0x3a2452['JHNlY'](_0x4959b6);}};wx['request']({'url':_0x3a2452['JbJuu'],'method':_0x3a2452['vGNpX'],'data':{'app_id':gameId,'versions':versions,'format':_0x3a2452['fGhJn']},'success'(_0x52b9ff){if(_0x35fcdc['XiOvX'](_0x52b9ff['data']['code'],0xc8)&&_0x35fcdc['XiOvX'](_0x52b9ff['data']['data']['status'],0x2)){_0x35fcdc['iNglT'](_0x1a52c3);}else{_0x35fcdc['iNglT'](_0x15bc23);}},'fail'(){_0x35fcdc['iNglT'](_0x1a52c3);}});});}function hasJsonToGame(_0x1bd5ec,_0x19413e){var _0x334272={'srBRJ':function(_0x59ea4e,_0x37f57d){return _0x59ea4e-_0x37f57d;},'oiArm':function(_0x184b17,_0x454aa9){return _0x184b17==_0x454aa9;},'tmhhw':function(_0x55ce91){return _0x55ce91();}};console['log'](_0x1bd5ec,'');GameGlobal[_0x1bd5ec]=JSON['parse'](_0x19413e);let _0x25672e=_0x334272['srBRJ'](jsonList['length'],0x1);if(_0x334272['oiArm'](num,_0x25672e)){_0x334272['tmhhw'](intoGame);}num++;}function wxReadFile(_0x492958,_0x5efd46,_0x302316){var _0x4f2c9={'PyQWS':function(_0x1a00b3,_0x3ef54a,_0x3b4b13){return _0x1a00b3(_0x3ef54a,_0x3b4b13);},'AKwdW':function(_0x1f645f,_0x390947){return _0x1f645f(_0x390947);},'IYunX':function(_0x33a447,_0x5c5527){return _0x33a447(_0x5c5527);},'OlFkD':'utf-8'};return new Promise((_0x4c5d2a,_0x16cb8a)=>{var _0x7caea6={'jzJsL':function(_0x25bcb1,_0xd5ecc7){return _0x4f2c9['IYunX'](_0x25bcb1,_0xd5ecc7);}};fs['readFile']({'filePath':_0x492958,'encoding':_0x4f2c9['OlFkD'],'success'(_0x3457b8){if(_0x302316&&_0x3457b8['data']){_0x4f2c9['PyQWS'](hasJsonToGame,_0x5efd46,_0x3457b8['data']);}_0x4f2c9['AKwdW'](_0x4c5d2a,_0x3457b8);},'fail'(_0x102d6a){_0x7caea6['jzJsL'](_0x16cb8a,_0x102d6a);}});});}function getJsonToGame(){var _0x5085bb={'epurw':function(_0x369b6a,_0x592907,_0x39d062){return _0x369b6a(_0x592907,_0x39d062);},'CfGoL':function(_0x1ac31a,_0xdaa30c,_0x2f1261,_0x550106){return _0x1ac31a(_0xdaa30c,_0x2f1261,_0x550106);},'CEDjc':'==解压失败','FfmXX':function(_0x34aca0,_0x5c977d,_0x2c0dbc,_0xd924aa){return _0x34aca0(_0x5c977d,_0x2c0dbc,_0xd924aa);},'gaSDR':function(_0x4ca9da,_0x13170d){return _0x4ca9da===_0x13170d;},'rOsom':function(_0x29a6a4,_0x350098,_0x2e22b3,_0x3cbde7){return _0x29a6a4(_0x350098,_0x2e22b3,_0x3cbde7);},'HVCyM':'下载失败，文件不存在','EwbgT':'====下载失败','BaUsw':function(_0x6760a,_0x55a7a9){return _0x6760a(_0x55a7a9);},'KeUGj':function(_0x160a12,_0x25cbdd){return _0x160a12<_0x25cbdd;},'lHIMf':'.zip','fMEFA':'.json'};for(let _0x35d5d5=0x0;_0x5085bb['KeUGj'](_0x35d5d5,jsonList['length']);_0x35d5d5++){let _0x239504=jsonList[_0x35d5d5]['split']('_')[0x0];let _0x473f9e=jsonList[_0x35d5d5]['split']('_')[0x1];let _0x8db347=_0x473f9e['includes'](_0x5085bb['lHIMf'])?'':_0x5085bb['fMEFA'];const _0x20f1a0=rootPath+'/'+_0x239504+'/'+_0x473f9e+_0x8db347;const _0x63d098=!_0x8db347&&_0x473f9e['split']('.')[0x0];const _0x546086=rootPath+'/'+_0x63d098+'.json';fs['access']({'path':rootPath+'/'+_0x239504,'success'(_0x2e91f8){},'fail'(_0x337891){fs['mkdir']({'dirPath':rootPath+'/'+_0x239504,'recursive':!![],'success'(_0x309948){}});},'complete'(){var _0x5bbfe8={'pBFxC':function(_0x23f00b,_0x306b88,_0x487217,_0x3e0789){return _0x5085bb['FfmXX'](_0x23f00b,_0x306b88,_0x487217,_0x3e0789);},'hegrR':function(_0x2d3be9,_0x103022){return _0x5085bb['gaSDR'](_0x2d3be9,_0x103022);},'iihAu':function(_0x4d88eb,_0x2b9759,_0x1c3f28,_0x6e96aa){return _0x5085bb['rOsom'](_0x4d88eb,_0x2b9759,_0x1c3f28,_0x6e96aa);},'kEZXq':_0x5085bb['HVCyM'],'WQzgG':_0x5085bb['EwbgT']};_0x5085bb['BaUsw'](wxReadFile,_0x20f1a0)['then'](_0xf4af92=>{if(_0x8db347){_0x5085bb['epurw'](hasJsonToGame,_0x473f9e,_0xf4af92['data']);}else{_0x5085bb['CfGoL'](wxReadFile,_0x546086,_0x63d098,!![]);}})['catch'](_0xd9a14=>{var _0x42f515={'WYvVT':_0x5085bb['CEDjc']};wx['downloadFile']({'url':downloadUrl+'/'+_0x239504+'/'+_0x473f9e+_0x8db347,'filePath':_0x20f1a0,'timeout':0x2710,'success'(_0x3a9829){var _0x2af812={'Fzdot':function(_0x51920e,_0x490112,_0x1581df,_0x2a85cf){return _0x5bbfe8['pBFxC'](_0x51920e,_0x490112,_0x1581df,_0x2a85cf);}};if(_0x5bbfe8['hegrR'](_0x3a9829['statusCode'],0xc8)){if(_0x8db347){_0x5bbfe8['iihAu'](wxReadFile,_0x20f1a0,_0x473f9e,!![]);}else{fs['unzip']({'zipFilePath':_0x3a9829['filePath']||_0x3a9829['tempFilePath'],'targetPath':rootPath,'success'(_0x3ed92e){_0x2af812['Fzdot'](wxReadFile,_0x546086,_0x63d098,!![]);},'fail'(_0x1ac6da){console['log'](_0x1ac6da,_0x42f515['WYvVT']);}});}}else{console['error'](_0x5bbfe8['kEZXq']);fs['unlink']({'filePath':rootPath+'/'+_0x239504+'/'+_0x473f9e+_0x8db347,'success'(_0x52be27){},'fail'(_0xf13ec7){}});}},'fail'(_0x407c1d){console['log'](_0x407c1d,_0x5bbfe8['WQzgG']);}});});}});}}function intoGame(){var _0x5e2b14={'ertyy':function(_0x5559a7,_0x2ff48e){return _0x5559a7/_0x2ff48e;},'SRjSm':'正在加载主程序...','dlokN':'更新提示','aLsAk':'该小游戏有新版本,正在为您下载新版本请稍后!','tohXh':function(_0xa8f26b,_0x2fab81){return _0xa8f26b+_0x2fab81;},'ToVYF':'新版本已经准备好，点击确定重启应用!','VUBAI':'新版本下载失败,请检查网络!','ijWmb':function(_0xbdcf11,_0x1ae3a8){return _0xbdcf11(_0x1ae3a8);},'MvZTg':'./weapp-adapter.js','ldzbQ':function(_0x4346da,_0x46d3da){return _0x4346da(_0x46d3da);},'KtLZv':'./manifest.js','aPRlc':function(_0x4e3bcb,_0x4eaaa4){return _0x4e3bcb(_0x4eaaa4);},'ERvda':'./egret.wxgame.js','tiAoQ':'./library/file-util','vGesD':'Main','OkCSd':'auto','GXvNy':'fixedWidth','OMGTd':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','xLduD':'webgl','SwgeT':'1|3|4|2|0','Dypih':function(_0x59fa14,_0x184640){return _0x59fa14(_0x184640);},'noDjU':'./loading.js','VYBAz':'package1','oSRVx':'loading','jGaWf':function(_0x19039f){return _0x19039f();},'ZUEUG':'./package1/game.js'};_0x5e2b14['ijWmb'](require,_0x5e2b14['MvZTg']);_0x5e2b14['ldzbQ'](require,_0x5e2b14['KtLZv']);_0x5e2b14['aPRlc'](require,_0x5e2b14['ERvda']);const _0x2a845b=_0x5e2b14['aPRlc'](require,_0x5e2b14['tiAoQ']);const _0x102a19=null;let _0x2d8224={'entryClassName':_0x5e2b14['vGesD'],'orientation':_0x5e2b14['OkCSd'],'frameRate':0x3c,'scaleMode':_0x5e2b14['GXvNy'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x5e2b14['OMGTd'],'showLog':![],'maxTouches':0x2,'renderMode':_0x5e2b14['xLduD'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x46c193){var _0x264bdf=_0x46c193['backingStorePixelRatio']||_0x46c193['webkitBackingStorePixelRatio']||_0x46c193['mozBackingStorePixelRatio']||_0x46c193['msBackingStorePixelRatio']||_0x46c193['oBackingStorePixelRatio']||_0x46c193['backingStorePixelRatio']||0x1;return _0x5e2b14['ertyy'](window['devicePixelRatio']||0x1,_0x264bdf);}};const _0xe4881b=function(){egret['runEgret'](_0x2d8224);};if(wx['loadSubpackage']){var _0x4a5136=_0x5e2b14['SwgeT']['split']('|'),_0x433ccc=0x0;while(!![]){switch(_0x4a5136[_0x433ccc++]){case'0':_0xfccfc3['onProgressUpdate'](_0x4c9938=>{loading['instance']['setProgress'](_0x5e2b14['SRjSm'],Math['floor'](_0x4c9938['progress']));});continue;case'1':_0x5e2b14['Dypih'](require,_0x5e2b14['noDjU']);continue;case'2':var _0xfccfc3=wx['loadSubpackage']({'name':_0x5e2b14['VYBAz'],'success':function(_0xa9651c){loading['instance']['setProgress'](_0x5e2b14['SRjSm'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'3':_0x2d8224['entryClassName']=_0x5e2b14['oSRVx'];continue;case'4':_0x5e2b14['jGaWf'](_0xe4881b);continue;}break;}}else{_0x5e2b14['Dypih'](require,_0x5e2b14['ZUEUG']);_0x5e2b14['jGaWf'](_0xe4881b);}const _0x36710f=wx['getUpdateManager']();_0x36710f['onCheckForUpdate'](function(_0x43183a){if(_0x43183a['hasUpdate']){wx['showModal']({'title':_0x5e2b14['dlokN'],'content':_0x5e2b14['aLsAk'],'showCancel':![],'success':function(_0x220eb6){}});}});_0x36710f['onUpdateReady'](function(){wx['showModal']({'title':_0x5e2b14['dlokN'],'content':_0x5e2b14['ToVYF'],'showCancel':![],'success':function(_0x2a6563){if(_0x2a6563['confirm']){_0x2a845b['fs']['remove'](_0x5e2b14['tohXh'](wx['env']['USER_DATA_PATH'],'/'));_0x36710f['applyUpdate']();}}});});_0x36710f['onUpdateFailed'](function(){wx['showModal']({'title':_0x5e2b14['dlokN'],'content':_0x5e2b14['VUBAI'],'showCancel':![],'success':function(_0x528b48){if(_0x528b48['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x164550={'uCDTv':function(_0x502d52,_0x1f350f){return _0x502d52(_0x1f350f);},'Lvhfa':'./tree/js/main'};const _0x40d6e6=_0x164550['uCDTv'](require,_0x164550['Lvhfa']);new _0x40d6e6['default']();}