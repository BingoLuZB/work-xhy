const versions='1.0.0';const gameId=0x5b;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/ftxj/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20210128_main.zip','20210128_default.zip','20210128_protobufbundles.zip','20210128_protobuflibrary.zip'];getJsonToGame();function judgegame(){var _0x57a976={'ikzBP':function(_0x2e7d14,_0x42ddd1){return _0x2e7d14==_0x42ddd1;},'wlHHO':function(_0x58f5c4){return _0x58f5c4();},'nOZmn':'https://gminiapi.xinghe66.cn/mp/index','zwfXU':'GET','KtVdJ':'json'};return new Promise((_0x13c2a0,_0x1aeb76)=>{wx['request']({'url':_0x57a976['nOZmn'],'method':_0x57a976['zwfXU'],'data':{'app_id':gameId,'versions':versions,'format':_0x57a976['KtVdJ']},'success'(_0x2363ec){if(_0x57a976['ikzBP'](_0x2363ec['data']['code'],0xc8)&&_0x57a976['ikzBP'](_0x2363ec['data']['data']['status'],0x2)){_0x57a976['wlHHO'](_0x1aeb76);}else{_0x57a976['wlHHO'](_0x13c2a0);}},'fail'(){_0x57a976['wlHHO'](_0x1aeb76);}});});}function hasJsonToGame(_0xc3f990,_0x425067){var _0x41da64={'RsCTw':function(_0x369744,_0x4154c0){return _0x369744-_0x4154c0;},'PaUOt':function(_0xf5a639,_0x20a7e2){return _0xf5a639==_0x20a7e2;},'yDDSR':function(_0xc1c00a){return _0xc1c00a();}};console['log'](_0xc3f990);wx[_0xc3f990]=JSON['parse'](_0x425067);let _0x3e956c=_0x41da64['RsCTw'](jsonList['length'],0x1);if(_0x41da64['PaUOt'](num,_0x3e956c)){_0x41da64['yDDSR'](intoGame);}num++;}function wxReadFile(_0x117f1d,_0x3db622,_0x1cf6a2){var _0x26fa72={'mtMHz':function(_0x59707b,_0x436758,_0x49ae30){return _0x59707b(_0x436758,_0x49ae30);},'dQiXs':function(_0x1292ab,_0x10a2ec){return _0x1292ab(_0x10a2ec);},'jwRSl':function(_0xbe0c39,_0x1bdb27){return _0xbe0c39(_0x1bdb27);},'HnJXD':'utf-8'};return new Promise((_0x45f510,_0x2164f8)=>{var _0x360a22={'rXqBU':function(_0x3dd1fd,_0x83a541,_0x284cf4){return _0x26fa72['mtMHz'](_0x3dd1fd,_0x83a541,_0x284cf4);},'qPseW':function(_0x258d36,_0x484633){return _0x26fa72['dQiXs'](_0x258d36,_0x484633);},'FQQzq':function(_0x4fcc16,_0xc61c9a){return _0x26fa72['jwRSl'](_0x4fcc16,_0xc61c9a);}};fs['readFile']({'filePath':_0x117f1d,'encoding':_0x26fa72['HnJXD'],'success'(_0x139242){if(_0x1cf6a2&&_0x139242['data']){_0x360a22['rXqBU'](hasJsonToGame,_0x3db622,_0x139242['data']);}_0x360a22['qPseW'](_0x45f510,_0x139242);},'fail'(_0x5bf85d){_0x360a22['FQQzq'](_0x2164f8,_0x5bf85d);}});});}function getJsonToGame(){var _0x415328={'yiZfd':function(_0x2105be,_0x11b37d,_0xbbc3ac){return _0x2105be(_0x11b37d,_0xbbc3ac);},'FrGYt':function(_0x3263d1,_0x5bc976,_0x29e17a,_0x349722){return _0x3263d1(_0x5bc976,_0x29e17a,_0x349722);},'EGhcu':'==解压失败','XQKmj':function(_0x261fc2,_0x625204){return _0x261fc2===_0x625204;},'zTlxQ':'下载失败，文件不存在','MTzqA':'====下载失败','nBQQE':function(_0x3443f5,_0x3c124e){return _0x3443f5(_0x3c124e);},'WnGxu':function(_0x2a6908,_0x33df7d){return _0x2a6908<_0x33df7d;},'mmwvT':'.zip','HfrKK':'.json'};for(let _0x38f279=0x0;_0x415328['WnGxu'](_0x38f279,jsonList['length']);_0x38f279++){let _0x138b16=jsonList[_0x38f279]['split']('_')[0x0];let _0x520a0a=jsonList[_0x38f279]['split']('_')[0x1];let _0x1e8723=_0x520a0a['includes'](_0x415328['mmwvT'])?'':_0x415328['HfrKK'];const _0x18dac9=rootPath+'/'+_0x138b16+'/'+_0x520a0a+_0x1e8723;const _0x45f86b=!_0x1e8723&&_0x520a0a['split']('.')[0x0];const _0x514109=rootPath+'/'+_0x45f86b+'.json';fs['access']({'path':rootPath+'/'+_0x138b16,'success'(_0x114e29){},'fail'(_0xe1efb1){fs['mkdir']({'dirPath':rootPath+'/'+_0x138b16,'recursive':!![],'success'(_0x2da4d1){}});},'complete'(){var _0x55b2da={'ZwEXu':_0x415328['MTzqA']};_0x415328['nBQQE'](wxReadFile,_0x18dac9)['then'](_0x16faff=>{if(_0x1e8723){_0x415328['yiZfd'](hasJsonToGame,_0x520a0a,_0x16faff['data']);}else{_0x415328['FrGYt'](wxReadFile,_0x514109,_0x45f86b,!![]);}})['catch'](_0x312c28=>{var _0x387bb2={'rZNCA':function(_0x1a8cbe,_0x407c3d,_0xc94faa,_0x40e1e7){return _0x415328['FrGYt'](_0x1a8cbe,_0x407c3d,_0xc94faa,_0x40e1e7);},'KZZuM':_0x415328['EGhcu'],'nTAFK':function(_0x7e9a3a,_0x4c16c8){return _0x415328['XQKmj'](_0x7e9a3a,_0x4c16c8);},'NvgYO':_0x415328['zTlxQ']};wx['downloadFile']({'url':downloadUrl+'/'+_0x138b16+'/'+_0x520a0a+_0x1e8723,'filePath':_0x18dac9,'timeout':0x2710,'success'(_0xa521db){var _0x4a0032={'ntAWp':_0x387bb2['KZZuM']};if(_0x387bb2['nTAFK'](_0xa521db['statusCode'],0xc8)){if(_0x1e8723){_0x387bb2['rZNCA'](wxReadFile,_0x18dac9,_0x520a0a,!![]);}else{fs['unzip']({'zipFilePath':_0xa521db['filePath']||_0xa521db['tempFilePath'],'targetPath':rootPath,'success'(_0x10e7b5){_0x387bb2['rZNCA'](wxReadFile,_0x514109,_0x45f86b,!![]);},'fail'(_0x5e4d93){console['log'](_0x5e4d93,_0x4a0032['ntAWp']);}});}}else{console['error'](_0x387bb2['NvgYO']);fs['unlink']({'filePath':rootPath+'/'+_0x138b16+'/'+_0x520a0a+_0x1e8723,'success'(_0xc9e6cf){},'fail'(_0x536d16){}});}},'fail'(_0x303a85){console['error'](_0x303a85,_0x55b2da['ZwEXu']);}});});}});}}function intoGame(){var _0x55c4f1={'bhttf':function(_0x13b814,_0x544595){return _0x13b814/_0x544595;},'BLqkU':function(_0x94a6b0,_0x12b491){return _0x94a6b0(_0x12b491);},'TBDEe':'./EgretSubPackageLoading.js','NzGqm':'EgretSubPackageLoading','hhbYc':'./stage1/game.js','giUqU':function(_0x3c8bdd,_0x1eecfe){return _0x3c8bdd(_0x1eecfe);},'oXnEH':'./stage2/game.js','ldjSd':'updateShareInfo\x20res==','ucjhy':'getShareInfo\x20res==','PMaCp':'init\x20res==','WMvWn':'login\x20res==','XIRfa':function(_0x175c31,_0x397fcb){return _0x175c31==_0x397fcb;},'dlIZy':'success','IHWIr':'3|1|4|2|0','ougFI':function(_0x1b6f21){return _0x1b6f21();},'ZoQln':'login\x20window.wxsdk.open_id==','LoVYn':function(_0x17426f){return _0x17426f();},'FeTzF':'wx63a2907f8986b44b','PdNmM':'scope.userInfo','LAmWR':'5|4|0|1|3|2','xTUrt':function(_0x62a27c){return _0x62a27c();},'mWyFe':'window.wxsdk.launchOption\x20:\x20','Hugkx':'系统信息获取成功:','hgwVg':'系统信息获取失败','DeCVc':'./weapp-adapter.js','eUlAM':'./platform.js','iBpKO':function(_0x462ee7,_0x33f7f6){return _0x462ee7(_0x33f7f6);},'qKukS':'./manifest.js','LUzPj':'./egret.wxgame.js','MGchb':'./wxsdk.js','zpoVs':'./sdk-1.0.1.js','EFQAE':'huoSdk','nwWgs':'./library/image.js','uolYO':function(_0x3c0cb7,_0x35be30){return _0x3c0cb7(_0x35be30);},'qfbUJ':'./library/text.js','GmjDS':function(_0x43d793,_0x51bf5a){return _0x43d793(_0x51bf5a);},'dcknb':'./library/sound.js','xfwKz':'./library/binary.js','ojNfT':'webgl','HLaic':'Main','ljieK':'auto','klkmE':'fixedNarrow','PtCAg':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.9'};_0x55c4f1['giUqU'](require,_0x55c4f1['DeCVc']);_0x55c4f1['giUqU'](require,_0x55c4f1['eUlAM']);_0x55c4f1['iBpKO'](require,_0x55c4f1['qKukS']);_0x55c4f1['iBpKO'](require,_0x55c4f1['LUzPj']);_0x55c4f1['iBpKO'](require,_0x55c4f1['MGchb']);var _0x44545c=_0x55c4f1['iBpKO'](require,_0x55c4f1['zpoVs']);window[_0x55c4f1['EFQAE']]=_0x44545c;if(window['RES']&&RES['processor']){_0x55c4f1['iBpKO'](require,_0x55c4f1['nwWgs']);_0x55c4f1['uolYO'](require,_0x55c4f1['qfbUJ']);_0x55c4f1['GmjDS'](require,_0x55c4f1['dcknb']);_0x55c4f1['GmjDS'](require,_0x55c4f1['xfwKz']);}let _0x673feb={'renderMode':_0x55c4f1['ojNfT'],'entryClassName':_0x55c4f1['HLaic'],'orientation':_0x55c4f1['ljieK'],'frameRate':0x1e,'scaleMode':_0x55c4f1['klkmE'],'contentWidth':0x21c,'contentHeight':0x384,'showFPS':![],'fpsStyles':_0x55c4f1['PtCAg'],'showLog':![],'maxTouches':0x2,'renderMode':_0x55c4f1['ojNfT'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x38a89c){var _0x519f82=_0x38a89c['backingStorePixelRatio']||_0x38a89c['webkitBackingStorePixelRatio']||_0x38a89c['mozBackingStorePixelRatio']||_0x38a89c['msBackingStorePixelRatio']||_0x38a89c['oBackingStorePixelRatio']||_0x38a89c['backingStorePixelRatio']||0x1;return _0x55c4f1['bhttf'](window['devicePixelRatio']||0x1,_0x519f82);}};let _0x2adc2a=function(){if(wx['loadSubpackage']){_0x55c4f1['BLqkU'](require,_0x55c4f1['TBDEe']);_0x673feb['entryClassName']=_0x55c4f1['NzGqm'];egret['runEgret'](_0x673feb);}else{_0x55c4f1['BLqkU'](require,_0x55c4f1['hhbYc']);_0x55c4f1['giUqU'](require,_0x55c4f1['oXnEH']);egret['runEgret'](_0x673feb);}};const _0x52ff39=function(){var _0x32463c={'qzsdd':_0x55c4f1['ldjSd'],'uHYap':_0x55c4f1['ucjhy']};_0x44545c['getShareInfo']({'data':{'path':''}})['then'](_0x119e24=>{console['log'](_0x32463c['uHYap'],_0x119e24);wx['onShareAppMessage'](()=>{var _0x1a7104={'nNtoS':_0x32463c['qzsdd']};_0x44545c['updateShareInfo']({'data':{'to_target':'wx'}})['then'](_0x27ad32=>{console['log'](_0x1a7104['nNtoS'],_0x27ad32);});return{'title':_0x119e24['data']['title'],'imageUrl':_0x119e24['data']['image'],'query':'state='+_0x119e24['data']['state']};});wx['showShareMenu']();});};window['wxsdk']['launchOption']=wx['getLaunchOptionsSync']();const _0x2c7186=function(){var _0x522b50={'BWTmv':_0x55c4f1['WMvWn'],'FSkxX':function(_0x419cef,_0x2894ce){return _0x55c4f1['XIRfa'](_0x419cef,_0x2894ce);},'Ivnlz':_0x55c4f1['dlIZy'],'VlXMg':_0x55c4f1['IHWIr'],'QKGBF':function(_0x1818c2){return _0x55c4f1['ougFI'](_0x1818c2);},'ebzuA':function(_0x4acf01){return _0x55c4f1['ougFI'](_0x4acf01);},'ExMBm':_0x55c4f1['ZoQln'],'erSlF':function(_0x2bf9ea){return _0x55c4f1['LoVYn'](_0x2bf9ea);}};_0x44545c['init']({'app_id':0x2d,'mp_id':_0x55c4f1['FeTzF']})['then'](_0x2e7b2f=>{console['log'](_0x55c4f1['PMaCp'],_0x2e7b2f);_0x44545c['login']({'data':{'state':window['wxsdk']['launchOption']['query']['state']||window['wxsdk']['launchOption']['query']['scene']||''}})['then'](_0x4ac9ef=>{console['log'](_0x522b50['BWTmv'],_0x4ac9ef);if(_0x522b50['FSkxX'](_0x4ac9ef['msg'],_0x522b50['Ivnlz'])){var _0x2d1490=_0x522b50['VlXMg']['split']('|'),_0x56536d=0x0;while(!![]){switch(_0x2d1490[_0x56536d++]){case'0':_0x522b50['QKGBF'](_0x2adc2a);continue;case'1':_0x522b50['ebzuA'](_0x52ff39);continue;case'2':console['log'](_0x522b50['ExMBm'],window['wxsdk']['open_id']);continue;case'3':_0x522b50['erSlF'](_0x9ebd0b);continue;case'4':window['wxsdk']['open_id']=_0x4ac9ef['data']['mg_mem_id']['toString']();continue;}break;}}});});};const _0x9ebd0b=function(){wx['getSetting']({'success':_0x16e5ff=>{if(_0x16e5ff['authSetting'][_0x55c4f1['PdNmM']]){wx['getUserInfo']({'success':_0x1f48b9=>{_0x44545c['updateSelfInfo']({'data':{'raw_data':_0x1f48b9['rawData'],'signature':_0x1f48b9['signature'],'encrypted_data':_0x1f48b9['encryptedData'],'iv':_0x1f48b9['iv']}});}});}else{wx['authorize']({'scope':_0x55c4f1['PdNmM'],'success'(){wx['getUserInfo']({'success':_0x253bd9=>{_0x44545c['updateSelfInfo']({'data':{'raw_data':_0x253bd9['rawData'],'signature':_0x253bd9['signature'],'encrypted_data':_0x253bd9['encryptedData'],'iv':_0x253bd9['iv']}});}});}});}}});};wx['getSystemInfo']({'success':function(_0xa378ab){var _0x2c7c58=_0x55c4f1['LAmWR']['split']('|'),_0x1b7a49=0x0;while(!![]){switch(_0x2c7c58[_0x1b7a49++]){case'0':_0x55c4f1['xTUrt'](_0x2c7186);continue;case'1':console['log'](_0x55c4f1['mWyFe'],window['wxsdk']['launchOption']);continue;case'2':wx['onMemoryWarning'](function(){wx['triggerGC']();});continue;case'3':wx['setKeepScreenOn']({'keepScreenOn':!![]});continue;case'4':window['wxsdk']['init_data']=_0xa378ab;continue;case'5':console['log'](_0x55c4f1['Hugkx'],_0xa378ab);continue;}break;}},'fail':function(_0x5b8b04){console['log'](_0x55c4f1['hgwVg']);}});}