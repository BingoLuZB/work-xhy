const versions='1.0.0';const gameId=0x1a;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/guanbao';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201019_customlib.zip','20201019_main.zip'];judgegame()['then'](()=>{var _0x3dabd3={'bAgUN':function(_0x462db4){return _0x462db4();}};_0x3dabd3['bAgUN'](getJsonToGame);})['catch'](()=>{var _0x4d4dd1={'Nvkvd':function(_0x5478ca){return _0x5478ca();}};_0x4d4dd1['Nvkvd'](intoMiniGame);});function judgegame(){var _0x18d3e2={'wrcEF':function(_0x16c7ef,_0x24d654){return _0x16c7ef==_0x24d654;},'ijRtP':function(_0x1f640b){return _0x1f640b();},'ZpDXW':function(_0x4217af){return _0x4217af();},'dPboz':'https://gminiapi.xinghe66.cn/mp/index','NOkLd':'GET','noELz':'json'};return new Promise((_0x31307d,_0x5c106a)=>{wx['request']({'url':_0x18d3e2['dPboz'],'method':_0x18d3e2['NOkLd'],'data':{'app_id':gameId,'versions':versions,'format':_0x18d3e2['noELz']},'success'(_0x529d92){if(_0x18d3e2['wrcEF'](_0x529d92['data']['code'],0xc8)&&_0x18d3e2['wrcEF'](_0x529d92['data']['data']['status'],0x2)){_0x18d3e2['ijRtP'](_0x5c106a);}else{_0x18d3e2['ijRtP'](_0x31307d);}},'fail'(){_0x18d3e2['ZpDXW'](_0x5c106a);}});});}function hasJsonToGame(_0x2d72c0,_0x2dd788){var _0x53a87e={'CSAJc':function(_0x5bf361,_0x19b0d0){return _0x5bf361-_0x19b0d0;},'XAYeX':function(_0x5303d5,_0x352067){return _0x5303d5==_0x352067;},'KDqnW':function(_0xfbfb71){return _0xfbfb71();}};console['log'](_0x2d72c0,'');GameGlobal[_0x2d72c0]=JSON['parse'](_0x2dd788);let _0x3e5d71=_0x53a87e['CSAJc'](jsonList['length'],0x1);if(_0x53a87e['XAYeX'](num,_0x3e5d71)){_0x53a87e['KDqnW'](intoGame);}num++;}function wxReadFile(_0x2435af,_0x30a66e,_0x465d3f){var _0x355e87={'tHNdA':function(_0xb6c0e3,_0x503a07,_0x5cb746){return _0xb6c0e3(_0x503a07,_0x5cb746);},'ptPAb':function(_0x44ad03,_0x3672e7){return _0x44ad03(_0x3672e7);},'TCHtf':function(_0x4805a7,_0x1c7126){return _0x4805a7(_0x1c7126);},'ohxUF':'utf-8'};return new Promise((_0x3c4959,_0x2da18b)=>{var _0x2fc68f={'uhYVg':function(_0x29a382,_0x12c640){return _0x355e87['TCHtf'](_0x29a382,_0x12c640);}};fs['readFile']({'filePath':_0x2435af,'encoding':_0x355e87['ohxUF'],'success'(_0x264a39){if(_0x465d3f&&_0x264a39['data']){_0x355e87['tHNdA'](hasJsonToGame,_0x30a66e,_0x264a39['data']);}_0x355e87['ptPAb'](_0x3c4959,_0x264a39);},'fail'(_0x44574f){_0x2fc68f['uhYVg'](_0x2da18b,_0x44574f);}});});}function getJsonToGame(){var _0x2fd157={'gdKXj':function(_0x2a2121,_0x1055ba,_0x1f28e8){return _0x2a2121(_0x1055ba,_0x1f28e8);},'qEGaq':function(_0x2722aa,_0x55ddd5,_0x22bf87,_0x4dbd18){return _0x2722aa(_0x55ddd5,_0x22bf87,_0x4dbd18);},'TmpAq':'==解压失败','XiGeW':function(_0x31783a,_0x3c05c3){return _0x31783a===_0x3c05c3;},'kBMbB':'下载失败，文件不存在','acJCI':'====下载失败','eLAuZ':function(_0x3bab7b,_0x729af5){return _0x3bab7b(_0x729af5);},'BRHNg':function(_0x4b70f1,_0x1bd93b){return _0x4b70f1<_0x1bd93b;},'PYTqe':'.zip','vXPrC':'.json'};for(let _0x467ab8=0x0;_0x2fd157['BRHNg'](_0x467ab8,jsonList['length']);_0x467ab8++){let _0x35a7cc=jsonList[_0x467ab8]['split']('_')[0x0];let _0x3c4fd0=jsonList[_0x467ab8]['split']('_')[0x1];let _0x2aaef4=_0x3c4fd0['includes'](_0x2fd157['PYTqe'])?'':_0x2fd157['vXPrC'];const _0x4529f1=rootPath+'/'+_0x35a7cc+'/'+_0x3c4fd0+_0x2aaef4;const _0x55d88c=!_0x2aaef4&&_0x3c4fd0['split']('.')[0x0];const _0x40ccff=rootPath+'/'+_0x55d88c+'.json';fs['access']({'path':rootPath+'/'+_0x35a7cc,'success'(_0x17337d){},'fail'(_0x3742d1){fs['mkdir']({'dirPath':rootPath+'/'+_0x35a7cc,'recursive':!![],'success'(_0x608520){}});},'complete'(){var _0x2cf4ee={'RgeLv':function(_0x565083,_0x4a38a6,_0x375e6a,_0x25db02){return _0x2fd157['qEGaq'](_0x565083,_0x4a38a6,_0x375e6a,_0x25db02);},'OCxuH':function(_0x240e88,_0x111a39){return _0x2fd157['XiGeW'](_0x240e88,_0x111a39);},'rXgpx':_0x2fd157['kBMbB'],'sBpVL':_0x2fd157['acJCI']};_0x2fd157['eLAuZ'](wxReadFile,_0x4529f1)['then'](_0x5e1dd9=>{if(_0x2aaef4){_0x2fd157['gdKXj'](hasJsonToGame,_0x3c4fd0,_0x5e1dd9['data']);}else{_0x2fd157['qEGaq'](wxReadFile,_0x40ccff,_0x55d88c,!![]);}})['catch'](_0x19bf0d=>{var _0x2e9df2={'ucZIW':_0x2fd157['TmpAq']};wx['downloadFile']({'url':downloadUrl+'/'+_0x35a7cc+'/'+_0x3c4fd0+_0x2aaef4,'filePath':_0x4529f1,'success'(_0x2f8c3c){var _0x5f51b7={'LqRWZ':function(_0x334d57,_0x34ea51,_0x5dd203,_0x336b9f){return _0x2cf4ee['RgeLv'](_0x334d57,_0x34ea51,_0x5dd203,_0x336b9f);}};if(_0x2cf4ee['OCxuH'](_0x2f8c3c['statusCode'],0xc8)){if(_0x2aaef4){_0x2cf4ee['RgeLv'](wxReadFile,_0x4529f1,_0x3c4fd0,!![]);}else{fs['unzip']({'zipFilePath':_0x2f8c3c['filePath']||_0x2f8c3c['tempFilePath'],'targetPath':rootPath,'success'(_0x46f341){_0x5f51b7['LqRWZ'](wxReadFile,_0x40ccff,_0x55d88c,!![]);},'fail'(_0x205797){console['log'](_0x205797,_0x2e9df2['ucZIW']);}});}}else{console['error'](_0x2cf4ee['rXgpx']);fs['unlink']({'filePath':rootPath+'/'+_0x35a7cc+'/'+_0x3c4fd0+_0x2aaef4,'success'(_0x33c7b5){},'fail'(_0x3a6752){}});}},'fail'(_0x1cd283){console['log'](_0x1cd283,_0x2cf4ee['sBpVL']);}});});}});}}function intoGame(){var _0xc57001={'fKKJC':function(_0x251e93,_0x2cd7dd){return _0x251e93/_0x2cd7dd;},'wYTvB':'正在加载主程序...','MqADd':'更新提示','zInSE':'该小游戏有新版本,正在为您下载新版本请稍后!','cocYx':function(_0x126f6a,_0x460873){return _0x126f6a+_0x460873;},'kihBF':'新版本已经准备好，点击确定重启应用!','LWIqC':'新版本下载失败,请检查网络!','xboHj':function(_0x134e65,_0x335f00){return _0x134e65(_0x335f00);},'uhgqu':'./weapp-adapter.js','XNczL':function(_0x548350,_0x234dbc){return _0x548350(_0x234dbc);},'EtGGi':'./manifest.js','tVCvs':'./egret.wxgame.js','MmlUc':function(_0x2ebe70,_0x10b93d){return _0x2ebe70(_0x10b93d);},'lCCen':'./library/file-util','wRAxV':'Main','ochVd':'auto','QWiHc':'fixedWidth','fisqu':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','JPZoS':'webgl','GkAKg':'0|1|4|3|2','bNKXW':function(_0x18c1f1,_0x311cec){return _0x18c1f1(_0x311cec);},'BbCGR':'./loading.js','hNjlm':'loading','sZDwU':'package1','VKmkI':function(_0x1b0578){return _0x1b0578();},'eADUh':'./package1/game.js','FjcZE':function(_0x12366b){return _0x12366b();}};_0xc57001['xboHj'](require,_0xc57001['uhgqu']);_0xc57001['XNczL'](require,_0xc57001['EtGGi']);_0xc57001['XNczL'](require,_0xc57001['tVCvs']);const _0x4b7c7b=_0xc57001['MmlUc'](require,_0xc57001['lCCen']);const _0x36f3cc=null;let _0x1d058c={'entryClassName':_0xc57001['wRAxV'],'orientation':_0xc57001['ochVd'],'frameRate':0x3c,'scaleMode':_0xc57001['QWiHc'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0xc57001['fisqu'],'showLog':![],'maxTouches':0x2,'renderMode':_0xc57001['JPZoS'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x4e3bba){var _0x207d6e=_0x4e3bba['backingStorePixelRatio']||_0x4e3bba['webkitBackingStorePixelRatio']||_0x4e3bba['mozBackingStorePixelRatio']||_0x4e3bba['msBackingStorePixelRatio']||_0x4e3bba['oBackingStorePixelRatio']||_0x4e3bba['backingStorePixelRatio']||0x1;return _0xc57001['fKKJC'](window['devicePixelRatio']||0x1,_0x207d6e);}};const _0x208ca4=function(){egret['runEgret'](_0x1d058c);};if(wx['loadSubpackage']){var _0x4ca543=_0xc57001['GkAKg']['split']('|'),_0x1247e4=0x0;while(!![]){switch(_0x4ca543[_0x1247e4++]){case'0':_0xc57001['bNKXW'](require,_0xc57001['BbCGR']);continue;case'1':_0x1d058c['entryClassName']=_0xc57001['hNjlm'];continue;case'2':_0x127c38['onProgressUpdate'](_0x473aa2=>{loading['instance']['setProgress'](_0xc57001['wYTvB'],Math['floor'](_0x473aa2['progress']));});continue;case'3':var _0x127c38=wx['loadSubpackage']({'name':_0xc57001['sZDwU'],'success':function(_0x49941b){loading['instance']['setProgress'](_0xc57001['wYTvB'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'4':_0xc57001['VKmkI'](_0x208ca4);continue;}break;}}else{_0xc57001['bNKXW'](require,_0xc57001['eADUh']);_0xc57001['FjcZE'](_0x208ca4);}const _0xd169be=wx['getUpdateManager']();_0xd169be['onCheckForUpdate'](function(_0x4a5684){if(_0x4a5684['hasUpdate']){wx['showModal']({'title':_0xc57001['MqADd'],'content':_0xc57001['zInSE'],'showCancel':![],'success':function(_0x45fa5d){}});}});_0xd169be['onUpdateReady'](function(){wx['showModal']({'title':_0xc57001['MqADd'],'content':_0xc57001['kihBF'],'showCancel':![],'success':function(_0x2a2264){if(_0x2a2264['confirm']){_0x4b7c7b['fs']['remove'](_0xc57001['cocYx'](wx['env']['USER_DATA_PATH'],'/'));_0xd169be['applyUpdate']();}}});});_0xd169be['onUpdateFailed'](function(){wx['showModal']({'title':_0xc57001['MqADd'],'content':_0xc57001['LWIqC'],'showCancel':![],'success':function(_0x42d000){if(_0x42d000['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0x15fef3={'cNndG':function(_0x6012c4,_0x88f353){return _0x6012c4(_0x88f353);},'QDwAf':'./tree/js/main'};const _0xd0d2c2=_0x15fef3['cNndG'](require,_0x15fef3['QDwAf']);new _0xd0d2c2['default']();}