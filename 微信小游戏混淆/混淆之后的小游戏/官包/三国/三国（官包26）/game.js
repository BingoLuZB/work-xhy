const versions='1.0.1';const gameId=0x1a;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/guanbao';const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20201019_customlib.zip','20201117_main.zip'];judgegame()['then'](()=>{var _0x35bc5d={'DnCvX':function(_0x213384){return _0x213384();}};_0x35bc5d['DnCvX'](getJsonToGame);})['catch'](()=>{var _0x396fb2={'moLzI':function(_0x451487){return _0x451487();}};_0x396fb2['moLzI'](intoMiniGame);});function judgegame(){var _0x1bd23c={'ifMfj':function(_0xa2381d,_0x5bddf3){return _0xa2381d==_0x5bddf3;},'brMSq':function(_0x1dfbd8){return _0x1dfbd8();},'ZWKay':'https://gminiapi.xinghe66.cn/mp/index','ftiMS':'GET','GSlAY':'json'};return new Promise((_0x540fdf,_0x5bcfa7)=>{var _0xc64c38={'uWLLq':function(_0x11eec1,_0x33dea7){return _0x1bd23c['ifMfj'](_0x11eec1,_0x33dea7);},'MpCED':function(_0x1c62e9,_0x322357){return _0x1bd23c['ifMfj'](_0x1c62e9,_0x322357);},'IFydg':function(_0x4dc2b4){return _0x1bd23c['brMSq'](_0x4dc2b4);},'BBRpu':function(_0x45166d){return _0x1bd23c['brMSq'](_0x45166d);}};wx['request']({'url':_0x1bd23c['ZWKay'],'method':_0x1bd23c['ftiMS'],'data':{'app_id':gameId,'versions':versions,'format':_0x1bd23c['GSlAY']},'success'(_0x3dd9d4){if(_0xc64c38['uWLLq'](_0x3dd9d4['data']['code'],0xc8)&&_0xc64c38['MpCED'](_0x3dd9d4['data']['data']['status'],0x2)){_0xc64c38['IFydg'](_0x5bcfa7);}else{_0xc64c38['BBRpu'](_0x540fdf);}},'fail'(){_0xc64c38['BBRpu'](_0x5bcfa7);}});});}function hasJsonToGame(_0x11b79f,_0x217627){var _0x452453={'MeeMO':function(_0x526364,_0x274904){return _0x526364-_0x274904;},'gqeVU':function(_0x257cc8,_0x2cd889){return _0x257cc8==_0x2cd889;},'jBzXp':function(_0x1c2619){return _0x1c2619();}};GameGlobal[_0x11b79f]=JSON['parse'](_0x217627);let _0x2aae4e=_0x452453['MeeMO'](jsonList['length'],0x1);if(_0x452453['gqeVU'](num,_0x2aae4e)){_0x452453['jBzXp'](intoGame);}num++;}function wxReadFile(_0x10e98a,_0x3c359e,_0x5edbc){var _0x4fe6eb={'ggRRC':function(_0x190fd0,_0x343cb3,_0x4c9eed){return _0x190fd0(_0x343cb3,_0x4c9eed);},'ClSTK':function(_0x21cc02,_0x1fbc9c){return _0x21cc02(_0x1fbc9c);},'ZOoox':'utf-8'};return new Promise((_0x5ce145,_0x201ec7)=>{var _0x4d0437={'VDiqF':function(_0x4622fd,_0x3d8ee2,_0x44c2e0){return _0x4fe6eb['ggRRC'](_0x4622fd,_0x3d8ee2,_0x44c2e0);},'wBgLp':function(_0x433ccf,_0x36beae){return _0x4fe6eb['ClSTK'](_0x433ccf,_0x36beae);},'lJoDs':function(_0x33ab56,_0x1eda0c){return _0x4fe6eb['ClSTK'](_0x33ab56,_0x1eda0c);}};fs['readFile']({'filePath':_0x10e98a,'encoding':_0x4fe6eb['ZOoox'],'success'(_0x24505f){if(_0x5edbc&&_0x24505f['data']){_0x4d0437['VDiqF'](hasJsonToGame,_0x3c359e,_0x24505f['data']);}_0x4d0437['wBgLp'](_0x5ce145,_0x24505f);},'fail'(_0x254e1b){_0x4d0437['lJoDs'](_0x201ec7,_0x254e1b);}});});}function getJsonToGame(){var _0x5ae309={'axdhF':function(_0x3a265c,_0x2e6ce6,_0x2ff8ea,_0x224f9a){return _0x3a265c(_0x2e6ce6,_0x2ff8ea,_0x224f9a);},'OTROz':'==解压失败','Ghwkw':function(_0xb641fc,_0x2ed48d,_0x56f0a8){return _0xb641fc(_0x2ed48d,_0x56f0a8);},'jffTg':function(_0x2e8eb7,_0x4213a1,_0x59d20e,_0x2e7bbd){return _0x2e8eb7(_0x4213a1,_0x59d20e,_0x2e7bbd);},'EPfya':function(_0x554273,_0xb974bc){return _0x554273===_0xb974bc;},'rPtvG':'下载失败，文件不存在','diivw':'====下载失败','vOhCZ':function(_0x5a9a24,_0x12938f){return _0x5a9a24(_0x12938f);},'cjYGg':function(_0x4710e9,_0x2df6fc){return _0x4710e9<_0x2df6fc;},'pARtk':'.zip','FYuUm':'.json'};for(let _0x3de246=0x0;_0x5ae309['cjYGg'](_0x3de246,jsonList['length']);_0x3de246++){let _0x4ecbeb=jsonList[_0x3de246]['split']('_')[0x0];let _0xf4c2f9=jsonList[_0x3de246]['split']('_')[0x1];let _0x7610b6=_0xf4c2f9['includes'](_0x5ae309['pARtk'])?'':_0x5ae309['FYuUm'];const _0x5da173=rootPath+'/'+_0x4ecbeb+'/'+_0xf4c2f9+_0x7610b6;const _0x52e910=!_0x7610b6&&_0xf4c2f9['split']('.')[0x0];const _0x1eba26=rootPath+'/'+_0x52e910+'.json';fs['access']({'path':rootPath+'/'+_0x4ecbeb,'success'(_0x317a29){},'fail'(_0x1e3592){fs['mkdir']({'dirPath':rootPath+'/'+_0x4ecbeb,'recursive':!![],'success'(_0x807be6){}});},'complete'(){var _0xe44b0e={'xHcYa':function(_0x10fb57,_0x1d3828,_0xf008c6){return _0x5ae309['Ghwkw'](_0x10fb57,_0x1d3828,_0xf008c6);},'Erbbb':function(_0x170d46,_0x1cf310,_0x3fb3af,_0x48c51d){return _0x5ae309['jffTg'](_0x170d46,_0x1cf310,_0x3fb3af,_0x48c51d);},'fbHFT':function(_0x414ebd,_0x59faf3){return _0x5ae309['EPfya'](_0x414ebd,_0x59faf3);},'ylYjf':_0x5ae309['rPtvG'],'ipxLk':_0x5ae309['diivw']};_0x5ae309['vOhCZ'](wxReadFile,_0x5da173)['then'](_0x1839aa=>{if(_0x7610b6){_0xe44b0e['xHcYa'](hasJsonToGame,_0xf4c2f9,_0x1839aa['data']);}else{_0xe44b0e['Erbbb'](wxReadFile,_0x1eba26,_0x52e910,!![]);}})['catch'](_0x2a1558=>{var _0x492664={'KUBoW':function(_0x4b798a,_0xd2963a,_0xf80c11,_0x49149f){return _0x5ae309['axdhF'](_0x4b798a,_0xd2963a,_0xf80c11,_0x49149f);},'DJNgR':_0x5ae309['OTROz']};wx['downloadFile']({'url':downloadUrl+'/'+_0x4ecbeb+'/'+_0xf4c2f9+_0x7610b6,'filePath':_0x5da173,'success'(_0x5da610){if(_0xe44b0e['fbHFT'](_0x5da610['statusCode'],0xc8)){if(_0x7610b6){_0xe44b0e['Erbbb'](wxReadFile,_0x5da173,_0xf4c2f9,!![]);}else{fs['unzip']({'zipFilePath':_0x5da610['filePath']||_0x5da610['tempFilePath'],'targetPath':rootPath,'success'(_0x53e7cc){_0x492664['KUBoW'](wxReadFile,_0x1eba26,_0x52e910,!![]);},'fail'(_0x317f36){console['log'](_0x317f36,_0x492664['DJNgR']);}});}}else{console['error'](_0xe44b0e['ylYjf']);fs['unlink']({'filePath':rootPath+'/'+_0x4ecbeb+'/'+_0xf4c2f9+_0x7610b6,'success'(_0x9c48bf){},'fail'(_0x969064){}});}},'fail'(_0x599b8c){console['log'](_0x599b8c,_0xe44b0e['ipxLk']);}});});}});}}function intoGame(){var _0x1c0e52={'icleN':function(_0x33399a,_0x37a590){return _0x33399a/_0x37a590;},'cKLRQ':'正在加载主程序...','AcrHJ':'更新提示','ZSPDO':'该小游戏有新版本,正在为您下载新版本请稍后!','CCmwx':function(_0x2f6cb2,_0x51db62){return _0x2f6cb2+_0x51db62;},'YCzoU':'新版本已经准备好，点击确定重启应用!','ezOxV':'新版本下载失败,请检查网络!','SwGcY':function(_0x1f3a9d,_0x213526){return _0x1f3a9d(_0x213526);},'ikAhJ':'./weapp-adapter.js','YMlQL':function(_0x579f3e,_0x58f822){return _0x579f3e(_0x58f822);},'qVebV':'./manifest.js','cKztC':'./egret.wxgame.js','pPljq':function(_0x3f8016,_0x272fb0){return _0x3f8016(_0x272fb0);},'AJgAq':'./library/file-util','iNGbz':'Main','Aeoll':'auto','YuKPp':'fixedWidth','QxQmO':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','kYBuo':'webgl','tEchk':'1|2|4|0|3','Oveto':'package1','MOkHn':function(_0x1551bc,_0x36763e){return _0x1551bc(_0x36763e);},'kYwMS':'./loading.js','xlVmP':'loading','VTxOS':function(_0x24e030){return _0x24e030();},'pkRiW':function(_0xbb1c4b,_0x468abe){return _0xbb1c4b(_0x468abe);},'NEBux':'./package1/game.js'};_0x1c0e52['SwGcY'](require,_0x1c0e52['ikAhJ']);_0x1c0e52['YMlQL'](require,_0x1c0e52['qVebV']);_0x1c0e52['YMlQL'](require,_0x1c0e52['cKztC']);const _0x3017c7=_0x1c0e52['pPljq'](require,_0x1c0e52['AJgAq']);const _0x5b6e91=null;let _0x26c04e={'entryClassName':_0x1c0e52['iNGbz'],'orientation':_0x1c0e52['Aeoll'],'frameRate':0x3c,'scaleMode':_0x1c0e52['YuKPp'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x1c0e52['QxQmO'],'showLog':![],'maxTouches':0x2,'renderMode':_0x1c0e52['kYBuo'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x2cadb4){var _0x4cd5ed=_0x2cadb4['backingStorePixelRatio']||_0x2cadb4['webkitBackingStorePixelRatio']||_0x2cadb4['mozBackingStorePixelRatio']||_0x2cadb4['msBackingStorePixelRatio']||_0x2cadb4['oBackingStorePixelRatio']||_0x2cadb4['backingStorePixelRatio']||0x1;return _0x1c0e52['icleN'](window['devicePixelRatio']||0x1,_0x4cd5ed);}};const _0x53e4ce=function(){egret['runEgret'](_0x26c04e);};if(wx['loadSubpackage']){var _0x2c3490=_0x1c0e52['tEchk']['split']('|'),_0x30847b=0x0;while(!![]){switch(_0x2c3490[_0x30847b++]){case'0':var _0x604e04=wx['loadSubpackage']({'name':_0x1c0e52['Oveto'],'success':function(_0x26f02c){loading['instance']['setProgress'](_0x1c0e52['cKLRQ'],Math['floor'](0x64));loading['instance']['onSuccess']();}});continue;case'1':_0x1c0e52['MOkHn'](require,_0x1c0e52['kYwMS']);continue;case'2':_0x26c04e['entryClassName']=_0x1c0e52['xlVmP'];continue;case'3':_0x604e04['onProgressUpdate'](_0x34bd58=>{loading['instance']['setProgress'](_0x1c0e52['cKLRQ'],Math['floor'](_0x34bd58['progress']));});continue;case'4':_0x1c0e52['VTxOS'](_0x53e4ce);continue;}break;}}else{_0x1c0e52['pkRiW'](require,_0x1c0e52['NEBux']);_0x1c0e52['VTxOS'](_0x53e4ce);}const _0x25b92b=wx['getUpdateManager']();_0x25b92b['onCheckForUpdate'](function(_0x5ccdaa){if(_0x5ccdaa['hasUpdate']){wx['showModal']({'title':_0x1c0e52['AcrHJ'],'content':_0x1c0e52['ZSPDO'],'showCancel':![],'success':function(_0x17a059){}});}});_0x25b92b['onUpdateReady'](function(){wx['showModal']({'title':_0x1c0e52['AcrHJ'],'content':_0x1c0e52['YCzoU'],'showCancel':![],'success':function(_0x2747b6){if(_0x2747b6['confirm']){_0x3017c7['fs']['remove'](_0x1c0e52['CCmwx'](wx['env']['USER_DATA_PATH'],'/'));_0x25b92b['applyUpdate']();}}});});_0x25b92b['onUpdateFailed'](function(){wx['showModal']({'title':_0x1c0e52['AcrHJ'],'content':_0x1c0e52['ezOxV'],'showCancel':![],'success':function(_0x5dfd9c){if(_0x5dfd9c['confirm']){wx['exitMiniProgram']();}}});});}function intoMiniGame(){var _0xd04a9e={'HXmkX':function(_0x1577cc,_0x24efa9){return _0x1577cc(_0x24efa9);},'NvTgp':'./tree/js/main'};const _0x177263=_0xd04a9e['HXmkX'](require,_0xd04a9e['NvTgp']);new _0x177263['default']();}