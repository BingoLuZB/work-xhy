/*Obfuscated by JShaman.com*/const versions='1.0.0';const gameId=0x30a;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20210129_customlib.zip','20210129_main.zip'];getJsonToGame();function judgegame(){return new Promise((_0x62a402,_0x1ab515)=>{wx['request']({'url':'https://gminiapi.xinghe66.cn/mp/index','method':'GET','data':{'app_id':gameId,'versions':versions,'format':'json'},'success'(_0x2c45a8){if(_0x2c45a8['data']['code']==0xc8&&_0x2c45a8['data']['data']['status']==0x2){_0x1ab515();}else{_0x62a402();}},'fail'(){_0x1ab515();}});});}function hasJsonToGame(_0x5cffbe,_0x49f776){console['log'](_0x5cffbe,'');wx[_0x5cffbe]=JSON['parse'](_0x49f776);let _0x49dfeb=jsonList['length']-0x1;if(num==_0x49dfeb){intoGame();}num++;}function wxReadFile(_0x17ac87,_0x345356,_0x1cac0b){return new Promise((_0x1aa1e2,_0x41ecbb)=>{fs['readFile']({'filePath':_0x17ac87,'encoding':'utf-8','success'(_0x2fcb02){if(_0x1cac0b&&_0x2fcb02['data']){hasJsonToGame(_0x345356,_0x2fcb02['data']);}_0x1aa1e2(_0x2fcb02);},'fail'(_0x2d3b93){_0x41ecbb(_0x2d3b93);}});});}function getJsonToGame(){for(let _0x52242b=0x0;_0x52242b<jsonList['length'];_0x52242b++){let _0x4e370c=jsonList[_0x52242b]['split']('_')[0x0];let _0x1d0e08=jsonList[_0x52242b]['split']('_')[0x1];let _0x58acaf=_0x1d0e08['includes']('.zip')?'':'.json';const _0x2463ee=rootPath+'/'+_0x4e370c+'/'+_0x1d0e08+_0x58acaf;const _0x262fcc=!_0x58acaf&&_0x1d0e08['split']('.')[0x0];const _0x275899=rootPath+'/'+_0x262fcc+'.json';fs['access']({'path':rootPath+'/'+_0x4e370c,'success'(_0x16d1b5){},'fail'(_0x48a98c){fs['mkdir']({'dirPath':rootPath+'/'+_0x4e370c,'recursive':!![],'success'(_0x4aa65f){}});},'complete'(){wxReadFile(_0x2463ee)['then'](_0x3a22e6=>{if(_0x58acaf){hasJsonToGame(_0x1d0e08,_0x3a22e6['data']);}else{wxReadFile(_0x275899,_0x262fcc,!![]);}})['catch'](_0x37d249=>{wx['downloadFile']({'url':downloadUrl+'/'+_0x4e370c+'/'+_0x1d0e08+_0x58acaf,'filePath':_0x2463ee,'timeout':0x2710,'success'(_0x31266f){if(_0x31266f['statusCode']===0xc8){if(_0x58acaf){wxReadFile(_0x2463ee,_0x1d0e08,!![]);}else{fs['unzip']({'zipFilePath':_0x31266f['filePath']||_0x31266f['tempFilePath'],'targetPath':rootPath,'success'(_0x38d295){wxReadFile(_0x275899,_0x262fcc,!![]);},'fail'(_0x437622){console['log'](_0x437622,'==解压失败');}});}}else{console['error']('下载失败，文件不存在');fs['unlink']({'filePath':rootPath+'/'+_0x4e370c+'/'+_0x1d0e08+_0x58acaf,'success'(_0x3bd85b){},'fail'(_0x1beceb){}});}},'fail'(_0x5e3846){console['log'](_0x5e3846,'====下载失败');}});});}});}}function intoGame(){require('./weapp-adapter.js');require('./manifest.js');require('./egret.wxgame.js');const _0x1ce351=require('./library/file-util');const _0xff9923=null;let _0x47ed82={'entryClassName':'Main','orientation':'auto','frameRate':0x3c,'scaleMode':'fixedWidth','contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','showLog':![],'maxTouches':0x2,'renderMode':'webgl','audioType':0x0,'calculateCanvasScaleFactor':function(_0x91014b){var _0x36dc21=_0x91014b['backingStorePixelRatio']||_0x91014b['webkitBackingStorePixelRatio']||_0x91014b['mozBackingStorePixelRatio']||_0x91014b['msBackingStorePixelRatio']||_0x91014b['oBackingStorePixelRatio']||_0x91014b['backingStorePixelRatio']||0x1;return(window['devicePixelRatio']||0x1)/_0x36dc21;}};const _0x378547=function(){egret['runEgret'](_0x47ed82);};if(wx['loadSubpackage']){require('./loading.js');_0x47ed82['entryClassName']='loading';_0x378547();var _0x24bd8b=wx['loadSubpackage']({'name':'package1','success':function(_0x116722){loading['instance']['setProgress']('正在加载主程序...',Math['floor'](0x64));loading['instance']['onSuccess']();}});_0x24bd8b['onProgressUpdate'](_0x58bc19=>{loading['instance']['setProgress']('正在加载主程序...',Math['floor'](_0x58bc19['progress']));});}else{require('./package1/game.js');_0x378547();}const _0x140e9f=wx['getUpdateManager']();_0x140e9f['onCheckForUpdate'](function(_0x19e13e){if(_0x19e13e['hasUpdate']){wx['showModal']({'title':'更新提示','content':'该小游戏有新版本,正在为您下载新版本请稍后!','showCancel':![],'success':function(_0x3bb4e5){}});}});_0x140e9f['onUpdateReady'](function(){wx['showModal']({'title':'更新提示','content':'新版本已经准备好，点击确定重启应用!','showCancel':![],'success':function(_0xbd167a){if(_0xbd167a['confirm']){_0x1ce351['fs']['remove'](wx['env']['USER_DATA_PATH']+'/');_0x140e9f['applyUpdate']();}}});});_0x140e9f['onUpdateFailed'](function(){wx['showModal']({'title':'更新提示','content':'新版本下载失败,请检查网络!','showCancel':![],'success':function(_0x2edb92){if(_0x2edb92['confirm']){wx['exitMiniProgram']();}}});});}