/*Obfuscated by JShaman.com*/const versions='1.0.0';const gameId=0x30a;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/sg/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20210129_customlib.zip','20210129_main.zip'];getJsonToGame();function judgegame(){return new Promise((_0x3b5ab0,_0x363c98)=>{wx['request']({'url':'https://gminiapi.xinghe66.cn/mp/index','method':'GET','data':{'app_id':gameId,'versions':versions,'format':'json'},'success'(_0x5ad7c9){if(_0x5ad7c9['data']['code']==0xc8&&_0x5ad7c9['data']['data']['status']==0x2){_0x363c98();}else{_0x3b5ab0();}},'fail'(){_0x363c98();}});});}function hasJsonToGame(_0x1048b2,_0x34c657){console['log'](_0x1048b2,'');wx[_0x1048b2]=JSON['parse'](_0x34c657);let _0xfb1243=jsonList['length']-0x1;if(num==_0xfb1243){intoGame();}num++;}function wxReadFile(_0x2dc43d,_0x566ef1,_0x25b558){return new Promise((_0x59826c,_0x7e72a2)=>{fs['readFile']({'filePath':_0x2dc43d,'encoding':'utf-8','success'(_0x401e3b){if(_0x25b558&&_0x401e3b['data']){hasJsonToGame(_0x566ef1,_0x401e3b['data']);}_0x59826c(_0x401e3b);},'fail'(_0x1519dc){_0x7e72a2(_0x1519dc);}});});}function getJsonToGame(){for(let _0x4695ba=0x0;_0x4695ba<jsonList['length'];_0x4695ba++){let _0x530ce0=jsonList[_0x4695ba]['split']('_')[0x0];let _0x4f7716=jsonList[_0x4695ba]['split']('_')[0x1];let _0x208429=_0x4f7716['includes']('.zip')?'':'.json';const _0x234e29=rootPath+'/'+_0x530ce0+'/'+_0x4f7716+_0x208429;const _0x261866=!_0x208429&&_0x4f7716['split']('.')[0x0];const _0x3603fc=rootPath+'/'+_0x261866+'.json';fs['access']({'path':rootPath+'/'+_0x530ce0,'success'(_0x46d48d){},'fail'(_0x5b7fe1){fs['mkdir']({'dirPath':rootPath+'/'+_0x530ce0,'recursive':!![],'success'(_0x4976b5){}});},'complete'(){wxReadFile(_0x234e29)['then'](_0x28cadc=>{if(_0x208429){hasJsonToGame(_0x4f7716,_0x28cadc['data']);}else{wxReadFile(_0x3603fc,_0x261866,!![]);}})['catch'](_0x1b6a6c=>{wx['downloadFile']({'url':downloadUrl+'/'+_0x530ce0+'/'+_0x4f7716+_0x208429,'filePath':_0x234e29,'timeout':0x1d4c0,'success'(_0x2c7895){if(_0x2c7895['statusCode']===0xc8){if(_0x208429){wxReadFile(_0x234e29,_0x4f7716,!![]);}else{fs['unzip']({'zipFilePath':_0x2c7895['filePath']||_0x2c7895['tempFilePath'],'targetPath':rootPath,'success'(_0x46d93b){wxReadFile(_0x3603fc,_0x261866,!![]);},'fail'(_0x1ea474){console['log'](_0x1ea474,'==解压失败');}});}}else{console['error']('下载失败，文件不存在');fs['unlink']({'filePath':rootPath+'/'+_0x530ce0+'/'+_0x4f7716+_0x208429,'success'(_0x5d22af){},'fail'(_0x250c23){}});}},'fail'(_0x185853){console['log'](_0x185853,'====下载失败');}});});}});}}function intoGame(){require('./weapp-adapter.js');require('./manifest.js');require('./egret.wxgame.js');const _0xa145b1=require('./library/file-util');const _0x4cfd91=null;let _0x253701={'entryClassName':'Main','orientation':'auto','frameRate':0x3c,'scaleMode':'fixedWidth','contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':'x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.5','showLog':![],'maxTouches':0x2,'renderMode':'webgl','audioType':0x0,'calculateCanvasScaleFactor':function(_0x26347f){var _0xe58b7=_0x26347f['backingStorePixelRatio']||_0x26347f['webkitBackingStorePixelRatio']||_0x26347f['mozBackingStorePixelRatio']||_0x26347f['msBackingStorePixelRatio']||_0x26347f['oBackingStorePixelRatio']||_0x26347f['backingStorePixelRatio']||0x1;return(window['devicePixelRatio']||0x1)/_0xe58b7;}};const _0x5e5c7c=function(){egret['runEgret'](_0x253701);};if(wx['loadSubpackage']){require('./loading.js');_0x253701['entryClassName']='loading';_0x5e5c7c();var _0x4debc4=wx['loadSubpackage']({'name':'package1','success':function(_0x15eda4){loading['instance']['setProgress']('正在加载主程序...',Math['floor'](0x64));loading['instance']['onSuccess']();}});_0x4debc4['onProgressUpdate'](_0x23e224=>{loading['instance']['setProgress']('正在加载主程序...',Math['floor'](_0x23e224['progress']));});}else{require('./package1/game.js');_0x5e5c7c();}const _0x38d7f6=wx['getUpdateManager']();_0x38d7f6['onCheckForUpdate'](function(_0x3f1a58){if(_0x3f1a58['hasUpdate']){wx['showModal']({'title':'更新提示','content':'该小游戏有新版本,正在为您下载新版本请稍后!','showCancel':![],'success':function(_0x1c3e8b){}});}});_0x38d7f6['onUpdateReady'](function(){wx['showModal']({'title':'更新提示','content':'新版本已经准备好，点击确定重启应用!','showCancel':![],'success':function(_0x3c3280){if(_0x3c3280['confirm']){_0xa145b1['fs']['remove'](wx['env']['USER_DATA_PATH']+'/');_0x38d7f6['applyUpdate']();}}});});_0x38d7f6['onUpdateFailed'](function(){wx['showModal']({'title':'更新提示','content':'新版本下载失败,请检查网络!','showCancel':![],'success':function(_0x451bc8){if(_0x451bc8['confirm']){wx['exitMiniProgram']();}}});});}