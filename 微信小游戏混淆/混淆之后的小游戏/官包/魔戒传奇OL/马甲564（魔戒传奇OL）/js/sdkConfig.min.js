var egret = window.egret;var _openDataContext,singleQQVideoAd,mychanel=window.GJlenged_chanel;if(mychanel){var args={},platform="",gift_id=-1;switch(mychanel){case"opporpk":opporpkInit();break;case"wxgame":wxgameInit();break;case"qqgame":qqgameInit();break;case"baidugame":baidugameInit();break;case"xbtxhwkyx":hwgameInit();break;case"ttgame":ttgameInit();break;case"vivogame":vivogameInit();break;case"dchwgame":dchwgameInit();break;case"newvivogame":newVivogameInit();break;case"newOppogame":newOpporpkInit();break;case"wx360game":wx360gameInit();break;case"mfsqgame":generalQQInit("1111141355");break;case"mrbjqqgame":generalQQInit("1111420514");break;case"mfxyxmgame":xmGeneralInit("2882303761518943674");break;case"mrbjxmgame":xmGeneralInit("2882303761518970994");break;case"mfxyoppo":opppGeneralInit("30444669","com.xy.ttzzh5.nearme.gamecenter")}}else{args=getArgs(),platform="fd";args.pf&&(platform=args.pf);var wanbaStr=window.location.host||" ";wanbaStr=wanbaStr.split(".")[0];gift_id=-1}function opppGeneralInit(s,i){console.log("通用的oppo接口 进入方法"),platform=window.GJlenged_chanel,qg.login({success:function(e){var n=JSON.stringify(e.data);if(console.log("bt版OppO :"+n),e.data.token){qg.getSystemInfo({success:function(e){console.log("平台版本号"+e.platformVersion),e.platformVersion&&(args.platformVersion=e.platformVersion)}});var o=(new Date).getTime(),a=e.data.token,t=getGlobalConfig().loginUrl+"?cb=?&appId="+s+"&timeStamp="+o+"&pkgName="+i+"&token="+a;console.log("bt版OppO 请求Url",t);var r=new XMLHttpRequest;r.open("GET",t,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){console.log("获得到的数据json字符串",r.responseText);var e=r.responseText.substring(2,r.responseText.length-1);console.log("截取后的json字符串",e),console.log("获得到的数据json对象  ",JSON.parse(e));var n=JSON.parse(e);if(console.log("登录状态及userId",n.errCode,n.userInfo.userId),n.errCode&&200==n.errCode){args.uid=n.userInfo.userId,args.token=a,args.appKey=s;var o=platform+"_"+args.uid;foxgame.LoginController.instance.refreshLogin(o)}}console.log("readyState mfhxOppo "+r.readyState,"status mfhxOppo "+r.status)}}},fail:function(e){console.log("通用oppo :"+JSON.stringify(e))}}),qg.setKeepScreenOn({keepScreenOn:!0})}function xmGeneralInit(t){platform=window.GJlenged_chanel,qg.login({success:function(o){console.log("登录成功了 "+o.data.appAccountId+" "+o.data.session);var e=getGlobalConfig().loginUrl+"?cb=?&appId="+t+"&uid="+o.data.appAccountId+"&session="+o.data.session,a=new XMLHttpRequest;a.open("GET",e,!0),a.send(),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText;console.log("jsonData"+e);a.responseText.substring(2,a.responseText.length-1);args.uid=o.data.appAccountId,args.session=o.data.session,args.appKey=t,console.log("uid= "+args.uid+"args.uid ="+args.session);var n=platform+"_"+args.uid;foxgame.LoginController.instance.refreshLogin(n)}}},fail:function(e){console.log("登录失败 ")}})}function generaloppogamePay(e){qg.pay({appId:e.appId,token:e.token,timestamp:e.timestamp,orderNo:e.orderNo,paySign:e.paySign,success:function(e){console.log("发起支付成功:",JSON.stringify(e))},fail:function(e){console.log("发起支付失败:",JSON.stringify(e))}})}function xmGeneralpayView(e){var n=parseInt(e.appAccountId),o=parseInt(e.feeValue);console.log("xmgame paying-- "),console.info(e),console.log("intAppAccountId: "+n+" ||| intFeeValue: "+o),console.log("输出商品描述 "+e.displayName),qg.pay({orderInfo:{appId:e.appId,appAccountId:n,session:e.session,cpOrderId:e.cpOrderId,cpUserInfo:e.cpUserInfo,displayName:e.displayName,feeValue:o,sign:e.sign},success:function(e){console.log("支付成功信息--")},fail:function(e){console.log("支付失败--")}})}function opporpkInit(){platform=window.GJlenged_chanel,qg.login({pkgName:"com.qulexbtx.kyx.nearme.gamecenter",success:function(e){args.uid=e.uid,args.pkgName="com.qulexbtx.kyx.nearme.gamecenter",args.token=e.token,args.appKey=30004831,console.log("login sucess")},fail:function(e){console.log("login error of",JSON.stringify(e))}}),qg.setKeepScreenOn({keepScreenOn:!0})}function newOpporpkInit(){platform=window.GJlenged_chanel,qg.login({success:function(e){var n=JSON.stringify(e.data);if(console.log("newOppogamesuccessData :"+n),e.data.token){qg.getSystemInfo({success:function(e){console.log("平台版本号"+e.platformVersion),e.platformVersion&&(args.platformVersion=e.platformVersion)}});var o=30249380,a=(new Date).getTime(),t=e.data.token,r=getGlobalConfig().loginUrl+"?cb=?&appId="+o+"&timeStamp="+a+"&pkgName=com.hzlh.lyysh5.nearme.gamecenter&token="+t;console.log("webUrl",r);var s=new XMLHttpRequest;s.open("GET",r,!0),s.send(),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){console.log("获得到的数据json字符串",s.responseText);var e=s.responseText.substring(2,s.responseText.length-1);console.log("截取后的json字符串",e),console.log("获得到的数据json对象",JSON.parse(e));var n=JSON.parse(e);console.log("登录状态及userId",n.errCode,n.userInfo.userId),n.errCode&&200==n.errCode&&(args.uid=n.userInfo.userId,args.token=t,args.appKey=o)}console.log("readyState"+s.readyState,"status"+s.status)}}},fail:function(e){console.log("newOppogamefailData :"+JSON.stringify(e))}}),qg.setKeepScreenOn({keepScreenOn:!0})}function setLoadingProgress(e){qg.setLoadingProgress({progress:e})}function loadingComplete(){qg.loadingComplete({success:function(e){console.log("关闭成功")},fail:function(e){console.log("关闭失败")},complete:function(e){console.log("关闭"),console.log(e)}})}function generalQQInit(n){platform=window.GJlenged_chanel,qq.login({success:function(e){e.code&&(args.appKey=n,qq.request({url:getGlobalConfig().loginUrl+"?cb=?",data:{code:e.code,appid:args.appKey},header:{"content-type":"application/json"},method:"GET",success:function(e){args.uid=e.data.openid,args.session_key=e.data.session_key},fail:function(e){console.log("qq request error:",JSON.stringfy(e))}}))},fail:function(e){console.log("login error of:",JSON.stringify(e))}}),qq.saveAppToDesktop({success:function(e){console.log("添加图标成功"+ +JSON.stringify(e))},fail:function(e){console.log("添加图标失败"+JSON.stringify(e))},complete:function(e){console.log("添加图标完成"+JSON.stringify(e))}}),qq.setKeepScreenOn({keepScreenOn:!0}),qq.showShareMenu({showShareItems:["qq","qzone"],withShareTicket:!0}),qq.onShareAppMessage(function(){var e;console.log("右上角分享成功"),e=["登录即送VIP30，百万元宝免费领!","登录送时装，你就是这条街上最靓的仔!","我大刀玩的贼6!!!"],"mrbjqqgame"==window.GJlenged_chanel&&(e=["极速升级！登录领取免费VIP！","神兵、战宠免费送！战力逆天暴涨！","热血不灭，极品装备满屏掉落！","BOSS刀刀光柱，10倍爆率装备全靠捡！","好兄弟邀你一起攻沙城做城主！"]);var n=Math.floor(Math.random()*e.length);return{title:e[n],imageUrl:getGlobalConfig().shareUrl+(n+1)+".jpg"}}),_openDataContext=qq.getOpenDataContext()}function mfsqShowFriendsRank(e){mfsqSendMessageToOpenDataArea(e,"friend")}function mfsqSendMessageToOpenDataArea(e,n){_openDataContext.postMessage({command:e,type:n})}function mfsqSetSelfDataInfo(e){qq.setUserCloudStorage({KVDataList:e,success:function(){console.log("数值数据域信息成功"),mfsqSendMessageToOpenDataArea("friend","get")},fail:function(){console.log("数值数据域信息失败")}})}function mfsqAddRecentColorSign(){console.log("浏览彩签方法进入"),qq.getSetting({success:function(e){e.authSetting["scope.recentColorSign"]||qq.authorize({scope:"scope.recentColorSign",success:function(e){console.log("授权成功"),qq.addRecentColorSign({query:"a=1&b=2",success:function(e){console.log("addRecentColorSign success: ",e)},fail:function(e){console.log("addRecentColorSign fail: ",e)},complete:function(e){console.log("addRecentColorSign complete: ",e)}})},fail:function(e){console.log("授权失败")}})}}),qq.subscribeAppMsg({subscribe:!0,success:function(e){console.log("----subscribeAppMsg----success",e)},fail:function(e){console.log("----subscribeAppMsg----fail",e)}})}function qqgameInit(){function e(){return console.log("右上角分享成功"),foxgame.ShareWanbaControler.getInstance().sendWANBA_SHARE_IN_SUCC_C(),{title:"登录即送VIP13，百万元宝免费领！",imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg"}}platform=window.GJlenged_chanel,qq.login({success:function(e){e.code&&(args.appKey="1108023326",qq.request({url:getGlobalConfig().loginUrl+"?cb=?",data:{code:e.code},header:{"content-type":"application/json"},method:"GET",success:function(e){args.uid=e.data.openid,args.session_key=e.data.session_key},fail:function(e){console.log("qq request error:",JSON.stringfy(e))}}))},fail:function(e){console.log("login error of:",JSON.stringify(e))}}),qq.setKeepScreenOn({keepScreenOn:!0}),qq.showShareMenu({showShareItems:["qq","qzone"],withShareTicket:!0}),window.callbackFuncqq=e,qq.onShareAppMessage(e),createQQVideoAd(),window.qqOpenUrl=function(e){console.log("打开链接"+e),qq.openUrl({url:e,target:1,success:function(e){console.log("打开成功")},fail:function(e){console.log("打开异常:",JSON.stringfy(e))}})},qq.getSystemInfo({success:function(e){console.log("版本号 "+e.version),console.log("尝试获取平台信息： "+e.AppPlatform),args.qqplatform=e.AppPlatform}})}function createQQVideoAd(){(singleQQVideoAd=qq.createRewardedVideoAd({adUnitId:"071eeaf970a149658e994f472dbeeb17"})).onError(function(e){console.log("qq小游戏广告出错:",JSON.stringfy(e))}),singleQQVideoAd.onLoad(function(){console.log("qq激励广告加载成功")}),singleQQVideoAd.onClose(function(e){console.log(e);var n=!1;n=e&&e.isEnded||void 0===e?(console.log("广告播放完毕"),!0):(console.log("中途退出不发奖"),!1),foxgame.WanbaQQVideoAdController.getInstance().onVideoEnd(n)})}function showQQVideoAd(){singleQQVideoAd.show().catch(function(e){console.log("广告展示错误:",e),rewardedVideoAd.load().then(function(){rewardedVideoAd.show()})})}function wxxhgameInit(n){platform=window.GJlenged_chanel,console.log("接收到的参数啊22 "+platform+"   "+JSON.stringify(n)),wx.request({url:getGlobalConfig().loginUrl+"?cb=?",data:{app_id:n.data.app_id,user_token:n.data.cp_user_token,mem_id:n.data.mem_id},header:{"content-type":"application/json"},method:"GET",success:function(e){console.log("wx login success"),args.uid=n.data.mem_id},fail:function(e){console.log("wx request error of:",e)}}),wx.setKeepScreenOn({keepScreenOn:!0}),wx.showShareMenu({withShareTicket:!0}),"wx_xinghe"!=window.GJlenged_chanel&&wx.onShareAppMessage(function(){return{title:"登录即送VIP13，百万元宝免费领！",imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg"}})}function wxgameInit(){platform=window.GJlenged_chanel,wx.login({success:function(e){e.code&&(args.appKey="",wx.request({url:getGlobalConfig().loginUrl+"?cb=?",data:{user_token:e.code},header:{"content-type":"application/json"},method:"GET",success:function(e){console.log("wx login success"),console.log(JSON.stringify(e)),args.uid=e.data.openid,args.session_key=e.data.session_key},fail:function(e){console.log("wx request error of:",e)}}))},fail:function(e){console.log("login error of",JSON.stringify(e))}}),wx.setKeepScreenOn({keepScreenOn:!0}),wx.showShareMenu({withShareTicket:!0}),"wx_xinghe"!=window.GJlenged_chanel&&wx.onShareAppMessage(function(){return{title:"登录即送VIP13，百万元宝免费领！",imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg"}})}function updateSelfInfo_wxgame_xinghe(){wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]&&wx.getUserInfo({success:function(e){window.huoSdk.updateSelfInfo({data:{raw_data:e.rawData,signature:e.signature,encrypted_data:e.encryptedData,iv:e.iv}}).then(function(e){console.log("updateSelfInfo_wxgame_xinghe "+e.msg)})}})}})}function updateRoleInfo_wxgame_xinghe(e,n,o,a,t,r,s,i){huoSdk.updateRoleInfo({data:{"role-event":e,"role-server_id":n,"role-server_name":o,"role-role_id":a,"role-role_name":t,"role-role_level":r,"role-role_vip":s,"role-combat_num":i}}).then(function(e){},function(e){})}function baidugameInit(){platform=window.GJlenged_chanel,baiduLogin(),swan.setKeepScreenOn({keepScreenOn:!0})}function baiduLogin(){swan.login({success:function(e){e.code&&swan.request({url:getGlobalConfig().loginUrl,data:{code:e.code},header:{"content-type":"application/json"},method:"GET",success:function(e){window.loadStart(),console.log(e),args.uid=e.data.openid,args.session_key=e.data.session_key},fail:function(e){console.log("request error:",e)}})},fail:function(e){swan.showModal({title:"登录失败",content:"是否重新登录？",cancelText:"退出游戏",success:function(e){e.confirm?(console.log("点击了确定"),baiduLogin()):e.cancel&&(console.log("点击了取消"),swan.exit())}})}})}function showHWFloat(){hbs.showFloatWindow({appid:"101033515",success:function(){console.log("show float window success.")},fail:function(e,n){console.log("show float window fail:"+e+", code:"+n)}})}function hideHWFloat(){hbs.hideFloatWindow({appid:"101033515",success:function(){console.log("hide float window success")},fail:function(e,n){console.log("hide float window fail:"+e+", code:"+n)}})}function hwgameInit(){hbs.onShow(showHWFloat),hbs.onHide(hideHWFloat),platform=window.GJlenged_chanel,hbs.setKeepScreenOn({keepScreenOn:!0}),hwlogin()}function hwlogin(){hbs.gameLogin({forceLogin:1,appid:"101033515",success:function(e){args.uid=e.playerId,showHWFloat(),console.log("登录成功:"+JSON.stringify(e))},fail:function(e,n){hwlogin()}})}window.showQQVideoAd=showQQVideoAd,window.updateSelfInfo_wxgame_xinghe=updateSelfInfo_wxgame_xinghe,window.updateRoleInfo_wxgame_xinghe=updateRoleInfo_wxgame_xinghe;var isLogin,hwresetLoad="";function dchwgameInit(){hwresetLoad="no",platform=window.GJlenged_chanel,hbs.gameLogin({forceLogin:1,appid:"101901823",success:function(e){args.uid=e.playerId},fail:function(e,n){console.log("失败 "+e+", code:"+n),7004==n&&(hwresetLoad="yes")}}),hbs.setKeepScreenOn({keepScreenOn:!0})}function dchwgameResetLogin(){hwresetLoad="no",platform=window.GJlenged_chanel,hbs.gameLogin({forceLogin:1,appid:"101901823",success:function(e){args.uid=e.playerId;var n=platform+"_"+args.uid;foxgame.LoginController.instance.hwRestLogin(n)},fail:function(e,n){console.log("失败 "+e+", code:"+n),7004==n&&(hwresetLoad="yes")}}),hbs.setKeepScreenOn({keepScreenOn:!0})}function getHwLoadStatus(){return hwresetLoad}function hwShare(){}function ttgameInit(){platform=window.GJlenged_chanel,tt.login({force:!1,success:function(e){var n;(e.code||e.anonymousCode)&&(args.appKey="ttff7889c560524eff",n=null==e.code?"":e.code,isLogin=e.isLogin,console.log("res.isLogin"+e.isLogin+"   "+getGlobalConfig().loginUrl+"   "+n+"  "+e.anonymousCode),tt.request({url:getGlobalConfig().loginUrl+"?cb=?",data:{code:n,anonymous_code:e.anonymousCode},header:{"content-type":"application/json"},method:"GET",success:function(e){var n;console.log("tt login success    "+e.data.session_key+"  ...  "+e.data.openid+"  ...  "+e.data.anonymous_openid),e.data.openid?n=e.data.openid:e.data.anonymous_openid&&(n=e.data.anonymous_openid),args.uid=n,args.session_key=e.data.session_key;var o=platform+"_"+args.uid;foxgame.LoginController.instance.hwRestLogin(o)},fail:function(e){console.log("tt request error of:",e)}}))}}),tt.setKeepScreenOn({keepScreenOn:!0}),tt.showShareMenu({withShareTicket:!0}),tt.onShareAppMessage(function(){return{title:"登录即送VIP13，百万元宝免费领！",imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg"}}),tt.getSystemInfo({success:function(e){console.log("ttsdk基础信息 "+JSON.stringify(e))}})}function vivogameInit(){platform=window.GJlenged_chanel,qg.authorize({type:"token",success:function(e){console.log("账号初始化成功！"),qg.getProfile({token:e.accessToken,success:function(e){args.uid=e.openid,console.log("请求用户信息成功 openid是 "+e.openid)},fail:function(e,n){console.log("请求用户信息失败! 错误码 "+n)}})},fail:function(e,n){console.log("账号初始化失败！ 错误码 "+n)}}),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){console.log("调节亮度成功 handling success")},fail:function(e,n){console.log("调节亮度失败handling fail, code "+n)}})}function newVivogameInit(){platform=window.GJlenged_chanel,qg.login({success:function(e){if(console.log("登录成功",JSON.stringify(e)),e.token){console.log("获得toKen",e.token);var n=(new Date).getTime(),o=e.token,a=n+RndNum(19),t=getGlobalConfig().loginUrl+"?cb=?&appId=100005042&timestamp="+n+"&pkgName=com.bc.tlsh5.vivominigame&token="+o+"&nonce="+a;console.log("webUrl",t);var r=new XMLHttpRequest;r.open("GET",t,!0),r.send(),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){console.log("获得到的数据",r.responseText);var e=r.responseText.substring(2,r.responseText.length-1);console.log("截取后的json字符串",e),console.log("获得到的数据",JSON.parse(e),e.msg,e.code);var n=JSON.parse(e);console.log("获得到的数据",n.msg,n.code),n.data}console.log("readyState"+r.readyState,"status"+r.status)}}},fail:function(e){console.log("login error of",JSON.stringify(e))}}),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){console.log("调节亮度成功 handling success")},fail:function(e,n){console.log("调节亮度失败handling fail, code "+n)}})}function RndNum(e){for(var n="",o=0;o<e;o++)n+=Math.floor(10*Math.random());return n}var channel=platform;if(wanbaStr==getGlobalConfig().wanBaAppId){$(document).attr("title",getGlobalConfig().wanBatitle);for(var paramA,payData_b,url=window.location.search||" ",s=(gift_id=-1,url.split("&")),i=0;i<s.length;i++)"GIFT"==(paramA=s[i].split("="))[0]&&(gift_id=paramA[1]);function showPayView(e){payData_b=e,window.popPayTips({version:"v2",defaultScore:parseInt(e.money),appid:e.appid})}function wanba_login(e){e?(window.reportRegister(),console.log("上传成功+注册")):(window.reportLogin(),console.log("上传成功+登陆"))}channel=window.OPEN_DATA.pf,window.getOpenKey(function(e){var n=e.data;for(var o in n)switch(o){case"appid":args.gameId=n[o];break;case"openid":args.uid=n[o];break;case"openkey":args.appKey=n[o]}args.isFollowingAccount=window.OPEN_DATA.isFollowingAccount,args.chanel=window.OPEN_DATA.channel,platform="wanba_ts",args.via=window.OPEN_DATA.via,foxgame.LoginController.wanBaCallEgret()}),mqq.device.setScreenStatus&&mqq.device.setScreenStatus({status:1},function(e){console.log(e.message)}),mqq.invoke("ui","setOnAddShortcutHandler",{callback:mqq.callback(shoucang,!1,!0)}),initfenxiang(),window.__paySuccess=function(){console.log("充值成功");var e=getGlobalConfig().platformUrl;e=e+"/callback/wanBaCallBack?cb=?&appid="+payData_b.appid+"&openid="+payData_b.openid+"&openkey="+payData_b.openkey+"&zoneid="+payData_b.zoneid+"&itemid="+payData_b.itemid+"&money="+payData_b.money+"&billno="+payData_b.billno+"&count=1&qua=qua&pf="+getQLDOpf()+"&format=json",$.ajax({type:"post",url:e,params:payData_b,success:function(e){"1004"==e.code||"1002"==e.code?alert("余额不足，请先充值"):"0"==e.code&&alert("充值成功")},errcode:function(e){alert("余额不足")}})},window.__payError=function(){alert("支付失败")},window.__payClose=function(){alert("支付取消")}}function loadJs(e,n){if("wx360game"!=mychanel){var o=document.createElement("script");o.type="text/javascript",void 0!==n&&(o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()}),o.src=e,document.body.appendChild(o)}}function QQVIPpay(n){activityPay.pay({data:{productId:n,sandbox:1,appid:"1108023326"},afterInit:function(e){3==e.ret&&(console.log("下单成功:"+e.data.id),foxgame.ShareWanbaControler.getInstance().sendWAN_BA_QQ_BUY_C({appid:"1108023326",openid:"",openkey:"",pf:"wanba_ts",format:"json",billNo:e.data.id,prize:n}))},afterPay:function(e){1==e.ret?(console.log("支付成功:"+e.data.id),foxgame.ShareWanbaControler.getInstance().sendWAN_BA_QQ_BUY_C({appid:"1108023326",openid:"",openkey:"",pf:"wanba_ts",format:"json",billNo:e.data.id,prize:n})):2==e.ret&&alert("取消支付")}})}function QQFightRank(e){var n=new Array;n.push({key:"fight",value:e});var o={KVDataList:n,success:QQFightRankSucc,fail:QQFightRankFail,complete:QQFightRankComp};qq.setUserCloudStorage(o)}function QQFightRankSucc(){console.log("排行榜数据设置成功返回")}function QQFightRankFail(){console.log("排行榜数据设置失败返回")}function QQFightRankComp(){console.log("排行榜数据设置完成返回")}function wxiOSPay(e){wx.showModal({title:"支付",content:"iOS下不支持"})}function oppopayView(e){console.log(JSON.stringify(e)),qg.pay({appId:e.appId,pkgName:"com.qulexbtx.kyx.nearme.gamecenter",token:e.token,timestamp:e.timestamp,orderNo:e.orderNo,paySign:e.paySign,success:function(e){console.log("发起支付成功:",JSON.stringify(e))},fail:function(e){console.log("发起支付失败:",JSON.stringify(e))}})}function vivopayView(e){qg.pay({orderInfo:e,success:function(e){qg.showToast({message:"支付成功："+JSON.stringify(e)})},fail:function(e,n){qg.showToast({message:"支付失败："+n+": "+e})},cancel:function(){qg.showToast({message:"用户取消"})}})}function newVivopayView(e){qg.pay({orderInfo:e,success:function(e){qg.showToast({message:"支付成功："+JSON.stringify(e)})},fail:function(e,n){qg.showToast({message:"支付失败："+n+": "+e})},cancel:function(){qg.showToast({message:"用户取消"})}})}function newOppogamePay(e){qg.pay({appId:e.appId,token:e.token,timestamp:e.timestamp,orderNo:e.orderNo,paySign:e.paySign,success:function(e){console.log("发起支付成功:",JSON.stringify(e))},fail:function(e){console.log("发起支付失败:",JSON.stringify(e))}})}function wx360gameInit(){platform=window.GJlenged_chanel,qh.isLoginSync(function(e){console.log("登录状态",e)}),qh.login({success:function(e){var n=e.code,o=new XMLHttpRequest;o.open("post","https://mp.360.cn/miniplatform/open/oauth2/mp_session_key",!0);var a={app_id:"qyq66nvt7c8jkyw4q1",auth_code:""+n};o.send(JSON.stringify(a)),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){console.log("获得到的数据json字符串 ",o.responseText);var e=JSON.parse(o.responseText);"SUCCESS"==e.code&&(args.uid=e.open_id)}console.log("readyState"+o.readyState,"status"+o.status)}},fail:function(e){console.log("登录失败")}})}function wx360gamePlay(e){var n=getGlobalConfig().wx360GamePayCallBack;console.log("订单信息",e),qh.requestPayment({data:{cp_trade_code:e.orderId,app_secret:"94qj2yu36f5bawsfbmrakapdtrt1t7dk",notify_url:n,rec_amount:100*e.orderMoney,product_name:e.productName,product_price:100,product_num:e.orderMoney,product_desc:e.productName,ext_info:"qyq66nvt7c8jkyw4q1"},success:function(){console.log("发起支付成功")},fail:function(e){console.log("发起支付失败:",JSON.stringify(e))}})}function getQLDOpenKey(){return window.OPEN_DATA.openkey}function getQLDOpf(){return window.OPEN_DATA.pf}function qqpayView(e){"iOS"!=egret.Capabilities.os?(console.log("支付信息:",JSON.stringify(e)),qq.requestMidasPayment({prepayId:e.prepayId,starCurrency:parseInt(e.starCurrency),success:function(e){console.log("发起支付成功:",JSON.stringify(e))},fail:function(e){console.log("发起支付失败:",JSON.stringify(e))},complete:function(e){console.log("发起支付完成:",JSON.stringify(e))}})):qq.showModal({title:"支付",content:"iOS暂不支持支付"})}function wxpayView(e){wx.requestMidasPayment({mode:"game",offerId:getGlobalConfig().midasId,currencyType:"CNY",buyQuantity:payData.buyQuantity,success:function(e){console.log("发起支付成功:",JSON.stringify(e))},fail:function(e,n){console.log("发起支付失败:",e,n)}})}function wxpay_xinghe_view(e){console.log("支付数据 "+JSON.stringify(e)),huoSdk.pay({data:{"order-currency":"CNY","order-cp_order_id":e.orderId,"order-product_price":e.orderMoney,"order-product_id":e.goodsId,"order-product_cnt":1,"order-product_name":e.productName,"order-product_desc":"金币","order-ext":"","role-event":"","role-server_id":e.serverId,"role-server_name":e.serverName,"role-role_id":e.roleId,"role-role_name":e.roleName,"role-role_level":e.level,"role-role_vip":e.vipLevel}}).then(function(e){console.log("支付返回结果 "+JSON.stringify(e))}),updateSelfInfo_wxgame_xinghe()}function baiduPayView(e){console.log(e),"iOS"!=egret.Capabilities.os?swan.requestPolymerPayment({orderInfo:{dealId:e.dealId,appKey:e.appKey,totalAmount:e.totalAmount,tpOrderId:e.tpOrderId,dealTitle:e.dealTitle,rsaSign:e.rsaSign,signFieldsRange:1,bizInfo:e.bizInfo},bannedChannels:["BDWallet"],success:function(e){swan.showToast({title:"支付成功",icon:"success"})},fail:function(e){console.log("支付失败:",JSON.stringify(e)),swan.showToast({title:"支付失败"})}}):swan.showModal({title:"支付",content:"iOS下不支持"})}function huaweiPayView(e){hbs.hwPay({orderInfo:e,success:function(e){console.log("pay suc:",e)},fail:function(e,n){console.log("pay fail:",n+e)}})}function dchwgamePayView(e){hbs.hwPay({orderInfo:e,success:function(e){console.log("dchwgame pay suc:")},fail:function(e,n){console.log("dchwgame pay fail:",n+e)}})}function ttpayView(n){if("iOS"!=egret.Capabilities.os)if(0!=isLogin){console.log("payData.amt"+n.amt);var e={money:n.amt/100,orderId:n.pfBill_no},o=JSON.stringify(e);tt.requestGamePayment({mode:"game",env:0,currencyType:"CNY",plateform:"android",buyQuantity:n.amt,zoneId:1,customId:n.bill_no,extraInfo:o,success:function(e){console.log("发起支付成功:",JSON.stringify(e)),foxgame.RechargeController.getInstance().ttpayView(n)},fail:function(e,n){console.log("发起支付失败:",e,n)}})}else tt.login({force:!0});else tt.showModal({title:"支付",content:"iOS暂不支持支付"})}loadJs("https://imgcache.gtimg.cn/club/platform/lib/pay/activity/activity.pay.js",function(){console.log("加载qq会员充值文件成功")}),window.QQFightRank=QQFightRank;var pfTypeStr={pf9G:"9G",pfJRKH:"JRKH",pfLBW:"LBW",pfI1758:"I1758",pfOpenEgret:"OpenEgret",pfImagine:"Imagine",pfKouliang:"Kouliang",pfQunhei:"Qunhei",pfHaihai:"Haihai",pfI5543:"I5543",pfI59:"I59",ptAiaiyou:"Aiaiyou"};function getArgs(){for(var e={},n=(location.search.substring(1)||" ").split("&"),o=0;o<n.length;o++){var a=n[o].indexOf("=");if(-1!=a){var t=n[o].substring(0,a),r=n[o].substring(a+1);r=decodeURIComponent(r),e[t]=r}}return e.isHttp="http:"==location.protocol,e}function checkWebSocket(){if(window.WebSocket);else{console.error("WebSocket not supported!");var e=document.createElement("div");e.innerHTML="您的浏览器不支持WebSocket，建议升级！",e.style("z-Index",9999),e.style("position","absolute"),e.style("text-align","center"),e.style("top","40%"),e.style("left","40%"),e.style("width","20%"),e.style("height","20%"),document.body.appendChild(e),window.alert("您的浏览器不支持WebSocket，建议升级！")}}window.jQuery&&jQuery.noConflict();var ttkfBtn,userInfoData={};function errorHandle(e){"9G"!=platform?window.location.reload():parent.location.reload()}function checkPlatform(){return{pfName:platform,pfAppID:123456,appId:100,isTest:!0}}function checkPlatformStr(){return platform}function getchannel(){return channel}function getgift_id(){return gift_id}function getAnnounceVersion(){return""}function getActivityCfgVersion(){return""}function getJsonDBVersion(){return""}function getDataTxtVersion(){return""}function checkLogin(){return platform&&0!=platform&&""!=platform?(userInfoData.via=args.via,userInfoData.gift_id=gift_id,userInfoData.share=args.share,userInfoData.erweima=args.erweima,userInfoData.uid=args.uid,userInfoData.username=args.username,userInfoData.prefix=platform+"_",userInfoData.appKey=args.appKey,userInfoData.sid=args.sid,userInfoData.pid=args.pid,userInfoData.isHttp=args.isHttp,userInfoData.hlmy_gw=args.hlmy_gw,userInfoData.nonce=args.nonce,userInfoData.token=args.token,userInfoData.stime=args.stime,userInfoData.ticket=args.ticket,userInfoData.sign=args.sign,userInfoData.gameId=args.gameId,userInfoData.session_key=args.session_key,userInfoData.chanel=args.chanel,userInfoData.signType=args.signType,userInfoData.mType=args.mType,userInfoData.fp=args.fp,userInfoData.clientId=args.clientId,userInfoData.signg=args.signg,userInfoData.cpid=args.cpid,userInfoData.auth=args.auth,userInfoData.verify=args.verify,userInfoData.channel_id=args.channel_id,userInfoData.appid=args.appid,userInfoData.channelid=args.channelid,userInfoData.channeluid=args.channeluid,userInfoData.qqesnickname=args.qqesnickname,userInfoData.qqesavatar=args.qqesavatar,userInfoData.zzq=args.zzq,userInfoData.skey=args.skey,userInfoData.gkey=args.gkey,userInfoData.mid=args.mid,userInfoData.session=args.session,userInfoData.platformVersion=args.platformVersion,userInfoData.qqPlartForm=args.qqplatform,"chengzi"==platform&&(userInfoData.ext=args.ext),"jdh5"==platform&&(userInfoData.jdticket=args.jdticket,userInfoData.currency=args.currency),userInfoData.qqestimestamp=args.qqestimestamp,userInfoData.cpguid=args.cpguid,userInfoData.state=args.state,userInfoData.scopes=args.scopes,userInfoData.device=args.device,userInfoData.domain=args.domain):(userInfoData.ret=0,userInfoData.uid="",userInfoData.username="gamexigema",userInfoData.prefix="",args.uid&&(userInfoData.uid=args.uid),args.username&&(userInfoData.username=args.username)),userInfoData}function callPay(e){if("wanba_ts"!=platform)if("opporpk"!=platform)if("qqgame"!=platform&&"mfsqgame"!=platform&&"mrbjqqgame"!=platform)if("wx_xinghe"!=platform)if("wxgame"!=platform)if("baidugame"!=platform)if("xbtxhwkyx"!=platform)if("ttgame"!=platform)if("vivogame"!=platform)if("dchwgame"!=platform)if("newvivogame"!=platform)if("newOppogame"!=platform)if("wx360game"!=platform)if("mfxyxmgame"!=platform&&"mrbjxmgame"!=platform)if("mfxyoppo"!=platform){var n={};1==e.isUcgameIos?(console.log("ucgame---UCIOS_Event_Channel_Pay"),n.func="UCIOS_Event_Channel_Pay"):n.func="Event_Channel_Pay",n.params=e;JSON.stringify(n.params);if(window.parent.postMessage(JSON.stringify(n),"*"),"dqdAnd"!=platform){if("xiaoqiIOS"!=platform)return"JRKH"==platform?window.parent.postMessage(e,"*"):"9G"==platform||("I1758"==platform?hlmy.pay(e):"OpenEgret"==platform||("Qunhei"==platform?parent.window.location.href=e:"I5543"==platform?parent.window.location.href=e:"I59"==platform||("Haihai"==platform?parent.window.location.href=e:"Imagine"==platform?changxiangLib.pay(e):"Aiaiyou"==platform&&(parent.window.location.href=e)))),"success";o=e.diamond,a=e.orderId,t=e.playerName,r=e.price,s=e.productId,i=e.productName,l=e.serverId,c=e.userId;window.location.href="?diamond="+o+"&orderId="+a+"&playerName="+t+"&price="+r+"&productId="+s+"&productName="+i+"&serverId"+l+"&userId"+c}else{var o=e.diamond,a=e.orderId,t=e.playerName,r=e.price,s=e.productId,i=e.productName,l=e.serverId,c=e.userId;window.location.href="?diamond="+o+"&orderId="+a+"&playerName="+t+"&price="+r+"&productId="+s+"&productName="+i+"&serverId"+l+"&userId"+c}}else generaloppogamePay(e);else xmGeneralpayView(e);else wx360gamePlay(e);else newOppogamePay(e);else newVivopayView(e);else dchwgamePayView(e);else vivopayView(e);else ttpayView(e);else huaweiPayView(e);else baiduPayView(e);else wxpayView(e);else wxpay_xinghe_view(e);else qqpayView(e);else oppopayView(e);else showPayView(e)}function callRollInfo(e){if("1758"==platform)parent.window.HLMY_SDK.roleInfo({serverId:e.serverId,serverName:e.serverName,isNewRole:e.isNewRole,roleId:e.roleId,roleName:e.roleName,roleLevel:e.roleLevel,roleCoins:e.roleCoins,roleCreateTime:e.roleCreateTime,gameRolePower:e.gameRolePower});else if("wanba_ts"==platform)wanba_login(e.isNewRole);else if("haiwan"==platform){var n=Math.round((new Date).getTime()/1e3);(o={Method:"createRole"}).Ugameid=args.gameId,o.Uid=args.uid,o.Serverid=e.serverId,o.Roleid=e.roleId,o.Time=n,window.parent.postMessage(JSON.stringify(o),"*")}else if("chengzi"==platform)if(e.isNewRole){(o={Method:"createRole"}).qqesuid=args.uid,o.channelid=platform,o.cpgameid=args.gameId,o.serverName=e.serverName,o.serverId=e.serverId;switch(e.roleTypeName){case 1:"战士";break;case 2:"天师";break;case 3:"法师"}o.roleName=e.roleTypeName,o.nickName=e.roleName,console.log("创建角色"),window.parent.postMessage(JSON.stringify(o),"*")}else{var o;(o={Method:"loginGame"}).qqesuid=args.uid,o.channelid=platform,o.cpgameid=args.gameId,o.serverName=e.serverName,o.serverId=e.serverId;switch(e.roleTypeName){case 1:"战士";break;case 2:"天师";break;case 3:"法师"}o.roleName=e.roleTypeName,o.nickName=e.roleName,o.roleLevel=e.roleLevel,o.vipLevel=e.vipLevel,console.log("登陆游戏1"),window.parent.postMessage(JSON.stringify(o),"*")}}function getLowCapabilitiesMobileDeviceBool(){}function ImagineInit(){}function ImagineCreat(){}function goShareTipInfo(){}function getHlmyGw(){return parent.window.hlmy_gw}function onShareTimeline(){window.activityController.sendmessageToServerBySharing()}function appleSharesdk(e){console.log("call appleSharesdk");var n={func:"Event_Channel_Share"};return n.params=e,window.parent.postMessage(JSON.stringify(n),"*"),"success"}function callWechat(e){console.log("call callWechat1111"),parent.window.HLMY_SDK.setShareInfo({state:e.ip+","+e.port,type:"",tipInfo:!0,reward:["金币x1000000"]})}function checkFollow(e){parent.window.HLMY_SDK.checkFollow(e)}function follow(){parent.window.HLMY_SDK.follow()}function reportData_legend_legend(e){if(e&&e.code){var n={};if("createPlayer"==(n.params=e).code)n.func="Event_Create_Game_Player";else if("loginGameSvr"==e.code)n.func="Event_Channel_Login";else if("firstCreation"==e.code)n.func="Event_First_Creation";else if("Enter_Main"==e.code)n.func="Event_Enter_Main";else if("updatePlayer"==e.code)n.func="Event_Update_Game_Player";else if("initsdk"==e.code)n.func="Event_initsdk";else if("getFirstPower"==e.code)n.func="Event_Get_Power";else if("userstatus"==e.code)n.func="userstatus";else if("clickshop"==e.code)n.func="clickshop";else if("wanbafenxiang"==e.code)if(-1!=platform.indexOf("suyi"))n.func="wanbafenxiang";else{if(-1!=platform.indexOf("qqgame"))return void qqfenxiang(e);if(-1!=platform.indexOf("wxgame"))return void wxfenxiang(e);if(-1!=platform.indexOf("wx_xinghe"))return void console.log("星河微信小游戏分享");if(-1==platform.indexOf("jdh5"))return void fenxiang(e);n.func="wanbafenxiang"}else{if("wanbashoucang"==e.code)return void shoucang(e);"suyiguanzhu"==e.code?n.func="suyiguanzhu":"channelshare"==e.code?-1<platform.indexOf("qqgame")&&channelShareQQ(e):"showBuyQQGame"==e.code?n.func="showBuyQQGame":"1758checkRealNameCert"==e.code?n.func="CHECKREALNAMECERT":"1758showRealNameCret"==e.code&&(n.func="SHOWREALNAMECRET")}window.egret_quickgame||window.parent.postMessage(JSON.stringify(n),"*")}}function fenxiang(n){console.log("平台值:"+n.pfStr),"QQLive"!=args.chanel?("webos"==n.pfStr?mqq.invoke("ui","shareMessage",{title:n.str,desc:n.str1,share_type:0,share_url:window.OPEN_DATA.shareurl,image_url:window.OPEN_DATA.appicon,back:!0},function(e){e&&0==e.retCode||alert("分享取消")}):(console.log("进入玩吧分享"),mqq.invoke("ui","setOnShareHandler",function(e){if(console.log("type"+e),0==e&&mqq.ui.shareArkMessage)return console.log("拉起分享  shareurl:"+window.OPEN_DATA.shareurl+"  desc:"+n.str1),void mqq.ui.shareArkMessage({title:n.str,desc:n.str1,share_url:window.OPEN_DATA.shareurl,image_url:window.OPEN_DATA.appicon,back:!0},function(e){e&&0==e.retCode||alert("分享取消")});mqq.invoke("ui","shareMessage",{title:n.str,desc:n.str1,share_type:e,share_url:window.OPEN_DATA.shareurl,image_url:window.OPEN_DATA.appicon},function(e){e&&0==e.retCode||alert("分享取消")})})),mqq.ui.showShareMenu(),foxgame.ShareWanbaControler.getInstance().sendWANBA_SHARE_IN_SUCC_C()):mqq.ui.showShareMenu({title:"赤月传奇",desc:"登录即送VIP13，百万元宝免费领！",share_url:window.OPEN_DATA.shareurl,image_url:window.OPEN_DATA.appicon},function(e){e&&0==e.retCode||alert("分享取消")})}function initfenxiang(){args&&"QQLive"==args.chanel&&mqq.invoke("ui","setOnShareHandler",function(e){mqq.invoke("ui","shareMessage",{title:"赤月传奇",desc:"登录即送VIP13，百万元宝免费领！",share_type:e,share_url:window.OPEN_DATA.shareurl,image_url:window.OPEN_DATA.appicon,back:!0},function(e){e&&0==e.retCode?foxgame.ShareWanbaControler.getInstance().sendWANBA_SHARE_IN_SUCC_C():alert("分享取消")})})}function qqfenxiang(e){qq.shareAppMessage({title:e.str1,imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg"}),foxgame.ShareWanbaControler.getInstance().sendWANBA_SHARE_IN_SUCC_C(),console.log("手动分享成功")}function ttfenxiang(n){tt.shareAppMessage({templateId:"1iagah3ba7ij32optk",query:"",success:function(){console.log("分享成功"),n(!0)},fail:function(e){console.log("分享失败"),n(!1)}})}function channelShareQQ(e){qq.shareAppMessage({title:e.title,imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg",query:e.query}),console.log("channel share suc")}function getlaunchOptionsQQ(){var e=qq.getLaunchOptionsSync();return console.log("获取qq启动参数:",e),e}function wxfenxiang(e){wx.shareAppMessage({title:e.str1,imageUrl:getGlobalConfig().shareUrl+"/share"+Math.floor(4*Math.random()+1)+".jpg"}),foxgame.ShareWanbaControler.getInstance().sendWANBA_SHARE_IN_SUCC_C()}function suyifenxiang(){foxgame.ShareWanbaControler.getInstance().sendWANBA_SHARE_IN_SUCC_C()}function suyigaunzhu(){foxgame.SuyiFollowControler.getInstance().sendCHANNEL_ATTENTION_AWARD_C()}function shoucang(){foxgame.ShareWanbaControler.getInstance().sendWANBA_AWARD_C(1),mqq.ui.addShortcut({action:"web",title:"1107925907"==window.OPEN_DATA.appid?"屠龙单机版":"雄霸天下",icon:window.OPEN_DATA.appicon,url:window.OPEN_DATA.jumpurl,callback:function(e){0==e.result&&foxgame.ShareWanbaControler.getInstance().sendWANBA_AWARD_C(1)}})}function showQRDialog(){window.showQRDialog()}function getGlobalConfig(){var e={serverUrl:"//mfxhgate.biggerking.cn/gateway/servers",announcementUrl:"//mfxhgate.biggerking.cn/gateway/notice?cb=?",isDebug:!0,"1758Url":"//test.6deer.com/callback/1758PlaceAnOrder",wifiUrl:"//test.6deer.com/callback/getWiFiOpenId",wifipay:"//test.6deer.com/callback/wifiPlaceAnOrder",channelUrl:"//test.6deer.com",platformUrl:"http://h5legend-xiaoqi.biggerking.cn/client-mfxh/1.0.0/",wss:"mfxhgame.biggerking.cn",glFormat:"false",wanBaAppId:"0",wanBatitle:"",isfd:"1",pingce:"0"};return window.egret_quickgame&&(e={serverUrl:"//h5legend-dcerf.joyany.com/gateway/servers",announcementUrl:"//h5legend-dcerf.joyany.com/gateway/notice?cb=?",isDebug:!1,platformUrl:"//h5legend-dcerf.joyany.com",oppoPay:"http://h5legend.6deer.com/callback/oppoMiniGPlaceAnOrder",wss:"wss-dcerf.joyany.com",glFormat:"false",wanBatitle:"",isfd:"1",wanBaAppId:"0"}),"xbtxhwkyx"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend.6deer.com/gateway/servers",e.announcementUrl="https://h5legend.6deer.com/gateway/notice?cb=?",e.platformUrl="https://h5legend.6deer.com/client/1.0.0",e.wss="wss-fd.6deer.com",e.loginUrl="https://h5legend.6deer.com/callback/qqMiniGameLogin",e.shareUrl="http://qmby.feefoxes.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.hwpay="https://h5legend.6deer.com/callback/hwFastAppPaySign"),"qqgame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend-wanbaqld.xiyouchat.com/gateway/servers",e.announcementUrl="https://h5legend-wanbaqld.xiyouchat.com/gateway/notice?cb=?",e.platformUrl="https://h5legend-wanbaqld.xiyouchat.com/client/1.0.0",e.wss="wss-wanbaqld.xiyouchat.com",e.loginUrl="https://h5legend.6deer.com/callback/qqMiniGameLogin",e.shareUrl="http://qmby.feefoxes.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.qqpay="https://h5legend.6deer.com/callback/qqMiniGamePrePay",e.wanBaAppId="1108023326"),"mfsqgame"==window.GJlenged_chanel&&(e.serverUrl="https://gatemanfangcq.couplefish.com/gateway/servers",e.announcementUrl="https://gatemanfangcq.couplefish.com/gateway/notice?cb=?",e.platformUrl="https://gatemanfangcq.couplefish.com/client/1.0.0",e.wss="gamemanfangcq.couplefish.com",e.loginUrl="https://h5legend.6deer.com/callback/qqMiniGameLogin",e.shareUrl="https://qmby.feefoxes.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.qqpay="https://h5legend.6deer.com/callback/qqMiniGamePrePay"),"mrbjqqgame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend-mrbj.6deer.com/gateway/servers",e.announcementUrl="https://h5legend-mrbj.6deer.com/gateway/notice?cb=?",e.platformUrl="https://h5legend-mrbj.6deer.com/client/1.0.0",e.wss="wss-mrbj.6deer.com",e.loginUrl="https://h5legend.6deer.com/callback/qqMiniGameLogin",e.shareUrl="https://h5legend-mrbj.6deer.com/client/1.0.0/resource/shareImg/",e.isDebug=!1,e.qqpay="https://h5legend.6deer.com/callback/qqMiniGamePrePay"),"wxgame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend.6deer.com/gateway/servers",e.announcementUrl="https://h5legend.6deer.com/gateway/notice?cb=?",e.platformUrl="https://h5legend.6deer.com/client/1.0.0",e.wss="wss-fd.6deer.com",e.loginUrl="https://h5legend.6deer.com/callback/qqMiniGameLogin",e.shareUrl="http://qmby.feefoxes.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.wxpay="",e.midasId=""),"wx_xinghe"==window.GJlenged_chanel&&(e.serverUrl="https://mfxhgate.biggerking.cn/gateway/servers",e.announcementUrl="https://mfxhgate.biggerking.cn/gateway/notice?cb=?",e.platformUrl="https://h5legend-xiaoqi.biggerking.cn/client-mfxh/1.0.0",e.wss="mfxhgame.biggerking.cn",e.loginUrl="https://h5legend.6deer.com/callback/jinLogin",e.shareUrl="https://qmby.feefoxes.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.wxpay="",e.midasId=""),"baidugame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend.6deer.com/gateway/servers",e.announcementUrl="https://h5legend.6deer.com/gateway/notice?cb=?",e.platformUrl="https://h5legend.6deer.com/client/1.0.0",e.wss="wss-fd.6deer.com",e.loginUrl="https://h5legend.6deer.com/callback/baiDuMiniGameLogin",e.shareUrl="http://qmby.feefoxes.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.baidupay="https://h5legend.6deer.com/callback/baiDuMiniGamePaySign"),"ttgame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend-jrtt.xiyouchat.com/gateway/servers",e.announcementUrl="https://h5legend-jrtt.xiyouchat.com/gateway/notice?cb=?",e.platformUrl="https://h5legend-jrtt.xiyouchat.com/client/1.0.0",e.wss="wss-jrtt.xiyouchat.com",e.loginUrl="https://h5legend.6deer.com/callback/touTiaoZJTDLogin",e.shareUrl="http://h5legend.6deer.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.ttpay="https://h5legend.6deer.com/callback/touTiaoZJTDPay",e.getBalance="https://h5legend.6deer.com/callback/touTiaoZJTDGetBalance"),"vivogame"==window.GJlenged_chanel&&(e.serverUrl="http://h5legend-yyb.6deer.com/gateway/servers",e.announcementUrl="http://h5legend-yyb.6deer.com/gateway/notice?cb=?",e.platformUrl="http://h5legend-yyb.6deer.com/client/1.0.0",e.wss="wss-yyb.6deer.com",e.loginUrl="http://h5legend.6deer.com/callback/vivoMiniGameLogin",e.shareUrl="http://h5legend-yyb.6deer.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.vivopay="http://h5legend.6deer.com/callback/vivoMiniGamePay"),"dchwgame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend-dcerf.joyany.com/gateway/servers",e.announcementUrl="https://h5legend-dcerf.joyany.com/gateway/notice?cb=?",e.platformUrl="https://h5legend-dcerf.joyany.com/client/1.0.0",e.wss="wss-dcerf.joyany.com",e.shareUrl="http://test.6deer.com/h5/newlegend/version/sdklogin",e.isDebug=!1,e.dchwgamePay="https://h5legend.6deer.com/callback/hwFastAppPaySign",e.dchwgamePayCallBack="https://h5legend.6deer.com/callback/hwFastAppCallBack"),"newvivogame"==window.GJlenged_chanel&&(e.serverUrl="http://test.6deer.com/gateway/servers",e.announcementUrl="http://test.6deer.com/gateway/notice?cb=?",e.platformUrl="http://test.6deer.com/client/1.0.0",e.wss="wss-test.6deer.com",e.loginUrl="http://test.6deer.com/callback/vivoLogin",e.isDebug=!0,e.newVivopay="http://test.6deer.com/callback/vivoPay",e.vivoCallBack="http://test.6deer.com/callback/vivoCallBack"),"newOppogame"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend-dcerf.joyany.com/gateway/servers",e.announcementUrl="https://h5legend-dcerf.joyany.com/gateway/notice?cb=?",e.platformUrl="https://h5legend-dcerf.joyany.com/client/1.0.0",e.wss="wss-dcerf.joyany.com",e.loginUrl="https://h5legend.6deer.com/callback/OppoMinGameLogin",e.isDebug=!1,e.newOppoPay="https://h5legend.6deer.com/callback/OppoMinGamePay",e.oppoCallBack="https://h5legend.6deer.com/callback/OppoMinGameCallBack"),"opporpk"==window.GJlenged_chanel&&(e.serverUrl="http://h5legend-yyb.6deer.com/gateway/servers",e.announcementUrl="https://h5legend-yyb.6deer.com/gateway/notice?cb=?",e.isDebug=!1,e.platformUrl="https://h5legend-yyb.6deer.com/client/1.0.0",e.oppoPay="http://h5legend.6deer.com/callback/oppoMiniGPlaceAnOrder",e.wss="wss-yyb.6deer.com",e.glFormat="false",e.wanBatitle="屠龙",e.isfd=1,e.wanBaAppId="0"),"mrbjxmgame"==window.GJlenged_chanel&&(e.serverUrl="http://h5legend-mrbj.6deer.com/gateway/servers",e.announcementUrl="http://h5legend-mrbj.6deer.com/gateway/notice?cb=?",e.isDebug=!1,e.loginUrl="http://h5legend.6deer.com/callback/KuaiYouXiLogin",e.shareUrl="http://h5legend.6deer.com/client/1.0.0/resource/shareImg",e.platformUrl="https://h5legend-mrbj.6deer.com/client/1.0.0",e.wss="wss-mrbj.6deer.com",e.gfbtxmkyPay="http://h5legend.6deer.com/callback/KuaiYouXiRecharge"),"mfxyxmgame"==window.GJlenged_chanel&&(e.serverUrl="https://rxdjbapi.biggerking.cn/gateway/servers",e.announcementUrl="https://rxdjbapi.biggerking.cn/gateway/notice?cb=?",e.isDebug=!1,e.loginUrl="https://h5legend.6deer.com/callback/KuaiYouXiLogin",e.shareUrl="https://h5legend.6deer.com/client/1.0.0/resource/shareImg",e.platformUrl="https://h5legend-xiaoqi.biggerking.cn/client-mfxinyu/1.0.0",e.wss="rxdjbgame.biggerking.cn",e.gfbtxmkyPay="http://h5legend.6deer.com/callback/KuaiYouXiRecharge"),"wx360game"==window.GJlenged_chanel&&(e.serverUrl="https://h5legend-dcerf.joyany.com/gateway/servers",e.announcementUrl="https://h5legend-dcerf.joyany.com/gateway/notice?cb=?",e.platformUrl="https://h5legend-dcerf.joyany.com/client/1.0.0",e.wss="wss-dcerf.joyany.com",e.isDebug=!1,e.wx360GamePayCallBack="http://h5legend.6deer.com/callback/360callBack"),"mfxyoppo"==window.GJlenged_chanel&&(e.serverUrl="https://rxdjbapi.biggerking.cn/gateway/servers",e.announcementUrl="https://rxdjbapi.biggerking.cn/gateway/notice?cb=?",e.isDebug=!1,e.loginUrl="https://h5legend.6deer.com/callback/OppoMinGameLogin",e.shareUrl="https://h5legend.6deer.com/client/1.0.0/resource/shareImg",e.platformUrl="https://h5legend-xiaoqi.biggerking.cn/client-mfxinyu/1.0.0",e.wss="rxdjbgame.biggerking.cn",e.mfhxoppoPay="http://h5legend.6deer.com/callback/OppoMinGamePay",e.mfhxoppoCallBack="http://h5legend.6deer.com/callback/OppoMinGameCallBack"),e}function isLocalStorage(){var e=egret.localStorage;try{return e.setItem("test","testValue"),e.removeItem("test"),!0}catch(e){return!1}}function clearIndexBird(){clearBird()}function ttCreateKefuBtn(){tt.createContactButton&&showKefuBtn()}function showKefuBtn(){var e=tt.getSystemInfoSync().windowWidth,n=tt.getSystemInfoSync().windowHeight;(ttkfBtn=tt.createContactButton({type:"image",image:"./kefu.png",style:{left:8/375*e,top:170/667*n,width:44.8,height:53.9,lineHeight:40,backgroundColor:"",textAlign:"center",fontSize:16,borderRadius:4,borderColor:"",borderWidth:0,textColor:"#ff0000"},success:function(e){console.log("create success",e)},fail:function(e){console.log("create fail",e)},complete:function(e){console.log("create complete",e)}})).onTap(function(){console.log("点击客服按钮")}),ttkfBtn.onError(function(e){console.log("按钮错误"+e.errMsg)}),ttkfBtn.show()}function ttKefuBtnHide(){null!=ttkfBtn&&ttkfBtn.hide()}function ttKefuBtnShow(){null!=ttkfBtn&&ttkfBtn.show()}window.checkPlatform=checkPlatform,window.checkPlatformStr=checkPlatformStr,window.getchannel=getchannel,window.testFun=function(){},window.getgift_id=getgift_id,window.getlaunchOptionsQQ=getlaunchOptionsQQ,window.checkLogin=checkLogin,window.getGlobalConfig=getGlobalConfig,window.wxiOSPay=wxiOSPay,window.callPay=callPay,window.isLocalStorage=isLocalStorage,window.reportData_legend_legend=reportData_legend_legend,window.ttfenxiang=ttfenxiang,window.ttCreateKefuBtn=ttCreateKefuBtn,window.ttKefuBtnHide=ttKefuBtnHide,window.ttKefuBtnShow=ttKefuBtnShow,window.clearIndexBird=clearIndexBird,window.mfsqAddRecentColorSign=mfsqAddRecentColorSign,window.mfsqSetSelfDataInfo=mfsqSetSelfDataInfo,window.mfsqShowFriendsRank=mfsqShowFriendsRank,window.wxgameInit=wxgameInit,window.wxxhgameInit=wxxhgameInit;