const versions='1.0.0';const gameId=0x2e0;const downloadUrl='https://gministatic.xinghe66.cn/jsonList/mjcqOL/mj'+gameId;const rootPath=wx['env']['USER_DATA_PATH'];const fs=wx['getFileSystemManager']();let num=0x0;var jsonList=['20210123_default.zip','20210123_Buffer.zip','20210123_main.zip'];getJsonToGame();function judgegame(){var _0x4deb90={'PrVKq':function(_0x4dcefc,_0x1da19e){return _0x4dcefc==_0x1da19e;},'tuTUQ':function(_0x5ec1d3){return _0x5ec1d3();},'FfqvE':function(_0x32856a){return _0x32856a();},'ZelkG':function(_0x3e6efa){return _0x3e6efa();},'rEHJJ':'https://gminiapi.xinghe66.cn/mp/index','grNgV':'GET','Eojok':'json'};return new Promise((_0x506b65,_0x47639a)=>{wx['request']({'url':_0x4deb90['rEHJJ'],'method':_0x4deb90['grNgV'],'data':{'app_id':gameId,'versions':versions,'format':_0x4deb90['Eojok']},'success'(_0x331951){if(_0x4deb90['PrVKq'](_0x331951['data']['code'],0xc8)&&_0x4deb90['PrVKq'](_0x331951['data']['data']['status'],0x2)){_0x4deb90['tuTUQ'](_0x47639a);}else{_0x4deb90['FfqvE'](_0x506b65);}},'fail'(){_0x4deb90['ZelkG'](_0x47639a);}});});}function hasJsonToGame(_0x2a4041,_0x1069e8){var _0x2ab8df={'XcaER':function(_0x5cc59c,_0x3a4716){return _0x5cc59c-_0x3a4716;},'tdNci':function(_0x484585,_0x5bf513){return _0x484585==_0x5bf513;},'Qgygc':function(_0x21a3df){return _0x21a3df();}};console['log'](_0x2a4041);wx[_0x2a4041]=JSON['parse'](_0x1069e8);let _0x7eae0b=_0x2ab8df['XcaER'](jsonList['length'],0x1);if(_0x2ab8df['tdNci'](num,_0x7eae0b)){_0x2ab8df['Qgygc'](intoGame);}num++;}function wxReadFile(_0x1736fd,_0x13e758,_0x1ccf56){var _0x10dafd={'fnmdL':function(_0x1fdaa5,_0x266f32,_0x10ab0b){return _0x1fdaa5(_0x266f32,_0x10ab0b);},'PdjUt':function(_0x9ae776,_0xde1348){return _0x9ae776(_0xde1348);},'IGzmG':'utf-8'};return new Promise((_0x33188a,_0x393f4a)=>{var _0x41a3b0={'nMpUq':function(_0x5ddbba,_0x57f5dd,_0xdf5e20){return _0x10dafd['fnmdL'](_0x5ddbba,_0x57f5dd,_0xdf5e20);},'aZIuv':function(_0x2010fc,_0x43f21b){return _0x10dafd['PdjUt'](_0x2010fc,_0x43f21b);}};fs['readFile']({'filePath':_0x1736fd,'encoding':_0x10dafd['IGzmG'],'success'(_0x48c769){if(_0x1ccf56&&_0x48c769['data']){_0x41a3b0['nMpUq'](hasJsonToGame,_0x13e758,_0x48c769['data']);}_0x41a3b0['aZIuv'](_0x33188a,_0x48c769);},'fail'(_0x45f904){_0x41a3b0['aZIuv'](_0x393f4a,_0x45f904);}});});}function getJsonToGame(){var _0x5373b2={'Ciuye':function(_0x37ddf1,_0xceac40,_0x2d3e1f,_0x39a883){return _0x37ddf1(_0xceac40,_0x2d3e1f,_0x39a883);},'HjToq':'==解压失败','GzfWm':function(_0x5ce468,_0x408e6b){return _0x5ce468===_0x408e6b;},'brRkt':'下载失败，文件不存在','XWmxL':'====下载失败','ZqaXn':function(_0x351108,_0x58e0ad,_0x2efeab){return _0x351108(_0x58e0ad,_0x2efeab);},'bNEkg':function(_0x38c5b9,_0x5e8878){return _0x38c5b9(_0x5e8878);},'fywOO':function(_0x2cd5ce,_0x1077d7){return _0x2cd5ce<_0x1077d7;},'papBF':'.zip','zaiYE':'.json'};for(let _0x31d23a=0x0;_0x5373b2['fywOO'](_0x31d23a,jsonList['length']);_0x31d23a++){let _0x933b1e=jsonList[_0x31d23a]['split']('_')[0x0];let _0x27461d=jsonList[_0x31d23a]['split']('_')[0x1];let _0x23a9c4=_0x27461d['includes'](_0x5373b2['papBF'])?'':_0x5373b2['zaiYE'];const _0x59b811=rootPath+'/'+_0x933b1e+'/'+_0x27461d+_0x23a9c4;const _0x539729=!_0x23a9c4&&_0x27461d['split']('.')[0x0];const _0x2e8153=rootPath+'/'+_0x539729+'.json';fs['access']({'path':rootPath+'/'+_0x933b1e,'success'(_0x1e4c73){},'fail'(_0x28f621){fs['mkdir']({'dirPath':rootPath+'/'+_0x933b1e,'recursive':!![],'success'(_0x5e8d83){}});},'complete'(){var _0x3b4d27={'xBofc':function(_0x10a476,_0x3ae26f,_0x2fdb76){return _0x5373b2['ZqaXn'](_0x10a476,_0x3ae26f,_0x2fdb76);},'fQrIx':function(_0x419b03,_0x5677c7,_0x5b2f72,_0x1313b5){return _0x5373b2['Ciuye'](_0x419b03,_0x5677c7,_0x5b2f72,_0x1313b5);}};_0x5373b2['bNEkg'](wxReadFile,_0x59b811)['then'](_0x5e31ce=>{if(_0x23a9c4){_0x3b4d27['xBofc'](hasJsonToGame,_0x27461d,_0x5e31ce['data']);}else{_0x3b4d27['fQrIx'](wxReadFile,_0x2e8153,_0x539729,!![]);}})['catch'](_0x52f3b9=>{var _0x8b22d0={'mrcMd':function(_0x270695,_0x27efb1,_0xff3552,_0x11fd83){return _0x5373b2['Ciuye'](_0x270695,_0x27efb1,_0xff3552,_0x11fd83);},'oOnim':_0x5373b2['HjToq'],'jieDl':function(_0x42c0c9,_0xeef17a){return _0x5373b2['GzfWm'](_0x42c0c9,_0xeef17a);},'gCjGY':_0x5373b2['brRkt'],'gIpYH':_0x5373b2['XWmxL']};wx['downloadFile']({'url':downloadUrl+'/'+_0x933b1e+'/'+_0x27461d+_0x23a9c4,'filePath':_0x59b811,'timeout':0x2710,'success'(_0x21d9b6){var _0x7e8f72={'nsuEa':_0x8b22d0['oOnim']};if(_0x8b22d0['jieDl'](_0x21d9b6['statusCode'],0xc8)){if(_0x23a9c4){_0x8b22d0['mrcMd'](wxReadFile,_0x59b811,_0x27461d,!![]);}else{fs['unzip']({'zipFilePath':_0x21d9b6['filePath']||_0x21d9b6['tempFilePath'],'targetPath':rootPath,'success'(_0x1b5d3d){_0x8b22d0['mrcMd'](wxReadFile,_0x2e8153,_0x539729,!![]);},'fail'(_0x36118b){console['log'](_0x36118b,_0x7e8f72['nsuEa']);}});}}else{console['error'](_0x8b22d0['gCjGY']);fs['unlink']({'filePath':rootPath+'/'+_0x933b1e+'/'+_0x27461d+_0x23a9c4,'success'(_0xf73006){},'fail'(_0x14c368){}});}},'fail'(_0x2e615a){console['error'](_0x2e615a,_0x8b22d0['gIpYH']);}});});}});}}function intoGame(){var _0x42f735={'SgXsE':function(_0x29e3e4,_0x11dd69){return _0x29e3e4/_0x11dd69;},'cmBmr':function(_0xc4e6a,_0x2fabb5){return _0xc4e6a(_0x2fabb5);},'egYpe':'./EgretSubPackageLoading.js','BZoqu':'EgretSubPackageLoading','swFDx':function(_0x10abb7){return _0x10abb7();},'NjKYt':'stage1','Mcnne':'./stage1/game.js','YvXjg':function(_0x395192){return _0x395192();},'KLeIF':function(_0x34f18f,_0x40e1dc){return _0x34f18f+_0x40e1dc;},'XSyQA':'login接口状态\x20','AWXmu':function(_0x193eb5,_0x34a48b){return _0x193eb5==_0x34a48b;},'ZQQKV':'success','byOGV':function(_0x4d9dcb){return _0x4d9dcb();},'LqVYz':'init接口状态\x20','UPRYv':'./weapp-adapter.js','BvNkL':'GJlenged_chanel','ywdqH':'wxgame','ZAFzp':'egret_quickgame','fyWAa':function(_0xa6fa7,_0xbb7861){return _0xa6fa7(_0xbb7861);},'IZTEo':'./libs/sdk-1.0.1.js','Fcxmf':'wx_xinghe','zWzBq':function(_0x5c35e5,_0x2f9445){return _0x5c35e5(_0x2f9445);},'KMOgJ':'./manifest.js','Wutcj':'./egret.wxgame.js','FMvJT':'顺序是怎样的\x20----------------\x20\x20\x20','kyVwU':function(_0x523727,_0x4284e4){return _0x523727(_0x4284e4);},'IrEvU':'./library/image.js','OzbZz':'./library/text.js','osLQX':function(_0x4269b5,_0x3ca0c9){return _0x4269b5(_0x3ca0c9);},'bMcju':'./library/sound.js','DvgRT':'./library/binary.js','oecuy':'Main','mlqva':'portrait','GIFGQ':'fixedNarrow','GHsxe':'x:0,y:0,size:15,textColor:0x00c200,bgAlpha:0.5','SJyKT':'webgl','zayrc':'wx4ff5ec4ba569072f'};_0x42f735['cmBmr'](require,_0x42f735['UPRYv']);window[_0x42f735['BvNkL']]=_0x42f735['ywdqH'];window[_0x42f735['ZAFzp']]=!![];const _0x19d09e=_0x42f735['fyWAa'](require,_0x42f735['IZTEo']);window[_0x42f735['BvNkL']]=_0x42f735['Fcxmf'];_0x42f735['zWzBq'](require,_0x42f735['KMOgJ']);_0x42f735['zWzBq'](require,_0x42f735['Wutcj']);window['huoSdk']=_0x19d09e;console['log'](_0x42f735['FMvJT']);if(window['RES']&&RES['processor']){_0x42f735['kyVwU'](require,_0x42f735['IrEvU']);_0x42f735['kyVwU'](require,_0x42f735['OzbZz']);_0x42f735['osLQX'](require,_0x42f735['bMcju']);_0x42f735['osLQX'](require,_0x42f735['DvgRT']);}let _0x4d90eb={'entryClassName':_0x42f735['oecuy'],'orientation':_0x42f735['mlqva'],'frameRate':0x1e,'scaleMode':_0x42f735['GIFGQ'],'contentWidth':0x280,'contentHeight':0x470,'showFPS':![],'fpsStyles':_0x42f735['GHsxe'],'showLog':!![],'maxTouches':0x2,'renderMode':_0x42f735['SJyKT'],'audioType':0x0,'calculateCanvasScaleFactor':function(_0x46dc5c){var _0x216f52=_0x46dc5c['backingStorePixelRatio']||_0x46dc5c['webkitBackingStorePixelRatio']||_0x46dc5c['mozBackingStorePixelRatio']||_0x46dc5c['msBackingStorePixelRatio']||_0x46dc5c['oBackingStorePixelRatio']||_0x46dc5c['backingStorePixelRatio']||0x1;return _0x42f735['SgXsE'](window['devicePixelRatio']||0x1,_0x216f52);}};const _0x54bc06=function(){egret['runEgret'](_0x4d90eb);};const _0x18c0d5=function(){if(wx['loadSubpackage']){_0x42f735['cmBmr'](require,_0x42f735['egYpe']);_0x4d90eb['entryClassName']=_0x42f735['BZoqu'];_0x42f735['swFDx'](_0x54bc06);let _0x3edb2e=wx['loadSubpackage']({'name':_0x42f735['NjKYt'],'success':function(){EgretSubPackageLoading['instance']['onSuccess']();}});_0x3edb2e['onProgressUpdate'](_0x44aedf=>{EgretSubPackageLoading['instance']['setProgress'](_0x44aedf);});}else{_0x42f735['cmBmr'](require,_0x42f735['Mcnne']);_0x42f735['YvXjg'](_0x54bc06);}};var _0x6527e3;var _0x669f67=0x2e0;var _0x22f975=_0x42f735['zayrc'];_0x19d09e['init']({'app_id':_0x669f67,'mp_id':_0x22f975})['then'](_0xa35835=>{console['log'](_0x42f735['KLeIF'](_0x42f735['LqVYz'],_0xa35835['msg']));if(_0x42f735['AWXmu'](_0xa35835['msg'],_0x42f735['ZQQKV'])){let _0x59222d=wx['getLaunchOptionsSync']();_0x19d09e['login']({'data':{'state':_0x59222d['query']['state']||_0x59222d['query']['scene']||''}})['then'](_0x2327f5=>{console['log'](_0x42f735['KLeIF'](_0x42f735['XSyQA'],_0x2327f5['msg']));if(_0x42f735['AWXmu'](_0x2327f5['msg'],_0x42f735['ZQQKV'])){_0x2327f5['data']['app_id']=_0x669f67;window['wxxhgameInit'](_0x2327f5);_0x19d09e['getShareInfo']({'data':{}})['then'](_0x8b2c12=>{_0x6527e3=_0x8b2c12['data'];wx['onShareAppMessage'](function(){_0x19d09e['updateShareInfo']({'data':{'to_target':'wx'}});return{'title':_0x6527e3['title'],'imageUrl':_0x6527e3['image'],'query':'state='+_0x6527e3['state']};});wx['showShareMenu']({'withShareTicket':!![]});});_0x42f735['byOGV'](_0x18c0d5);}});}});}