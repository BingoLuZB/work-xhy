!function(n){var i={};function __webpack_require__(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.m=n,__webpack_require__.c=i,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)__webpack_require__.d(n,i,function(e){return t[e]}.bind(null,i));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(t,e){function _typeof(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=_typeof=function _typeof(e){return typeof e}:t.exports=_typeof=function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}t.exports=_typeof},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(global){var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);window.__require=function e(s,c,l){function o(t,n){if(!c[t]){if(!s[t]){var i=t.split("/");if(i=i[i.length-1],!s[i]){var r="function"==typeof __require&&__require;if(!n&&r)return r(i,!0);if(u)return u(i,!0);throw new Error("Cannot find module '"+t+"'")}}var a=c[t]={exports:{}};s[t][0].call(a.exports,function(e){return o(s[t][1][e]||e)},a,a.exports,e,s,c,l)}return c[t].exports}for(var u="function"==typeof __require&&__require,t=0;t<l.length;t++)o(l[t]);return o}({ActivityCunJieScrollItem2:[function(e,t,n){cc._RF.push(t,"3a508sr8MRJ64a+/oWcya8s","ActivityCunJieScrollItem2"),cc.Class({extends:cc.Component,properties:{title:cc.Label,content1:cc.Node,content2:cc.Node,lingquBtn:cc.Button,lingquBtnName:cc.Label,yilingqu:cc.Label,bg:cc.Node,bg2:cc.Node},init:function init(e,t){this.lingquBtn.node.on("click",this.onLingquClick,this),this._data=e,this._type=t;for(var n=e.Reward,i=[],o=[],r=0;r<4;r++){var a=n[r];a&&i.push(a)}for(var s=4;s<8;s++){var c=n[s];c&&o.push(c)}this._createRewardItem(i,this.content1),this._createRewardItem(o,this.content2),this.title.string=e.Name,0<e.Cost.length?this.lingquBtnName.string=e.Cost[0].count+yx.bagMgr.GetItemName(e.Cost[0].id):this.lingquBtnName.string="领取",this.onUpdate(),yx.BadgeMgr.addBadge(this.lingquBtn.node,55,15),yx.BadgeMgr.showBadge(this.lingquBtn.node,!0),2==this._data.Index?(this.bg.active=!1,this.bg2.active=!0,this.title.node.color=new cc.Color(134,36,165),this.yilingqu.node.color=new cc.Color(134,36,165)):(this.bg.active=!0,this.bg2.active=!1,this.title.node.color=new cc.Color(198,38,35),this.yilingqu.node.color=new cc.Color(198,38,35))},_createRewardItem:function _createRewardItem(e,n){var i=this;e.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i._onItemClick,yx.ItemWidget.CreateItemSlot(t,n,"reward"+e.id)})},onLingquClick:function onLingquClick(){yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);null!=e&&(e.taskState==yx.proto.TaskStateType.Processing?(this.lingquBtn.node.active=!1,this.yilingqu.node.active=!1):e.taskState==yx.proto.TaskStateType.Finish?(this.lingquBtn.node.active=!0,this.yilingqu.node.active=!1):(this.lingquBtn.node.active=!1,this.yilingqu.node.active=!0))},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{}],ActivityCunJieScrollItem:[function(e,t,n){cc._RF.push(t,"aef26TRNvhCU4pU+LjZZhcY","ActivityCunJieScrollItem"),cc.Class({extends:cc.Component,properties:{title:cc.Label,content1:cc.Node,lingquBtn:cc.Button,lingquBtnName:cc.Label,yilingqu:cc.Label},init:function init(e,t){this.lingquBtn.node.on("click",this.onLingquClick,this),this._data=e,this._type=t;for(var n=e.Reward,i=[],o=0;o<4;o++){var r=n[o];r&&i.push(r)}this._createRewardItem(i,this.content1),this.title.string=e.Name,0<e.Cost.length?this.lingquBtnName.string=e.Cost[0].count+yx.bagMgr.GetItemName(e.Cost[0].id):this.lingquBtnName.string="领取",this.onUpdate(),yx.BadgeMgr.addBadge(this.lingquBtn.node,55,15),yx.BadgeMgr.showBadge(this.lingquBtn.node,!0)},_createRewardItem:function _createRewardItem(e,n){var i=this;e.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i._onItemClick,yx.ItemWidget.CreateItemSlot(t,n,"reward"+e.id)})},onLingquClick:function onLingquClick(){yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);null!=e&&(e.taskState==yx.proto.TaskStateType.Processing?(this.lingquBtn.node.active=!1,this.yilingqu.node.active=!1):e.taskState==yx.proto.TaskStateType.Finish?(this.lingquBtn.node.active=!0,this.yilingqu.node.active=!1):(this.lingquBtn.node.active=!1,this.yilingqu.node.active=!0))},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{}],ActivityDailyScrollItem:[function(e,t,n){cc._RF.push(t,"57432Ly0AtHGqsOd3cde8dn","ActivityDailyScrollItem"),cc.Class({extends:cc.Component,properties:{title:cc.Label,content1:cc.Node,lingquBtn:cc.Button,buyBtn:cc.Button,buyBtnName:cc.Label,yilingqu:cc.Label,bgNode:cc.Node},init:function init(e,t){this.lingquBtn.node.on("click",this.onDailyLingquClick,this),this.buyBtn.node.on("click",this.onDailyBuyClick,this),this._data=e,this._type=t;var n=e.Reward;this._createRewardItem(n,this.content1);var i=Math.ceil(n.length/5);if(2<i){var o=114*(i-2);this.node.height=this.node.height+o,this.bgNode.height=this.bgNode.height+o,this.buyBtn.node.y=this.buyBtn.node.y-o,this.lingquBtn.node.y=this.lingquBtn.node.y-o,this.yilingqu.node.y=this.yilingqu.node.y-o}this.title.string=e.Name;var r=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:e.RechargeId});this.buyBtnName.string=r.RMB+"元",this.onUpdate(),yx.BadgeMgr.addBadge(this.lingquBtn.node,55,15),yx.BadgeMgr.showBadge(this.lingquBtn.node,!0),yx.BadgeMgr.addBadge(this.buyBtn.node,55,15),yx.BadgeMgr.showBadge(this.buyBtn.node,!0)},_createRewardItem:function _createRewardItem(e,n){var i=this;e.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i._onItemClick,yx.ItemWidget.CreateItemSlot(t,n,"reward"+e.id)})},onDailyBuyClick:function onDailyBuyClick(){yx.reChargeMgr.reqReCharge(this._data.RechargeId)},onDailyLingquClick:function onDailyLingquClick(){yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);null!=e&&(e.taskState==yx.proto.TaskStateType.Processing?(this.buyBtn.node.active=!0,this.lingquBtn.node.active=!1,this.yilingqu.node.active=!1):e.taskState==yx.proto.TaskStateType.Finish?(this.buyBtn.node.active=!1,this.lingquBtn.node.active=!0,this.yilingqu.node.active=!1):(this.buyBtn.node.active=!1,this.lingquBtn.node.active=!1,this.yilingqu.node.active=!0))},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{}],ActivityMgr:[function(e,t,n){cc._RF.push(t,"eb35cR0aidHT5Sk9j1j66l0","ActivityMgr"),yx.ActivityManager=function(){},yx.ActivityManager.prototype={constructor:yx.ActivityManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.ACTIVITY_CONFIG,this.onMessageActivity),yx.network.addHandler(yx.proto.CmdId.PLAYER_TASK,this.onMessagePlayerTask.bind(this)),yx.network.addHandler(yx.proto.CmdId.FIRST_RECHARGE,this.onMessageFirstRechargeInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.TURN_TABLE,this.onMessageTurnTable),yx.network.addHandler(yx.proto.CmdId.WE_CHAT_FOLLOW,this.onMessageWxShouCang.bind(this)),this._activityMap=null,this._taskMap=null,this._turnTableInfoMap=null,this._showTextConfirm10=!1,this.wxShouCangInfo=null},Info:function Info(){yx.log("ActivityManager  Info");var e=new yx.proto.C2S_Activity;e.cmdType=yx.proto.ActivityCmdType.GetActivityConfig_Cmd,yx.network.sendMessage(yx.proto.CmdId.ACTIVITY_CONFIG,e)},TaskInfoByAId:function TaskInfoByAId(e){yx.log("ActivityManager  TaskInfoByAId");var t=new yx.proto.C2S_PlayerTask;t.cmdTyp=yx.proto.PlayerTaskCmdType.GetPlayerTaskByID_Cmd,t.id=e,yx.network.sendMessage(yx.proto.CmdId.PLAYER_TASK,t)},TaskInfo:function TaskInfo(){yx.log("ActivityManager  TaskInfo");var e=new yx.proto.C2S_PlayerTask;e.cmdTyp=yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.PLAYER_TASK,e)},TaskReward:function TaskReward(e,t){yx.log("ActivityManager  TaskReward id=="+e+",index="+t);var n=new yx.proto.C2S_PlayerTask;n.cmdTyp=yx.proto.PlayerTaskCmdType.Received_Cmd,n.id=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.PLAYER_TASK,n)},TaskDiscountBuy:function TaskDiscountBuy(e,t){yx.log("ActivityManager  TaskDiscountBuy id=="+e+",index="+t);var n=new yx.proto.C2S_PlayerTask;n.cmdTyp=yx.proto.PlayerTaskCmdType.PurchaseDiscountShop_Cmd,n.id=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.PLAYER_TASK,n)},reqFirstRechargeInfo:function reqFirstRechargeInfo(){var e=new yx.proto.C2S_FirstRecharge;e.cmdType=yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.FIRST_RECHARGE,e)},reqFirstRechargeReword:function reqFirstRechargeReword(){var e=new yx.proto.C2S_FirstRecharge;e.cmdType=yx.proto.PlayerTaskCmdType.Received_Cmd,e.id=1,yx.network.sendMessage(yx.proto.CmdId.FIRST_RECHARGE,e)},TurnTableInfo:function TurnTableInfo(){yx.log("ActivityManager  TurnTableInfo");var e=new yx.proto.C2S_TurnTable;e.cmdType=yx.proto.TurnTableCmd.GetTurnTableInfo_Cmd,yx.network.sendMessage(yx.proto.CmdId.TURN_TABLE,e)},TurnTableOne:function TurnTableOne(e){yx.log("ActivityManager  TurnTableOne");var t=new yx.proto.C2S_TurnTable;t.cmdType=yx.proto.TurnTableCmd.ConsecutiveDraw_Cmd,t.activityID=e,yx.network.sendMessage(yx.proto.CmdId.TURN_TABLE,t)},TurnTableTen:function TurnTableTen(e){yx.log("ActivityManager  TurnTableTen");var t=new yx.proto.C2S_TurnTable;t.cmdType=yx.proto.TurnTableCmd.TenConsecutiveDraw_Cmd,t.activityID=e,yx.network.sendMessage(yx.proto.CmdId.TURN_TABLE,t)},reqWxShouCang:function reqWxShouCang(e){yx.log("ActivityManager  reqWxShouCangInfo");var t=new yx.proto.C2S_WeChatFollow;t.cmdType=e,yx.network.sendMessage(yx.proto.CmdId.WE_CHAT_FOLLOW,t)},onMessageWxShouCang:function onMessageWxShouCang(e,t){if(yx.log("onMessageWxShouCang-----"),null!=e&&0<e.length)yx.log("[ActivityMgr onMessageWxShouCang] error:"+e);else{var n=yx.proto.S2C_WeChatFollow.decode(t);if(n)switch(this.wxShouCangInfo=n,n.cmdType){case yx.proto.WeChatFollowCmdType.GetFollow_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.SHOUCANG_GET_INFO,n);break;case yx.proto.WeChatFollowCmdType.Follow_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.SHOUCANG_OPT_REQ,n);break;case yx.proto.WeChatFollowCmdType.Reveived_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.SHOUCANG_REVEIVED,n)}}},onMessageActivity:function onMessageActivity(e,t){if(yx.log("onMessageActivity-----"),null!=e&&0<e.length)yx.log("[ActivityMgr onMessageActivity] error:"+e);else{var n=yx.proto.S2C_Activity.decode(t);yx.ActivityMgr.updateList(n),yx.ActivityMgr.TurnTableInfo()}},toastReward:function toastReward(e){var t="ActivityType"+yx.cfgMgr.getOneRecord("ActivityConfig",{ID:e.id}).activityType+"Config",n=yx.cfgMgr.getOneRecord(t,{ID:e.id,Index:e.index}).Reward;if(n&&0<n.length)for(var i=0;i<n.length;i++){var o=n[i],r=yx.bagMgr.GetItemName(o.id)+"<color=#ffd066>+"+o.count+"</color>";yx.ToastUtil.showListToast(r)}},onMessagePlayerTask:function onMessagePlayerTask(e,t){if(yx.log("onMessagePlayerTask-----"),null!=e&&0<e.length)yx.log("[ActivityMgr onMessagePlayerTask] error:"+e);else{var n=yx.proto.S2C_PlayerTask.decode(t);if(n.cmdTyp===yx.proto.PlayerTaskCmdType.Received_Cmd||n.cmdTyp===yx.proto.PlayerTaskCmdType.UpdatePlayerTask_Cmd)for(var i=0;i<n.taskInfo.length;i++){var o=n.taskInfo[i];o.taskState==yx.proto.TaskStateType.Received&&yx.ActivityMgr.toastReward(o)}else if(n.cmdTyp===yx.proto.PlayerTaskCmdType.PurchaseDiscountShop_Cmd)for(var r=0;r<n.taskInfo.length;r++){var a=n.taskInfo[r];yx.ActivityMgr.toastReward(a)}else n.cmdTyp===yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd?this._taskMap=null:n.cmdTyp===yx.proto.PlayerTaskCmdType.GetPlayerTaskByID_Cmd&&yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_TASK_BY_ID);yx.ActivityMgr.updateTaskList(n)}},onMessageFirstRechargeInfo:function onMessageFirstRechargeInfo(e,t){if(yx.log("onMessageFirstRechargeInfo-----"),null!=e&&0<e.length)yx.log("[ActivityMgr onMessageFirstRechargeInfo] error:"+e);else{var n=yx.proto.S2C_FirstRecharge.decode(t);n&&(this.firstRechargeInfo=n,yx.eventDispatch.dispatchMsg(yx.EventType.FIRST_RECHARGE_INFO,n))}},getFirstRechargeInfo:function getFirstRechargeInfo(){return this.firstRechargeInfo},getWxShouCangInfo:function getWxShouCangInfo(){return this.wxShouCangInfo},isFirstRechargeUnFinish:function isFirstRechargeUnFinish(){return!(!this.firstRechargeInfo||this.firstRechargeInfo.state===yx.proto.TaskStateType.Received)},onMessageTurnTable:function onMessageTurnTable(e,t){if(yx.log("onMessageTurnTable-----"),null!=e&&0<e.length)yx.log("[ActivityMgr onMessageTurnTable] error:"+e);else{var n=yx.proto.S2C_TurnTable.decode(t);if(yx.ActivityMgr.setTurnTableData(n),n.cmdType!=yx.proto.TurnTableCmd.GetTurnTableInfo_Cmd)if(n.cmdType==yx.proto.TurnTableCmd.ConsecutiveDraw_Cmd){var i={};i.rewards=n.rewards,i.cmdType=yx.proto.TurnTableCmd.ConsecutiveDraw_Cmd,yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_TURNTABLE_SHOW_REWARD,i)}else if(n.cmdType==yx.proto.TurnTableCmd.TenConsecutiveDraw_Cmd){var o={};o.rewards=n.rewards,o.cmdType=yx.proto.TurnTableCmd.TenConsecutiveDraw_Cmd,yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_TURNTABLE_SHOW_REWARD,o)}}},updateList:function updateList(e){this._activityMap={};for(var t=0;t<e.activityConfig.length;t++){var n=e.activityConfig[t];if(n.avalid){var i=yx.cfgMgr.getOneRecord("ActivityConfig",{ID:n.id});if(!i)continue;this._activityMap[i.ID]?(this._activityMap[i.ID].endTime=n.endTime,this._activityMap[i.ID].startTime=n.startTime):this._activityMap[i.ID]={id:i.ID,endTime:n.endTime,startTime:n.startTime,type:i.activityType,fileName:"ActivityType"+i.activityType+"Config"}}}yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_REFRESH),null==this._taskMap&&yx.ActivityMgr.TaskInfo()},updateTaskList:function updateTaskList(e){null==this._taskMap&&(this._taskMap={});for(var t=e.taskInfo,n=0;n<t.length;n++){var i=t[n];null==this._taskMap[i.id]&&(this._taskMap[i.id]={}),this._taskMap[i.id][i.index]=i}yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_TASK_REFRESH)},getList:function getList(){return this._activityMap},getActivityType:function getActivityType(e){if(this._activityMap)for(var t in this._activityMap)if(this._activityMap.hasOwnProperty(t)){var n=this._activityMap[t];if(n.type==e)return n}return null},getAllActivityType:function getAllActivityType(e){var t=[];if(this._activityMap)for(var n in this._activityMap)if(this._activityMap.hasOwnProperty(n)){var i=this._activityMap[n];i.type==e&&t.push(i)}return t},getActivityData:function getActivityData(e){return this._activityMap?this._activityMap[e]:null},getTasks:function getTasks(e,t){return yx.log("fileName="+e),yx.log("id="+t),yx.cfgMgr.getRecordList(e,{ID:t})},getTaskInfo:function getTaskInfo(e,t){return this._taskMap&&this._taskMap[e]&&this._taskMap[e][t]?this._taskMap[e][t]:null},getTaskInfos:function getTaskInfos(e){return this._taskMap&&this._taskMap[e]?this._taskMap[e]:null},setTurnTableData:function setTurnTableData(e){this._turnTableInfoMap={};for(var t=0;t<e.turnTableInfo.length;t++){var n=e.turnTableInfo[t];this._turnTableInfoMap[n.activityID]=n}},getTurnTableData:function getTurnTableData(e){return this._turnTableInfoMap?this._turnTableInfoMap[e]:null},setShowTextConfirm10:function setShowTextConfirm10(e){this._showTextConfirm10=e},getShowTextConfirm10:function getShowTextConfirm10(){return this._showTextConfirm10}},yx.ActivityMgr=new yx.ActivityManager,t.exports=yx.ActivityMgr,cc._RF.pop()},{}],ActivityRankScrollItem:[function(e,t,n){cc._RF.push(t,"17b8dxF2R1C1oUQOVW5rmnG","ActivityRankScrollItem");var i=e("ItemWidget"),o=cc.Class({extends:cc.Component,statics:{id:-1},properties:{rankLabel:cc.Label,playerNameLabel:cc.Label,rewardScrollContent:cc.Node,chengHaoWidget:i,lookForBtn:cc.Button},onLoad:function onLoad(){this.lookForBtn.node.on("click",this.onLookForBtnClick,this)},init:function init(e,t,n,i,o){this._data=e,this._type=t,this._rankIndex=e.Index,this._configName=n,this._id=o,this._arrIndex=i;var r=e.Reward,a=this;if(a.rewardScrollContent.removeAllChildren(!0),r.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=a.onItemClick,yx.ItemWidget.CreateItemSlot(t,a.rewardScrollContent,"reward"+e.id)}),e.Reward2&&0<e.Reward2.length){var s={};s.amount=e.Reward2[0].count,s.itemId=e.Reward2[0].id,s.clickCallBack=a.onItemClick,this.chengHaoWidget.init(s),this.chengHaoWidget.node.active=!0}else this.chengHaoWidget.node.active=!1;e.Index<4?(this.rankLabel.string="第"+e.Index+"名",this.lookForBtn.node.active=!1,this.playerNameLabel.node.active=!0):4<=e.Index&&(this.rankLabel.string="4-20名",this.lookForBtn.node.active=!0,this.playerNameLabel.node.active=!1),this.onUpdate()},onLookForBtnClick:function onLookForBtnClick(){var e=yx.ActivityMgr.getActivityData(this._id);if(e){var t=e.id,n=yx.ActivityMgr.getTasks(e.fileName,t)[0].Type,i="属性";1<=n&&n<=4?i=yx.textDict.Attr[n]||"属性":10001==n&&(i="妖丹"),yx.windowMgr.showWindow("atrrRankPanel",{attrType:n,attrName:i})}},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onGetRewardClick:function onGetRewardClick(){},reInit:function reInit(){var e=yx.ActivityMgr.getTasks(this._configName,yx.ActivityRankScrollItem.id);e&&e[this._arrIndex]&&this.init(e[this._arrIndex],this._type,this._configName,this._arrIndex,yx.ActivityRankScrollItem.id)},onUpdate:function onUpdate(){if(this._id==yx.ActivityRankScrollItem.id){var e=yx.RankMgr.getAtrrRankList();if(e&&this._rankIndex){var t=e[this._rankIndex-1];t&&(this.playerNameLabel.string=t.nickName)}}else this.reInit()},onShow:function onShow(e){this.node.active=e}});yx.ActivityRankScrollItem=t.exports=o,cc._RF.pop()},{ItemWidget:"ItemWidget"}],ActivityScrollItem2:[function(e,t,n){cc._RF.push(t,"4067fv5vx5GVIHG8C9E3JRH","ActivityScrollItem2"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,descRichText:cc.RichText,getBtn:cc.Button,getBtnText:cc.Label,scrollContent1:cc.Node,bgNode:cc.Node},onLoad:function onLoad(){this.getBtn.node.on("click",this.onGetRewardClick,this)},init:function init(e,t,n,i){this.getBtn.node.active=!1,this.descRichText.node.active=!1,this._data=e,this._type=t,this._configDataIndex=i,this._configName=n,null!=e.Name?this.titleLabel.string=e.Name:this.titleLabel.string=e.des;var o=e.Reward,r=this;r.scrollContent1.removeAllChildren(!0),o.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=r.onItemClick,yx.ItemWidget.CreateItemSlot(t,r.scrollContent1,"reward"+e.id)});var a=Math.ceil(o.length/4);if(1<a){var s=94*(a-1);this.node.height=this.node.height+s,this.bgNode.height=this.bgNode.height+s}this.onUpdate(),yx.BadgeMgr.addBadge(this.getBtn.node,55,15),yx.BadgeMgr.showBadge(this.getBtn.node,!0)},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onGetRewardClick:function onGetRewardClick(){yx.log("领取奖励"),yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)},reInit:function reInit(){var e=yx.cfgMgr.getAllConfig(this._configName);if(e){var t=[];e.forEach(function(e){-1==t.indexOf(e.ID)&&t.push(e.ID)});for(var n=0;n<t.length;n++){var i=yx.ActivityMgr.getTasks(this._configName,t[n]);if(i){var o=i[this._configDataIndex];if(o&&yx.ActivityMgr.getTaskInfo(o.ID,o.Index))return this.init(o,this._type,this._configName,this._configDataIndex),void(this.node.active=!0)}}}},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index-1);if(0==this._data.IsDefault&&e&&e.taskState==yx.proto.TaskStateType.Processing)this.node.active=!1;else{this.node.active=!0;var t=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);if(null==t)return this.node.active=!1,void this.reInit();if(t.taskState==yx.proto.TaskStateType.Processing){this.getBtn.node.active=!1,this.descRichText.node.active=!0;var n="";this._type==yx.proto.ActivityType.LevelUp1?n=(n="<color=#ff0000>{cur}级</color><color=#345A5C>/{need}级</color>").format({cur:t.processing,need:this._data.Level}):this._type==yx.proto.ActivityType.XiuLian?n=(n="<color=#ff0000>{cur}年</color><color=#345A5C>/{need}年</color>").format({cur:t.processing,need:yx.timeUtil.minutes2year(this._data.Time)}):this._type!=yx.proto.ActivityType.AddUpRecharge&&this._type!=yx.proto.ActivityType.AddUpRecharge2||(n=(n="<color=#ff0000>{cur}</color><color=#345A5C>/{need}</color>").format({cur:t.processing,need:this._data.value})),this.descRichText.string=n}else t.taskState==yx.proto.TaskStateType.Finish?(this.getBtn.node.active=!0,this.descRichText.node.active=!1):(this.getBtn.node.active=!1,this.descRichText.node.active=!0,this.descRichText.string="<color=#345A5C>已领取</color>")}},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{}],ActivityScrollItem3:[function(e,t,n){cc._RF.push(t,"29d32iQwJpC9b21OFsnQMCU","ActivityScrollItem3");var i=e("ItemWidget");cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,itemWidget:i,originPriceLabel:cc.Label,nowPriceLabel:cc.Label,originItemSp:cc.Sprite,nowItemSp:cc.Sprite,xianGouLabel:cc.Label,discountLabel:cc.Label,buyBtn:cc.Button,tipLabel:cc.Label},onLoad:function onLoad(){this.buyBtn.node.on("click",this.onBuyClick,this)},init:function init(e,t,n,i){if(this._data=e,this._type=t,this._configDataIndex=i,this._configName=n,e.Reward&&0<e.Reward.length){var o=e.Reward[0],r={};r.amount=o.count,r.itemId=o.id,r.clickCallBack=this.onItemClick,this.itemWidget.init(r);var a=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:o.id});a&&(this.titleLabel.string=a.Name)}if(e.Gold&&0<e.Gold.length){var s=e.Gold[0];this.originPriceLabel.string=s.count;var c=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:s.id});c&&(c.Type==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(c.Icon,yx.ResType.EQUIP,this.originItemSp):yx.resUtil.LoadSpriteByType(c.Icon,yx.ResType.ITEM,this.originItemSp))}if(e.Cost&&0<e.Cost.length){var l=e.Cost[0];this.nowPriceLabel.string=l.count;var u=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:l.id});u&&(u.Type==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(u.Icon,yx.ResType.EQUIP,this.nowItemSp):yx.resUtil.LoadSpriteByType(u.Icon,yx.ResType.ITEM,this.nowItemSp))}this.discountLabel.string=e.Mark+"折",this.xianGouLabel.string="限购(0/"+e.DayNum+")",this.onUpdate()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onBuyClick:function onBuyClick(){this.curNum&&this.curNum>=this._data.DayNum?yx.ToastUtil.showListToast("达到限购数量"):yx.ActivityMgr.TaskDiscountBuy(this._data.ID,this._data.Index)},reInit:function reInit(){var e=yx.cfgMgr.getAllConfig(this._configName);if(e){var t=[];e.forEach(function(e){-1==t.indexOf(e.ID)&&t.push(e.ID)});for(var n=0;n<t.length;n++){var i=yx.ActivityMgr.getTasks(this._configName,t[n]);if(i){var o=i[this._configDataIndex];if(o&&yx.ActivityMgr.getTaskInfo(o.ID,o.Index))return this.init(o,this._type,this._configName,this._configDataIndex),void(this.node.active=!0)}}}},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);if(null==e)return this.node.active=!1,void this.reInit();(null==e.processing||e.processing<0)&&yx.warn("ActivityScrollitem3 折扣Item抢购次数不对"),this.curNum=e.processing,this.xianGouLabel.string="限购("+e.processing+"/"+this._data.DayNum+")"},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{ItemWidget:"ItemWidget"}],ActivityScrollItem:[function(e,t,n){cc._RF.push(t,"a7ce7V52hhBqLsAgAdhismJ","ActivityScrollItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,descRichText:cc.RichText,getBtn:cc.Button,getBtnText:cc.Label,scrollContent:cc.Node,bgNode:cc.Node},onLoad:function onLoad(){this.getBtn.node.on("click",this.onGetRewardClick,this)},init:function init(e,t,n,i){this.getBtn.node.active=!1,this.descRichText.node.active=!1,this._data=e,this._type=t,this._configDataIndex=i,this._configName=n,null!=e.Name?this.titleLabel.string=e.Name:null!=e.des?this.titleLabel.string=e.des:null!=e.Des&&(this.titleLabel.string=e.Des),t==yx.proto.ActivityType.Login?this.titleLabel.string="第"+this._data.Index+"天":t==yx.proto.ActivityType.InvestPlan&&(this.titleLabel.string="境界达到"+this._data.Name+"("+yx.playerMgr.getDuJieLevel()+"/"+this._data.Level+")");var o=e.Reward,r=this;r.scrollContent.removeAllChildren(!0),o.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=r.onItemClick,yx.ItemWidget.CreateItemSlot(t,r.scrollContent,"reward"+e.id)});var a=Math.ceil(o.length/4);if(1<a){var s=94*(a-1);this.node.height=this.node.height+s,this.bgNode.height=this.bgNode.height+s}this.onUpdate(),yx.BadgeMgr.addBadge(this.getBtn.node,55,15),yx.BadgeMgr.showBadge(this.getBtn.node,!0)},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onGetRewardClick:function onGetRewardClick(){if(yx.log("领取奖励"),this._type==yx.proto.ActivityType.Resource){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);if(e&&e.taskState==yx.proto.TaskStateType.Processing)return void yx.ToastUtil.showListToast("请先购买礼包");yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)}else if(this._type==yx.proto.ActivityType.InvestPlan){var t=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);if(t&&t.taskState==yx.proto.TaskStateType.Processing)return void yx.ToastUtil.showListToast("请先投资");yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)}else yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)},reInit:function reInit(){var e=yx.cfgMgr.getAllConfig(this._configName);if(e){var t=[];e.forEach(function(e){-1==t.indexOf(e.ID)&&t.push(e.ID)});for(var n=0;n<t.length;n++){var i=yx.ActivityMgr.getTasks(this._configName,t[n]);if(i){var o=i[this._configDataIndex];if(o&&yx.ActivityMgr.getTaskInfo(o.ID,o.Index))return this.init(o,this._type,this._configName,this._configDataIndex),void(this.node.active=!0)}}}},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);if(null==e)return this.node.active=!1,void this.reInit();if(e.taskState==yx.proto.TaskStateType.Processing){this.getBtn.node.active=!1,this.descRichText.node.active=!0;var t="";if(this._type==yx.proto.ActivityType.LevelUp1)t=(t="<color=#ff0000>{cur}级</color><color=#345A5C>/{need}级</color>").format({cur:e.processing,need:this._data.Level});else if(this._type==yx.proto.ActivityType.XiuLian)t=(t="<color=#ff0000>{cur}年</color><color=#345A5C>/{need}年</color>").format({cur:e.processing,need:yx.timeUtil.minutes2year(this._data.Time)});else if(this._type==yx.proto.ActivityType.AddUpRecharge)t=(t="<color=#ff0000>{cur}</color><color=#345A5C>/{need}</color>").format({cur:e.processing,need:this._data.value});else if(this._type==yx.proto.ActivityType.Resource)t=(t="<color=#345A5C>第{day}天可领取</color>").format({day:this._data.Index});else if(this._type==yx.proto.ActivityType.Login){t="<color=#345A5C>还差{day}天</color>";var n=yx.ActivityMgr.getActivityData(yx.proto.ActivityType.Login,this._data.ID);if(n){var i=yx.timeUtil.getServerTime(),o=n.startTime+864e5*(this._data.Index-1),r=yx.timeUtil.getDateDiffDay(i,o);t=t.format({day:r})}else t=""}else this._type==yx.proto.ActivityType.InvestPlan&&(this.getBtn.node.active=!0,this.descRichText.node.active=!1,yx.playerMgr.getDuJieLevel()>=this._data.Level?yx.BadgeMgr.showBadge(this.getBtn.node,!0):yx.BadgeMgr.showBadge(this.getBtn.node,!1));this.descRichText.string=t}else if(e.taskState==yx.proto.TaskStateType.Finish)if(this._type==yx.proto.ActivityType.Resource){var a=yx.timeUtil.getServerTime(),s=e.finishTime+864e5*(this._data.Index-1);if(0<yx.timeUtil.getDateDiffDay(a,s)){this.getBtn.node.active=!1,this.descRichText.node.active=!0;var c="<color=#345A5C>第{day}天可领取</color>";c=c.format({day:this._data.Index}),this.descRichText.string=c}else this.getBtn.node.active=!0,this.descRichText.node.active=!1}else this.getBtn.node.active=!0,this.descRichText.node.active=!1;else this.getBtn.node.active=!1,this.descRichText.node.active=!0,this.descRichText.string="<color=#345A5C>已领取</color>"},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{}],ActivityTabItem:[function(e,t,n){cc._RF.push(t,"b646b0srwpFcLicwfoux9or","ActivityTabItem"),cc.Class({extends:cc.Component,properties:{libaoBtn:cc.Button,background:cc.Sprite,select:cc.Sprite},init:function init(e){switch(this._data=e,this.libaoBtn.node.on("click",this.onSelectItemClick,this),this.node.active=!0,e.type){case yx.proto.ActivityType.LevelUp1:yx.resUtil.LoadSprite("activity/iocn-136",this.background);break;case yx.proto.ActivityType.XiuLian:yx.resUtil.LoadSprite("activity/iocn-139",this.background);break;case yx.proto.ActivityType.AddUpRecharge:yx.resUtil.LoadSprite("activity/iocn-142",this.background),this.node.active=yx.serverMgr.IsAuditPassed();break;case yx.proto.ActivityType.AddUpRecharge2:yx.resUtil.LoadSprite("activity/iocn-463",this.background),this.node.active=yx.serverMgr.IsAuditPassed();break;case yx.proto.ActivityType.DailyRechanrge:yx.resUtil.LoadSprite("activity/iocn-161",this.background),this.node.active=yx.serverMgr.IsAuditPassed();break;case yx.proto.ActivityType.TurnTable:yx.resUtil.LoadSprite("activity/iocn-192",this.background),this.node.active=yx.serverMgr.IsAuditPassed();break;case yx.proto.ActivityType.Resource:51000001==e.id?yx.resUtil.LoadSprite("activity/iocn-390",this.background):51000002==e.id&&yx.resUtil.LoadSprite("activity/iocn-474",this.background),this.node.active=yx.serverMgr.IsAuditPassed();break;case yx.proto.ActivityType.Login:yx.resUtil.LoadSprite("activity/iocn-424",this.background);break;case yx.proto.ActivityType.DiscountShop:yx.resUtil.LoadSprite("activity/iocn-456",this.background);break;case yx.proto.ActivityType.AttributeRank:yx.resUtil.LoadSprite("activity/iocn-457",this.background);break;case yx.proto.ActivityType.InvestPlan:yx.resUtil.LoadSprite("activity/iocn-460",this.background);break;default:this.node.active=!1}yx.BadgeMgr.addBadge(this.node,20,20)},onSelectItemClick:function onSelectItemClick(){yx.log("select type == "+this._data.type),yx.log("select id == "+this._data.id);var e={};e.type=this._data.type,e.id=this._data.id,yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_SELECTTAB,e)},selectShow:function selectShow(e){this.select.node.active=e},getData:function getData(){return this._data},updateBadge:function updateBadge(){switch(this._data.type){case yx.proto.ActivityType.LevelUp1:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityLevel));break;case yx.proto.ActivityType.XiuLian:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityXiuLian));break;case yx.proto.ActivityType.AddUpRecharge:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityAddUpRecharge));break;case yx.proto.ActivityType.DailyRechanrge:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityDailyRecharge1)||yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityDailyRecharge2));break;case yx.proto.ActivityType.TurnTable:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityTurnTable));break;case yx.proto.ActivityType.Resource:this._data.id==yx.proto.RedDotType.ActivityRecource?yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityRecource)):this._data.id==yx.proto.RedDotType.ActivityRecource2&&yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityRecource2));break;case yx.proto.ActivityType.Login:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityLogin));break;case yx.proto.ActivityType.NewYear:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityNewYear));break;case yx.proto.ActivityType.InvestPlan:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityInvestPlan));break;case yx.proto.ActivityType.DiscountShop:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityDiscountShop));break;case yx.proto.ActivityType.AddUpRecharge2:yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityAddUpRecharge2))}},onShow:function onShow(e){this.node.active=e}}),cc._RF.pop()},{}],ActivityWindow:[function(e,t,n){cc._RF.push(t,"1033cjqYB1LeosGQOXUBg8Y","ActivityWindow");var i=e("BaseWindow"),u=e("ActivityTabItem"),d=e("ActivityScrollItem"),h=e("ActivityScrollItem2"),g=e("ActivityScrollItem3"),c=e("ActivityDailyScrollItem"),p=e("ActivityCunJieScrollItem"),y=e("ActivityCunJieScrollItem2"),l=e("ActivityRankScrollItem"),o=e("ItemWidget");cc.Class({extends:i,properties:{tabContent:cc.Node,activityTabItemPrefab:cc.Prefab,tabScrollView:cc.ScrollView,leftBtn:cc.Button,rightBtn:cc.Button,normalGroup:cc.Node,pageBg:cc.Sprite,scrollContent:cc.Node,activityItemPrefab:cc.Prefab,activityItem2Prefab:cc.Prefab,activityItem3Prefab:cc.Prefab,activityCunJieItemPrefab:cc.Prefab,activityCunJieItem2Prefab:cc.Prefab,activityRankItemPrefab:cc.Prefab,dailyGroup:cc.Node,dailyScrollContent:cc.Node,activityDailyScrollItemPrefab:cc.Prefab,turntableGroup:cc.Node,turntableNode:cc.Node,rewardSp1:cc.Sprite,rewardSp2:cc.Sprite,rewardSp3:cc.Sprite,rewardSp4:cc.Sprite,rewardSp5:cc.Sprite,rewardSp6:cc.Sprite,rewardSp7:cc.Sprite,rewardSp8:cc.Sprite,oneTurnBtn:cc.Button,tenTurnBtn:cc.Button,progressLabel:cc.Label,progress:cc.ProgressBar,descRichText:cc.RichText,goumaiLabel_1:cc.Label,costLabel_1:cc.Label,costSp_1:cc.Sprite,freeLabel:cc.Label,goumaiLabel_2:cc.Label,costLabel_2:cc.Label,costSp_2:cc.Sprite,ziYuanLiBaoGroup:cc.Node,ziYuanBuyBtn:cc.Node,ziYuanHasBuy:cc.Node,ziYuanTimeRich:cc.RichText,ziYuanDescRich:cc.RichText,touZiGroup:cc.Node,touZiBtn:cc.Node,touZiHadNode:cc.Node,timeRechargeGroup:cc.Node,timeRechargeTimeNumLabel:cc.Label,discountGroup:cc.Node,discountTimeNumLabel:cc.Label,rankGroup:cc.Node,rankLeftTimeLabel:cc.Label,rankPropertyLabel:cc.Label,rankPropertyNumLabel:cc.Label,rankPlayerNameLabel:cc.Label,rankRewardItemLayout:cc.Layout,rankChengHaoItemWidget:o,rankChengHaoLabel:cc.Label,rankChengHaoSp:cc.Sprite,rankPlayerHeadSp:cc.Sprite,rankScrollContent:cc.Node,_rankPropertyType:0},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.ACTIVITY_REFRESH,this.onRefresh,this),yx.eventDispatch.addListener(yx.EventType.ACTIVITY_SELECTTAB,this.onSelect,this),yx.eventDispatch.addListener(yx.EventType.ACTIVITY_TASK_REFRESH,this.onTaskRefresh,this),yx.eventDispatch.addListener(yx.EventType.ACTIVITY_TURNTABLE_SHOW_REWARD,this.onTurnTableShowReward,this),yx.eventDispatch.addListener(yx.EventType.RANK_ATRR_LIST,this.onEventRankAtrList,this),this.leftBtn.node.on("click",this.onLeftBtnClick,this),this.rightBtn.node.on("click",this.onRightBtnClick,this),this.oneTurnBtn.node.on("click",this.onOneTurnBtnClick,this),this.tenTurnBtn.node.on("click",this.onTenTurnBtnClick,this),this.ziYuanBuyBtn.on("click",this.onziYuanBuyBtnClick,this),this.touZiBtn.on("click",this.ontouZiBtnClick,this),this._rewardSpArr=[this.rewardSp1,this.rewardSp2,this.rewardSp3,this.rewardSp4,this.rewardSp5,this.rewardSp6,this.rewardSp7,this.rewardSp8],yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),this.ziYuanLiBaoGroup.active=!1,this.ziYuanTimeRich.node.active=!1,this.touZiGroup.active=!1,this._items=[],this._idle_angle=0,this._idle_right=!0,this._rankLeftTimeCallback=this.rankLeftTimeCallback.bind(this),this._timeRechargeTimeCallback=this.timeRechargeTimeCallback.bind(this),this._discountTimeCallback=this.discountTimeCallback.bind(this),this._rankEndTime=0,this._timeRechargeEndTime=0,this._discountEndTime=0,this._tabItemWidth=0},_onShow:function _onShow(e){if(yx.ActivityMgr.Info(),e)if(e.tabType){var t=yx.ActivityMgr.getActivityType(e.tabType);t&&(this.autoSelectID=t.id)}else if(e.tabId){var n=yx.ActivityMgr.getActivityData(e.tabId);n&&(this.autoSelectID=n.id)}},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},onLeftBtnClick:function onLeftBtnClick(){var e=this.tabScrollView.getScrollOffset().x;this.tabScrollView.scrollToOffset(cc.v2(Math.abs(e)-this.tabScrollView.node.width,0),1.5)},onRightBtnClick:function onRightBtnClick(){var e=this.tabScrollView.getScrollOffset().x;this.tabScrollView.scrollToOffset(cc.v2(Math.abs(e)+this.tabScrollView.node.width,0),1.5)},_refresh:function _refresh(){var e=yx.ActivityMgr.getList();this._tabs={},this.tabContent.removeAllChildren(!0);var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i.type==yx.proto.ActivityType.MiLing)continue;if(i.type==yx.proto.ActivityType.Skin)continue;if(i.type==yx.proto.ActivityType.LimitedTimeConsume)continue;var o=cc.instantiate(this.activityTabItemPrefab),r=o.getComponent(u);if(this._tabItemWidth=o.width,r){r.init(i),this.tabContent.addChild(o),this._tabs[i.id]=r;var a=yx.cfgMgr.getOneRecord("ActivityConfig",{ID:i.id});t.push({index:a.Index||-1,tabItem:o,itemSrc:r}),i.type==yx.proto.ActivityType.Resource?o.active=yx.CodeHelper.checkFuncOpenShow(57):i.type==yx.proto.ActivityType.AddUpRecharge||i.type==yx.proto.ActivityType.AddUpRecharge2?o.active=yx.CodeHelper.checkFuncOpenShow(60):i.type==yx.proto.ActivityType.DailyRechanrge&&(o.active=yx.CodeHelper.checkFuncOpenShow(72))}}t.sort(function(e,t){return e.index<t.index?-1:e.index==t.index?0:1});for(var s=0;s<t.length;s++)this.tabContent.insertChild(t[s].tabItem,s);if(t[0]&&(this._selectId=t[0].itemSrc.getData().id),this.autoSelectID&&this._tabs[this.autoSelectID]){this._selectId=this.autoSelectID;for(var c=0,l=0;l<t.length;l++)if(t[l].itemSrc.getData().id==this._selectId){c=l*this._tabItemWidth;break}this.tabScrollView.scrollToOffset(cc.v2(c,0),.1),this.autoSelectID=null}this.ziYuanGetAllRewardUpdate(),this._refreshTabContent(),this.onEventRefreshBadge()},_refreshTabContent:function _refreshTabContent(){for(var e in this._tabs)this._tabs.hasOwnProperty(e)&&this._tabs[e].selectShow(!1);for(var t in this._tabs[this._selectId].selectShow(!0),this.normalGroup.active=!1,this.dailyGroup.active=!1,this.turntableGroup.active=!1,this.rankGroup.active=!1,this.ziYuanLiBaoGroup.active=!1,this.touZiGroup.active=!1,this.timeRechargeGroup.active=!1,this.discountGroup.active=!1,this._items)if(this._items.hasOwnProperty(t))for(var n=this._items[t],i=0;i<n.length;i++)n[i].onShow(!1);var o=this._tabs[this._selectId].getData();o.type==yx.proto.ActivityType.DailyRechanrge?(this.dailyGroup.active=!0,this._dailyRefresh(o)):o.type==yx.proto.ActivityType.TurnTable?(this.turntableGroup.active=!0,this._turntableRefresh(o)):o.type==yx.proto.ActivityType.AttributeRank?(this.rankGroup.active=!0,this._rankRefresh(o)):(this.normalGroup.active=!0,this._normalRefresh(o))},onRefresh:function onRefresh(){this._refresh()},onSelect:function onSelect(e){(e.type!=yx.proto.ActivityType.AddUpRecharge&&e.type!=yx.proto.ActivityType.AddUpRecharge2||yx.CodeHelper.checkFuncOpen(60))&&this._selectId!=e.id&&(this._selectId=e.id,this._refreshTabContent())},onTaskRefresh:function onTaskRefresh(){var e=this._items[this._selectId];if(e){for(var t=0;t<e.length;t++)e[t].onUpdate();var n=yx.ActivityMgr.getActivityData(this._selectId);n&&(n.type==yx.proto.ActivityType.Resource?this.ziYuanBuyStateUpdate(n.id):n.type==yx.proto.ActivityType.InvestPlan&&this.touZiStateUpdate()),this.ziYuanGetAllRewardUpdate()}else yx.log("onTaskRefresh null == "+this._selectId)},_normalRefresh:function _normalRefresh(e){if(!this._items[e.id]){var t=yx.ActivityMgr.getTasks(e.fileName,e.id);this._items[e.id]=[];for(var n=this,i=0;i<t.length;i++){var o=t[i],r=null,a=null;(a=e.type==yx.proto.ActivityType.AddUpRecharge||e.type==yx.proto.ActivityType.AddUpRecharge2?(r=cc.instantiate(n.activityItem2Prefab)).getComponent(h):e.type==yx.proto.ActivityType.NewYear?o.Reward.length<=4?(r=cc.instantiate(n.activityCunJieItemPrefab)).getComponent(p):(r=cc.instantiate(n.activityCunJieItem2Prefab)).getComponent(y):e.type==yx.proto.ActivityType.DiscountShop?(r=cc.instantiate(n.activityItem3Prefab)).getComponent(g):(r=cc.instantiate(n.activityItemPrefab)).getComponent(d))&&(a.init(o,e.type,e.fileName,i),n.scrollContent.addChild(r),n._items[e.id].push(a))}}for(var s=0;s<this._items[e.id].length;s++)this._items[e.id][s].onShow(!0);switch(e.type){case yx.proto.ActivityType.LevelUp1:yx.resUtil.LoadSprite("activity/panel-118",this.pageBg);break;case yx.proto.ActivityType.XiuLian:yx.resUtil.LoadSprite("activity/panel-182",this.pageBg);break;case yx.proto.ActivityType.AddUpRecharge:yx.resUtil.LoadSprite("activity/panel-183",this.pageBg);break;case yx.proto.ActivityType.AddUpRecharge2:if(yx.resUtil.LoadSprite("activity/panel-183",this.pageBg),this.timeRechargeGroup.active=!0,this._timeRechargeEndTime=e.endTime,this._timeRechargeEndTime){this.unschedule(this._timeRechargeTimeCallback),this.schedule(this._timeRechargeTimeCallback,1,cc.macro.REPEAT_FOREVER,.1);var c=parseInt(this._timeRechargeEndTime-yx.timeUtil.getServerTime())/1e3;this.timeRechargeTimeNumLabel.string=yx.timeUtil.seconds2hourMinSecond(c)}break;case yx.proto.ActivityType.Resource:51000001==e.id?(yx.resUtil.LoadSprite("activity/panel-276",this.pageBg),this.ziYuanDescRich.node.active=!0,this.ziYuanBuyBtn.setPosition(cc.v2(203,-16)),this.ziYuanHasBuy.setPosition(cc.v2(203,-16))):51000002==e.id&&(yx.resUtil.LoadSprite("activity/panel-340",this.pageBg),this.ziYuanDescRich.node.active=!1,this.ziYuanBuyBtn.setPosition(cc.v2(203,-60)),this.ziYuanHasBuy.setPosition(cc.v2(203,-60))),this.ziYuanLiBaoGroup.active=!0,this.ziYuanBuyStateUpdate(e.id);break;case yx.proto.ActivityType.Login:yx.resUtil.LoadSprite("activity/libao-12",this.pageBg);break;case yx.proto.ActivityType.NewYear:yx.resUtil.LoadSprite("activity/panel-290",this.pageBg);break;case yx.proto.ActivityType.DiscountShop:if(yx.resUtil.LoadSprite("activity/panel-310",this.pageBg),this.discountGroup.active=!0,this._discountEndTime=e.endTime,this._discountEndTime){this.unschedule(this._discountTimeCallback),this.schedule(this._discountTimeCallback,1,cc.macro.REPEAT_FOREVER,.1);var l=parseInt(this._discountEndTime-yx.timeUtil.getServerTime())/1e3;this.discountTimeNumLabel.string=yx.timeUtil.seconds2hourMinSecond(l)}break;case yx.proto.ActivityType.InvestPlan:yx.resUtil.LoadSprite("activity/panel-314",this.pageBg),this.touZiGroup.active=!0,this.touZiStateUpdate()}this.onTaskRefresh()},onEventRankAtrList:function onEventRankAtrList(){var e=yx.ActivityMgr.getActivityData(yx.ActivityRankScrollItem.id);if(e){var t=e.id,n=yx.ActivityMgr.getTasks(e.fileName,t);this.updateFirstRankContent(n[0]);var i=n[0].Type,o="属性";if(1<=i&&i<=4)o=yx.textDict.Attr[i]||"属性",this.rankPropertyNumLabel.string=yx.playerMgr.getProperty(i);else if(10001==i){o="妖丹";var r=yx.wudaoMgr.getAttr(),a=0;r&&0<r.length&&(a=r.reduce(function(e,t){return e+t},0)),this.rankPropertyNumLabel.string=a}this.rankPropertyLabel.string="当前"+o+"：";var s=this._items[t];if(s)for(var c=0;c<s.length;c++)s[c].onUpdate()}var l=yx.RankMgr.getAtrrRankList();if(l&&0<l.length){var u=l[0];this.rankPlayerNameLabel.string=u.nickName;var d=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:u.zhongZu,Level:u.level});d&&yx.resUtil.LoadSpriteFromResConfig(d.HeadID,yx.ResType.HEAD,this.rankPlayerHeadSp)}},updateFirstRankContent:function updateFirstRankContent(e){var n=this;if(n.rankRewardItemLayout.node.removeAllChildren(!0),e.Reward.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n.onItemClick,yx.ItemWidget.CreateItemSlot(t,n.rankRewardItemLayout.node,"reward"+e.id)}),e.Reward2&&0<e.Reward2.length){var t={};t.amount=e.Reward2[0].count,t.itemId=e.Reward2[0].id,t.clickCallBack=this.onItemClick,this.rankChengHaoItemWidget.init(t),this.rankChengHaoItemWidget.node.active=!0;var i=yx.cfgMgr.getOneRecord("TitleConfig",{ID:e.TitleId});i&&yx.resUtil.LoadSpriteByType(i.Icon,yx.ResType.CHENG_HAO,this.rankChengHaoSp),this.rankChengHaoLabel.string=e.Des2}else this.rankChengHaoItemWidget.node.active=!1},rankLeftTimeCallback:function rankLeftTimeCallback(){var e=yx.timeUtil.getServerTime(),t=parseInt(this._rankEndTime-e)/1e3;this.rankLeftTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(t),t<=0&&(this.rankLeftTimeLabel.string="00:00:00",this.unschedule(this._rankLeftTimeCallback))},timeRechargeTimeCallback:function timeRechargeTimeCallback(){var e=yx.timeUtil.getServerTime(),t=parseInt(this._timeRechargeEndTime-e)/1e3;this.timeRechargeTimeNumLabel.string=yx.timeUtil.seconds2hourMinSecond(t),t<=0&&(this.timeRechargeTimeNumLabel.string="00:00:00",this.unschedule(this._timeRechargeTimeCallback))},discountTimeCallback:function discountTimeCallback(){var e=yx.timeUtil.getServerTime(),t=parseInt(this._discountEndTime-e)/1e3;this.discountTimeNumLabel.string=yx.timeUtil.seconds2hourMinSecond(t),t<=0&&(this.discountTimeNumLabel.string="00:00:00",this.unschedule(this._discountTimeCallback))},_rankRefresh:function _rankRefresh(e){this.unschedule(this._rankLeftTimeCallback),this.schedule(this._rankLeftTimeCallback,1,cc.macro.REPEAT_FOREVER,.1);var t=e.id;yx.ActivityRankScrollItem.id=t,this._rankEndTime=e.endTime;var n=yx.timeUtil.getServerTime(),i=parseInt(this._rankEndTime-n)/1e3;this.rankLeftTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(i);var o=yx.ActivityMgr.getTasks(e.fileName,t);if(!this._items[e.id]){this._items[e.id]=[],this.updateFirstRankContent(o[0]);for(var r=1;r<4;r++){var a=cc.instantiate(this.activityRankItemPrefab),s=a.getComponent(l);s&&(s.init(o[r],e.type,e.fileName,r,t),this.rankScrollContent.addChild(a),this._items[e.id].push(s))}}for(var c=0;c<this._items[e.id].length;c++)this._items[e.id][c].onShow(!0);yx.RankMgr.reqAtrrRankList(o[0].Type),this.onTaskRefresh()},_dailyRefresh:function _dailyRefresh(i){if(!this._items[i.id]){for(var e=[],t=yx.ActivityMgr.getAllActivityType(i.type),n=0;n<t.length;n++){var o=t[n],r=yx.ActivityMgr.getTasks(o.fileName,o.id);e=e.concat(r)}this._items[i.id]=[];var a=this;e.forEach(function(e){var t=null,n=null;(n=(t=cc.instantiate(a.activityDailyScrollItemPrefab)).getComponent(c))&&(n.init(e,i.type),a.dailyScrollContent.addChild(t),a._items[i.id].push(n))})}for(var s=0;s<this._items[i.id].length;s++)this._items[i.id][s].onShow(!0);this.onTaskRefresh()},update:function update(){if(this._startTurning){if(this.turntableNode.rotation=this.turntableNode.rotation+this._angle,1500<yx.timeUtil.getServerTime()-this._startTimes){yx.log("弹出奖励窗口");var e={};e.activityData=this._activityData,e.rewards=this._showWindwoTurntableRewards,yx.windowMgr.showWindow("turnTableRewardPanel",e),this._startTurning=!1,this.turntableNode.rotation=0}}else 10<this._idle_angle&&(this._idle_right=!1),this._idle_angle<-10&&(this._idle_right=!0),this._idle_right?this._idle_angle=this._idle_angle+.1:this._idle_angle=this._idle_angle-.1,this.turntableNode.rotation=this._idle_angle;this.isShown()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_turntableRefresh:function _turntableRefresh(e){for(var t=yx.cfgMgr.getOneRecord(e.fileName,{Activityid:e.id}),n=t.ShowItem,i=0;i<8;i++){var o=n[i],r=this._rewardSpArr[i],a=yx.cfgMgr.getOneRecord("ItemConfig",{ID:o.id});if(a&&null!=a.Icon){yx.resUtil.LoadSpriteByIconName(a.Icon,r);var s={};s.amount=o.count,s.itemId=a.ID,s.clickCallBack=this.onItemClick,yx.ItemWidget.CreateItemSlot(s,r.node,"reward_"+a.id)}}var c=yx.ActivityMgr.getTurnTableData(e.id);this.progressLabel.string=c.luckValue+"/"+t.Luckpro,this.progress.progress=c.luckValue/t.Luckpro,this.descRichText.string=t.Desc,this.costLabel_1.string=t.Cost2[0].count;var l=yx.cfgMgr.getOneRecord("ItemConfig",{ID:t.Cost2[0].id});this.goumaiLabel_1.string="购买"+t.ExtraReward[0].count+yx.bagMgr.GetItemName(t.ExtraReward[0].id),l&&null!=l.Icon&&yx.resUtil.LoadSpriteByIconName(l.Icon,this.costSp_1),this.costLabel_2.string=t.Cost3[0].count;var u=yx.cfgMgr.getOneRecord("ItemConfig",{ID:t.Cost3[0].id});this.goumaiLabel_2.string="购买"+10*t.ExtraReward[0].count+yx.bagMgr.GetItemName(t.ExtraReward[0].id),u&&null!=u.Icon&&yx.resUtil.LoadSpriteByIconName(u.Icon,this.costSp_2),0<c.freeTime?(this.costLabel_1.node.active=!1,this.costSp_1.node.active=!1,this.freeLabel.node.active=!0):(this.costLabel_1.node.active=!0,this.costSp_1.node.active=!0,this.freeLabel.node.active=!1),this._activityData=e},onOneTurnBtnClick:function onOneTurnBtnClick(){this._startTurning?yx.log("is turning"):yx.ActivityMgr.TurnTableOne(this._activityData.id)},_tenTurnOk:function _tenTurnOk(){yx.ActivityMgr.TurnTableTen(this._activityData.id)},onTenTurnBtnClick:function onTenTurnBtnClick(){if(this._startTurning)yx.log("is turning");else if(yx.ActivityMgr.getShowTextConfirm10())this._tenTurnOk();else{var e="<color=#345A5C>是否消耗{costValue}{costName}获得{rewardValue}{rewardName}，赠送10次寻宝次数</color>",t=yx.cfgMgr.getOneRecord(this._activityData.fileName,{Activityid:this._activityData.id});e=e.format({costValue:t.Cost3[0].count,costName:yx.bagMgr.GetItemName(t.Cost3[0].id),rewardValue:10*t.ExtraReward[0].count,rewardName:yx.bagMgr.GetItemName(t.ExtraReward[0].id)}),yx.TextConfirm.ShowConfirm(e,this._tenTurnOk.bind(this),null,null,null,null,null,this._onToggleClick.bind(this))}},_onToggleClick:function _onToggleClick(){var e=yx.ActivityMgr.getShowTextConfirm10();yx.ActivityMgr.setShowTextConfirm10(!e)},onTurnTableShowReward:function onTurnTableShowReward(e){this._startTurning=!0,this._angle=15,this._startTimes=yx.timeUtil.getServerTime(),this._showWindwoTurntableRewards=e;var t=this._tabs[this._selectId].getData();if(t.type==yx.proto.ActivityType.TurnTable){var n=yx.cfgMgr.getOneRecord(t.fileName,{Activityid:t.id}),i=yx.ActivityMgr.getTurnTableData(t.id);this.progressLabel.string=i.luckValue+"/"+n.Luckpro,this.progress.progress=i.luckValue/n.Luckpro,0<i.freeTime?(this.costLabel_1.node.active=!1,this.costSp_1.node.active=!1,this.freeLabel.node.active=!0):(this.costLabel_1.node.active=!0,this.costSp_1.node.active=!0,this.freeLabel.node.active=!1)}},onEventRefreshBadge:function onEventRefreshBadge(){if(this.isShown())for(var e in this._tabs)this._tabs.hasOwnProperty(e)&&this._tabs[e].updateBadge()},onziYuanBuyBtnClick:function onziYuanBuyBtnClick(){var e=yx.ActivityMgr.getActivityData(this._selectId);if(e){var t=yx.cfgMgr.getOneRecord(e.fileName,{ID:e.id,Index:1});t.RechargeId&&yx.reChargeMgr.reqReCharge(t.RechargeId)}},ontouZiBtnClick:function ontouZiBtnClick(){var e=yx.ActivityMgr.getActivityType(yx.proto.ActivityType.InvestPlan);if(e){var t=yx.cfgMgr.getOneRecord(e.fileName,{ID:e.id,Index:1});t.RechargeId&&yx.reChargeMgr.reqReCharge(t.RechargeId)}},ziYuanBuyStateUpdate:function ziYuanBuyStateUpdate(e){var t=yx.ActivityMgr.getActivityData(e);if(t){this.ziYuanBuyBtn.active=!1,this.ziYuanHasBuy.active=!1;var n=yx.ActivityMgr.getTaskInfo(t.id,1);!n||n&&n.taskState==yx.proto.TaskStateType.Processing?this.ziYuanBuyBtn.active=!0:this.ziYuanHasBuy.active=!0}},touZiStateUpdate:function touZiStateUpdate(){var e=yx.ActivityMgr.getActivityType(yx.proto.ActivityType.InvestPlan);if(e){this.touZiBtn.active=!1,this.touZiHadNode.active=!1;var t=yx.ActivityMgr.getTaskInfo(e.id,1);!t||t&&t.taskState==yx.proto.TaskStateType.Processing?this.touZiBtn.active=!0:this.touZiHadNode.active=!0}},ziYuanGetAllRewardUpdate:function ziYuanGetAllRewardUpdate(){var e=yx.ActivityMgr.getActivityData(this._selectId);if(e){for(var t=yx.cfgMgr.getRecordList(e.fileName,{ID:e.id}),n=!0,i=0;i<t.length;i++){var o=t[i],r=yx.ActivityMgr.getTaskInfo(e.id,o.Index);if(!r||r.taskState!=yx.proto.TaskStateType.Received){n=!1;break}}n&&this._tabs[yx.proto.ActivityType.Resource]&&this._tabs[yx.proto.ActivityType.Resource].onShow(!1)}}}),cc._RF.pop()},{ActivityCunJieScrollItem:"ActivityCunJieScrollItem",ActivityCunJieScrollItem2:"ActivityCunJieScrollItem2",ActivityDailyScrollItem:"ActivityDailyScrollItem",ActivityRankScrollItem:"ActivityRankScrollItem",ActivityScrollItem:"ActivityScrollItem",ActivityScrollItem2:"ActivityScrollItem2",ActivityScrollItem3:"ActivityScrollItem3",ActivityTabItem:"ActivityTabItem",BaseWindow:"BaseWindow",ItemWidget:"ItemWidget"}],Adapter:[function(e,t,n){cc._RF.push(t,"75849UelatIJb8hcFJ6MjAq","Adapter"),cc._RF.pop()},{}],AtrrItem:[function(e,t,n){cc._RF.push(t,"52945m+N8FAEaJTDduDJPP1","AtrrItem");var i=e("BaseItem"),o={};o[yx.CyType.MUCAI]="iocn-154",o[yx.CyType.YUNTIE]="iocn-155",o[yx.CyType.WEIWANG]="iocn-156",o[yx.CyType.GONGXIAN]="iocn-160",o[yx.CyType.SHIWU]="iocn-166",o[yx.CyType.SHENYU]="iocn-167",o[yx.CyType.LINGQI]="iocn-168",o[yx.CyType.LINGSHI]="iocn-169",o[yx.CyType.GONGDE]="iocn-277",o[yx.CyType.LINGYU]="iocn-386",o[yx.CyType.XIEYU]="iocn-276",o[yx.CyType.HAOYU]="iocn-275",o[yx.CyType.SHENGYU]="iocn-280",o[yx.CyType.GONGXIAN_XM]="iocn-508";var r=cc.Class({extends:i,properties:{titleSp:cc.Sprite,valueLabel:cc.Label},_onInit:function _onInit(e){if(this._args=e,o[e.cyType])return yx.resUtil.LoadSpriteByType(o[e.cyType],yx.ResType.Currency,this.titleSp),void this.updateValueLabel();yx.warn("Attritem 无此cytype："+e)},getCyType:function getCyType(){return this._args.cyType},updateValueLabel:function updateValueLabel(){this.valueLabel.string=yx.playerMgr.getCurrency(this._args.cyType)}});yx.AttrItem=t.exports=r,cc._RF.pop()},{BaseItem:"BaseItem"}],AtrrRankItem:[function(e,t,n){cc._RF.push(t,"72461m2jRJO7YMDmpPEX7GM","AtrrRankItem");var i=e("BaseItem"),o=cc.Class({extends:i,statics:{_prefabPath:"prefabs/widgets/AtrrRankItem"},properties:{rankNumLabel:cc.Label,nameLabel:cc.Label,atrrLabel:cc.Label},_onInit:function _onInit(e){e&&(this.nameLabel.string=e.nickName,this.rankNumLabel.string=e.rankIndex,this.atrrLabel.string=e.value)}});yx.AtrrRankItem=t.exports=o,cc._RF.pop()},{BaseItem:"BaseItem"}],AtrrRankPanel:[function(e,t,n){cc._RF.push(t,"748d0WeJQhLyr777n3WR+C2","AtrrRankPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{titleLabel:cc.Label,myRankLabel:cc.Label,itemScrollLayout:cc.Layout,properyText:cc.Label},_onInit:function _onInit(e){e.attrName&&(this.titleLabel.string=e.attrName+"排行榜",this.properyText.string=e.attrName);var t=yx.RankMgr.getAtrrRankList(),n=null;for(var i in this.itemScrollLayout.node.removeAllChildren(!0),t)t[i].playerID==yx.playerMgr.getPid()&&(n=t[i]),yx.AtrrRankItem.CreateItemSlotAync(yx.AtrrRankItem._prefabPath,t[i],this.itemScrollLayout.node,"atrrRankItem");this.myRankLabel.string=n?n.rankIndex:"未上榜"},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],AttrGroupWidget:[function(e,t,n){cc._RF.push(t,"35eb5z9bEVBGrINqhptaSMb","AttrGroupWidget"),cc.Class({extends:cc.Component,properties:{itemLayout:cc.Layout,atrrItemPrefab:cc.Prefab},start:function start(){this.itemLayout.paddingLeft=10,yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange.bind(this),this)},onEventCurrencyChange:function onEventCurrencyChange(e){if(e)for(var t in this.attrItems){var n=this.attrItems[t].getCyType();0!==e[n]&&void 0!==e[n]&&null!==e[n]&&this.attrItems[t].updateValueLabel()}},initItems:function initItems(e){var t=this;this.attrItems={},e.forEach(function(e){t.attrItems[e]=yx.AttrItem.CreateItemSlotSync(t.atrrItemPrefab,{cyType:e},t.itemLayout.node,"atrrItem"+e)})},showItems:function showItems(e){var t=this;for(var n in this.attrItems)this.attrItems[n].node.active=!1;e.forEach(function(e){t.attrItems[e].node.active=!0})}}),cc._RF.pop()},{}],BaGuaMgr:[function(e,t,n){cc._RF.push(t,"390b5pph0lKH7hWvql4aHjV","BaGuaMgr"),yx.BaGuaManager=function(){},yx.BaGuaManager.prototype={constructor:yx.BaGuaManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.BaGuaZhen,this.onMessagePetInfo.bind(this)),this.baGuaDatas={}},req:function req(e,t){var n=new yx.proto.C2S_BaGuaZhen;n.cmdType=e,n.baGuaType=t,yx.network.sendMessage(yx.proto.CmdId.BaGuaZhen,n)},onMessagePetInfo:function onMessagePetInfo(e,t){if(!(null!=e&&0<e.length)){var n=yx.proto.S2C_BaGuaZhen.decode(t);if(n)switch(this.updateBaGuaDatas(n.baGuaInfo),n.cmdType){case yx.proto.BaGuaZhenCmdType.GetBaGuaZhen_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.BAGUA_GET_INFO,n);break;case yx.proto.BaGuaZhenCmdType.Upgrade_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.BAGUA_UPGRATE,n)}}},updateBaGuaDatas:function updateBaGuaDatas(e){for(var t in e){var n=e[t];this.baGuaDatas[n.type]=n.level}},getBaGuaDatas:function getBaGuaDatas(){return this.baGuaDatas}},yx.baGuaMgr=new yx.BaGuaManager,cc._RF.pop()},{}],BadgeMgr:[function(e,t,n){cc._RF.push(t,"3a6e2MmzGZJJ7L3ZJV4aKYw","BadgeMgr");var s="badge_red_point";yx.BadgeManager=function(){this._eventList=null,this._qiYuEventList=null},yx.BadgeManager.prototype={constructor:yx.BadgeManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.RedDot,this.onMessageInfo),this._badgeMap={}},Info:function Info(){yx.log("[BadgeManager] Info ");var e=new yx.proto.C2S_RedDot;yx.network.sendMessage(yx.proto.CmdId.RedDot,e)},onMessageInfo:function onMessageInfo(e,t){if(yx.log("onMessageInfo-----"),null!=e&&0<e.length)yx.log("[BadgeManager onMessageInfo] error:"+e);else{var n=yx.proto.S2C_RedDot.decode(t);yx.BadgeMgr.updateList(n)}},updateList:function updateList(e){for(var t=0;t<e.redDotInfo.length;t++){var n=e.redDotInfo[t];this._badgeMap[n.id]=n}yx.eventDispatch.dispatchMsg(yx.EventType.BADGE_REFRESH)},IsShow:function IsShow(e){return this._badgeMap[e]&&this._badgeMap[e].show},addBadge:function addBadge(e,t,n){var i=1<arguments.length&&void 0!==t?t:0,o=2<arguments.length&&void 0!==n?n:0,r=new cc.Node(s);r.active=!1,e.addChild(r),r.setPosition(i,o);var a="prefabs/widgets/Badge";yx.resUtil.LoadRes(a,function(e,t){if(e)yx.warn(a+" is not exist!");else{var n=cc.instantiate(t);r&&r.isValid&&(r.addChild(n),r.setContentSize(n.getContentSize()))}})},showBadge:function showBadge(e,t){var n=e.getChildByName(s);n&&(n.active=t)}},yx.BadgeMgr=new yx.BadgeManager,t.exports=yx.BadgeMgr,cc._RF.pop()},{}],BagMgr:[function(e,t,n){cc._RF.push(t,"7fdded5wy1NFpmr+yFj/oZe","BagMgr");var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function e(t,n){var i=[],o=!0,r=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done)&&(i.push(s.value),!n||i.length!==n);o=!0);}catch(t){r=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};yx.BagManager=function(){this._slotsNum=0,this._pkgLevel=0,this._stoneUse=0,this._itemList=null,this._equipmentMap=new Map},yx.BagManager.prototype={constructor:yx.BagManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.ITEM_CHANGE,this.onMessageItemChange),yx.network.addHandler(yx.proto.CmdId.ALL_ITEM,this.onMessageAllItem),yx.network.addHandler(yx.proto.CmdId.USE_ITEM,this.onMessageUseItem),yx.network.addHandler(yx.proto.CmdId.EXCHANGE_ITEM,this.onMessageExchangeItem),yx.network.addHandler(yx.proto.CmdId.SELL_ITEM,this.onMessageSellItem),yx.network.addHandler(yx.proto.CmdId.SELL_MANY_EQUIP,this.onMessageSellOneKey),yx.network.addHandler(yx.proto.CmdId.EQUIPMENT_OPT,this.onMessageEquipmentOpt),yx.network.addHandler(yx.proto.CmdId.PKG_LEVEL_CHANGE,this.onMessagePkgChg),yx.network.addHandler(yx.proto.CmdId.UPDATE_EXCHANGE,this.onMessageUpdateExchage),yx.network.addHandler(yx.proto.CmdId.ITEM_USE_RESULT,this.onMessageItemUseResult),yx.eventDispatch.addListener(yx.EventType.USE_ITEM,this.onEventUseItem,this),yx.eventDispatch.addListener(yx.EventType.LOGOUT_EVENT,this.onEventLoginOut,this)},initItemList:function initItemList(e){var n=this;null==this._itemList&&(this._itemList=new Map),e.forEach(function(e){if(!n._itemList.has(e.id)){var t=yx.cfgMgr.getOneRecord("ItemConfig",e.itemId);t?(1==e.wear&&t.Type==yx.ItemType.EQUIP&&(n._equipmentMap.has(t.SubType)?yx.error("[BagMgr initItemList] equipment duplicate subtype"):n._equipmentMap.set(t.SubType,e.id)),n._itemList.set(e.id,e)):yx.warn("[BagMgr initItemList] cfg is not exist! itemid:"+e.itemId)}})},getItemList:function getItemList(){var e=new Array;if(null==this._itemList)return e;var t=!0,n=!1,i=void 0;try{for(var o,r=this._itemList.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;e.push(yx.proto.ItemMsg.create(a))}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}return e},getItemNum:function getItemNum(t){if(null==this._itemList)return 0;var n=0;return this._itemList.forEach(function(e){e.itemId==t&&(n+=e.amount)}),n},getItemNumNoWear:function getItemNumNoWear(t){if(null==this._itemList)return 0;var n=0;return this._itemList.forEach(function(e){e.itemId!=t||e.wear||(n+=e.amount)}),n},getItemNumNoWearByItemIds:function getItemNumNoWearByItemIds(t){if(null==this._itemList)return 0;var n=0;return this._itemList.forEach(function(e){!e.wear&&t.includes(e.itemId)&&(n+=e.amount)}),n},getItemNumByItemType:function getItemNumByItemType(n){if(null==this._itemList)return 0;var i=0;return this._itemList.forEach(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});t&&t.Type==n&&(i+=e.amount)}),i},getDJDanNumByPinZhiGte:function getDJDanNumByPinZhiGte(n){if(null==this._itemList)return 0;var i=0;return this._itemList.forEach(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});t&&t.Type===yx.ItemType.DUJIEDAN&&t.PinZhi>=n&&(i+=e.amount)}),i},getDJDansByPinZhiGte:function getDJDansByPinZhiGte(n){var i=[];return null==this._itemList||(this._itemList.forEach(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});t&&t.Type===yx.ItemType.DUJIEDAN&&t.PinZhi>=n&&(e.PinZhi=t.PinZhi,i.push(e))}),0<i.length&&i.sort(function(e,t){return e.PinZhi>t.PinZhi?1:e.PinZhi<t.PinZhi?-1:0})),i},getItemCfgListByPinZhi:function getItemCfgListByPinZhi(e,n){var i=new Array;if(e instanceof Number)i.push(e);else{if(!(e instanceof Array))return 0;i=e}var o=0,r={};this._itemList.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",e.itemId);t&&t.Type==n&&i.includes(t.PinZhi)&&(o++,r[e.id]=t)});var t=!0,a=!1,s=void 0;try{for(var c,l=this._equipmentMap.values()[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var u=c.value,d=this.getItemById(u),h=yx.cfgMgr.getOneRecord("ItemConfig",d.itemId);h&&h.Type==n&&i.includes(h.PinZhi)&&(o--,r[u]=null)}}catch(e){a=!0,s=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw s}}return{count:o,pinZhiItemCfgList:r}},getItemById:function getItemById(e){return this._itemList.has(e)?yx.proto.ItemMsg.create(this._itemList.get(e)):null},getItemByItemId:function getItemByItemId(t){var n=null;return this._itemList.forEach(function(e){e.itemId==t&&(n=e)}),null!=n?yx.proto.ItemMsg.create(n):null},getEquipment:function getEquipment(e){return this._equipmentMap.has(e)?this.getItemById(this._equipmentMap.get(e)):null},changeItem:function changeItem(e){var i=this;if(null!=e&&0!=e.length){yx.log("[BagMgr changeItem] change length:"+e.length);var o={};o.add=new Array,o.sub=new Array,o.wear=new Array,null==this._itemList&&(this._itemList=new Map),e.forEach(function(e){var t=i._itemList.get(e.id);if(t){var n=Math.abs(t.amount-e.amount);t.amount<e.amount?(t.amount=e.amount,e.amount=n,o.add.push(e)):t.amount>e.amount?(t.amount=e.amount,e.amount=n,o.sub.push(e),0==t.amount&&i._itemList.delete(e.id)):t.wear!=e.wear&&(t.wear=e.wear,i.changeEquipWear(t.id,t.wear),o.wear.push(e))}else i._itemList.set(e.id,e),o.add.push(e)}),yx.eventDispatch.dispatchMsg(yx.EventType.PLAYER_ITEM_CHG,o)}},setPkgArgs:function setPkgArgs(e,t,n){this._slotsNum=e,this._pkgLevel=t,this._stoneUse=n},getSlotsNum:function getSlotsNum(){return this._slotsNum},isBagFull:function isBagFull(){return this.getSlotsNum()<=this.getCurSlotsNum()},getCurSlotsNum:function getCurSlotsNum(){return this._curSlotsNum||0},setCurSlotsNum:function setCurSlotsNum(e){this._curSlotsNum=e},getCurSplitItemDataBySlot:function getCurSplitItemDataBySlot(){return this._curSplitItemData},setCurSplitItemDataBySlot:function setCurSplitItemDataBySlot(e){this._curSplitItemData=e},_checkNotInBag:function _checkNotInBag(e,t){return null==e||1==e.wear||null==t||5==t.Type},splitItemDataBySlot:function splitItemDataBySlot(e){for(var t=new Array,n=0;n<e.length;n++){var i=e[n],o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:i.itemId});if(null!=o&&0<i.amount&&!this._checkNotInBag(i,o)){var r=i;for(r.TopNum=o.TopNum,r.MaxPile=o.MaxPile;0<r.MaxPile&&r.amount>r.MaxPile;){var a=yx.proto.ItemMsg.create(r);a.amount=r.MaxPile,t.push(a),r.amount-=r.MaxPile}t.push(r)}}return t.sort(function(e,t){return e.TopNum==t.TopNum?e.itemId==t.itemId?t.amount-e.amount:e.itemId-t.itemId:e.TopNum-t.TopNum}),yx.bagMgr.setCurSplitItemDataBySlot(t),t},getBestEquitItemInfo:function getBestEquitItemInfo(){var i=this,o={};return yx.bagMgr.getCurSplitItemDataBySlot().forEach(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});if(t&&t.Type===yx.ItemType.EQUIP&&!e.wear)if(o[t.SubType])i._compareShuXing(e,o[t.SubType])&&(o[t.SubType]=e);else{var n=yx.bagMgr.getEquipment(t.SubType);n&&!i._compareShuXing(e,n)||(o[t.SubType]=e)}}),o},_compareShuXing:function _compareShuXing(e,t){if(e.Type==yx.ItemType.EQUIP){var n=this._getSumValue(t.attr);return this._getSumValue(e.attr)>n}},_getSumValue:function _getSumValue(e){return e.reduce(function(e,t){return e+t.value},0)},checkFullCanPutInBag:function checkFullCanPutInBag(e,t){if(yx.bagMgr.getCurSlotsNum()>=yx.bagMgr.getSlotsNum()){var n=this.getCurSplitItemDataBySlot();for(var i in n){var o=n[i];if(o.itemId==e&&o.amount+t<=o.MaxPile)return!0}return!1}return!0},getBagLevel:function getBagLevel(){return this._pkgLevel},getStoneUse:function getStoneUse(){return this._stoneUse},setExchangeData:function setExchangeData(){},GetItemName:function GetItemName(e){var t=e,n=yx.cfgMgr.getOneRecord("ItemConfig",t);return n?n.Name:""},GetItemOwnCount:function GetItemOwnCount(e,t){var n=t;return 0==e?yx.playerMgr.getCurrency(n):yx.bagMgr.getItemNum(n)},changeEquipWear:function changeEquipWear(e,t){if(t){var n=this.getItemById(e);if(!n)return;var i=yx.cfgMgr.getOneRecord("ItemConfig",n.itemId);if(!i)return void yx.warn("[BagMgr initItemList] cfg is not exist! itemid:"+n.itemId);1==n.wear&&i.Type==yx.ItemType.EQUIP&&this._equipmentMap.set(i.SubType,n.id)}else{var o=!0,r=!1,a=void 0;try{for(var s,c=this._equipmentMap[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,u=h(l,2),d=u[0];if(u[1]==e){this._equipmentMap.delete(d);break}}}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}}},reqAllItem:function reqAllItem(){yx.network.sendMessage(yx.proto.CmdId.ALL_ITEM,new yx.proto.C2S_GetAllItem)},reqUseItem:function reqUseItem(e,t,n,i){var o=3<arguments.length&&void 0!==i?i:null,r=new yx.proto.C2S_UseItem;r.itemId=e,r.count=t,r.selectItemId=n,r.stringValue=o,yx.network.sendMessage(yx.proto.CmdId.USE_ITEM,r)},reqExchangeItem:function reqExchangeItem(e){var t=new yx.proto.C2S_ExchangeItem;t.id=e,yx.network.sendMessage(yx.proto.CmdId.EXCHANGE_ITEM,t)},reqSellItem:function reqSellItem(e,t,n){var i=new yx.proto.C2S_SellItem;i.id=e,i.itemId=t,i.count=n,yx.network.sendMessage(yx.proto.CmdId.SELL_ITEM,i)},reqSellOneKey:function reqSellOneKey(e){var t=new yx.proto.C2S_SellManyEquip;t.equipQuality=e,yx.network.sendMessage(yx.proto.CmdId.SELL_MANY_EQUIP,t)},reqEquipmentOpt:function reqEquipmentOpt(e,t){var n=new yx.proto.C2S_EquipmentOpt;n.id=e,n.wear=t,yx.network.sendMessage(yx.proto.CmdId.EQUIPMENT_OPT,n)},checkHasLearn:function checkHasLearn(e){switch(e.UseType){case 11:return yx.gongfaMgr.hasLearnByIndex(e.UseArg[0]);case 7:case 9:case 4:return 0<yx.playerMgr.getItemUseCount(e.ID)}return!1},checkHasOwn:function checkHasOwn(e){switch(e.UseType){case 11:case 7:case 9:case 4:return 0<yx.bagMgr.getItemNum(e.ID)}return!1},getPinZhiBg:function getPinZhiBg(e){return e?e<=3?"common/iocn-90":e<=6?"common/iocn-91":e<=9?"common/iocn-92":e<=12?"common/iocn-93":e<=15?"common/iocn-94":e<=18?"common/iocn-113":"common/iocn-114":"common/iocn-20"},onMessageItemChange:function onMessageItemChange(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageItemChg] error:"+e);else{var n=yx.proto.S2C_ItemChange.decode(t);yx.playerMgr.changeCurrency(n.currency),yx.bagMgr.changeItem(n.item)}},onMessageAllItem:function onMessageAllItem(e,t){var n=yx.proto.S2C_GetAllItem.decode(t);null!=n&&(null!=n.item&&(yx.bagMgr.initItemList(n.item),yx.eventDispatch.dispatchMsg(yx.EventType.PLAYER_ITEM_CHG)),n.currency&&(yx.playerMgr.initCurrency(n.currency),yx.eventDispatch.dispatchMsg(yx.EventType.CURRENCY_CHANGE)))},onMessageItemUseResult:function onMessageItemUseResult(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageUseItem] error:"+e);else{var n=yx.proto.S2C_ItemUseResult.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.USE_ITEM_RESULT,n)}},onMessageUseItem:function onMessageUseItem(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageUseItem] error:"+e);else{var n=yx.proto.S2C_UseItem.decode(t);n&&(yx.cfgMgr.getRecordByKey("ItemConfig",{ID:n.itemId}),yx.eventDispatch.dispatchMsg(yx.EventType.USE_ITEM,n))}},onMessageExchangeItem:function onMessageExchangeItem(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageExchangeItem] error:"+e);else{var n=yx.proto.S2C_ExchangeItem.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.ITEM_EXCHANGE,n)}},onMessageSellItem:function onMessageSellItem(e){null!=e&&0<e.length&&yx.warn("[BagMgr onMessageSellItem] error:"+e)},onMessageSellOneKey:function onMessageSellOneKey(e){null!=e&&0<e.length&&yx.warn("[BagMgr onMessageSellItem] error:"+e)},onMessageEquipmentOpt:function onMessageEquipmentOpt(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageSellItem] error:"+e);else{var n=yx.proto.S2C_EquipmentOpt.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.EQUIPMENT_OPT,n)}},onMessagePkgChg:function onMessagePkgChg(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageSellItem] error:"+e);else{var n=yx.proto.S2C_PackageInfo.decode(t);yx.bagMgr.setPkgArgs(n.pkgNum,n.pkgLevel,n.pkgUse),yx.eventDispatch.dispatchMsg(yx.EventType.PKG_LEVEL_CHANGE)}},onMessageUpdateExchage:function onMessageUpdateExchage(e,t){if(null!=e&&0<e.length)yx.warn("[BagMgr onMessageUpdateExchage] error:"+e);else{var n=yx.proto.S2C_ItemExchangeInfo.decode(t);yx.playerMgr.setItemExchangeInfo(n.itemExchange),yx.eventDispatch.dispatchMsg(yx.EventType.UPDATE_EXCHANGE)}},onEventUseItem:function onEventUseItem(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});if(14!==t.Type&&t&&0!==t.UseType){var n=e.reward,i=n[0];switch(t.UseType){case 21:var o=yx.colorUtil.AddColorString(t.Name,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("激活"+o);break;case 56:var r=yx.colorUtil.AddColorString(t.Name,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("激活"+r);break;case 50:case 47:case 48:case 49:var a=yx.colorUtil.AddColorString(t.Name,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("习得"+a);break;case 14:yx.ToastUtil.showListToast("夺舍成功");break;case yx.proto.ItemUseType.DuJieChance:if(i){var s=yx.colorUtil.AddColorString("+"+i.amount/100+"%",yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("渡劫成功率"+s)}break;case yx.proto.ItemUseType.ExpendPackageNum:if(i){var c="+"+i.amount;c=yx.colorUtil.AddColorString(c,yx.colorUtil.TextGreen),yx.ToastUtil.showListToast("背包格子数"+c)}break;case yx.proto.ItemUseType.TreasureBox:case yx.proto.ItemUseType.DropItem:for(var l in n){var u=n[l];if(u){var d=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:u.itemId});if(d){var h=yx.colorUtil.AddColorString(d.Name+"["+u.amount+"]",yx.textDict.QualityColor.getQualityColor(d.PinZhi));yx.ToastUtil.showListToast("获得"+h)}}}break;case yx.proto.ItemUseType.UnlockNPC:if(i){var g=yx.cfgMgr.getOneRecord("DaoLvListConfig",{ID:i.itemId});if(g){var p=g.NpcID,y=yx.cfgMgr.getOneRecord("NpcListConfig",{ID:p});if(y){var f=yx.colorUtil.AddColorString(y.Name,yx.textDict.QualityColor.getQualityColor(g.PinZhi));yx.ToastUtil.showListToast("结识"+f)}}}break;case yx.proto.ItemUseType.AddProperties:for(var m in n){var v=n[m];if(v&&yx.textDict.Attr[v.type]){var x=yx.textDict.Attr[v.type]+"+"+v.amount;yx.ToastUtil.showListToast(yx.colorUtil.AddColorString(x,yx.colorUtil.TextGreen))}}break;case yx.proto.ItemUseType.UnlockDuanQiTuZhi:case yx.proto.ItemUseType.UnlockDanYaoTuZhu:case yx.proto.ItemUseType.ActivateDanLu:case yx.proto.ItemUseType.ActivateQiDing:var w=yx.colorUtil.AddColorString(t.Name,yx.textDict.QualityColor.getQualityColor(t.PinZhi));yx.ToastUtil.showListToast("获得"+w);break;case yx.proto.ItemUseType.ActivateSkillBook:var C=yx.colorUtil.AddColorString(t.Name,yx.textDict.QualityColor.getQualityColor(t.PinZhi));yx.ToastUtil.showListToast("习得"+C);break;case yx.proto.ItemUseType.ActivateWuDaoBook:var I=yx.colorUtil.AddColorString(t.Name,yx.textDict.QualityColor.getQualityColor(t.PinZhi));if(yx.ToastUtil.showListToast("成功阅读道书"+I),i){var b=yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:i.itemId});if(b&&b.Reward){var _=yx.colorUtil.AddColorString("获得：",yx.colorUtil.TextYellowLight),T=b.Reward[0].count,S=b.Reward[1].count,k=yx.colorUtil.AddColorString(S+"修为，"+T+"悟道经验",yx.colorUtil.TextGreen);yx.ToastUtil.showListToast(_+k)}}break;case yx.proto.ItemUseType.AddShenYouTime:var L=yx.colorUtil.AddColorString("神游次数x"+e.count,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("增加"+L);break;case yx.proto.ItemUseType.JoinMenPai:if(i){var M=yx.cfgMgr.getOneRecord("MenPaiConfig",{ID:i.itemId});if(M){var B=yx.colorUtil.AddColorString(M.DefName,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("加入"+B)}}break;case yx.proto.ItemUseType.ActivityFishingRod:yx.ToastUtil.showListToast("穿戴成功");break;case yx.proto.ItemUseType.UnlockAutoShenYou:case yx.proto.ItemUseType.ViewPropertyAuth:case yx.proto.ItemUseType.ShenYouAutoSell:case yx.proto.ItemUseType.ShenYouCD:case yx.proto.ItemUseType.UnlockAutoWuDao:var D=yx.colorUtil.AddColorString("《"+t.Name+"》",yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("习得"+D);break;case yx.proto.ItemUseType.RenameCard:yx.ToastUtil.showListToast("改名成功")}}},onEventLoginOut:function onEventLoginOut(){this._itemList=null}},yx.bagMgr=new yx.BagManager,t.exports=yx.bagMgr,cc._RF.pop()},{}],BagWindow:[function(e,t,n){cc._RF.push(t,"35143v8dt9EvqnTFaL/x3B9","BagWindow");var i=e("BaseWindow"),o=e("GoBackWidget"),r=e("EquipWidget"),a={};a[yx.proto.PropertyType.ZhenQi]={name:"攻击",convert:!0},a[yx.proto.PropertyType.GenGu]={name:"防御",convert:!0},a[yx.proto.PropertyType.TiPo]={name:"生命",convert:!0},a[yx.proto.PropertyType.ShenFa]={name:"闪避",convert:!0},a[yx.proto.PropertyType.LingLi]={name:"暴击",convert:!0},a[yx.proto.PropertyType.JinXi]={name:"金系伤害",convert:!1},a[yx.proto.PropertyType.MuXi]={name:"木系伤害",convert:!1},a[yx.proto.PropertyType.ShuiXi]={name:"水系伤害",convert:!1},a[yx.proto.PropertyType.HuoXi]={name:"火系伤害",convert:!1},a[yx.proto.PropertyType.TuXi]={name:"土系伤害",convert:!1},cc.Class({extends:i,properties:{roleNode:cc.Node,equipWuQiBtn:r,equipMaoZiBtn:r,equipYiFuBtn:r,equipXieZiBtn:r,equipJieZiBtn:r,equipYuPeiBtn:r,equipZuoZiBtn:r,equipFaQiBtn:r,shizhuangBtn:cc.Button,infoBtn:cc.Button,exchangeBtn:cc.Button,yiJianWearBtn:cc.Button,backWidget:o,sellBtn:cc.Button,tidyupBtn:cc.Button,bagTitleLabel:cc.Label,itemCurNumLabel:cc.Label,itemTotalLabel:cc.Label,addBtn:cc.Button,itemGroupNode:cc.Node,itemLayout:cc.Layout,itemScrollView:cc.ScrollView},_onInit:function _onInit(){this.shizhuangBtn.node.on("click",this.onShiZhuangBtnClick,this),this.infoBtn.node.on("click",this.onInfoBtnClick,this),this.exchangeBtn.node.on("click",this.onExchangeBtnClick,this),this.yiJianWearBtn.node.on("click",this.onYiJianWearBtnClick,this),this.addBtn.node.on("click",this.onAddBtnClick,this),this.sellBtn.node.on("click",this.onSellBtnClick,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.PKG_LEVEL_CHANGE,this.onEventPkgLevelChange,this),yx.eventDispatch.addListener(yx.EventType.EQUIPMENT_OPT,this.onEventEquipmentOpt,this),yx.eventDispatch.addListener(yx.EventType.PROPERTY_CHANGE,this.onEventPropertyChange,this),yx.eventDispatch.addListener(yx.EventType.SKIN_STATUS_REFRESH,this.onEventSkinStatusRefresh,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_AVATAR_REFRESH,this.onEventBagAvatarRefresh,this),this._pkgCfg=yx.cfgMgr.getOneRecord("PkgLevelConfig",{Level:yx.bagMgr.getBagLevel()}),this._pkgCfg||yx.error("[BagWindow init] pkgCfg error"),this._equipList=[null,this.equipWuQiBtn,this.equipYiFuBtn,this.equipXieZiBtn,this.equipJieZiBtn,this.equipZuoZiBtn,this.equipYuPeiBtn,this.equipFaQiBtn,this.equipMaoZiBtn],yx.BadgeMgr.addBadge(this.shizhuangBtn.node,30,30),yx.BadgeMgr.addBadge(this.yiJianWearBtn.node,70,0),this._avatarId=0},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this.onEventItemChange.bind(this)),this._refreshAvatar(),this.onEventSkinStatusRefresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refreshAvatar:function _refreshAvatar(){this._avatarId!=yx.playerMgr.getAvatarId()&&0<yx.playerMgr.getAvatarId()&&(this._avatarId=yx.playerMgr.getAvatarId(),yx.resUtil.loadRoleAvatar(this.roleNode,yx.playerMgr.getAvatarId(),"bag",null))},clearItemGroup:function clearItemGroup(){this.itemLayout.node.removeAllChildren(!0)},_initItemGroup:function _initItemGroup(){var e=yx.bagMgr.getSlotsNum(),t=yx.bagMgr.splitItemDataBySlot(yx.bagMgr.getItemList());this.itemCurNumLabel.string=t.length.toString(),yx.bagMgr.setCurSlotsNum(t.length),this.clearItemGroup();for(var n=0;n<e;n++)if(n<t.length){var i=t[n];yx.ItemWidget.CreateItemSlot(i,this.itemLayout.node,"slot_"+n,!0,"bagItem_"+i.itemId,!0)}else yx.ItemWidget.CreateEmptySlot(this.itemLayout.node,"slot_"+n,!0)},_initEquipGroup:function _initEquipGroup(){for(var e=1;e<this._equipList.length;e++){var t=this._equipList[e];t&&t.init(e)}},_refreshBagInfo:function _refreshBagInfo(){this._pkgCfg=yx.cfgMgr.getOneRecord("PkgLevelConfig",{Level:yx.bagMgr.getBagLevel()}),this._pkgCfg||yx.error("[BagWindow init] pkgCfg error"),this.bagTitleLabel.string=this._pkgCfg.Name;var e=yx.bagMgr.getSlotsNum();this.itemTotalLabel.string="/"+e;for(var t=this.itemLayout.node.childrenCount;t<e;)yx.ItemWidget.CreateEmptySlot(this.itemLayout.node,"slot_"+t,!0),t++},_refreshEquipByPos:function _refreshEquipByPos(e){if(0<e){var t=this._equipList[e];t&&t.init(e)}},_refresh:function _refresh(){this._initItemGroup(),this._initEquipGroup(),this._refreshBagInfo(),this._refreshYiJianWear()},_refreshYiJianWear:function _refreshYiJianWear(){var e=yx.bagMgr.getBestEquitItemInfo();this.yiJianWearBtn.node.active=0<Object.keys(e).length,yx.BadgeMgr.showBadge(this.yiJianWearBtn.node,!0)},_printSlotsStatus:function _printSlotsStatus(e){for(var t=this.itemLayout.node.children,n=yx.bagMgr.getSlotsNum(),i=e,o=0;o<n;o++){var r=t[o];if(null!=r){var a=r.getComponentInChildren(yx.ItemWidget);null==a?i+=o+":no item ":null==a.getItemInfo()?i+=o+":no info ":i+=o+":"+a.getItemInfo().id+":"+a.getItemInfo().itemId+" "}else i+=o+":no node "}yx.log(i)},_refreshSlots:function _refreshSlots(){var e=yx.bagMgr.splitItemDataBySlot(yx.bagMgr.getItemList()),t=this.itemLayout.node.children;this.itemCurNumLabel.string=e.length.toString(),yx.bagMgr.setCurSlotsNum(e.length);for(var n=yx.bagMgr.getSlotsNum(),i=0;i<n;i++){var o=e[i],r=t[i];if(null!=r){var a=r.getComponentInChildren(yx.ItemWidget);null!=a?(a.init(o,!0,!0),a.node.name=o?"bagItem_"+o.itemId:"slot_"+i):yx.warn("[BagWindow refreshChange] itemwidget is null index:"+i)}else yx.warn("[BagWindow refreshChange] slotNode is null index:"+i)}yx.eventDispatch.dispatchMsg(yx.EventType.BAG_REFRESH_SLOT)},onShiZhuangBtnClick:function onShiZhuangBtnClick(){yx.CodeHelper.checkFuncOpen(34)&&(yx.log("onShiZhuangBtnClick"),yx.windowMgr.showWindow("skin"))},onInfoBtnClick:function onInfoBtnClick(){if(!yx.playerMgr.isOpenShenShiRuTi())return yx.ToastUtil.showListToast("尚未习得“神识入体”秘术，无法内视己身"),void yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_SHENSHI});yx.windowMgr.showWindow("roleInfo")},onExchangeBtnClick:function onExchangeBtnClick(){yx.windowMgr.showWindow("longWangBaoKu")},onYiJianWearBtnClick:function onYiJianWearBtnClick(){var e=yx.bagMgr.getBestEquitItemInfo();for(var t in e)yx.bagMgr.reqEquipmentOpt(e[t].id,!e[t].wear);yx.playerMgr.reqPlayerProperty()},onAddBtnClick:function onAddBtnClick(){yx.windowMgr.showWindow("pkgUpgrade")},onSellBtnClick:function onSellBtnClick(){yx.windowMgr.showWindow("oneKeySell")},onEventItemChange:function onEventItemChange(e){this.isShown()&&(0<this.itemLayout.node.childrenCount?(this._refreshSlots(),this._refreshYiJianWear(),e&&e.wear&&0<e.wear.length&&this._initEquipGroup()):this._refresh())},onEventPkgLevelChange:function onEventPkgLevelChange(){this.isShown()&&this._refreshBagInfo()},onEventPropertyChange:function onEventPropertyChange(e){if(this.isShown())for(var t in e){var n=e[t];if(a[t]&&(a[t].convert&&(n=yx.playerMgr.attr2secAttr(t,n)),0<n)){var i=yx.colorUtil.AddColorString(a[t].name+"+"+n,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast(i)}}},onEventEquipmentOpt:function onEventEquipmentOpt(e){this.isShown()&&(e.wear?yx.ToastUtil.showListToast("穿戴成功"):yx.ToastUtil.showListToast("卸下成功"))},findBagItemByAction:function findBagItemByAction(e,t){for(var n=this.itemLayout.node.children,i=yx.bagMgr.getSlotsNum(),o=0;o<i;o++){var r=n[o];if(null!=r){var a=r.getComponentInChildren(yx.ItemWidget);if(null!=a&&null!=a.getItemInfo()){var s=yx.cfgMgr.getOneRecord("ItemConfig",{ID:a.getItemInfo().itemId});if(e==yx.GuideActionType.TYPE_1){if(s.UseType==t)return a.node}else if(e==yx.GuideActionType.TYPE_2&&s.Type==t)return a.node}}}return null},onEventSkinStatusRefresh:function onEventSkinStatusRefresh(){yx.BadgeMgr.showBadge(this.shizhuangBtn.node,yx.SkinMgr.IsCanActive())},onEventBagAvatarRefresh:function onEventBagAvatarRefresh(){this._refreshAvatar()},moveToTutorPosition:function moveToTutorPosition(){for(var e=null,t=this.itemLayout.node.children,n=yx.bagMgr.getSlotsNum(),i=0;i<n;i++){var o=t[i];if(null!=o){var r=o.getComponentInChildren(yx.ItemWidget);if(null!=r&&null!=r.getItemInfo()&&r.node.getChildByName("tutor_node")){e=o;break}}}if(e){var a=-e.height/2,s=e.y-a;this.itemScrollView.scrollToOffset(cc.v2(0,-s),.5)}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",EquipWidget:"EquipWidget",GoBackWidget:"GoBackWidget"}],BaseItem:[function(e,t,n){cc._RF.push(t,"aa6c9cVSZtM0JsbUI4EeJFu","BaseItem");var c=cc.Class({extends:cc.Component,statics:{CreateItemSlotAync:function CreateItemSlotAync(o,r,e,a){var s=new cc.Node(a);return e.addChild(s),yx.resUtil.LoadRes(o,function(e,t){if(e)yx.warn(o+" is not exist!");else{var n=cc.instantiate(t);null!=a&&(n.name=a);var i=n.getComponent(c);i&&s&&s.isValid?(i.init(r),s.addChild(n),s.setContentSize(n.getContentSize())):yx.warn("ItemWidget instantiate error!")}}),s},CreateItemSlotSync:function CreateItemSlotSync(e,t,n,i){var o=cc.instantiate(e);null!=i&&(o.name=i);var r=o.getComponent(c);return r?(r.init(t),n.addChild(o)):yx.warn("ItemWidget instantiate error!"),r}},init:function init(e){this._onInit(e)}});cc._RF.pop()},{}],BaseRepeatItem:[function(e,t,n){cc._RF.push(t,"c219cjnuVZD1oNXR2G1SBM+","BaseRepeatItem"),cc.Class({extends:cc.Component,initItem:function initItem(e,t){this._itemID=e,this._data=t,this._initItem(e,t),this._onUpdate()},updateItem:function updateItem(e,t){this._itemID=e,this._data=t,this._updateItem(e,t),this._onUpdate()},getItemID:function getItemID(){return this._itemID},updateWithoutData:function updateWithoutData(){this._updateWithoutData(),this._onUpdate()},_initItem:function _initItem(){},_updateItem:function _updateItem(){},_updateWithoutData:function _updateWithoutData(){},_onUpdate:function _onUpdate(){}}),cc._RF.pop()},{}],BaseWindow:[function(e,t,n){cc._RF.push(t,"4485bcZFQJKdJtLY0smOGy1","BaseWindow");var i=cc.Enum({WINDOW:0,PANEL:1,POPUP:2,TOP:3}),o=cc.Class({extends:cc.Component,properties:{},statics:{Type:i},ctor:function ctor(){this._shown=!1,this.windowType=i.WINDOW},onLoad:function onLoad(){yx.log(this.__classname__+" onLoad")},start:function start(){yx.log(this.__classname__+" start")},onDestroy:function onDestroy(){yx.log(this.__classname__+" onDestroy"),this._onDeInit(),yx.eventDispatch.removeListenersByTarget(this)},init:function init(e){if(this.name=e.name,this.windowType=e.type,this.windowType==i.WINDOW){var t=cc.size(yx.windowWidth,yx.windowHeight);this.node.setContentSize(t),this.node.getComponent(cc.BlockInputEvents)||this.node.addComponent(cc.BlockInputEvents)}this._onInit(e.args)},show:function show(e){if(this._shown=!0,null!=this.node){var t=cc.size(yx.windowWidth,yx.windowHeight);this.node.setContentSize(t),this.node.active=!0}this.windowType==i.PANEL&&(this.node.opacity=0,this.node.runAction(cc.fadeTo(.1,255))),this._onShow(e)},hide:function hide(){this._shown=!1,null!=this.node&&(this.node.active=!1),this._onHide()},isShown:function isShown(){return this._shown},_onInit:function _onInit(){yx.log(this.__classname__+" _onInit")},_onShow:function _onShow(){yx.log(this.__classname__+" _onShow")},_onHide:function _onHide(){yx.log(this.__classname__+" _onHide")},_onDeInit:function _onDeInit(){}});t.exports=o,cc._RF.pop()},{}],BattleActivityCDPage:[function(e,t,n){cc._RF.push(t,"9c9b20uXBtKw6U1opKA6F1n","BattleActivityCDPage"),cc.Class({extends:cc.Component,properties:{cdYuGanLabelNode:cc.Node,cdLeftTimesLabel:cc.Label,cdYuGanNameLabel:cc.Label,cdHuanHaiBtn:cc.Button,cdChuiXingBtn:cc.Button,cdYuHuoBtn:cc.Button,cdDuiHuanBtn:cc.Button,cdShuoMingBtn:cc.Button,cdAutoChuiDiaoBtn:cc.Button},init:function init(){yx.eventDispatch.addListener(yx.EventType.SWITCH_UPDATE,this.onEventSwitchAutoUpgrade,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_RECONNECT_INFO,this._chuiDiaoReconnectInfo,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_COUNT_INFO,this._refreshChuiDiao,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_YUGAN_INFO,this._setYuGanName,this),this.cdHuanHaiBtn.node.on("click",this._cdHuanHaiBtnClick,this),this.cdChuiXingBtn.node.on("click",this._cdChuiXingBtnClick,this),this.cdYuHuoBtn.node.on("click",this._cdYuHuoBtnClick,this),this.cdDuiHuanBtn.node.on("click",this.cdDuiHuanBtnClick,this),this.cdShuoMingBtn.node.on("click",this.cdShuoMingBtnClick,this),this.cdAutoChuiDiaoBtn.node.on("click",this.cdAutoChuiDiaoBtnClick,this),this.cdYuGanNameLabel.string="无",this.cdYuGanLabelNode.active=!1,this.cdDuiHuanBtn.node.name="cdDuiHuanBtn",this.cdAutoChuiDiaoBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.GoFishingAuto),this.cdAutoChuiDiaoBtn.node.active=yx.CodeHelper.checkFuncOpenShow(68)},onShow:function onShow(){this.isShow=!0,this._reqChuiDiaoPage(),this._refresh()},onHide:function onHide(){this.isShow=!1},_refresh:function _refresh(){},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},onHelpBtnClick:function onHelpBtnClick(){},_reqChuiDiaoPage:function _reqChuiDiaoPage(){yx.chuiDiaoMgr.reqGoFishing(yx.proto.GoFishingCmdType.GetConsume_Cmd,yx.proto.GoFishingFieldType.AboveGround),yx.chuiDiaoMgr.reqGoFishing(yx.proto.GoFishingCmdType.GetConsume_Cmd,yx.proto.GoFishingFieldType.TheSky),yx.chuiDiaoMgr.reqGoFishing(yx.proto.GoFishingCmdType.GetFishingRod_Cmd,yx.proto.GoFishingFieldType.AboveGround)},_refreshChuiDiao:function _refreshChuiDiao(e){var t=0;e.chuiXingConsumeData&&(t+=e.chuiXingConsumeData.count),this.cdLeftTimesLabel.string=t},_setYuGanName:function _setYuGanName(e){if(e&&e.useing){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.useing});t&&(this.cdYuGanLabelNode.active=!0,this.cdYuGanNameLabel.string=t.Name)}},_cdChuiXingBtnClick:function _cdChuiXingBtnClick(){var e=yx.proto.GoFishingCmdType.Reconnect_Cmd,t=yx.proto.GoFishingFieldType.AboveGround;yx.chuiDiaoMgr.reqGoFishing(e,t)},_cdHuanHaiBtnClick:function _cdHuanHaiBtnClick(){if(yx.playerMgr.IsFlyUp()){var e=yx.proto.GoFishingCmdType.Reconnect_Cmd,t=yx.proto.GoFishingFieldType.TheSky;yx.chuiDiaoMgr.reqGoFishing(e,t)}else yx.ToastUtil.showListToast("飞升后方可进入")},_cdYuHuoBtnClick:function _cdYuHuoBtnClick(){yx.windowMgr.showWindow("yuHuoPanel")},cdDuiHuanBtnClick:function cdDuiHuanBtnClick(){yx.windowMgr.showWindow("duiHuanPanel")},cdShuoMingBtnClick:function cdShuoMingBtnClick(){yx.windowMgr.showWindow("shuoMingPanel",{shuoMingType:yx.ShuoMingPanel.SHUOMING_TYPE.CHUIDIAO})},cdAutoChuiDiaoBtnClick:function cdAutoChuiDiaoBtnClick(){var e=!this.cdAutoChuiDiaoBtn.node.getChildByName("checkmark").active;e&&0<!yx.playerMgr.getItemUseCount(10236)?yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_CHUIDIAO}):yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.GoFishingAuto,e)},_chuiDiaoReconnectInfo:function _chuiDiaoReconnectInfo(e){if(e.gameState==yx.proto.GameState.Stop){var t=e.fieldType,n="",i=0,o="",r=null;if(r=e.fieldType==yx.proto.GoFishingFieldType.AboveGround?(n="垂星之诞",i=e.chuiXingConsumeData.count,e.chuiXingConsumeData.resource):(n="幻海之心",i=e.huanHaiConsumeData.count,e.huanHaiConsumeData.resource))for(var a=0;a<r.length;a++){var s=r[a],c=s.id,l=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:c});l&&(o=l.Name+s.count)}var u={};u.content=yx.colorUtil.AddColorString("进入",yx.colorUtil.TextDarkGreen),u.content+=yx.colorUtil.AddColorString(n,yx.colorUtil.TextDarkGreen),u.content+=yx.colorUtil.AddColorString("需要消耗",yx.colorUtil.TextDarkGreen),u.content+=yx.colorUtil.AddColorString(o,yx.colorUtil.TextDarkGreen),u.content+=yx.colorUtil.AddColorString("，道友今日还可以进入",yx.colorUtil.TextDarkGreen),u.content+=yx.colorUtil.AddColorString(i,0<i?yx.colorUtil.TextGreen:yx.colorUtil.TextRed),u.content+=yx.colorUtil.AddColorString("次",yx.colorUtil.TextDarkGreen),u.content+="\n\n\n",u.content+="拥有天庭官职可以获得一次额外机会";var d=new cc.Component.EventHandler;d.target=this.node,d.component="BattleActivityCDPage",d.handler="onGoChuiDiaoConfirmClick",d.customEventData={fieldType:t},u.confirmCallback=d,yx.windowMgr.showWindow("textConfirm",u)}else yx.windowMgr.showWindow("chuiDiaoWindow",e)},onGoChuiDiaoConfirmClick:function onGoChuiDiaoConfirmClick(e){var t=yx.proto.GoFishingCmdType.EnterField_Cmd,n=e.fieldType;yx.chuiDiaoMgr.reqGoFishing(t,n)},onEventSwitchAutoUpgrade:function onEventSwitchAutoUpgrade(){this.cdAutoChuiDiaoBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.GoFishingAuto)}}),cc._RF.pop()},{}],BattleActivityMJItem:[function(e,t,n){cc._RF.push(t,"65ea6qf+ahKo6Zdve7fCAS0","BattleActivityMJItem");var o=e("ItemWidget"),r=e("FrameLoadWidget"),i={1:10294,2:10295,3:10296,4:10297,5:10298};cc.Class({extends:cc.Component,properties:{titleLabel:cc.RichText,ownLabel:cc.RichText,itemSp:cc.Sprite,goBtn:cc.Button,goBtnSp:cc.Sprite,goBtnText:cc.Label,bgNode:cc.Node,scrollContent:cc.Node,itemWidgetPrefab:cc.Prefab},onLoad:function onLoad(){this.goBtn.node.on("click",this.onGoBtnClick,this)},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},frameInit:function frameInit(e){this._data=e,this.titleLabel.string=e.Name,this.refreshCost(),this.refreshReward(e.ShowReward),this.adapterSize(e.ShowReward),yx.BadgeMgr.addBadge(this.goBtn.node,55,15)},refreshGoBtn:function refreshGoBtn(e){e?i[this._data.ID]==e?(this.goBtn.interactable=!0,this.goBtnText.string="探索中",this.goBtnSp.setState(cc.Sprite.State.NORMAL)):(this.goBtn.interactable=!1,this.goBtnText.string="探索",this.goBtnSp.setState(cc.Sprite.State.GRAY)):(this.goBtn.interactable=!0,this.goBtnText.string="探索",this.goBtnSp.setState(cc.Sprite.State.NORMAL))},refreshCost:function refreshCost(){var e=this._data.Cost,t=yx.bagMgr.GetItemOwnCount(e[0].type,e[0].id),n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e[0].id});if(n){var i=n.Icon;yx.resUtil.LoadSpriteByType(i,yx.ResType.ITEM,this.itemSp)}var o=e[0].count;this.ownLabel.string=o<=t?"<color=#00C800>x{ownNum}</color>".format({ownNum:t}):"<color=#FF0000>x{ownNum}</color>".format({ownNum:t})},refreshReward:function refreshReward(e){var n=this,i=[];this.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t={amount:-1};t.itemId=e.id,t.clickCallBack=n.onItemClick,i.push({info:t,isShowPinJie:!0})}),i&&this.node.addComponent(r).init(this.scrollContent,i,this.itemWidgetPrefab,o).startLoad()},adapterSize:function adapterSize(e){var t=Math.ceil(e.length/4);if(1<t){var n=102*(t-1);this.node.height=this.node.height+n,this.bgNode.height=this.bgNode.height+n}},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onGoBtnClick:function onGoBtnClick(){yx.cangBaoTuMgr.reqInfo(yx.proto.WaBaoCmdType.EnterMap,i[this._data.ID])}}),cc._RF.pop()},{FrameLoadWidget:"FrameLoadWidget",ItemWidget:"ItemWidget"}],BattleActivityMJPage:[function(e,t,n){cc._RF.push(t,"9068eV09ENJRIKYjZrHDHqQ","BattleActivityMJPage");var i=e("FrameLoadWidget"),o=e("BattleActivityMJItem");cc.Class({extends:cc.Component,properties:{scv:cc.ScrollView,battleActivityMJItemPrefab:cc.Prefab},init:function init(){yx.eventDispatch.addListener(yx.EventType.CANGBAOTU_GET_INFO,this.onEventGetInfo,this),yx.eventDispatch.addListener(yx.EventType.CANGBAOTU_ENTER_MAP,this.onEventEnterMap,this),yx.eventDispatch.addListener(yx.EventType.CANGBAOTU_GET_REWARD,this.onEventGetReward,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),this.scv.content.removeAllChildren(!0);var e=yx.cfgMgr.getAllConfig("XunBaoRewardConfig");e&&this.node.addComponent(i).init(this.scv.content,e,this.battleActivityMJItemPrefab,o,this.frameLoadFinishCallback.bind(this)).startLoad()},frameLoadFinishCallback:function frameLoadFinishCallback(){this.frameLoadFinished=!0,yx.cangBaoTuMgr.reqInfo(yx.proto.WaBaoCmdType.GetWaBaoInfo_Cmd)},onShow:function onShow(){this.isShow=!0,this.frameLoadFinished&&yx.cangBaoTuMgr.reqInfo(yx.proto.WaBaoCmdType.GetWaBaoInfo_Cmd)},onHide:function onHide(){this.isShow=!1},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},onEventGetInfo:function onEventGetInfo(t){this.scv.content.getComponentsInChildren(o).forEach(function(e){e.refreshGoBtn(t.treasureMapType)})},onEventEnterMap:function onEventEnterMap(e){var t=e.position[0]-1,n=e.position[1]-1;t<0||19<t?yx.ToastUtil.showListToast("藏宝图坐标x错误"):n<0||19<n?yx.ToastUtil.showListToast("藏宝图坐标y错误"):(yx.cangBaoTuMgr.isInMap()?yx.windowMgr.showWindow("cangBaoMap"):yx.windowMgr.showWindow("cangBaoMap",{targetX:t,targetY:n,itemId:e.treasureMapType}),yx.cangBaoTuMgr.setInMap(!0))},onEventGetReward:function onEventGetReward(){},onEventItemChange:function onEventItemChange(e){var t=e.add.concat(e.sub).filter(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});return t&&t.Type==yx.ItemType.CANGBAOTU});t&&0<t.length&&this.scv.content.getComponentsInChildren(o).forEach(function(e){e.refreshCost()})}}),cc._RF.pop()},{BattleActivityMJItem:"BattleActivityMJItem",FrameLoadWidget:"FrameLoadWidget"}],BattleActivityWindow:[function(e,t,n){cc._RF.push(t,"078d0pw9oNHGYJuh0hkTfJg","BattleActivityWindow");var i=e("BaseWindow"),o=e("BattleActivityCDPage"),r=e("BattleActivityMJPage"),a=e("AttrGroupWidget"),s=cc.Enum({CHUIDIAO:1,MIJING:2});cc.Class({extends:i,statics:{TabType:s},properties:{attrGroupWidget:a,chuiDiaoBtn:cc.Button,miJingBtn:cc.Button,chuiDiaoPageNode:cc.Node,mijingPageNode:cc.Node,_curTab:Number,_tabBtnArray:null,_tabPageNodeArray:null,prefabChuiDiao:cc.Prefab,prefabMijing:cc.Prefab},_onInit:function _onInit(){this._curTab=s.CHUIDIAO,this.attrGroupWidget.initItems([yx.CyType.SHIWU,yx.CyType.LINGSHI]),this._tabBtnArray=[this.chuiDiaoBtn,this.miJingBtn],this._tabPageNodeArray=[this.chuiDiaoPageNode,this.mijingPageNode],this._pageScrArray={},this.chuiDiaoBtn.node.on("click",this.tabBtnClick.bind(this,s.CHUIDIAO),this),this.miJingBtn.node.on("click",this.tabBtnClick.bind(this,s.MIJING),this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.chuiDiaoBtn.node,50,50)},_onShow:function _onShow(e){e&&(this._curTab=e.tab),yx.CodeHelper.CallInNextTick(this.tabBtnClick.bind(this,this._curTab)),this.onEventRefreshBadge()},tabBtnClick:function tabBtnClick(e){switch(e){case s.CHUIDIAO:if(!yx.CodeHelper.checkFuncOpen(25))return;if(this.attrGroupWidget.showItems([yx.CyType.LINGSHI]),this._curTab=e,!this._pageScrArray[this._curTab]){var t=cc.instantiate(this.prefabChuiDiao);this._pageScrArray[this._curTab]=t.getComponent(o),this.chuiDiaoPageNode.addChild(t),this._pageScrArray[this._curTab].init()}break;case s.MIJING:if(!yx.CodeHelper.checkFuncOpen(93))return;if(this.attrGroupWidget.showItems([yx.CyType.SHIWU]),this._curTab=e,!this._pageScrArray[this._curTab]){var n=cc.instantiate(this.prefabMijing);this._pageScrArray[this._curTab]=n.getComponent(r),this.mijingPageNode.addChild(n),this._pageScrArray[this._curTab].init()}}this._refreshTabContent()},_refreshTabContent:function _refreshTabContent(){for(var e=0;e<this._tabBtnArray.length;e++){var t=e+1;this._curTab==t?(this._tabBtnArray[e].node.getChildByName("selected").active=!0,this._tabBtnArray[e].node.getChildByName("Background").active=!1,this._tabPageNodeArray[e].active=!0,this._pageScrArray[t].onShow()):(this._tabBtnArray[e].node.getChildByName("selected").active=!1,this._tabBtnArray[e].node.getChildByName("Background").active=!0,this._tabPageNodeArray[e].active=!1,this._pageScrArray[t]&&this._pageScrArray[t].onHide())}},onEventRefreshBadge:function onEventRefreshBadge(){yx.BadgeMgr.showBadge(this.chuiDiaoBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianGoFishing))}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",BattleActivityCDPage:"BattleActivityCDPage",BattleActivityMJPage:"BattleActivityMJPage"}],BattleGuaJiRewordWidget:[function(e,t,n){cc._RF.push(t,"b9b5dSbTLlPZLMJqmZg0RYl","BattleGuaJiRewordWidget");var i=e("BaseItem"),o=cc.Class({extends:i,statics:{prefabPath:"prefabs/widgets/BattleGuaJiRewordWidget"},properties:{itemSp:cc.Sprite,numLabel:cc.Label},_onInit:function _onInit(e){e&&this.refresh(e)},refresh:function refresh(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.id});if(t){var n=t.Icon,i=t.Type;if(this.numLabel.string=e.count+"/h","NaN"!=parseFloat(n).toString()){var o=yx.cfgMgr.getRecordByKey("ResConfig",{ID:n});o?yx.resUtil.LoadSpriteByType(o.Head,yx.ResType.FISH,this.itemSp):this.itemSp.spriteFrame=null}else 0<n.length&&(i==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(n,yx.ResType.EQUIP,this.itemSp):yx.resUtil.LoadSpriteByType(n,yx.ResType.ITEM,this.itemSp))}}});yx.BattleGuaJiRewordWidget=t.exports=o,cc._RF.pop()},{BaseItem:"BaseItem"}],BattleMgr:[function(e,t,n){cc._RF.push(t,"d96b6EYaxxM74oDfyOgImTS","BattleMgr"),yx.BattleManager=function(){this._lilianMapInfo={},this._lilianMapInfo.curMapId=1,this._lilianMapInfo.topMapId=1,this._lilianMapInfo.shenyouTopMapId=1,this._gjInfo={},this.battleRewardActivityId=4002},yx.BattleManager.prototype={constructor:yx.BattleManager,init:function init(){this._taskMap=null,yx.network.addHandler(yx.proto.CmdId.FIGHT_MONSTER,this.onMessageFightMonster),yx.network.addHandler(yx.proto.CmdId.THROUGH_MAP_REWARD,this.onMessageTongGuanReward),yx.network.addHandler(yx.proto.CmdId.CHAPTER_REWARD,this.onMessageReceiveGJReward.bind(this)),yx.network.addHandler(yx.proto.CmdId.ENTER_CHAPTER,this.onMessageEnterGj.bind(this)),yx.network.addHandler(yx.proto.CmdId.CHAPTER_BOSS,this.onMessagePKBoss.bind(this)),yx.network.addHandler(yx.proto.CmdId.NEXT_CHAPTER_MAP,this.onMessageNextMap.bind(this)),yx.network.addHandler(yx.proto.CmdId.QUICK_CHAPTER,this.onMessageQuickBattle.bind(this))},getCurGjCID:function getCurGjCID(){return this._gjInfo.cid||1},getCurTiaoZhanBossSuc:function getCurTiaoZhanBossSuc(){return this._gjInfo.pass||!1},getCurQuickBattleCount:function getCurQuickBattleCount(){return this._gjInfo.quickCount||0},reqFightMonster:function reqFightMonster(){var e=new yx.proto.C2S_FightMonster;yx.network.sendMessage(yx.proto.CmdId.FIGHT_MONSTER,e)},reqGJReward:function reqGJReward(){yx.network.sendMessage(yx.proto.CmdId.CHAPTER_REWARD,new yx.proto.C2S_ChapterReward)},reqEnterGjInfo:function reqEnterGjInfo(){yx.network.sendMessage(yx.proto.CmdId.ENTER_CHAPTER,new yx.proto.C2S_EnterChapter)},reqPkBoss:function reqPkBoss(){yx.network.sendMessage(yx.proto.CmdId.CHAPTER_BOSS,new yx.proto.C2S_ChapterBoss)},reqNextChapter:function reqNextChapter(){yx.network.sendMessage(yx.proto.CmdId.NEXT_CHAPTER_MAP,new yx.proto.C2S_NextChapterMap)},reqQuickBattle:function reqQuickBattle(){yx.network.sendMessage(yx.proto.CmdId.QUICK_CHAPTER,new yx.proto.C2S_QuickChapter)},reqTaskInfo:function reqTaskInfo(){yx.log("BattleManager  TaskInfo");var e=new yx.proto.C2S_PlayerTask;e.cmdTyp=yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.THROUGH_MAP_REWARD,e)},TaskReward:function TaskReward(e,t){yx.log("BattleManager  TaskReward id=="+e+",index="+t);var n=new yx.proto.C2S_PlayerTask;n.cmdTyp=yx.proto.PlayerTaskCmdType.Received_Cmd,n.id=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.THROUGH_MAP_REWARD,n)},getTaskInfo:function getTaskInfo(e,t){return this._taskMap&&this._taskMap[e]&&this._taskMap[e][t]?this._taskMap[e][t]:null},updateTaskList:function updateTaskList(e){null==this._taskMap&&(this._taskMap={});for(var t=e.taskInfo,n=0;n<t.length;n++){var i=t[n];null==this._taskMap[i.id]&&(this._taskMap[i.id]={}),this._taskMap[i.id][i.index]=i}yx.eventDispatch.dispatchMsg(yx.EventType.GJ_TASK_REFRESH)},onMessageFightMonster:function onMessageFightMonster(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessageFightMonster] error:"+e);else{var n=yx.proto.S2C_FightMonster.decode(t);yx.eventDispatch.dispatchMsg(yx.EventType.FIGHT_MONSTER,n.result)}},onMessageTongGuanReward:function onMessageTongGuanReward(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessageTongGuanReward] error:"+e);else{var n=yx.proto.S2C_PlayerTask.decode(t);if(n.cmdTyp===yx.proto.PlayerTaskCmdType.Received_Cmd||n.cmdTyp===yx.proto.PlayerTaskCmdType.UpdatePlayerTask_Cmd)for(var i=0;i<n.taskInfo.length;i++){var o=n.taskInfo[i];if(o.taskState==yx.proto.TaskStateType.Received){var r=yx.cfgMgr.getOneRecord("ChapterClearRewradConfig",{ID:o.index}).Reward;if(r&&0<r.length)for(var a=0;a<r.length;a++){var s=r[a],c=yx.bagMgr.GetItemName(s.id)+"<color=#ffd066>+"+s.count+"</color>";yx.ToastUtil.showListToast(c)}}}yx.battleMgr.updateTaskList(n)}},onMessageEnterGj:function onMessageEnterGj(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessageEnterGj] error:"+e);else{var n=yx.proto.S2C_EnterChapter.decode(t);n&&(this._gjInfo.cid=n.cid,this._gjInfo.pass=n.pass,this._gjInfo.quickCount=n.quickCount,yx.eventDispatch.dispatchMsg(yx.EventType.GJ_ENTER,n))}},onMessageReceiveGJReward:function onMessageReceiveGJReward(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessageReceiveGJReward] error:"+e);else{var n=yx.proto.S2C_ChapterReward.decode(t);n&&n.drop.forEach(function(e){var t=e.itemId,n=e.amount,i=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t});if(i){var o=yx.colorUtil.AddColorString(i.Name+"x"+n,yx.textDict.QualityColor.getQualityColor(i.PinZhi));yx.ToastUtil.showListToast("获得"+o)}})}},onMessagePKBoss:function onMessagePKBoss(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessagePKBoss] error:"+e);else{var n=yx.proto.S2C_ChapterBoss.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.GJ_PK_BOSS,n)}},onMessageNextMap:function onMessageNextMap(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessageNextMap] error:"+e);else{var n=yx.proto.S2C_NextChapterMap.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.GJ_NEXT_CHAPTER,n)}},onMessageQuickBattle:function onMessageQuickBattle(e,t){if(null!=e&&0<e.length)yx.warn("[battleMgr onMessageQuickBattle] error:"+e);else{var n=yx.proto.S2C_QuickChapter.decode(t);n&&(this._gjInfo.quickCount=n.quickCount,yx.eventDispatch.dispatchMsg(yx.EventType.GJ_QUICK_BATTLE,n))}}},yx.battleMgr=new yx.BattleManager,t.exports=yx.battleMgr,cc._RF.pop()},{}],BiWuItem:[function(e,t,n){cc._RF.push(t,"8d5b6Lo5tBH85WEzzwhXzHb","BiWuItem");var i=e("BaseItem");cc.Class({extends:i,properties:{rankNumLabel:cc.Label,nameLabel:cc.Label,levelLabel:cc.Label,roleNode:cc.Node},start:function start(){this.node.on("click",this._playerHeadClick,this)},_playerHeadClick:function _playerHeadClick(){this._cb&&this._cb(this._info)},refresh:function refresh(e,t){this._cb=t,this._info=e,this.rankNumLabel.string=e.rankIndex,this.nameLabel.string=e.nickName,this.levelLabel.string="Lv."+e.level;var n=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:e.zhongZu,Level:e.level});n&&this._refreshAvatar(n.AvatarID)},_refreshAvatar:function _refreshAvatar(e){0<e&&yx.resUtil.loadRoleAvatar(this.roleNode,e,"jingji",null)}}),cc._RF.pop()},{BaseItem:"BaseItem"}],BiWuMgr:[function(e,t,n){cc._RF.push(t,"e6e3du5BP1KDJU2IC6hLJK8","BiWuMgr"),yx.BiWuManager=function(){},yx.BiWuManager.prototype={constructor:yx.BiWuManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.BiWu,this.onMessageBiWu.bind(this))},reqBiWu:function reqBiWu(e,t){var n=new yx.proto.C2S_BiWu;n.cmdType=e,n.challengerID=t,yx.network.sendMessage(yx.proto.CmdId.BiWu,n)},onMessageBiWu:function onMessageBiWu(e,t){if(null!=e&&0<e.length)yx.log("[BiWuManager onMessageBiWu] error:"+e);else{var n=yx.proto.S2C_BiWu.decode(t);if(n)switch(n.cmdType){case yx.proto.BiWuCmdType.GetRankInfo_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.BIWU_GETRANKINFO,n);break;case yx.proto.BiWuCmdType.MatchingInfo_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.BIWU_MATCHINGINFO,n);break;case yx.proto.BiWuCmdType.Fight_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.BIWU_FIGHT,n)}}}},yx.biWuMgr=new yx.BiWuManager,t.exports=yx.biWuMgr,cc._RF.pop()},{}],BiWuRankItem:[function(e,t,n){cc._RF.push(t,"676a81OdaFDMJuR+rFcyzAm","BiWuRankItem");var i=e("BaseItem"),d={1:"jingji/iocn-254",2:"jingji/iocn-255",3:"jingji/iocn-256"},o=cc.Class({extends:i,statics:{_prefabPath:"prefabs/widgets/BiWuRankItem"},properties:{rankSp:cc.Sprite,rankNumLabel:cc.Label,nameLabel:cc.Label,levelLabel:cc.Label,jiangLiLayout:cc.Layout},_onInit:function _onInit(e){e&&this.refresh(e)},_reset:function _reset(){this.rankSp.node.active=!1,this.rankNumLabel.node.active=!1,this.nameLabel.string="",this.levelLabel.string=""},refresh:function refresh(e){this._reset();var t=e.rankIndex,n=e.nickName,i=e.level||0;1<=t&&t<=3?(this.rankSp.node.active=!0,this.rankNumLabel.node.active=!1,yx.resUtil.LoadSprite(d[t],this.rankSp)):3<t&&(this.rankSp.node.active=!1,this.rankNumLabel.node.active=!0,20<(this.rankNumLabel.string=t)&&(this.rankNumLabel.string="榜外")),this.nameLabel.string=n,this.levelLabel.string=i,this.jiangLiLayout.node.removeAllChildren(!0);var o=yx.BiWuRankPanel.getBiWuAward(i);for(var r in o){var a=o[r],s=a.count,c=yx.BiWuRankPanel.getIconFromItemId(a.id),l=yx.BiWuRankPanel.createAwardSpriteNode();yx.resUtil.LoadSpriteByType(c,yx.ResType.ITEM,l);var u=yx.BiWuRankPanel.createAwardLabelNode();u.string=s,this.jiangLiLayout.node.addChild(l.node),this.jiangLiLayout.node.addChild(u.node)}}});yx.BiWuRankItem=t.exports=o,cc._RF.pop()},{BaseItem:"BaseItem"}],BiWuRankPanel:[function(e,t,n){cc._RF.push(t,"caad1MHTeBOjoB9BHaXCRpX","BiWuRankPanel");var i=e("BaseWindow"),o=(e("BiWuRankItem"),cc.Class({extends:i,statics:{getBiWuAward:function getBiWuAward(e){if(this.awardConfigs||(this.awardConfigs=yx.cfgMgr.getAllConfig("BiWuAwardConfig")),this.awardConfigs)for(var t in this.awardConfigs){var n=this.awardConfigs[t];if(e>=n.TopFrom&&e<=n.TopTo)return n.Reward}},getIconFromItemId:function getIconFromItemId(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e});if(t)return t.Icon},createAwardSpriteNode:function createAwardSpriteNode(e){var t=0<arguments.length&&void 0!==e?e:cc.size(60,60),n=new cc.Node,i=n.addComponent(cc.Sprite);return i.sizeMode=cc.Sprite.SizeMode.CUSTOM,i.trim=!1,i.type=cc.Sprite.Type.SIMPLE,n.setContentSize(t),i},createAwardLabelNode:function createAwardLabelNode(e,t){var n=0<arguments.length&&void 0!==e?e:22,i=1<arguments.length&&void 0!==t?t:yx.colorUtil.TextDarkGreen,o=new cc.Node;o.setAnchorPoint(cc.v2(.5,.5)),o.color=yx.colorUtil.toCCColor(i);var r=o.addComponent(cc.Label);return r.fontSize=n,r.verticalAlign=cc.Label.VerticalAlign.CENTER,r}},properties:{titleLabel:cc.Label,itemScrollview:cc.ScrollView,itemScrollLayout:cc.Layout,myRankLabel:cc.Label,myRewardLayout:cc.Layout},_onInit:function _onInit(e){if(e){var t=e.biWuInfo;this.itemScrollLayout.node.removeAllChildren(!0),this.rankItemSlotArr=[];for(var n=0;n<t.length;n++){var i=yx.BiWuRankItem.CreateItemSlotAync(yx.BiWuRankItem._prefabPath,t[n],this.itemScrollLayout.node,"rankItem");this.rankItemSlotArr.push(i)}this.myRankLabel.string=e.selfRankIndex,this.myRewardLayout.node.removeAllChildren(!0);var o=yx.BiWuRankPanel.getBiWuAward(e.selfRankIndex);for(var r in o){var a=o[r],s=a.count,c=yx.BiWuRankPanel.getIconFromItemId(a.id),l=yx.BiWuRankPanel.createAwardSpriteNode();yx.resUtil.LoadSpriteByType(c,yx.ResType.ITEM,l);var u=yx.BiWuRankPanel.createAwardLabelNode();u.string=s,this.myRewardLayout.node.addChild(l.node),this.myRewardLayout.node.addChild(u.node)}}},_reset:function _reset(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}));yx.BiWuRankPanel=t.exports=o,cc._RF.pop()},{BaseWindow:"BaseWindow",BiWuRankItem:"BiWuRankItem"}],BiWuResultPanel:[function(e,t,n){cc._RF.push(t,"43345DrU8RLvLsd/eZWxC6j","BiWuResultPanel");var i=e("BaseWindow"),o="领取时间({time})";cc.Class({extends:i,properties:{resultDragon:dragonBones.ArmatureDisplay,maxRankLabel:cc.Label,curRankLabel:cc.Label,rewardLayout:cc.Layout,rankRewardLayout:cc.Layout,confirmBtn:cc.Button},_onInit:function _onInit(e){if(e){var t=e.isWin,n=e.resp;this.confirmBtn.node.on("click",this.confirmBtnClick,this),this.maxRankLabel.string=n.highestRankIndex,this.curRankLabel.string=n.selfRankIndex,this._initEffect(t),this._initItemAwardLayout(n.reward),this._initRankAwardLayout(n.selfRankIndex)}},confirmBtnClick:function confirmBtnClick(){yx.windowMgr.goBack()},initLeftTime:function initLeftTime(){this.leftTime=3,this.leftTimeLabel.string=o.format({time:this.leftTime}),this.leftTimeLabel.node.runAction(cc.repeat(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.leftTime--,this.leftTimeLabel.string=o.format({time:this.leftTime})}.bind(this))),3))},_initRankAwardLayout:function _initRankAwardLayout(e){this.rankRewardLayout.node.removeAllChildren(!0);var t=yx.BiWuRankPanel.getBiWuAward(e);for(var n in t){var i=t[n],o=i.count,r=yx.BiWuRankPanel.getIconFromItemId(i.id),a=yx.BiWuRankPanel.createAwardSpriteNode(cc.size(40,40));yx.resUtil.LoadSpriteByType(r,yx.ResType.ITEM,a);var s=yx.BiWuRankPanel.createAwardLabelNode(30,yx.colorUtil.TextWhite);s.string=o,this.rankRewardLayout.node.addChild(a.node),this.rankRewardLayout.node.addChild(s.node)}},_initItemAwardLayout:function _initItemAwardLayout(e){var n=this;this.rewardLayout.node.removeAllChildren(!0),e.forEach(function(e){var t={};t.id=e.id,t.itemId=e.id,t.amount=e.count,t.clickCallBack=n.onItemClick,yx.ItemWidget.CreateItemSlot(t,n.rewardLayout.node,"biwuReward")})},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_initEffect:function _initEffect(e){this.dragonPath="",this.animaName="",e?(this.dragonPath="ui_effect/jingji/succ",this.animaName="shengli"):(this.dragonPath="ui_effect/jingji/fail",this.animaName="shibai"),yx.resUtil.loadDragonBones(this.resultDragon,this.dragonPath,"MovieClip",this.animaName),this.resultDragon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this)},onDragonActionAnimComplete:function onDragonActionAnimComplete(){this.resultDragon._armature.animation.gotoAndStopByProgress(this.animaName,.9)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],BossPkResultPanel:[function(e,t,n){cc._RF.push(t,"a30db2qL0NJ2pWM7hSi2kEt","BossPkResultPanel");var i=e("BaseWindow"),o="领取奖励({time})";cc.Class({extends:i,properties:{itemLayout:cc.Layout,lingQuBtn:cc.Button,sucDrogon:dragonBones.ArmatureDisplay,lingQuLabel:cc.Label},_onInit:function _onInit(e){for(var t in this.sucDrogon.node.active=!1,this.lingQuBtn.node.on("click",this.lingQuBtnClick,this),this.sucDrogon.node.active=!0,this.sucDrogon.playAnimation("shengli",1),this.sucDrogon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this),e){var n=e[t];n.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(n,this.itemLayout.node,"boosReward")}this.initLeftTime(),yx.taskMgr.getBossPKShowFinish()&&(yx.taskMgr.setBossPKShowFinish(!1),yx.resUtil.playEffect("TaskFinishEffect",this.node,!1,0,300))},onDragonActionAnimComplete:function onDragonActionAnimComplete(){this.sucDrogon._armature.animation.gotoAndStopByProgress("shengli",.9)},initLeftTime:function initLeftTime(){this.leftTime=3,this.lingQuLabel.string=o.format({time:this.leftTime}),this.lingQuLabel.node.runAction(cc.repeat(cc.sequence(cc.delayTime(1),cc.callFunc(function(){if(this.leftTime<=0)return yx.windowMgr.closeWindow("bossPkResult"),void this.checkTutor();this.leftTime--,this.lingQuLabel.string=o.format({time:this.leftTime})}.bind(this))),4))},_onItemClick:function _onItemClick(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack(),this.checkTutor()},lingQuBtnClick:function lingQuBtnClick(){yx.windowMgr.goBack(),this.checkTutor()},checkTutor:function checkTutor(){if(yx.taskMgr.getBossPKAfterSpecial()){yx.taskMgr.setBossPKAfterSpecial(!1);var e=yx.taskMgr.getCurTask();if(e&&e.step&&0<e.step.length&&"mainBattleWindow"==yx.windowMgr.getCurWindowName()){var t=yx.windowMgr.getNodeOfWindow("mainBattleWindow","BackBtn");t&&t.active&&yx.taskMgr.addTutor(t,{x:50,y:-35})}}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],BuildPanel:[function(e,t,n){cc._RF.push(t,"91e45ypowtK9alBixrrGEpK","BuildPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,buildBtn:cc.Button,muCaiValueRichText:cc.RichText,yunTieValueRichText:cc.RichText,textLabel:cc.Label,titleLabel:cc.Label},_onInit:function _onInit(e){this.isEnougnStuff=!1,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.buildBtn.node.on("click",this._onBuildBtnClick.bind(this,e),this);var t=yx.caveMgr.getStuffNumByType(yx.StuffItemType.MUCAI),n=yx.caveMgr.getStuffNumByType(yx.StuffItemType.YUNTIE);this.configRecord=yx.cfgMgr.getRecordByKey("DongFuBuildConfig",{Type:e.type});var i=t+"/"+this.configRecord.Cost[0].count;this.muCaiValueRichText.string=this._setColor(t,this.configRecord.Cost[0].count,i);var o=n+"/"+this.configRecord.Cost[1].count;this.yunTieValueRichText.string=this._setColor(n,this.configRecord.Cost[1].count,o),this.titleLabel.string="建造"+this.configRecord.Name,this.textLabel.string=this.configRecord.DefDesc,t>=this.configRecord.Cost[0].count&&n>=this.configRecord.Cost[1].count&&(this.isEnougnStuff=!0)},_setColor:function _setColor(e,t,n){return t<=e?yx.colorUtil.AddColorString(n,yx.colorUtil.TextGreen):yx.colorUtil.AddColorString(n,yx.colorUtil.TextRed)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onBuildBtnClick:function _onBuildBtnClick(e){if(this.isEnougnStuff)return yx.windowMgr.goBack(),void yx.caveMgr.reqDongFuBuild(e.type);yx.ToastUtil.showListToast("材料不足")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],1:[function(e,t,n){var m=e("util/"),v=Array.prototype.slice,i=Object.prototype.hasOwnProperty,r=t.exports=d;function s(e,t){return m.isUndefined(t)?""+t:m.isNumber(t)&&!isFinite(t)||m.isFunction(t)||m.isRegExp(t)?t.toString():t}function c(e,t){return!m.isString(e)||e.length<t?e:e.slice(0,t)}function u(e,t,n,i,o){throw new r.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:o})}function d(e,t){e||u(e,!0,t,"==",r.ok)}function h(e,t){if(e===t)return!0;if(m.isBuffer(e)&&m.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return m.isDate(e)&&m.isDate(t)?e.getTime()===t.getTime():m.isRegExp(e)&&m.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:m.isObject(e)||m.isObject(t)?function p(e,t){if(m.isNullOrUndefined(e)||m.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(m.isPrimitive(e)||m.isPrimitive(t))return e===t;var n=g(e),i=g(t);if(n&&!i||!n&&i)return!1;if(n)return h(e=v.call(e),t=v.call(t));var o,r,a=x(e),s=x(t);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),r=a.length-1;0<=r;r--)if(a[r]!=s[r])return!1;for(r=a.length-1;0<=r;r--)if(!h(e[o=a[r]],t[o]))return!1;return!0}(e,t):e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function y(e,t){return e&&t&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function f(e,t,n,i){var o;m.isString(n)&&(i=n,n=null);try{t()}catch(e){o=e}if(i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!o&&u(o,n,"Missing expected exception"+i),!e&&y(o,n)&&u(o,n,"Got unwanted exception"+i),e&&o&&n&&!y(o,n)||!e&&o)throw o}r.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function l(e){return c(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+c(JSON.stringify(e.expected,s),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,o=t.name,r=i.indexOf("\n"+o);if(0<=r){var a=i.indexOf("\n",r+1);i=i.substring(a+1)}this.stack=i}}},m.inherits(r.AssertionError,Error),r.fail=u,r.ok=d,r.equal=function(e,t,n){e!=t&&u(e,t,n,"==",r.equal)},r.notEqual=function(e,t,n){e==t&&u(e,t,n,"!=",r.notEqual)},r.deepEqual=function(e,t,n){h(e,t)||u(e,t,n,"deepEqual",r.deepEqual)},r.notDeepEqual=function(e,t,n){h(e,t)&&u(e,t,n,"notDeepEqual",r.notDeepEqual)},r.strictEqual=function(e,t,n){e!==t&&u(e,t,n,"===",r.strictEqual)},r.notStrictEqual=function(e,t,n){e===t&&u(e,t,n,"!==",r.notStrictEqual)},r.throws=function(e,t,n){f.apply(this,[!0].concat(v.call(arguments)))},r.doesNotThrow=function(e,t){f.apply(this,[!1].concat(v.call(arguments)))},r.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t}},{"util/":4}],2:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;function Ru(){}Ru.prototype=t.prototype,e.prototype=new Ru,e.prototype.constructor=e}},{}],3:[function(e,t,n){t.exports=function(e){return e&&"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(t,e,f){(function(i,o){var u=/%[sdj%]/g;f.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,r=String(e).replace(u,function(e){if("%%"===e)return"%";if(o<=n)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),a=i[n];n<o;a=i[++n])x(a)||!T(a)?r+=" "+a:r+=" "+s(a);return r},f.deprecate=function(e,t){if(I(o.process))return function(){return f.deprecate(e,t).apply(this,arguments)};if(!0===i.noDeprecation)return e;var n=!1;return function(){if(!n){if(i.throwDeprecation)throw new Error(t);i.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}};var e,r={};function s(e,t){var n={seen:[],stylize:l};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),v(t)?n.showHidden=t:t&&f._extend(n,t),I(n.showHidden)&&(n.showHidden=!1),I(n.depth)&&(n.depth=2),I(n.colors)&&(n.colors=!1),I(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),d(n,e,n.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function d(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==f.inspect&&(!n.constructor||n.constructor.prototype!==n)){var e=n.inspect(i,t);return b(e)||(e=d(t,e,i)),e}var o=function h(e,t){if(I(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return w(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):x(t)?e.stylize("null","null"):void 0}(t,n);if(o)return o;var r=Object.keys(n),a=function u(e){var n={};return e.forEach(function(e,t){n[e]=!0}),n}(r);if(t.showHidden&&(r=Object.getOwnPropertyNames(n)),S(n)&&(0<=r.indexOf("message")||0<=r.indexOf("description")))return g(n);if(0===r.length){if(k(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(C(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return g(n)}var c,l="",u=!1,h=["{","}"];return m(n)&&(u=!0,h=["[","]"]),k(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),C(n)&&(l=" "+RegExp.prototype.toString.call(n)),_(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+g(n)),0!==r.length||u&&0!=n.length?i<0?C(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=u?function p(t,n,i,o,e){for(var r=[],a=0,s=n.length;a<s;++a)P(n,String(a))?r.push(y(t,n,i,o,String(a),!0)):r.push("");return e.forEach(function(e){e.match(/^\d+$/)||r.push(y(t,n,i,o,e,!0))}),r}(t,n,i,a,r):r.map(function(e){return y(t,n,i,a,e,u)}),t.seen.pop(),function f(e,t,n){return 60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,h)):h[0]+l+h[1]}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,n,i,o,r){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),P(i,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?-1<(s=x(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")&&(s=r?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),I(a)){if(r&&o.match(/^\d+$/))return s;a=(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(a,"string"))}return a+": "+s}function m(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function x(e){return null===e}function w(e){return"number"==typeof e}function b(e){return"string"==typeof e}function I(e){return void 0===e}function C(e){return T(e)&&"[object RegExp]"===L(e)}function T(e){return"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)&&null!==e}function _(e){return T(e)&&"[object Date]"===L(e)}function S(e){return T(e)&&("[object Error]"===L(e)||e instanceof Error)}function k(e){return"function"==typeof e}function L(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}f.debuglog=function(t){if(I(e)&&(e=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!r[t])if(new RegExp("\\b"+t+"\\b","i").test(e)){var n=i.pid;r[t]=function(){var e=f.format.apply(f,arguments);console.error("%s %d: %s",t,n,e)}}else r[t]=function(){};return r[t]},(f.inspect=s).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=m,f.isBoolean=v,f.isNull=x,f.isNullOrUndefined=function(e){return null==e},f.isNumber=w,f.isString=b,f.isSymbol=function(e){return"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)},f.isUndefined=I,f.isRegExp=C,f.isObject=T,f.isDate=_,f.isError=S,f.isFunction=k,f.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)||void 0===e},f.isBuffer=t("./support/isBuffer");var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}f.log=function(){console.log("%s - %s",function D(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),n[e.getMonth()],t].join(" ")}(),f.format.apply(f,arguments))},f.inherits=t("inherits"),f._extend=function(e,t){if(!t||!T(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,t("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:5,inherits:2}],5:[function(e,t,n){var i,o,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,d=[],h=!1,g=-1;function p(){h&&u&&(h=!1,u.length?d=u.concat(d):g=-1,d.length&&y())}function y(){if(!h){var e=c(p);h=!0;for(var t=d.length;t;){for(u=d,d=[];++g<t;)u&&u[g].run();g=-1,t=d.length}u=null,h=!1,function l(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new f(e,t)),1!==d.length||h||c(y)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],CangBaoMapWindow:[function(e,t,n){cc._RF.push(t,"6b4847op15KiYVjdiChmgME","CangBaoMapWindow");var i=e("BaseWindow"),o={10294:2,10295:3,10296:4,10297:5,10298:6},s=[{offsetX:0,offsetY:0,maskValue:0},{offsetX:-1,offsetY:-1,maskValue:0},{offsetX:0,offsetY:-1,maskValue:0},{offsetX:1,offsetY:-1,maskValue:0},{offsetX:-1,offsetY:0,maskValue:0},{offsetX:1,offsetY:0,maskValue:0},{offsetX:-1,offsetY:1,maskValue:0},{offsetX:0,offsetY:1,maskValue:0},{offsetX:1,offsetY:1,maskValue:0},{offsetX:-1,offsetY:2,maskValue:3},{offsetX:0,offsetY:2,maskValue:3},{offsetX:1,offsetY:2,maskValue:3},{offsetX:2,offsetY:1,maskValue:6},{offsetX:2,offsetY:0,maskValue:6},{offsetX:2,offsetY:-1,maskValue:6},{offsetX:-1,offsetY:-2,maskValue:12},{offsetX:0,offsetY:-2,maskValue:12},{offsetX:1,offsetY:-2,maskValue:12},{offsetX:-2,offsetY:1,maskValue:9},{offsetX:-2,offsetY:0,maskValue:9},{offsetX:-2,offsetY:-1,maskValue:9},{offsetX:-2,offsetY:2,maskValue:11},{offsetX:2,offsetY:2,maskValue:7},{offsetX:2,offsetY:-2,maskValue:14},{offsetX:-2,offsetY:-2,maskValue:13}];cc.Class({extends:i,properties:{moveLayer:cc.Node,mapBgSp:cc.Sprite,resLayer:cc.Node,fogLayer:cc.Node,playerNode:cc.Node,touchLayerBtn:cc.Button,bagBtn:cc.Button,hintLabel:cc.Label,cangBaoHintLabel:cc.Label,shiwuHintLabel:cc.Label,titleLabel:cc.Label,baoZangNode:cc.Node,baoZangBtnNode:cc.Node,baoZangMaspNode:cc.Node,maskSpFrameArray:{default:[],type:cc.SpriteFrame},_fogData:Array},_onInit:function _onInit(){this.touchLayerBtn.clickEvents.length=0,this.touchLayerBtn.clickEvents.push(yx.CodeHelper.NewClickEvent(this,"onTouchLayerClick")),this.bagBtn.node.on("click",this.onBagBtnClick,this),this.baoZangBtnNode.on("click",this.onBaoZangBtnClick,this),yx.eventDispatch.addListener(yx.EventType.CANGBAOTU_GET_REWARD,this.onEventGetReward,this)},_onShow:function _onShow(e){e&&this._initBattleMap(e),this._refresh()},_initBattleMap:function _initBattleMap(e){this.baoZangNode.active=!1,this.mapBgSp.node.setScale(72/39.5),this._sideNum=20,this._offsetIndex=-this._sideNum/2+.5,this._offsetX=72*(this._sideNum/2-.5),this._offsetY=72*(this._sideNum/2-.5),this.cangBaoPos=cc.v2(e.targetX,e.targetY);var t=parseInt(20*Math.random(),10),n=parseInt(20*Math.random(),10);this._curPos=cc.v2(t,n),this._prePos=cc.v2(t,n),this.itemId=e.itemId;var i=o[e.itemId];yx.resUtil.LoadSpriteByType("map"+i,yx.ResType.MAP,this.mapBgSp),this._movePath=new Array,this.resLayer.removeAllChildren(!0),this.fogLayer.removeAllChildren(!0),this._initFogData(),this._refreshMap()},_initFogData:function _initFogData(){this._fogData={};for(var e=-3;e<this._sideNum+3;e++){this._fogData[e]={};for(var t=-3;t<this._sideNum+3;t++)this._fogData[e][t]={value:15,sp:null}}this._clearFogData(this._curPos.x,this._curPos.y,!1)},_clearFogData:function _clearFogData(e,t,n){for(var i=0;i<s.length;i++){var o=s[i],r=e+o.offsetX,a=t+o.offsetY;this._changeFogData(r,a,o.maskValue,n)}},_changeFogData:function _changeFogData(e,t,n,i){var o=this._fogData[e][t];o&&o.value!=n&&(o.value&=n,i&&this._refreshFogSprite(e,t))},_refreshMap:function _refreshMap(){for(var e=-3;e<this._sideNum+3;e++)for(var t=-3;t<this._sideNum+3;t++)this._refreshFogSprite(e,t)},_pos2index:function _pos2index(e){var t=cc.v2();return t.x=Math.floor((e.x+72*this._sideNum/2)/72),t.y=Math.floor((e.y+72*this._sideNum/2)/72),t},_refreshFogSprite:function _refreshFogSprite(e,t){var n=this._fogData[e][t];if(n){if(!n.sp){var i=new cc.Node("Fog"),o=i.addComponent(cc.Sprite);this.fogLayer.addChild(i),i.setPosition(72*(e+this._offsetIndex),72*(t+this._offsetIndex)),n.sp=o}switch(n.sp.node.rotation=0,n.sp.sizeMode=cc.Sprite.SizeMode.RAW,n.value){case 0:n.sp.spriteFrame=null;break;case 1:case 2:case 4:case 8:n.sp.spriteFrame=this._getMaskSpriteFrame("mask1"),n.sp.node.rotation=90*Math.log2(n.value);break;case 3:n.sp.spriteFrame=this._getMaskSpriteFrame("mask21"),n.sp.node.rotation=0;break;case 6:n.sp.spriteFrame=this._getMaskSpriteFrame("mask21"),n.sp.node.rotation=90;break;case 12:n.sp.spriteFrame=this._getMaskSpriteFrame("mask21"),n.sp.node.rotation=180;break;case 9:n.sp.spriteFrame=this._getMaskSpriteFrame("mask21"),n.sp.node.rotation=270;break;case 5:n.sp.spriteFrame=this._getMaskSpriteFrame("mask22"),n.sp.node.rotation=0;break;case 10:n.sp.spriteFrame=this._getMaskSpriteFrame("mask22"),n.sp.node.rotation=90;break;case 7:n.sp.spriteFrame=this._getMaskSpriteFrame("mask3"),n.sp.node.rotation=0;break;case 11:n.sp.spriteFrame=this._getMaskSpriteFrame("mask3"),n.sp.node.rotation=270;break;case 13:n.sp.spriteFrame=this._getMaskSpriteFrame("mask3"),n.sp.node.rotation=180;break;case 14:n.sp.spriteFrame=this._getMaskSpriteFrame("mask3"),n.sp.node.rotation=90;break;case 15:n.sp.spriteFrame=this._getMaskSpriteFrame("mask4")}}},_refresh:function _refresh(){this._setPlayerPos(this._curPos.x,this._curPos.y),this.hintLabel.string="当前位置({x},{y})".format({x:this._curPos.x+1,y:this._curPos.y+1}),this.cangBaoHintLabel.string="藏宝图位置({x},{y})".format({x:this.cangBaoPos.x+1,y:this.cangBaoPos.y+1})},_getMaskSpriteFrame:function _getMaskSpriteFrame(e){switch(e){case"mask1":return this.maskSpFrameArray[0];case"mask21":return this.maskSpFrameArray[1];case"mask22":return this.maskSpFrameArray[2];case"mask3":return this.maskSpFrameArray[3];case"mask4":return this.maskSpFrameArray[4]}return null},_setPlayerPos:function _setPlayerPos(e,t){this._curPos=cc.v2(e,t),this.moveLayer.setPosition(cc.v2(this._offsetX-72*e,this._offsetX-72*t)),this._clearFogData(e,t,!0)},_calMovePath:function _calMovePath(e,t){var n=this._curPos.x,i=this._curPos.y;if((e!=n||t!=i)&&!(e<0||e>=this._sideNum||t<0||t>=this._sideNum)){this._movePath.length=0;for(var o=Math.sign(e-n),r=n;r!=e;)r+=o,this._movePath.push(cc.v2(r,i));for(o=Math.sign(t-i),r=i;r!=t;)r+=o,this._movePath.push(cc.v2(e,r))}},_moveAnimEnd:function _moveAnimEnd(){this._prePos=this._curPos;var e=this._movePath.shift();if(e){if(this._curPos=e,this.hintLabel.string="当前位置({x},{y})".format({x:this._curPos.x+1,y:this._curPos.y+1}),this._clearFogData(e.x,e.y,!0),e.x==this.cangBaoPos.x&&e.y==this.cangBaoPos.y)return yx.cangBaoTuMgr.reqInfo(yx.proto.WaBaoCmdType.Reward,this.itemId),void(this._movePath=[]);0!=this._movePath.length&&this._startMove()}else yx.warn("_moveAnimEnd pos null")},_startMove:function _startMove(){if(0!=this._movePath.length){var e=this._movePath[0],t=cc.sequence(cc.moveTo(.25,cc.v2(this._offsetX-72*e.x,this._offsetX-72*e.y)),cc.callFunc(this._moveAnimEnd,this));this.moveLayer.runAction(t)}},onTouchLayerClick:function onTouchLayerClick(e){if(!(0<this._movePath.length)){var t=e.getLocation(),n=this.moveLayer.convertToNodeSpaceAR(t),i=this._pos2index(n);yx.log("[BattleMapWindow onTouchLayerClick] index:",i),i.x<0||i.x>=this._sideNum||i.y<0||i.y>=this._sideNum||i.x===this._curPos.x&&i.y===this._curPos.y||(this._calMovePath(i.x,i.y),this._startMove())}},onBagBtnClick:function onBagBtnClick(){yx.windowMgr.showWindow("bag")},onBaoZangBtnClick:function onBaoZangBtnClick(){var e=this,t=[];for(var n in this.rewards){var i=this.rewards[n];t.push({id:i.id,itemId:i.id,amount:i.count})}yx.DropShowPanel.ShowDropPanel(t,function(){e.baoZangNode.active=!1,yx.windowMgr.goBack()})},onEventGetReward:function onEventGetReward(e){if(!e.result)return yx.ToastUtil.showListToast("背包已满"),this._calMovePath(this._prePos.x,this._prePos.y),void this._startMove();this.rewards=e.rewards,this.rewards&&0<this.rewards.length&&(this.baoZangNode.active=!0)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],CangBaoTuMgr:[function(e,t,n){cc._RF.push(t,"e38b8Fe4SFJw4nV8chOq70a","CangBaoTuMgr"),yx.CangBaoTuManager=function(){this.inMap=!1},yx.CangBaoTuManager.prototype={constructor:yx.CangBaoTuManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.WA_BAO,this.onMessageCangBaoTuInfo.bind(this))},reqInfo:function reqInfo(e,t){yx.log("[CangBaoTuManager] reqInfo ");var n=new yx.proto.C2S_WaBao;n.cmdType=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.WA_BAO,n)},onMessageCangBaoTuInfo:function onMessageCangBaoTuInfo(e,t){if(null!=e&&0<e.length)yx.log("[CangBaoTuManager onMessageLingMaiInfo] error:"+e);else{var n=yx.proto.S2C_WaBao.decode(t);if(n)switch(n.cmdType){case yx.proto.WaBaoCmdType.GetWaBaoInfo_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.CANGBAOTU_GET_INFO,n);break;case yx.proto.WaBaoCmdType.EnterMap:yx.eventDispatch.dispatchMsg(yx.EventType.CANGBAOTU_ENTER_MAP,n);break;case yx.proto.WaBaoCmdType.Reward:this.inMap=!1,yx.eventDispatch.dispatchMsg(yx.EventType.CANGBAOTU_GET_REWARD,n)}}},isInMap:function isInMap(){return this.inMap},setInMap:function setInMap(e){this.inMap=e}},yx.cangBaoTuMgr=new yx.CangBaoTuManager,t.exports=yx.cangBaoTuMgr,cc._RF.pop()},{}],CaveMgr:[function(e,t,n){var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"384e0YmsQZG+ZNRMB93+J3z","CaveMgr");var r=(o(i={},yx.StuffItemType.LINGSHI,yx.CyType.LINGSHI),o(i,yx.StuffItemType.MUCAI,yx.CyType.MUCAI),o(i,yx.StuffItemType.SHIWU,yx.CyType.SHIWU),o(i,yx.StuffItemType.YUNTIE,yx.CyType.YUNTIE),i);yx.CaveManager=function(){},yx.CaveManager.prototype={constructor:yx.CaveManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.DONGFU,this.onMessageDongFuInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.UPGRADE_DONGFU,this.onMessageUpgrateDongFu.bind(this)),yx.network.addHandler(yx.proto.CmdId.CHANGE_WORKER,this.onMessageChangeWorker.bind(this)),yx.network.addHandler(yx.proto.CmdId.ADD_WORKER,this.onMessageAddTotalWorker.bind(this)),yx.network.addHandler(yx.proto.CmdId.DONGFU_BUILD,this.onMessageDongFuBuild.bind(this)),yx.network.addHandler(yx.proto.CmdId.XIULIAN_OPT,this.onMessageXiulianOpt.bind(this)),yx.network.addHandler(yx.proto.CmdId.BUY_WINE,this.onMessageBuyWine.bind(this)),yx.network.addHandler(yx.proto.CmdId.MAKE_ROOM,this.onMessageMakeRoom.bind(this)),yx.network.addHandler(yx.proto.CmdId.MAKE_TREASURE,this.onMessageMakeTreasure.bind(this)),yx.network.addHandler(yx.proto.CmdId.TAKE_TREASURE,this.onMessageTakeTreasure.bind(this)),yx.network.addHandler(yx.proto.CmdId.DONGFU_SHUGE,this.onMessageDongfuShuge.bind(this)),yx.network.addHandler(yx.proto.CmdId.STOP_MAKE,this.onMessageStopMake.bind(this)),yx.network.addHandler(yx.proto.CmdId.READ_BOOK,this.onMessageReadBooK.bind(this)),yx.network.addHandler(yx.proto.CmdId.READ_BOOK_LEVEL_UP,this.onMessageReadBooKLevelUp.bind(this)),yx.network.addHandler(yx.proto.CmdId.ALL_BOOK,this.onMessageAllBook.bind(this)),yx.network.addHandler(yx.proto.CmdId.BOOKING,this.onMessageBooking.bind(this)),yx.network.addHandler(yx.proto.CmdId.MAKE_ROOM_UPDATE,this.onMessageMakeRoomUpdate.bind(this)),this._caveData=null,this._shuGeData=null,this._formula={},this._formula[yx.FormulaType.DANFANG]={},this._formula[yx.FormulaType.TUZHI]={}},getCaveData:function getCaveData(){if(this._caveData)return this._caveData;yx.warn("CaveMgr _caveData null")},getCaveShuGeData:function getCaveShuGeData(){if(this._shuGeData)return this._shuGeData;yx.warn("CaveMgr _shuGeData null")},getCaveLianZhiData:function getCaveLianZhiData(){if(this._lianZhiData)return this._lianZhiData;yx.warn("CaveMgr _lianZhiData null")},getStuffDataByType:function getStuffDataByType(e){if(this._caveData){if(this._caveData.stuffData)return this._caveData.stuffData[e];yx.warn("CaveMgr _caveData stuffData null")}else yx.warn("CaveMgr _caveData null")},getAllBook:function getAllBook(){if(this._allBook)return this._allBook;yx.warn("CaveMgr _allBook null")},getCurReadingBook:function getCurReadingBook(){var e=this.getAllBook();if(e){var t=e.readingBook;if(t)return t}return null},getBookingId:function getBookingId(){var e=this.getCaveShuGeData();return e?e[yx.ShuGeItemType.WUDAO].nextBookId:0},hasLearnFormula:function hasLearnFormula(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e});if(t&&t.UseType){var n=-1;if(9==t.UseType?n=yx.FormulaType.DANFANG:7==t.UseType&&(n=yx.FormulaType.TUZHI),-1==n)return!1;for(var i=0;i<t.UseArg.length;i++){var o=t.UseArg[i];if(this._formula[n][o])return!0}}return!1},addOneFormula:function addOneFormula(e,t){this._formula[e][t]=t},addMuchFormula:function addMuchFormula(e,t){for(var n=0;n<t.length;n++){var i=t[n];this._formula[e][i]=i}},getStuffNumByType:function getStuffNumByType(e){return yx.playerMgr.getCurrency(r[e])},reqDongfuInfo:function reqDongfuInfo(){yx.network.sendMessage(yx.proto.CmdId.DONGFU,new yx.proto.C2S_Dongfu)},reqUpgradeDongfu:function reqUpgradeDongfu(e){var t=new yx.proto.C2S_UpgradeDongfu;t.type=e,yx.network.sendMessage(yx.proto.CmdId.UPGRADE_DONGFU,t)},reqChangeWorker:function reqChangeWorker(e,t){var n=new yx.proto.C2S_ChangeWorker;n.type=e,n.count=t,yx.network.sendMessage(yx.proto.CmdId.CHANGE_WORKER,n)},reqAddTotalWorker:function reqAddTotalWorker(){yx.network.sendMessage(yx.proto.CmdId.ADD_WORKER,new yx.proto.C2S_AddWorker)},reqDongFuBuild:function reqDongFuBuild(e){var t=new yx.proto.C2S_DongfuBuild;t.type=e,yx.network.sendMessage(yx.proto.CmdId.DONGFU_BUILD,t)},reqXiuLian:function reqXiuLian(e,t){var n=new yx.proto.C2S_XiuLianOpt;n.type=e,n.year=t,yx.network.sendMessage(yx.proto.CmdId.XIULIAN_OPT,n)},reqBuyWine:function reqBuyWine(e){var t=new yx.proto.C2S_BuyWine;t.id=e,yx.network.sendMessage(yx.proto.CmdId.BUY_WINE,t)},reqMakeRoom:function reqMakeRoom(e){var t=new yx.proto.C2S_MakeRoom;t.type=e,yx.network.sendMessage(yx.proto.CmdId.MAKE_ROOM,t)},reqMakeTreasure:function reqMakeTreasure(e,t,n,i){var o=new yx.proto.C2S_MakeTreasure;o.type=e,o.id=t,o.machinePinZhi=n,o.count=i,yx.network.sendMessage(yx.proto.CmdId.MAKE_TREASURE,o)},reqTakeTreasure:function reqTakeTreasure(e){var t=new yx.proto.C2S_TakeTreasure;t.type=e,yx.network.sendMessage(yx.proto.CmdId.TAKE_TREASURE,t)},reqDongfuShuge:function reqDongfuShuge(e){e==yx.ShuGeItemType.WUDAO&&yx.caveMgr.reqAllBook();var t=new yx.proto.C2S_DongfuShuge;t.type=e,yx.network.sendMessage(yx.proto.CmdId.DONGFU_SHUGE,t)},reqStopMake:function reqStopMake(e){var t=new yx.proto.C2S_StopMake;t.type=e,yx.network.sendMessage(yx.proto.CmdId.STOP_MAKE,t)},reqReadBook:function reqReadBook(e){var t=new yx.proto.C2S_ReadBook;t.id=e,yx.network.sendMessage(yx.proto.CmdId.READ_BOOK,t)},reqReadBookLevelUp:function reqReadBookLevelUp(e){var t=new yx.proto.C2S_ReadBookLevelUp;t.id=e,yx.network.sendMessage(yx.proto.CmdId.READ_BOOK_LEVEL_UP,t)},reqAllBook:function reqAllBook(){yx.network.sendMessage(yx.proto.CmdId.ALL_BOOK,new yx.proto.C2S_AllBook)},reqBooking:function reqBooking(e){var t=new yx.proto.C2S_Booking;t.id=e,yx.network.sendMessage(yx.proto.CmdId.BOOKING,t)},onMessageDongFuInfo:function onMessageDongFuInfo(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageDongFuInfo] error:"+e);else{var n=yx.proto.S2C_Dongfu.decode(t);if(n){this._caveData={},this._caveData.buyTimes=n.buyTimes,this._caveData.isBuild={},this._caveData.isBuild[yx.CaveBuildType.SHUGE]=n.shuGe,this._caveData.isBuild[yx.CaveBuildType.DANFANG]=n.danFang,this._caveData.isBuild[yx.CaveBuildType.QISHI]=n.qiShi,this._caveData.stuffData={};var i=n.dongfuRes;for(var o in i){var r=i[o].type;this._caveData.stuffData[r]={},this._caveData.stuffData[r].curXianPu=i[o].worker,this._caveData.stuffData[r].curLevel=i[o].level}yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_STUFF_WINDOW)}}},onMessageUpgrateDongFu:function onMessageUpgrateDongFu(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageUpgrateDongFu] error:"+e);else{var n=yx.proto.S2C_UpgradeDongfu.decode(t);if(n){var i=this.getStuffDataByType(n.type);i.curLevel+=1,yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_STUFF_WINDOW),yx.eventDispatch.dispatchMsg(yx.EventType.DONGFU_BUILD_LEVELUP,{type:n.type,curLevel:i.curLevel})}}},onMessageChangeWorker:function onMessageChangeWorker(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageChangeWorker] error:"+e);else{var n=yx.proto.S2C_ChangeWorker.decode(t);n&&(this.getStuffDataByType(n.type).curXianPu=n.count,yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_STUFF_WINDOW))}},onMessageAddTotalWorker:function onMessageAddTotalWorker(e){if(null!=e&&0<e.length)yx.log("[Cave onMessageAddTotalWorker] error:"+e);else{var t=yx.caveMgr.getCaveData();t&&t.buyTimes++}},onMessageDongFuBuild:function onMessageDongFuBuild(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageDongFuBuild] error:"+e);else{var n=yx.proto.S2C_DongfuBuild.decode(t);if(n){var i=yx.caveMgr.getCaveData();if(!i)return;i.isBuild[n.type]=!0;var o;o=n.type==yx.CaveBuildType.DANFANG?"丹房":n.type==yx.CaveBuildType.QISHI?"器室":"书阁",yx.eventDispatch.dispatchMsg(yx.EventType.DONGFU_UNLOCK_RES,o),yx.ToastUtil.showListToast("建造成功")}}},onMessageBuyWine:function onMessageBuyWine(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageBuyWine] error:"+e);else{var n=yx.proto.S2C_BuyWine.decode(t);if(n){var i=yx.cfgMgr.getRecordByKey("XianNiangStoreConfig",{ID:n.id});i&&(yx.ToastUtil.showListToast("获得"+i.Name1),yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_XIANNIANG))}}},onMessageMakeRoomUpdate:function onMessageMakeRoomUpdate(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageMakeRoomUpdate] error:"+e);else{var n=yx.proto.S2C_MakeRoom.decode(t);n&&(n.type===yx.CaveBuildType.DANFANG?yx.playerMgr.setLianDanShiLevel(n.level):n.type===yx.CaveBuildType.QISHI&&yx.playerMgr.setLianQiShiLevel(n.level))}},onMessageMakeRoom:function onMessageMakeRoom(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageMakeRoom] error:"+e);else{var n=yx.proto.S2C_MakeRoom.decode(t);if(n){var i=n.type;if(this._lianZhiData||(this._lianZhiData={}),this._lianZhiData[i]={},this._lianZhiData[i].normalLeft=n.normalLeft||0,this._lianZhiData[i].bestLeft=n.bestLeft||0,i==yx.CaveBuildType.XIANNIANG)return void yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_XIANNIANG);if(this._lianZhiData[i].instructions=n.instructions,this.addMuchFormula(i,n.instructions),this._lianZhiData[i].machine=n.machine,this._lianZhiData[i].machine.sort(function(e,t){return e<t?-1:e==t?0:1}),this._lianZhiData[i].curSelectFormulaId=n.makeId||0,this._lianZhiData[i].makeCount=n.makeCount||0,this._lianZhiData[i].curState=0==n.makeId?yx.LianZhiPanel.LIANZHI_STATE.UN_LIANZHI:yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI,this._lianZhiData[i].curTime=(n.endTime-yx.timeUtil.getServerTime())/1e3,this._lianZhiData[i].maxTime=-1,this._lianZhiData[i].curMakeMachinePinZhi=n.make_Machine,this._lianZhiData[i].succCount=n.succCount,this._lianZhiData[i].level=n.level,this._lianZhiData[i].reward=n.reward,this._lianZhiData[i].curState==yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI&&n.makeCount){var o="LianQiLuConfig";i==yx.CaveBuildType.DANFANG&&(o="LianYaoLuConfig");var r=yx.cfgMgr.getRecordByKey(o,{PinZhi:n.make_Machine});r&&(this._lianZhiData[i].maxTime=r.MakeTime*this._lianZhiData[i].makeCount)}i==yx.CaveBuildType.DANFANG?yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_DANFANG):i==yx.CaveBuildType.QISHI&&yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_QISHI)}}},onMessageMakeTreasure:function onMessageMakeTreasure(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageMakeTreasure] error:"+e);else{var n=yx.proto.S2C_MakeTreasure.decode(t);if(n){var i=n.type,o=this.getCaveLianZhiData();if(!o)return;var r=o[i];if(!r)return;if(i==yx.CaveBuildType.XIANNIANG){5==n.machinePinZhi?r.bestLeft--:r.normalLeft--,r.id=n.id;var a=yx.cfgMgr.getRecordByKey("XianNiangMakeConfig",{ID:n.id});return a&&yx.ToastUtil.showListToast("获得"+a.Name1+"x1"),void yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_XIANNIANG)}r.makeCount=n.count,r.succCount=n.succCount,r.curState=yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI;var s="LianQiLuConfig";i==yx.CaveBuildType.DANFANG&&(s="LianYaoLuConfig");var c=yx.cfgMgr.getRecordByKey(s,{PinZhi:n.machinePinZhi});c&&(r.maxTime=c.MakeTime*n.count,r.curTime=r.maxTime,i==yx.CaveBuildType.DANFANG?(yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_DANFANG),yx.eventDispatch.dispatchMsg(yx.EventType.LIANYAO_MAKE)):i==yx.CaveBuildType.QISHI&&(yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_QISHI),yx.eventDispatch.dispatchMsg(yx.EventType.LIANQI_MAKE)))}}},onMessageTakeTreasure:function onMessageTakeTreasure(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageTakeTreasure] error:"+e);else{var n=yx.proto.S2C_TakeTreasure.decode(t);if(n){var i=n.type,o=this.getCaveLianZhiData();if(!o)return;var r=o[i];if(!r)return;r.curState=yx.LianZhiPanel.LIANZHI_STATE.UN_LIANZHI;var a=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(i),{ID:r.curSelectFormulaId}),s="";if(a){var c=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:a.ItemID});if(c){s=c.Name;var l=0;n.reward&&0<n.reward.length&&(l=n.reward[0].count),0<l&&yx.ToastUtil.showListToast("获得"+s+"x"+l)}}i==yx.CaveBuildType.DANFANG?(yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_DANFANG),yx.eventDispatch.dispatchMsg(yx.EventType.LIANYAO_AWARD,{success:0<n.succCount,name:s})):i==yx.CaveBuildType.QISHI?(yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_QISHI),yx.eventDispatch.dispatchMsg(yx.EventType.LIANQI_AWARD,{success:0<n.succCount,name:s})):i==yx.CaveBuildType.XIANNIANG&&yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_XIANNIANG)}}},_getFormulaConfigName:function _getFormulaConfigName(e){var t="LianQiFormulaConfig";return e==yx.CaveBuildType.DANFANG&&(t="LianYaoFormulaConfig"),t},onMessageDongfuShuge:function onMessageDongfuShuge(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageDongfuShuge] error:"+e);else{var n=yx.proto.S2C_DongfuShuge.decode(t);if(n){this._shuGeData||(this._shuGeData={});var i=n.type;if(this._shuGeData[i]={},this._shuGeData[i].type=n.type,this._shuGeData[i].curExp=n.exp,this._shuGeData[i].curLevel=n.level,this._shuGeData[i].effectValue=n.effectValue,this._shuGeData[i].effectType=n.effectType,i==yx.ShuGeItemType.DANDAO&&yx.playerMgr.setLianDanShiLevel(n.level),i==yx.ShuGeItemType.QIDAO&&yx.playerMgr.setLianQiShiLevel(n.level),i==yx.ShuGeItemType.WUDAO&&yx.playerMgr.setWuDaoShiLevel(n.level),i==yx.ShuGeItemType.WUDAO){this._shuGeData[i].nextBookId=n.nextBookId;var o=yx.caveMgr.getCurReadingBook();if(o){var r=yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:o.id});if(r){this._shuGeData[i].maxTime=r.CanWuTime;var a=yx.timeUtil.getServerTime(),s=(o.endTime-a)/1e3;if(s<0)this._shuGeData[i].curTime=-1;else{var c=Math.floor(s/r.CanWuTime);this._shuGeData[i].curTime=s-r.CanWuTime*c+.5}}}this._shuGeData[i].curState=o?yx.ShuGeWindow.SHUGE_STATE.HAD_BEGIN:yx.ShuGeWindow.SHUGE_STATE.UN_BEGIN}else this._shuGeData[i].curYear=n.year,this._shuGeData[i].maxTime=900,n.year?(this._shuGeData[i].curState=0<n.year?yx.ShuGeWindow.SHUGE_STATE.HAD_BEGIN:yx.ShuGeWindow.SHUGE_STATE.UN_BEGIN,this._shuGeData[i].curTime=(n.endTime-yx.timeUtil.getServerTime())/1e3+.5):(this._shuGeData[i].curState=yx.ShuGeWindow.SHUGE_STATE.UN_BEGIN,this._shuGeData[i].curTime=900);yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_SHUGE)}}},onMessageXiulianOpt:function onMessageXiulianOpt(e,t){if(null!=e&&0<e.length)yx.log("[Cave onMessageXiulianOpt] error:"+e);else{var n=yx.proto.S2C_XiuLianOpt.decode(t);if(n){var i=yx.caveMgr.getCaveShuGeData(),o=n.type;i[o].curState=yx.ShuGeWindow.SHUGE_STATE.HAD_BEGIN,i[o].curYear=n.year,i[o].curTime=900.5,i[o].maxTime=900,yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_SHUGE),yx.eventDispatch.dispatchMsg(yx.EventType.XIULIAN,n)}}},onMessageStopMake:function onMessageStopMake(e,t){if(null!=e&&0<e.length)yx.log("[CaveMgr onMessageStopMake] error:"+e);else{var n=yx.proto.S2C_StopMake.decode(t);if(n){var i=n.type,o=this.getCaveLianZhiData();if(!o)return;var r=o[i];if(!r)return;r.curState=yx.LianZhiPanel.LIANZHI_STATE.UN_LIANZHI,i==yx.CaveBuildType.DANFANG?yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_DANFANG):i==yx.CaveBuildType.QISHI?yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_QISHI):i==yx.CaveBuildType.XIANNIANG&&yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_LIAN_XIANNIANG)}}},onMessageReadBooK:function onMessageReadBooK(e,t){if(null!=e&&0<e.length)yx.log("[CaveMgr onMessageReadBooK] error:"+e);else{var n=yx.proto.S2C_ReadBook.decode(t);if(n){var i=yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:n.id});i&&(yx.caveMgr.reqDongfuShuge(yx.ShuGeItemType.WUDAO),yx.eventDispatch.dispatchMsg(yx.EventType.WUDAO_NOTIFY,i.Name))}}},onMessageReadBooKLevelUp:function onMessageReadBooKLevelUp(e,t){if(null!=e&&0<e.length)yx.log("[CaveMgr onMessageReadBooKLevelUp] error:"+e);else{var n=yx.proto.S2C_ReadBookLevelUp.decode(t);if(n){var i=n.id,o=(this.getAllBook(),yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:i}));if(o&&o.Reward){var r=yx.colorUtil.AddColorString("获得：",yx.colorUtil.TextYellowLight),a=o.Reward[0].count,s=o.Reward[1].count,c=yx.colorUtil.AddColorString(s+"修为，"+a+"悟道经验",yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("领悟成功"),yx.ToastUtil.showListToast(r+c)}yx.caveMgr.reqDongfuShuge(yx.ShuGeItemType.WUDAO)}}},onMessageAllBook:function onMessageAllBook(e,t){if(null!=e&&0<e.length)yx.log("[CaveMgr onMessageAllBook] error:"+e);else{var n=yx.proto.S2C_AllBook.decode(t);if(n){this._allBook={},this._allBook.items={},this._allBook.readingBook=null;for(var i=0,o=n.book.length;i<o;i++){var r=n.book[i];if((this._allBook.items[r.id]=r).level=5<r.level?5:r.level,yx.log("book book.endTime:"+r.endTime),r.endTime&&yx.timeUtil.getServerTime()<r.endTime){var a=yx.cfgMgr.getRecordByKey("WuDaoProficiencyConfig",{Level:r.level});a&&(r.readNum<a.CanWuNum||0===a.CanWuNum)&&(this._allBook.readingBook=r)}}}}},onMessageBooking:function onMessageBooking(e,t){if(null!=e&&0<e.length)yx.log("[CaveMgr onMessageBooking] error:"+e);else{var n=yx.proto.S2C_Booking.decode(t);n&&(this.getCaveShuGeData()[yx.ShuGeItemType.WUDAO].nextBookId=n.id,yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_CAVE_YUDING_BOOK,n))}}},yx.caveMgr=new yx.CaveManager,t.exports=yx.caveMgr,cc._RF.pop()},{}],ChangNamePanel:[function(e,t,n){cc._RF.push(t,"97d865xx9VDzbL80LxQbvaQ","ChangNamePanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{titleLabel:cc.Label,cancelBtn:cc.Button,confirmBtn:cc.Button,inputEditBox:cc.EditBox},_onInit:function _onInit(e){this._itemMsg=e,this.cancelBtn.node.on("click",this.cancelBtnClick,this),this.confirmBtn.node.on("click",this.confirmBtnClick,this)},_onShow:function _onShow(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},cancelBtnClick:function cancelBtnClick(){yx.windowMgr.goBack()},confirmBtnClick:function confirmBtnClick(){this.inputEditBox.string.length<=0?yx.ToastUtil.showListToast("请输入名字"):6<this.inputEditBox.string.length?yx.ToastUtil.showListToast("名字不可超过6个字"):(yx.windowMgr.goBack(),yx.bagMgr.reqUseItem(this._itemMsg.itemId,1,null,this.inputEditBox.string))}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ChangeDuiLianPanel:[function(e,t,n){cc._RF.push(t,"25c95pk/q5BW5h+Fgf2rixG","ChangeDuiLianPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{maskSp:cc.Button,closeBtn:cc.Button,saveBtn:cc.Button,shangLianEditBox:cc.EditBox,xiaLianEditBox:cc.EditBox},_onInit:function _onInit(){this.maskSp.node.on("click",this.onMaskSpClick,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.saveBtn.node.on("click",this.onsaveBtnClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this.shangLianEditBox.string="",this.xiaLianEditBox.string="";var e=yx.cfgMgr.getRecordList("ZongMenDuiLianConfig"),t=Math.floor(Math.random()*e.length);t==e.length&&(t=0),""==e[t].ShangLian?(this.shangLianEditBox.string=e[0].ShangLian,this.xiaLianEditBox.string=e[0].XiaLian):(this.shangLianEditBox.string=e[t].ShangLian,this.xiaLianEditBox.string=e[t].XiaLian)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onsaveBtnClick:function onsaveBtnClick(){if(""!=this.shangLianEditBox.string){var e=new RegExp("[^\\u4E00-\\u9FFF]+","g");e.test(this.shangLianEditBox.string)?yx.ToastUtil.showListToast("对联请输入中文"):""!=this.xiaLianEditBox.string?e.test(this.xiaLianEditBox.string)?yx.ToastUtil.showListToast("对联请输入中文"):(yx.windowMgr.goBack(),yx.ZongMenMgr.changeDuiLian(this.shangLianEditBox.string+","+this.xiaLianEditBox.string)):yx.ToastUtil.showListToast("请输入下联")}else yx.ToastUtil.showListToast("请输入上联")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ChangeWorldPanel:[function(e,t,n){cc._RF.push(t,"0367c71qqFNIYXafeZssVXu","ChangeWorldPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{effect:dragonBones.ArmatureDisplay},_onInit:function _onInit(){this.effect.node.setScale(4)},_onShow:function _onShow(e){this._worldType=e,this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){yx.eventDispatch.dispatchMsg(yx.EventType.MAIN_SHANG),this.effect._armature.animation.play("shang",1);var e=cc.sequence(cc.delayTime(1.5),cc.callFunc(this.upFinish,this));this.node.runAction(e)},upFinish:function upFinish(){this.effect._armature.animation.play("xia",1);var e=cc.sequence(cc.delayTime(1.5),cc.callFunc(this.downFinish,this));this.node.runAction(e),yx.eventDispatch.dispatchMsg(yx.EventType.MAIN_XIA,this._worldType)},downFinish:function downFinish(){yx.windowMgr.closeWindow("changeWorldPanel")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ChangeZhongZuPanel:[function(e,t,n){cc._RF.push(t,"66a94WYnTJECaoFOsmCMrJ0","ChangeZhongZuPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,zz1Btn:cc.Button,zz2Btn:cc.Button,zz3Btn:cc.Button,zz4Btn:cc.Button,cancelBtn:cc.Button,sureBtn:cc.Button},_onInit:function _onInit(e){this._itemInfo=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.zz1Btn.node.on("click",this.onZz1Click,this),this.zz2Btn.node.on("click",this.onZz2Click,this),this.zz3Btn.node.on("click",this.onZz3Click,this),this.zz4Btn.node.on("click",this.onZz4Click,this),this.cancelBtn.node.on("click",this.onCancelBtnClick,this),this.sureBtn.node.on("click",this.onSureBtnClick,this),this._zhongzuBtns=[this.zz1Btn,this.zz2Btn,this.zz3Btn,this.zz4Btn]},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){for(var e=yx.playerMgr.getZhongZu(),t=0;t<4;t++)t+1!=e&&(this._zhongzuBtns[t].node.active=!0);this._refreshSelect()},_refreshSelect:function _refreshSelect(){for(var e=0;e<this._zhongzuBtns.length;e++){var t=this._zhongzuBtns[e].node.getChildByName("select");e+1==this._selectIndex?t.active=!0:t.active=!1}},onZz1Click:function onZz1Click(){1!=this._selectIndex&&(this._selectIndex=1,this._refreshSelect())},onZz2Click:function onZz2Click(){2!=this._selectIndex&&(this._selectIndex=2,this._refreshSelect())},onZz3Click:function onZz3Click(){3!=this._selectIndex&&(this._selectIndex=3,this._refreshSelect())},onZz4Click:function onZz4Click(){4!=this._selectIndex&&(this._selectIndex=4,this._refreshSelect())},onCancelBtnClick:function onCancelBtnClick(){yx.windowMgr.goBack()},onSureBtnClick:function onSureBtnClick(){null!=this._selectIndex?(yx.windowMgr.goBack(),yx.bagMgr.reqUseItem(this._itemInfo.ID,1,this._selectIndex)):yx.ToastUtil.showListToast("请先选择种族")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ChatItem:[function(e,t,n){cc._RF.push(t,"419925BkjxJdaWg1tN2SP6x","ChatItem"),cc.Class({extends:cc.Component,properties:{leftNode:cc.Node,rightNode:cc.Node,l_headSp:cc.Sprite,l_nameLabel:cc.Label,l_levelLabel:cc.Label,l_chatBg:cc.Sprite,l_chatContentLabel:cc.Label,r_headSp:cc.Sprite,r_nameLabel:cc.Label,r_levelLabel:cc.Label,r_chatBg:cc.Sprite,r_chatContentLabel:cc.Label},init:function init(e){if(null!=e)if(e.playerId==yx.playerMgr.getPid()){this.leftNode.active=!1,this.rightNode.active=!0,this.r_nameLabel.string="【"+e.serverName+"】"+e.playerName+" ";var t=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:e.level});t&&(this.r_levelLabel.string=t.Name),yx.resUtil.LoadSpriteFromResConfig(e.icon,yx.ResType.HEAD,this.r_headSp),this.r_chatContentLabel.string=e.msg,this.r_chatContentLabel._updateRenderData(!0),25==this.r_chatContentLabel.node.height&&this.r_chatContentLabel.node.width<=400?this.r_chatContentLabel.overflow=cc.Label.Overflow.NONE:(this.r_chatContentLabel.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.r_chatContentLabel.node.width=400),this.r_chatContentLabel._updateRenderData(!0),this.r_chatBg.node.width=this.r_chatContentLabel.node.width+30,this.r_chatBg.node.height=this.r_chatContentLabel.node.height+38,this.node.height=this.r_chatContentLabel.node.height+80}else{this.leftNode.active=!0,this.rightNode.active=!1,this.l_nameLabel.string="【"+e.serverName+"】"+e.playerName+" ";var n=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:e.level});n&&(this.l_levelLabel.string=n.Name),yx.resUtil.LoadSpriteFromResConfig(e.icon,yx.ResType.HEAD,this.l_headSp),this.l_chatContentLabel.string=e.msg,this.l_chatContentLabel._updateRenderData(!0),25==this.l_chatContentLabel.node.height&&this.l_chatContentLabel.node.width<=400?this.l_chatContentLabel.overflow=cc.Label.Overflow.NONE:(this.l_chatContentLabel.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.l_chatContentLabel.node.width=400),this.l_chatContentLabel._updateRenderData(!0),this.l_chatBg.node.width=this.l_chatContentLabel.node.width+30,this.l_chatBg.node.height=this.l_chatContentLabel.node.height+38,this.node.height=this.l_chatContentLabel.node.height+80}}}),cc._RF.pop()},{}],ChatPanel:[function(e,t,n){cc._RF.push(t,"07bb7P6b89PjK8x0j/HLGvb","ChatPanel");var i=cc.Enum({Chat:0,Mail:1,Fankui:2}),o=e("BaseWindow"),r=e("MailItem"),a=e("ChatItem");cc.Class({extends:o,properties:{switchTC:cc.ToggleContainer,chatNode:cc.Node,mailNode:cc.Node,fanhuiNode:cc.Node,sendBtn:cc.Button,sendcontentEditBox:cc.EditBox,chatScrollContent:cc.Node,chatItemPrefabLeft:cc.Prefab,chatScrollView:cc.ScrollView,scrollContent:cc.Node,mailItemPrefab:cc.Prefab,deleteAllBtn:cc.Button,getAllBtn:cc.Button,noMailNode:cc.Node,submitBtn:cc.Button,contentEditBox:cc.EditBox},_onInit:function _onInit(){this._initSwitchTC();var e=this.switchTC.node.getChildByName("toggle_2");this._mailNode=e,yx.BadgeMgr.addBadge(this._mailNode,70,20),this._curTab=0,this._nodeArr=[this.chatNode,this.mailNode,this.fanhuiNode],yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.eventDispatch.addListener(yx.EventType.Chat_Refresh,this.onChatRefreshList,this),this.sendBtn.node.on("click",this.onSendBtnClick,this),this._chatList=new Array,yx.eventDispatch.addListener(yx.EventType.MAIL_REFRESH,this.onMailRefreshList,this),this.deleteAllBtn.node.on("click",this.onDeleteAllBtnClick,this),this.getAllBtn.node.on("click",this.onGetAllBtnClick,this),this.submitBtn.node.on("click",this.onsubmitBtnClick,this),this._lastDelayTime=0},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_initSwitchTC:function _initSwitchTC(){this.switchTC.checkEvents.length=0,this.switchTC.checkEvents.push(yx.CodeHelper.NewClickEvent(this,"onSwitchTCClick"))},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTC.toggleItems.indexOf(e);if(0<=t&&t!=this._curTab){switch(t){case i.Chat:break;case i.Mail:if(!yx.CodeHelper.checkFuncOpen(49))return void this._setCheckToggle();yx.mailMgr.reqMailList();break;case i.Fankui:}this._curTab=t,this._refresh()}},_setCheckToggle:function _setCheckToggle(){var e=this.switchTC.node.getChildByName("toggle_"+(this._curTab+1));e&&e.getComponent(cc.Toggle).check()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){this._setCheckToggle();for(var e=0;e<this._nodeArr.length;e++)this._nodeArr[e].active=!1;this._nodeArr[this._curTab].active=!0,this._curTab==i.Chat&&this.onChatRefreshList(),this.onEventRefreshBadge()},onChatRefreshList:function onChatRefreshList(){for(var e=yx.mailMgr.getChatList(),t=0;t<this._chatList.length;t++)this._chatList[t].init(e[t])},onSendBtnClick:function onSendBtnClick(){if(yx.timeUtil.getServerTime()-yx.mailMgr.getLastSendTime()<1e4)yx.ToastUtil.showListToast("发送太频繁了，休息一下吧");else{var e=this.sendcontentEditBox.string;""!=this.sendcontentEditBox.string?30<e.length?yx.ToastUtil.showListToast("发送内容太长"):(yx.log("onSendBtnClick"+e),yx.mailMgr.sendChatMsg(yx.proto.MsgType.World,e),yx.mailMgr.setLastSendTime(),this.sendcontentEditBox.string="",this.chatScrollView.scrollToBottom()):yx.ToastUtil.showListToast("聊天内容不能为空")}},onMailRefreshList:function onMailRefreshList(){var e=yx.mailMgr.getMailList();this._itemList=new Array;var i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.mailItemPrefab),n=t.getComponent(r);n&&(n.init(e),i.scrollContent.addChild(t),i._itemList.push(n))}),0<this._itemList.length?this.noMailNode.active=!1:this.noMailNode.active=!0},onGetAllBtnClick:function onGetAllBtnClick(){this._itemList.length<=0||yx.mailMgr.doAction(yx.proto.MailOptType.RECEIVE,-1)},onDeleteAllBtnClick:function onDeleteAllBtnClick(){this._itemList.length<=0||yx.mailMgr.doAction(yx.proto.MailOptType.DELETE,-1)},onsubmitBtnClick:function onsubmitBtnClick(){var e=this.contentEditBox.string;e.length<6?yx.ToastUtil.showListToast("反馈少于6个字符"):yx.timeUtil.getServerTime()-yx.mailMgr.getLastFankuiTime()<3e4?yx.ToastUtil.showListToast("提交过于频繁，请稍后再试"):(yx.mailMgr.setLastFankuiTime(yx.timeUtil.getServerTime()),yx.mailMgr.submitFeedBack(e))},update:function update(){if(this.isShown()){this._lastDelayTime++;var e=yx.mailMgr.getChatList();if(this._chatList.length<e.length&&1<this._lastDelayTime){if(this._lastDelayTime=0,this._chatList.length<8){for(var t=this._chatList.length;t<8;t++)if(e[t]){var n=cc.instantiate(this.chatItemPrefabLeft);this.chatScrollContent.addChild(n);var i=n.getComponent(a);i&&(i.init(e[t]),this._chatList.push(i))}return}var o=cc.instantiate(this.chatItemPrefabLeft);this.chatScrollContent.addChild(o);var r=o.getComponent(a);r&&(r.init(e[this._chatList.length]),this._chatList.push(r))}}},onEventRefreshBadge:function onEventRefreshBadge(){yx.BadgeMgr.showBadge(this._mailNode,yx.BadgeMgr.IsShow(yx.proto.RedDotType.Mail))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ChatItem:"ChatItem",MailItem:"MailItem"}],ChengZhangLiBaoItem:[function(e,t,n){cc._RF.push(t,"6b52fgEvc5AS6zyNyQt+Ch4","ChengZhangLiBaoItem");var m=32000001,v=100000001;cc.Class({extends:cc.Component,properties:{libaoBtn:cc.Button,icon:cc.Sprite,timerText:cc.Label,timerBg:cc.Node,effectNode:cc.Node},init:function init(e){if(this.effectNode.active=!1,this._id=e,this.libaoBtn.node.on("click",this.onSelectItemClick,this),this._id==yx.SpecialActivity.MILING)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-384",this.icon),yx.BadgeMgr.addBadge(this.node,30,30),this.effectNode.active=!0;else if(this._id==yx.SpecialActivity.SHIZHUANG)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-466",this.icon),yx.BadgeMgr.addBadge(this.node,30,30),this.effectNode.active=!0;else if(this._id==yx.SpecialActivity.ZIYAUNLIBAO2)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-475",this.icon),yx.BadgeMgr.addBadge(this.node,30,30),this.effectNode.active=!0;else if(this._id==yx.SpecialActivity.XIANSHICOST)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-473",this.icon),yx.BadgeMgr.addBadge(this.node,30,30),this.effectNode.active=!0;else if(this._id==yx.SpecialActivity.FENGSHENBANG)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-483",this.icon),yx.BadgeMgr.addBadge(this.node,30,30),this.effectNode.active=!0;else if(this._id==yx.SpecialActivity.PERDAYCHONGZHI)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-493",this.icon),yx.BadgeMgr.addBadge(this.node,30,30),this.effectNode.active=!0;else if(this._id==yx.SpecialActivity.JUEXUECANYE)yx.resUtil.LoadSprite("chengZhangLiBao/iocn-476",this.icon),this.effectNode.active=!0;else{var t=yx.cfgMgr.getOneRecord("GrowGiftBaseConfig",{Openid:this._id});t&&yx.resUtil.LoadSprite("chengZhangLiBao/"+t.Button,this.icon)}this._isUpdate=!0,this.onUpdate(),this.onBadgeRefresh()},onSelectItemClick:function onSelectItemClick(){if(this._id==yx.SpecialActivity.MILING){if(!yx.CodeHelper.checkFuncOpen(58))return;yx.windowMgr.showWindow("miLingPanel")}else if(this._id==yx.SpecialActivity.SHIZHUANG)yx.windowMgr.showWindow("shiZhuangLiBaoPanel");else if(this._id==yx.SpecialActivity.ZIYAUNLIBAO2)yx.windowMgr.showWindow("activity",{tabId:51000002});else if(this._id==yx.SpecialActivity.XIANSHICOST)yx.windowMgr.showWindow("xianShiLiBaoPanel");else if(this._id==yx.SpecialActivity.FENGSHENBANG)yx.windowMgr.showWindow("fengShenWindow");else if(this._id==yx.SpecialActivity.PERDAYCHONGZHI){if(!yx.CodeHelper.checkFuncOpen(81))return;yx.windowMgr.showWindow("shouChongPerday")}else if(this._id==yx.SpecialActivity.JUEXUECANYE)yx.windowMgr.showWindow("jueXuePanel");else{if(!yx.CodeHelper.checkFuncOpen(this._id))return;yx.windowMgr.showWindow("chengZhangLiBaoPanel",this._id)}},onUpdate:function onUpdate(){if(this._id==yx.SpecialActivity.MILING)this.node.active=yx.CodeHelper.checkFuncOpenShow(58)&&!yx.MiLingMgr.isAllReceived(),yx.timeUtil.getServerTime()>=yx.MiLingMgr.getEndTime()&&(this.node.active=!1);else if(this._id==yx.SpecialActivity.SHIZHUANG){this.node.active=!0;var e=yx.timeUtil.getServerTime(),t=0,n=yx.ActivityMgr.getActivityData(m);n&&(t=n.endTime),t<=e&&(this.node.active=!1);var i=yx.ActivityMgr.getTaskInfos(m);if(i&&0<Object.keys(i).length){var o=0;for(var r in i)i[r].taskState==yx.proto.TaskStateType.Received&&o++;o>=Object.keys(i).length&&(this.node.active=!1)}}else if(this._id==yx.SpecialActivity.ZIYAUNLIBAO2){this.node.active=!0,this.timerText.string="",this._isUpdate=!1,this.timerBg.active=!1;var a=yx.ActivityMgr.getTaskInfos(51000002);if(a&&0<Object.keys(a).length){var s=0;for(var c in a)a[c].taskState==yx.proto.TaskStateType.Received&&s++;s>=Object.keys(a).length&&(this.node.active=!1)}}else if(this._id==yx.SpecialActivity.XIANSHICOST){this.node.active=!0;var l=yx.timeUtil.getServerTime(),u=0,d=yx.ActivityMgr.getActivityData(v);d&&(u=d.endTime),u<=l&&(this.node.active=!1)}else if(this._id==yx.SpecialActivity.FENGSHENBANG){this.node.active=!0;var h=yx.timeUtil.getServerTime(),g=0,p=yx.FengShenMgr.getActivityData(yx.FengShenMgr.fengShenActivityId);p&&(g=p.endTime),g<=h&&(this.node.active=!1)}else if(this._id==yx.SpecialActivity.PERDAYCHONGZHI)this.node.active=yx.CodeHelper.checkFuncOpenShow(81)&&yx.CodeHelper.checkFuncOpenDisplay(81)&&!yx.PerDayChongZhiMgr.isAllReceived();else if(this._id==yx.SpecialActivity.JUEXUECANYE){this.timerText.string="",this._isUpdate=!1,this.timerBg.active=!1;var y=yx.cfgMgr.getAllConfig("JueCanConfig")[0];yx.playerMgr.getOpenDay()>y.OpenDay[1]?this.node.active=!1:this.node.active=!0}else{var f=yx.ChengZhangLiBaoMgr.getLiBao(this._id);switch(this.node.active=this.isCanShow(this._id),f.taskState){case yx.proto.TaskStateType.Processing:yx.timeUtil.getServerTime()>=f.endTime&&(this.node.active=!1);break;case yx.proto.TaskStateType.Finish:break;case yx.proto.TaskStateType.Received:case yx.proto.TaskStateType.Invalid:this.node.active=!1}}},isCanShow:function isCanShow(e){if(1001==e||1002==e||1003==e||1004==e||1005==e||1006==e||1007==e||1008==e||1009==e||1010==e||1011==e)return yx.CodeHelper.checkFuncOpenShow(e)},updateHander:function updateHander(e,t){if(e<t){var n=Math.floor((t-e)/1e3);2592e3<n?(this.timerText.node.active=!1,this.timerBg.active=!1):(this.timerText.node.active=!0,this.timerBg.active=!0),this.timerText.string=yx.timeUtil.getDayHour(n)}else this.timerText.string="",this._isUpdate=!1,this.onUpdate()},update:function update(){if(this._isUpdate)if(this._id==yx.SpecialActivity.MILING){var e=yx.timeUtil.getServerTime(),t=yx.MiLingMgr.getEndTime();this.updateHander(e,t)}else if(this._id==yx.SpecialActivity.SHIZHUANG){var n=yx.timeUtil.getServerTime(),i=0,o=yx.ActivityMgr.getActivityData(m);o&&(i=o.endTime),this.updateHander(n,i)}else if(this._id!=yx.SpecialActivity.ZIYAUNLIBAO2)if(this._id==yx.SpecialActivity.XIANSHICOST){var r=yx.timeUtil.getServerTime(),a=0,s=yx.ActivityMgr.getActivityData(v);s&&(a=s.endTime),this.updateHander(r,a)}else if(this._id==yx.SpecialActivity.FENGSHENBANG){var c=yx.timeUtil.getServerTime(),l=0,u=yx.FengShenMgr.getActivityData(yx.FengShenMgr.fengShenActivityId);u&&(l=u.endTime),this.updateHander(c,l)}else if(this._id==yx.SpecialActivity.PERDAYCHONGZHI){var d=yx.timeUtil.getServerTime();this.updateHander(d,0)}else if(this._id!=yx.SpecialActivity.JUEXUECANYE){var h=yx.ChengZhangLiBaoMgr.getLiBao(this._id),g=yx.timeUtil.getServerTime();if(g<h.endTime){var p=h.endTime-g;this.timerText.string=yx.timeUtil.seconds2hourMinSecond(p/1e3)}else this.timerText.string="",this._isUpdate=!1,this.onUpdate()}},onBadgeRefresh:function onBadgeRefresh(){this._id==yx.SpecialActivity.MILING?yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MiLing)):this._id==yx.SpecialActivity.SHIZHUANG?yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivitySkin)):this._id==yx.SpecialActivity.ZIYAUNLIBAO2?yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityRecource2)):this._id==yx.SpecialActivity.XIANSHICOST?yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ActivityLimitedTimeConsume)):this._id==yx.SpecialActivity.FENGSHENBANG||this._id==yx.SpecialActivity.PERDAYCHONGZHI&&yx.BadgeMgr.showBadge(this.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DailyRecharge))}}),cc._RF.pop()},{}],ChengZhangLiBaoMgr:[function(e,t,n){cc._RF.push(t,"1415a6QzPREYLZxFj0sGYLE","ChengZhangLiBaoMgr"),yx.ChengZhangLiBaoManager=function(){},yx.ChengZhangLiBaoManager.prototype={constructor:yx.ChengZhangLiBaoManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.GROW_GIFT,this.onMessageHandle),this._liBaoMap={}},GetList:function GetList(){yx.log("ActivityManager  Info");var e=new yx.proto.C2S_GrowGift;e.cmdType=yx.proto.GrowGiftCmdType.GetPlayerTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.GROW_GIFT,e)},ReceiveReward:function ReceiveReward(e){yx.log("ActivityManager  Info");var t=new yx.proto.C2S_GrowGift;t.cmdType=yx.proto.GrowGiftCmdType.Received_Cmd,t.id=e,yx.network.sendMessage(yx.proto.CmdId.GROW_GIFT,t)},onMessageHandle:function onMessageHandle(e,t){if(yx.log("ChengZhangLiBaoManager onMessageHandle-----"),null!=e&&0<e.length)yx.log("[ChengZhangLiBaoManager onMessageHandle] error:"+e);else{var n=yx.proto.S2S_GrowGift.decode(t);switch(n.cmdType){case yx.proto.GrowGiftCmdType.GetPlayerTask_Cmd:case yx.proto.GrowGiftCmdType.UpdatePlayerTask_Cmd:yx.ChengZhangLiBaoMgr.setLiBaoMap(n.taskInfo);break;case yx.proto.GrowGiftCmdType.Received_Cmd:yx.ChengZhangLiBaoMgr.setLiBaoMap(n.taskInfo);var i=n.resource;if(i)for(var o=0;o<i.length;o++){var r=i[o],a=yx.bagMgr.GetItemName(r.id)+"+"+r.count;yx.ToastUtil.showListToast(a)}}yx.eventDispatch.dispatchMsg(yx.EventType.CHENGZHANGLIBAO_REFRESH)}},setLiBaoMap:function setLiBaoMap(e){for(var t=0;t<e.length;t++){var n=e[t];this._liBaoMap[n.id]=n}},getLiBaoMap:function getLiBaoMap(){return this._liBaoMap},getLiBao:function getLiBao(e){return this._liBaoMap[e]}},yx.ChengZhangLiBaoMgr=new yx.ChengZhangLiBaoManager,cc._RF.pop()},{}],ChengZhangLiBaoPanel:[function(e,t,n){cc._RF.push(t,"eb860SRzsdO8q17gZsgq38M","ChengZhangLiBaoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{titleSp:cc.Sprite,bannerSp:cc.Sprite,timerText:cc.RichText,itemListContent:cc.Node,lingQuBtn:cc.Node,chongzhiText:cc.Label,chongZhiBtn:cc.Node,yiLingQu:cc.Node},_onInit:function _onInit(){this.lingQuBtn.on("click",this.lingQuBtnClick,this),this.chongZhiBtn.on("click",this.chongZhiBtnClick,this),yx.eventDispatch.addListener(yx.EventType.CHENGZHANGLIBAO_REFRESH,this.onEventRefresh,this)},_onShow:function _onShow(e){this._id=e,this._refresh()},_refresh:function _refresh(){var n=this,e=yx.cfgMgr.getOneRecord("GrowGiftBaseConfig",{Openid:this._id});if(e){yx.resUtil.LoadSprite("chengZhangLiBao/"+e.NameIcon,this.titleSp),yx.resUtil.LoadSprite("chengZhangLiBao/"+e.Banner,this.bannerSp);var t=yx.cfgMgr.getOneRecord("GrowGiftConfig",{ID:e.ID});if(t){t.Reward.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});t&&yx.ItemWidget.CreateItemSlot({itemId:t.ID,amount:e.count,clickCallBack:n.onItemClick},n.itemListContent,"itemSlot"+e.id,!0)});var i=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:t.CostValue[0]});i&&(this.chongzhiText.string="￥"+i.RMB)}}this.timerText.string="",this.onEventRefresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},lingQuBtnClick:function lingQuBtnClick(){yx.ChengZhangLiBaoMgr.ReceiveReward(this._id)},chongZhiBtnClick:function chongZhiBtnClick(){var e=yx.ChengZhangLiBaoMgr.getLiBao(this._id);if(yx.timeUtil.getServerTime()>=e.endTime)yx.ToastUtil.showListToast("礼包活动已结束");else{var t=yx.cfgMgr.getOneRecord("GrowGiftBaseConfig",{Openid:this._id});if(t){var n=yx.cfgMgr.getOneRecord("GrowGiftConfig",{ID:t.ID});n&&yx.reChargeMgr.reqReCharge(n.CostValue[0])}}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},update:function update(){var e=yx.ChengZhangLiBaoMgr.getLiBao(this._id),t=yx.timeUtil.getServerTime();if(t<e.endTime){var n=e.endTime-t;this.timerText.string="<color=#ffffff>剩余时间：</color><color=#00C800>"+yx.timeUtil.seconds2hourMinSecond(n/1e3)+"</color>"}else this.timerText.string="<color=#ffffff>已结束</color>"},onEventRefresh:function onEventRefresh(){var e=yx.ChengZhangLiBaoMgr.getLiBao(this._id);switch(this.lingQuBtn.active=!1,this.chongZhiBtn.active=!1,this.yiLingQu.active=!1,e.taskState){case yx.proto.TaskStateType.Processing:this.chongZhiBtn.active=!0;break;case yx.proto.TaskStateType.Finish:this.lingQuBtn.active=!0;break;case yx.proto.TaskStateType.Received:this.yiLingQu.active=!0;break;case yx.proto.TaskStateType.Invalid:}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ChuangXianItem:[function(e,t,n){cc._RF.push(t,"d5ea0rSHgFAMYEq3hk9GDIc","ChuangXianItem");var l="prefabs/widgets/ChuangXianItem",u=[null,"text-60","text-61","text-62","text-63","text-64","text-65","text-66","text-67","text-68"],d=[[],["text-69"],["text-70"],["text-71"],["text-72"],["text-73"],["text-74"],["text-75"],["text-76"],["text-77"],["text-78"],["text-78","text-69"]],h=cc.Class({extends:cc.Component,properties:{homeSp:cc.Sprite,textBgNode:cc.Node,textSp:cc.Sprite,numSp1:cc.Sprite,numSp2:cc.Sprite},statics:{CreateItem:function CreateItem(o,e,r,a,s){var c=new cc.Node(r);return c.setAnchorPoint(.5,1),e.addChild(c),yx.resUtil.LoadRes(l,function(e,t){if(!e){var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(h);return i?(c.addChild(n),i.init(o,a,s)):yx.warn("ChuangXianItem instantiate error!"),i}yx.warn(l+" is not exist!")}),c}},init:function init(e,t,n){var i=this.node.parent,o=i.parent;if(i.scale=t.scale,i.position=t.position,i.opacity=t.opacity,o.insertChild(i,n),this.numSp1.node.active=!1,this.numSp2.node.active=!1,this.textSp.node.active=!1,this.textBgNode.active=!1,this.numSpArr=[this.numSp1,this.numSp2],1<=e.ID&&e.ID<=99){var r=Math.ceil(e.ID/11);this.textSp.node.active=!0,this.textBgNode.active=!0,yx.resUtil.LoadSpriteByType(u[r],yx.ResType.CHUANGXIAN,this.textSp);var a=e.ID%11,s=d[a=0===a?11:a];for(var c in s)this.numSpArr[c].node.active=!0,yx.resUtil.LoadSpriteByType(s[c],yx.ResType.CHUANGXIAN,this.numSpArr[c])}var l=e.Icon;yx.resUtil.LoadSpriteByType(l,yx.ResType.CHUANGXIAN,this.homeSp)}});yx.ChuangXianItem=t.exports=h,cc._RF.pop()},{}],ChuangXianWindow:[function(e,t,n){cc._RF.push(t,"5b6c3Nfs/lKT5uv7WgagrMo","ChuangXianWindow");var i=e("BaseWindow"),o=e("ItemRichTextWidget");cc.Class({extends:i,properties:{itemRichWidget:o,firstNode:cc.Node,secondNode:cc.Node,thirdNode:cc.Node,uiNode:cc.Node,tiaoZhanUiNode:cc.Node,xianJieUiNode:cc.Node,tiaoZhanBtn:cc.Button,tianJieButton:cc.Button},_onInit:function _onInit(){this.tiaoZhanUiNode.active=!1,this.xianJieUiNode.active=!1,this.itemSlotNodeArr={},this.tiaoZhanBtn.node.on("click",this._tiaoZhanBtnClick,this),this.tianJieButton.node.on("click",this._tianJieButtonClick,this),yx.eventDispatch.addListener(yx.EventType.CHUANGXIANZHEN_INFO,this._refresh,this),yx.eventDispatch.addListener(yx.EventType.CHUANGXIANZHEN_TIAOZHAN,this._onEventPKShow,this)},_onShow:function _onShow(){this._reqInfo()},_reqInfo:function _reqInfo(){yx.chuangXianZhenMgr.reqChuangXian(yx.proto.FlyCmdType.GetFlyUp_Cmd)},_refresh:function _refresh(e){this.chuangXianData=e;var t=parseInt(e.mapID);if(this.tiaoZhanUiNode.active=!e.flyUpOver,this.xianJieUiNode.active=e.flyUpOver,e.flyUpOver){for(var n in this.itemSlotNodeArr)this.itemSlotNodeArr[n]&&(this.itemSlotNodeArr[n].removeFromParent(!0),this.itemSlotNodeArr[n]=null);this._loadItem(100,1,this.firstNode)}else this._loadItem(t,1,this.firstNode),this._loadItem(t+1,2,this.secondNode),this._loadItem(t+2,3,this.thirdNode),this._loadReward(t)},_loadReward:function _loadReward(e){var t=yx.cfgMgr.getOneRecord("FeiShengConfig",{ID:e});if(t){var n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t.Reward[0].id});n&&this.itemRichWidget.init({ID:n.ID,content:t.Reward[0].count+""},this._itemWidgetCallback.bind(this))}},_loadItem:function _loadItem(e,t,n){var i=yx.cfgMgr.getOneRecord("FeiShengConfig",{ID:e});if(i)this.itemSlotNodeArr[t]?this.itemSlotNodeArr[t].getComponentInChildren(yx.ChuangXianItem).init(i,n,3-t):this.itemSlotNodeArr[t]=yx.ChuangXianItem.CreateItem(i,this.uiNode,"chuangxianitem",n,3-t);else if(100===e){var o={ID:100,Icon:"cxj-11"};this.itemSlotNodeArr[t]?this.itemSlotNodeArr[t].getComponentInChildren(yx.ChuangXianItem).init(o,n,3-t):this.itemSlotNodeArr[t]=yx.ChuangXianItem.CreateItem(o,this.uiNode,"chuangxianitem",n,3-t)}else this.itemSlotNodeArr[t]&&(this.itemSlotNodeArr[t].removeFromParent(!0),this.itemSlotNodeArr[t]=null)},_itemWidgetCallback:function _itemWidgetCallback(e){var t={};t.ID=e.ID,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_runAction:function _runAction(){var e=this.itemSlotNodeArr[1],t=this.itemSlotNodeArr[2],n=this.itemSlotNodeArr[3];e.runAction(cc.sequence(cc.spawn(cc.moveBy(1,cc.v2(0,-500)),cc.fadeOut(1)),cc.callFunc(this._reqInfo.bind(this)))),t&&t.runAction(cc.spawn(cc.moveTo(1,cc.v2(0,e.y)),cc.scaleTo(1,e.scaleX,e.scaleY),cc.fadeIn(1))),t&&n&&n.runAction(cc.spawn(cc.scaleTo(1,t.scaleX,t.scaleY),cc.fadeIn(1)))},_tianJieButtonClick:function _tianJieButtonClick(){yx.CodeHelper.checkFuncOpen(65)&&(yx.windowMgr.goBack(),yx.windowMgr.showWindow("liLianWindow"))},_tiaoZhanBtnClick:function _tiaoZhanBtnClick(){this.chuangXianData&&!this.chuangXianData.flyUpOver?yx.chuangXianZhenMgr.reqChuangXian(yx.proto.FlyCmdType.ThroughMap_Cmd):this.chuangXianData&&this.chuangXianData.flyUpOver&&yx.ToastUtil.showListToast("已完成飞升")},_onEventPKShow:function _onEventPKShow(e){var t=yx.cfgMgr.getOneRecord("FeiShengConfig",{MonsterId:e.npcID});if(t){var n=t.Name;yx.FightPanel.ShowFightResult("chuangXianZhen",n,e.fightResult,!1,this._onPkEnd.bind(this,e),this)}},_onPkEnd:function _onPkEnd(e,t){t&&yx.DropShowPanel.ShowDropPanel(e.fightResult.drop,this._runAction.bind(this))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ItemRichTextWidget:"ItemRichTextWidget"}],ChuangXianZhenMgr:[function(e,t,n){cc._RF.push(t,"f0030RSAV5PLpHFJa1OAYEc","ChuangXianZhenMgr"),yx.chuangXianZhenManager=function(){},yx.chuangXianZhenManager.prototype={constructor:yx.chuangXianZhenManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.FlyUp,this.onMessageChuangXian.bind(this))},reqChuangXian:function reqChuangXian(e){var t=new yx.proto.C2S_FlyUp;t.type=e,yx.network.sendMessage(yx.proto.CmdId.FlyUp,t)},onMessageChuangXian:function onMessageChuangXian(e,t){if(null!=e&&0<e.length)yx.log("[chuangXianZhenManager onMessageChuangXian] error:"+e);else{var n=yx.proto.S2C_FlyUp.decode(t);if(n)switch(n.type){case yx.proto.FlyCmdType.GetFlyUp_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.CHUANGXIANZHEN_INFO,n);break;case yx.proto.FlyCmdType.ThroughMap_Cmd:n.flyUpOver&&yx.eventDispatch.dispatchMsg(yx.EventType.CHUANGXIANZHEN_FLYOVER,n),yx.eventDispatch.dispatchMsg(yx.EventType.CHUANGXIANZHEN_TIAOZHAN,n)}}}},yx.chuangXianZhenMgr=new yx.chuangXianZhenManager,t.exports=yx.chuangXianZhenMgr,cc._RF.pop()},{}],ChuiDiaoFrameEvent:[function(e,t,n){cc._RF.push(t,"e3e20Pp2MFHgYKPDGojzUwg","ChuiDiaoFrameEvent"),cc.Class({extends:cc.Component,properties:{shuiHuaAnima:cc.Animation,yuPiaoAnima:cc.Animation,yuGanAnimation:cc.Animation,boWenAnimation:cc.Animation},onLoad:function onLoad(){},daLiShuiHua:function daLiShuiHua(){this.shuiHuaAnima.play()},kuaiSuShuiHua:function kuaiSuShuiHua(){this.shuiHuaAnima.play()},paoGanShuiHua:function paoGanShuiHua(){this.shuiHuaAnima.play(),this.yuPiaoAnima.play("diaoyu_yupiao_idle"),this.boWenAnimation.play("diaoyu_bowen")},paoGanEnd:function paoGanEnd(){this.yuGanAnimation.play("diaoyu_dengdai")},kuaiSuLaEnd:function kuaiSuLaEnd(){this.yuGanAnimation.play("diaoyu_idle")},daLiLaEnd:function daLiLaEnd(){this.yuGanAnimation.play("diaoyu_idle")},dengDaiYuBegin:function dengDaiYuBegin(){},laBegin:function laBegin(){this.yuPiaoAnima.stop("diaoyu_yupiao_idle"),this.yuPiaoAnima.stop("diaoyu_yupiao_move"),this.boWenAnimation.stop("diaoyu_bowen"),this.boWenAnimation.stop("diaoyu_bowen2")},idelBegin:function idelBegin(){yx.log("idelBegin"),this.yuPiaoAnima.stop("diaoyu_yupiao_idle"),this.yuPiaoAnima.stop("diaoyu_yupiao_move"),this.boWenAnimation.stop("diaoyu_bowen"),this.boWenAnimation.stop("diaoyu_bowen2")},yuPiaoMoveEnd:function yuPiaoMoveEnd(){this.yuPiaoAnima.play("diaoyu_yupiao_idle"),this.boWenAnimation.play("diaoyu_bowen")}}),cc._RF.pop()},{}],ChuiDiaoMgr:[function(e,t,n){cc._RF.push(t,"146ce5m3gFJI7k++l4AevEL","ChuiDiaoMgr"),yx.ChuiDiaoManager=function(){},yx.ChuiDiaoManager.prototype={constructor:yx.ChuiDiaoManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.GO_FISHING,this.onMessageGoFishing.bind(this))},reqGoFishing:function reqGoFishing(e,t,n){var i=new yx.proto.C2S_GoFishing;i.cmdType=e,i.fieldType=t,i.piaoType=n,yx.network.sendMessage(yx.proto.CmdId.GO_FISHING,i)},onMessageGoFishing:function onMessageGoFishing(e,t){if(null!=e&&0<e.length)yx.log("[ChuiDiaoManager onMessageGoFishing] error:"+e);else{var n=yx.proto.S2C_GoFishing.decode(t);if(n){if(this._diaoYuData||(this._diaoYuData={}),n.cmdType==yx.proto.GoFishingCmdType.GetConsume_Cmd)return n.fieldType==yx.proto.GoFishingFieldType.AboveGround?this._diaoYuData.chuiXingConsumeData=n.consume:this._diaoYuData.huanHaiConsumeData=n.consume,void yx.eventDispatch.dispatchMsg(yx.EventType.CHUIDIAO_COUNT_INFO,this._diaoYuData);if(n.cmdType==yx.proto.GoFishingCmdType.GetFishingRod_Cmd)return void yx.eventDispatch.dispatchMsg(yx.EventType.CHUIDIAO_YUGAN_INFO,n.fishingRodInfo);switch(n.hasOwnProperty("cmdType")&&(this._diaoYuData.cmdType=n.cmdType),n.hasOwnProperty("piaoType")&&(this._diaoYuData.piaoType=n.piaoType),n.hasOwnProperty("reward")&&(this._diaoYuData.reward=n.reward),n.hasOwnProperty("gameState")&&(this._diaoYuData.gameState=n.gameState),n.hasOwnProperty("fieldType")&&(this._diaoYuData.fieldType=n.fieldType),this._diaoYuData.maxTime=10,n.hasOwnProperty("gameRemainTime")&&(this._diaoYuData.leftTime=n.gameRemainTime+1),n.hasOwnProperty("countDown")&&(this._diaoYuData.curTime=n.countDown),this._diaoYuData.cmdType){case yx.proto.GoFishingCmdType.EnterField_Cmd:yx.windowMgr.showWindow("chuiDiaoWindow",this._diaoYuData);break;case yx.proto.GoFishingCmdType.System_Calc_LaGan:yx.eventDispatch.dispatchMsg(yx.EventType.CHUIDIAO_LAGAN_RECOMMEND,this._diaoYuData);break;case yx.proto.GoFishingCmdType.LaGan_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.CHUIDIAO_LAGAN_RESULT,this._diaoYuData);break;case yx.proto.GoFishingCmdType.ChangeState_Cmd:this._diaoYuData.gameState==yx.proto.GameState.Inited?yx.windowMgr.showWindow("chuiDiaoWindow",this._diaoYuData):yx.eventDispatch.dispatchMsg(yx.EventType.CHUIDIAO_CHANG_GAMESTATE,this._diaoYuData);break;case yx.proto.GoFishingCmdType.Reconnect_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.CHUIDIAO_RECONNECT_INFO,this._diaoYuData)}}}}},yx.chuiDiaoMgr=new yx.ChuiDiaoManager,t.exports=yx.chuiDiaoMgr,cc._RF.pop()},{}],ChuiDiaoWindow:[function(e,t,n){cc._RF.push(t,"dbeb2nKn2ZHxq2Ku01ANqkq","ChuiDiaoWindow");var i=e("BaseWindow"),o=e("AttrGroupWidget"),r=cc.Class({extends:i,properties:{attrGroupWidget:o,chuiXingBgNode:cc.Node,huanHaiBgNode:cc.Node,leftTimeLabel:cc.Label,leftTimeNode:cc.Node,unBeginNode:cc.Node,hadBeginNode:cc.Node,hadEndNode:cc.Node,quitBtn:cc.Button,timeProgressBar:cc.ProgressBar,timeProgressBarLabel:cc.Label,paoGanBtn:cc.Button,daLiBtn:cc.Button,yuHuiBtn:cc.Button,kuaiSuBtn:cc.Button,logRichText:cc.RichText,logScrollView:cc.ScrollView,yuGanAnimation:cc.Animation,yuPiaoAnimation:cc.Animation,boWenAnimation:cc.Animation,autoChuiDiaoTip:cc.Node},onEndHander:function onEndHander(){this.isAutoFishing||this.showBtns(),this.showRewordAndRiZhi()},_onInit:function _onInit(){this.yuGanAnimation.paoGanEnd=this.onEndHander.bind(this),this.yuGanAnimation.kuaiSuLaEnd=this.onEndHander.bind(this),this.yuGanAnimation.daLiLaEnd=this.onEndHander.bind(this),this.attrGroupWidget.initItems([yx.CyType.LINGSHI]),this.curFieldType=yx.proto.GoFishingFieldType.AboveGround,this.unBeginNode.active=!1,this.hadBeginNode.active=!1,this.hadEndNode.active=!1,this.paoGanBtn.node.on("click",this.paoGanBtnClick,this),this.daLiBtn.node.on("click",this.daLiBtnClick,this),this.yuHuiBtn.node.on("click",this.yuHuiBtnClick,this),this.kuaiSuBtn.node.on("click",this.kuaiSuBtnClick,this),this.quitBtn.node.on("click",this.quitBtnClick,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_OPT_INFO,this._refresh,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_CHANG_GAMESTATE,this._changGameState,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_LAGAN_RESULT,this._laGanResult,this),yx.eventDispatch.addListener(yx.EventType.CHUIDIAO_LAGAN_RECOMMEND,this._laGanRecommend,this)},showRewordAndRiZhi:function showRewordAndRiZhi(){if(this.chuiDiaoResult){if(this.chuiDiaoResult.reward&&0<this.chuiDiaoResult.reward.length){if(this.chuiDiaoResult.piaoType)switch(this.chuiDiaoResult.piaoType){case yx.proto.PiaoType.DaLi:yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{name:yx.playerMgr.getName(),index:4}),this.logScrollView.scrollToBottom();break;case yx.proto.PiaoType.YuHui:yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{name:yx.playerMgr.getName(),index:5}),this.logScrollView.scrollToBottom();break;case yx.proto.PiaoType.KuaiSu:yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{name:yx.playerMgr.getName(),index:6}),this.logScrollView.scrollToBottom()}for(var e=0;e<this.chuiDiaoResult.reward.length;e++){var t=this.chuiDiaoResult.reward[e],n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t.itemID});n&&(yx.ToastUtil.showListToast("获取"+n.Name+"x"+t.count),yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{name:n.Name,index:10}))}}else{var i=parseInt(2*Math.random())+7;yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{name:yx.playerMgr.getName(),index:i}),this.logScrollView.scrollToBottom()}this.chuiDiaoResult=null}},hideBtns:function hideBtns(){this.paoGanBtn.node.active=!1,this.daLiBtn.node.active=!1,this.yuHuiBtn.node.active=!1,this.kuaiSuBtn.node.active=!1},showBtns:function showBtns(){this.paoGanBtn.node.active=!0,this.daLiBtn.node.active=!0,this.yuHuiBtn.node.active=!0,this.kuaiSuBtn.node.active=!0},showLaGanNode:function showLaGanNode(){this.unBeginNode.active=!0,this.hadBeginNode.active=!1,this.leftTimeNode.active=!0},showPaoGanNode:function showPaoGanNode(){this.unBeginNode.active=!1,this.hadBeginNode.active=!0,this.leftTimeNode.active=!0},paoGanBtnClick:function paoGanBtnClick(){var e=yx.proto.GoFishingCmdType.PaoGan_Cmd,t=yx.proto.GoFishingFieldType.AboveGround;yx.chuiDiaoMgr.reqGoFishing(e,t),this.hideBtns(),this.showLaGanNode()},daLiBtnClick:function daLiBtnClick(){var e=yx.proto.GoFishingCmdType.LaGan_Cmd,t=yx.proto.PiaoType.DaLi,n=yx.proto.GoFishingFieldType.AboveGround;yx.chuiDiaoMgr.reqGoFishing(e,n,t),this.hideBtns(),this.showPaoGanNode()},yuHuiBtnClick:function yuHuiBtnClick(){var e=yx.proto.GoFishingCmdType.LaGan_Cmd,t=yx.proto.PiaoType.YuHui,n=yx.proto.GoFishingFieldType.AboveGround;yx.chuiDiaoMgr.reqGoFishing(e,n,t),this.hideBtns(),this.showPaoGanNode()},kuaiSuBtnClick:function kuaiSuBtnClick(){var e=yx.proto.GoFishingCmdType.LaGan_Cmd,t=yx.proto.PiaoType.KuaiSu,n=yx.proto.GoFishingFieldType.AboveGround;yx.chuiDiaoMgr.reqGoFishing(e,n,t),this.hideBtns(),this.showPaoGanNode()},quitBtnClick:function quitBtnClick(){yx.windowMgr.goBack()},_onShow:function _onShow(e){this.isAutoFishing=yx.playerMgr.getSwitch(yx.proto.SwitchType.GoFishingAuto),this.yuGanAnimation.play(),this.isAutoFishing?this.hideBtns():this.showBtns(),this.autoChuiDiaoTip.active=this.isAutoFishing,this.hadEndNode.active=!1,this.stopBtnEffect(),yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"chuiDiao"),this._refresh(e)},stopBtnEffect:function stopBtnEffect(){var e=this.daLiBtn.node.getComponentInChildren(cc.Animation),t=this.yuHuiBtn.node.getComponentInChildren(cc.Animation),n=this.kuaiSuBtn.node.getComponentInChildren(cc.Animation);e.stop(),t.stop(),n.stop(),e.node.active=!1,t.node.active=!1,n.node.active=!1},showBtnEffect:function showBtnEffect(e){var t=null;yx.proto.PiaoType.DaLi===e?t=this.daLiBtn.node.getComponentInChildren(cc.Animation):yx.proto.PiaoType.YuHui===e?t=this.yuHuiBtn.node.getComponentInChildren(cc.Animation):yx.proto.PiaoType.KuaiSu===e&&(t=this.kuaiSuBtn.node.getComponentInChildren(cc.Animation)),t&&(t.node.active=!0,t.play())},_laGanRecommend:function _laGanRecommend(e){if(e&&e.piaoType){switch(e.piaoType){case yx.proto.PiaoType.DaLi:yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{index:1}),this.logScrollView.scrollToBottom();break;case yx.proto.PiaoType.YuHui:yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{index:2}),this.logScrollView.scrollToBottom();break;case yx.proto.PiaoType.KuaiSu:yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{index:3}),this.logScrollView.scrollToBottom()}this.showBtnEffect(e.piaoType),this.yuPiaoAnimation.play("diaoyu_yupiao_move"),this.boWenAnimation.play("diaoyu_bowen2")}},_laGanResult:function _laGanResult(e){if(this.chuiDiaoResult=yx.proto.S2C_GoFishing.toObject(e),e.piaoType){switch(e.piaoType){case yx.proto.PiaoType.DaLi:this.yuGanAnimation.play("diaoyu_kuaisula2");break;case yx.proto.PiaoType.YuHui:this.yuGanAnimation.play("diaoyu_dalila");break;case yx.proto.PiaoType.KuaiSu:this.yuGanAnimation.play("diaoyu_kuaisula")}this.hideBtns()}0===e.piaoType&&(this.hideBtns(),this.yuGanAnimation.play("diaoyu_kuaisula"),e.curFieldType&&yx.chuiDiaoMgr.reqGoFishing(yx.proto.GoFishingCmdType.GetConsume_Cmd,e.curFieldType)),this.stopBtnEffect()},_changGameState:function _changGameState(e){switch(e.curFieldType==yx.proto.GoFishingFieldType.AboveGround?(this.chuiXingBgNode.active=!0,this.huanHaiBgNode.active=!1):(this.chuiXingBgNode.active=!1,this.huanHaiBgNode.active=!0),e.gameState){case yx.proto.GameState.Inited:this.unBeginNode.active=!0,this.hadBeginNode.active=!1,this.leftTimeNode.active=!1,this.yuGanAnimation.play("diaoyu_idle");break;case yx.proto.GameState.Stop:this.yuGanAnimation.play("diaoyu_idle"),this.unBeginNode.active=!1,this.hadBeginNode.active=!1,this.leftTimeNode.active=!1,this.hadEndNode.active=!0,this.autoChuiDiaoTip.active=!1;break;case yx.proto.GameState.PaoGan:e.cmdType==yx.proto.GoFishingCmdType.Reconnect_Cmd&&this.yuGanAnimation.play("diaoyu_idle"),this.unBeginNode.active=!0,this.hadBeginNode.active=!1,this.leftTimeNode.active=!0;break;case yx.proto.GameState.LaGan:this.unBeginNode.active=!1,this.hadBeginNode.active=!0,this.leftTimeNode.active=!0,this.yuGanAnimation.play("diaoyu_paogan"),e.cmdType!=yx.proto.GoFishingCmdType.Reconnect_Cmd&&(yx.DiarysUtil.addShowTextToRichText(this.logRichText,"chuiDiao",{name:yx.playerMgr.getName(),index:0}),this.logScrollView.scrollToBottom())}},_refresh:function _refresh(e){this.resp=e,this.curFieldType=this.resp.fieldType,this._changGameState(e),yx.taskMgr.getchuidiaoSpecialShowMap()&&(yx.taskMgr.addTutor(this.paoGanBtn.node),yx.taskMgr.setchuidiaoSpecialShowMap(!1))},update:function update(e){this.resp&&this.resp.gameState!=yx.proto.GameState.Stop&&(this.resp.leftTime-=e,this.resp.leftTime<=0&&(this.resp.leftTime=0),this.leftTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(parseInt(this.resp.leftTime))),this.resp&&this.resp.gameState==yx.proto.GameState.LaGan&&(this.resp.curTime-=e,this.timeProgressBar.progress=this.resp.curTime/this.resp.maxTime,this.resp.curTime<=0&&(this.resp.curTime=0),this.timeProgressBarLabel.string=this.resp.curTime.toFixed(1)+"s")}});yx.ChuiDiaoWindow=t.exports=r,cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow"}],ClockWidget:[function(e,t,n){cc._RF.push(t,"4b5b0P6wllHrbzPMg1gKyTc","ClockWidget");var i=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3],o=2160,r=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,0,1,2,3],a=5400,s=e("BaseWindow"),d=cc.Class({extends:s,statics:{hourNodePool:new cc.NodePool,minNodePool:new cc.NodePool},properties:{scv1:cc.ScrollView,scvContent1:cc.Node,numberCenterBgNode:cc.Node,scv2:cc.ScrollView,scvContent2:cc.Node,comfirmBtn:cc.Button,closeBtn:cc.Button},_onInit:function _onInit(){this.comfirmBtn.node.on("click",this.comfirmBtnClick,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.scrollHourWidget(),this.scrollMinWidget()},_onHide:function _onHide(){if(this.hourPanelNode)for(var e=this.hourPanelNode.children,t=e.length-1;0<=t;t--)e[t]&&e[t].parent&&d.hourNodePool.put(e[t]);if(this.minPanelNode)for(var n=this.minPanelNode.children,i=n.length-1;0<=i;i--)n[i]&&n[i].parent&&d.minNodePool.put(n[i])},_onShow:function _onShow(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(.15),cc.callFunc(function(){e.scrollToHourNum(12),e.scrollToMinNum(30)})))},comfirmBtnClick:function comfirmBtnClick(){if(yx.xianMengMgr.getXianMengId()){var e=this.getHours()||0,t=this.getMins()||0;e=24==e?0:e,t=60==t?0:t,e=this._addZero(e),t=this._addZero(t),yx.xianMengMgr.req(yx.proto.XianMengCmdType.SetActivityTime_Cmd,null,null,yx.xianMengMgr.getXianMengId(),null,null,null,null,null,null,null,null,"{hours}:{mins}".format({hours:e,mins:t})),yx.windowMgr.goBack()}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},updateColor:function updateColor(){},scrollHourWidget:function scrollHourWidget(){var e=this;this.hourNumberNodes={},this.canHourAutoMove=!1,this.hourSelect=2,this.scvContent1.height=1e6,this.scv1.node.on("scrolling",this._hourScrolling,this),this.scv1.node.on("touchstart",function(){e.canHourAutoMove=!0},this),this.hourPanelNode=new cc.Node,this.hourPanelNode.setAnchorPoint(cc.v2(.5,1)),this.hourPanelNode.setContentSize(cc.size(80,o)),this.scvContent1.addChild(this.hourPanelNode),this.hourPanelNode.position=cc.v2(0,0),this._delayHourArr=[];for(var t=0;t<i.length;t++)this._delayHourArr.push({num:i[t],i:t});this.lastHourY=0},scrollToHourNum:function scrollToHourNum(e){null!=e&&(e<0||23<e||this.scv1.scrollToOffset(cc.v2(0,this.scvContent1.height/2+90*(e-2)),.8))},scrollToMinNum:function scrollToMinNum(e){null!=e&&(e<0||59<e||this.scv2.scrollToOffset(cc.v2(0,this.scvContent2.height/2+90*(e-2)),.8))},_hourScrolling:function _hourScrolling(){if(0<=this.scvContent1.y){var e=Math.floor(this.scvContent1.y/o);this.hourPanelNode.position=cc.v2(0,-e*o);var t=Math.ceil((this.scvContent1.y+90+45)/90%24);this.hourSelect=t}else{var n=Math.floor(this.scvContent1.y/o);this.hourPanelNode.position=cc.v2(0,Math.abs(n*o));var i=Math.ceil((this.scvContent1.y+90+45)/90%24);i=i<=0?i+24:i,this.hourSelect=i}},hourAutoScroll:function hourAutoScroll(){this.scv1.stopAutoScroll();var e=this.hourNumberNodes[this.hourSelect];if(e){var t=0;if(1==e.length)t=this.getNodeDistanceY(e[0],this.numberCenterBgNode);else{var n=this.getNodeDistanceY(e[0],this.numberCenterBgNode),i=this.getNodeDistanceY(e[1],this.numberCenterBgNode);t=Math.abs(n)>Math.abs(i)?i:n}this.canHourAutoMove&&(this.canHourAutoMove=!1,this.scv1.scrollToOffset(cc.v2(0,this.scvContent1.height/2+this.scvContent1.y-t),.2))}else cc.warn("hourAutoScroll this.hourSelect"+this.hourSelect)},getNodeDistanceY:function getNodeDistanceY(e,t){var n=e.parent.convertToWorldSpaceAR(e.position),i=t.parent.convertToWorldSpaceAR(t.position);return n.y-i.y},update:function update(e){if(!this.scv1.isScrolling()&&this.scv1.isAutoScrolling()){if(this.lastHourY){var t=(this.scvContent1.y-this.lastHourY)/e;Math.abs(t)<=100&&this.hourAutoScroll()}this.lastHourY=this.scvContent1.y}if(!this.scv2.isScrolling()&&this.scv2.isAutoScrolling()){if(this.lastMinY){var n=(this.scvContent2.y-this.lastMinY)/e;Math.abs(n)<=100&&this.minAutoScroll()}this.lastMinY=this.scvContent2.y}if(this._delayMinArr&&this._delayMinArr[0]){var i=d.minNodePool.get();i||(i=new cc.Node).addComponent(cc.Label);var o=i.getComponent(cc.Label);this.setLabelProperty(o);var r=this._delayMinArr[0].num;o.string=this._addZero(r),i.parent=this.minPanelNode,i.setAnchorPoint(cc.v2(.5,.5)),i.setPosition(cc.v2(0,-90*this._delayMinArr[0].i-45));var a=0==r?60:r;this.minNumberNodes[a]||(this.minNumberNodes[a]=[]),this.minNumberNodes[a].push(i),this._delayMinArr.splice(0,1)}if(this._delayHourArr&&this._delayHourArr[0]){var s=d.hourNodePool.get();s||(s=new cc.Node).addComponent(cc.Label);var c=s.getComponent(cc.Label);this.setLabelProperty(c);var l=this._delayHourArr[0].num;c.string=this._addZero(l),s.parent=this.hourPanelNode,s.setAnchorPoint(cc.v2(.5,.5)),s.setPosition(cc.v2(0,-90*this._delayHourArr[0].i-45));var u=0==l?24:l;this.hourNumberNodes[u]||(this.hourNumberNodes[u]=[]),this.hourNumberNodes[u].push(s),this._delayHourArr.splice(0,1)}},setLabelProperty:function setLabelProperty(e){e.horizontalAlign=cc.Label.HorizontalAlign.CENTER,e.verticalAlign=cc.Label.VerticalAlign.CENTER,e.fontSize=80,e.lineHeight=90},scrollMinWidget:function scrollMinWidget(){var e=this;this.minNumberNodes={},this.canMinAutoMove=!1,this.minSelect=2,this.scvContent2.height=1e6,this.scv2.node.on("scrolling",this._minScrolling,this),this.scv2.node.on("touchstart",function(){e.canMinAutoMove=!0},this),this.minPanelNode=new cc.Node,this.minPanelNode.setAnchorPoint(cc.v2(.5,1)),this.minPanelNode.setContentSize(cc.size(80,a)),this.scvContent2.addChild(this.minPanelNode),this.minPanelNode.position=cc.v2(0,0),this._delayMinArr=[];for(var t=0;t<r.length;t++)this._delayMinArr.push({num:r[t],i:t});this.lastMinY=0},_minScrolling:function _minScrolling(){if(0<=this.scvContent2.y){var e=Math.floor(this.scvContent2.y/a);this.minPanelNode.position=cc.v2(0,-e*a);var t=Math.ceil((this.scvContent2.y+90+45)/90%60);this.minSelect=t}else{var n=Math.floor(this.scvContent2.y/a);this.minPanelNode.position=cc.v2(0,Math.abs(n*a));var i=Math.ceil((this.scvContent2.y+90+45)/90%60);i=i<=0?i+60:i,this.minSelect=i}},minAutoScroll:function minAutoScroll(){this.scv2.stopAutoScroll();var e=this.minNumberNodes[this.minSelect];if(e){var t=0;if(1==e.length)t=this.getNodeDistanceY(e[0],this.numberCenterBgNode);else{var n=this.getNodeDistanceY(e[0],this.numberCenterBgNode),i=this.getNodeDistanceY(e[1],this.numberCenterBgNode);t=Math.abs(n)>Math.abs(i)?i:n}this.canMinAutoMove&&(this.canMinAutoMove=!1,this.scv2.scrollToOffset(cc.v2(0,this.scvContent2.height/2+this.scvContent2.y-t),.2))}else cc.warn("hourAutoScroll this.minSelect"+this.minSelect)},_addZero:function _addZero(e){return(e=parseInt(e))<10?"0"+parseInt(e):""+parseInt(e)},getHours:function getHours(){return this.hourSelect},getMins:function getMins(){return this.minSelect}});cc._RF.pop()},{BaseWindow:"BaseWindow"}],CodeHelper:[function(e,t,n){cc._RF.push(t,"75974ar6ppEhZbIH4QQ6U6g","CodeHelper");var o="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)},i={NewClickEvent:function NewClickEvent(e,t,n){if(e instanceof cc.Component){var i=new cc.Component.EventHandler;return i.target=e.node,i.component=e.constructor.prototype.__classname__,i.handler=t,i.customEventData=n,i}return yx.error("[CoderHelper NewClickEvent component is not component]",e),null},deepClone:function deepClone(e,t){t=t||{};var n=Object.prototype.toString;for(var i in e)e.hasOwnProperty(i)&&("null"!==e[i]&&"object"==o(e[i])?(t[i]="[object Array]"==n.call(e[i])?[]:{},this.deepClone(e[i],t[i])):t[i]=e[i])},array2ccv2:function array2ccv2(e){var t=cc.v2(0,0);return e&&e instanceof Array&&2==e.length&&(t=cc.v2(e[0],e[1])),t},checkUseLimit:function checkUseLimit(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e}),n=!0;switch(t.limittype){case 1:var i=yx.playerMgr.getDuJieLevel();(n=this.isRangeMinAndMax(i,t.limitvalue[0],t.limitvalue[1]))||yx.ToastUtil.showListToast("到达{level}级方可使用".format({level:t.limitvalue[0]}));break;case 2:break;case 3:var o=yx.playerMgr.getLianDanShiLevel();(n=this.isRangeMinAndMax(o,t.limitvalue[0],t.limitvalue[1]))||yx.ToastUtil.showListToast("炼丹等级到达{level}方可使用".format({level:t.limitvalue[0]}));break;case 4:var r=yx.playerMgr.getLianQiShiLevel();(n=this.isRangeMinAndMax(r,t.limitvalue[0],t.limitvalue[1]))||yx.ToastUtil.showListToast("炼器等级到达{level}方可使用".format({level:t.limitvalue[0]}));break;case 5:var a=yx.playerMgr.getWuDaoShiLevel();(n=this.isRangeMinAndMax(a,t.limitvalue[0],t.limitvalue[1]))||yx.ToastUtil.showListToast("悟道等级到达{level}方可使用".format({level:t.limitvalue[0]}))}return n},isRangeMinAndMax:function isRangeMinAndMax(e,t,n){return t<=e&&e<=n},checkFuncOpen:function checkFuncOpen(e,t){var n=!(1<arguments.length&&void 0!==t)||t,i=yx.cfgMgr.getRecordByKey("FuncOpenConfig",{ID:e});if(!i)return!1;var o=i.conditionkind,r=this.getMyOwnConditionNumByType(o),a=i.conditionnum,s=i.conditionkind2,c=this.getMyOwnConditionNumByType(s),l=i.conditionnum2;if(o&&s){var u=i.condition;if(1===u){if(a<=r&&l<=c)return!0}else if(2===u&&(a<=r||l<=c))return!0}else if(o){if(a<=r)return!0}else if(s&&l<=c)return!0;return n&&yx.ToastUtil.showListToast(i.opencondition),!1},checkFuncOpenDisplay:function checkFuncOpenDisplay(e){if(this.checkFuncOpen(e,!1))return!0;var t=yx.cfgMgr.getRecordByKey("FuncOpenConfig",{ID:e});return t&&1===t.Display},checkFuncOpenShow:function checkFuncOpenShow(e){if(yx.serverMgr.isFuncOpenShield()){var t=yx.cfgMgr.getRecordByKey("FuncOpenConfig",{ID:e});return t&&1===t.Show}return!0},getMyOwnConditionNumByType:function getMyOwnConditionNumByType(e){var t=0;switch(e){case 1:t=yx.playerMgr.getDuJieLevel();break;case 2:t=yx.playerMgr.getCuiTiLevel();break;case 3:t=yx.battleMgr.getCurGjCID();break;case 4:case 5:break;case 6:t=yx.playerMgr.getLianDanShiLevel();break;case 7:t=yx.playerMgr.getLianQiShiLevel()}return t},convertToAdaptHeight:function convertToAdaptHeight(e){return parseInt(e/1280*cc.winSize.height)},CallInNextTick:function CallInNextTick(e,t,n){e&&setTimeout(function(){e(t,n)},0)},callAndroid:function callAndroid(e,t){return t?this.getAndroidRes(prompt("js://webview?methodName="+e+"&param="+JSON.stringify(t))):this.getAndroidRes(prompt("js://webview?methodName="+e))},getAndroidRes:function getAndroidRes(e){return e?JSON.parse(e):null},returnAndroid:function returnAndroid(e,t){t?alert("js://webview?methodName="+e+"&param="+JSON.stringify(t)):alert("js://webview?methodName="+e)},formatDate:function formatDate(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),o=e.getHours();return n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),t+""+n+i+o},addOutlineByPinZhi:function addOutlineByPinZhi(e,t){e&&(16<=t?e.addComponent(cc.LabelOutline).color=yx.colorUtil.toCCColor(yx.colorUtil.TextBlack):e.removeComponent(cc.LabelOutline))}};t.exports=yx.CodeHelper=i,cc._RF.pop()},{}],ColorSquareItem:[function(e,t,n){cc._RF.push(t,"17fceVNQDRFFZ7n1iWw+c8b","ColorSquareItem");var d="prefabs/widgets/ColorSquareItem",i={ITEM:1,PLAYER:2},h=cc.Class({extends:cc.Component,properties:{bgSp:cc.Sprite,isCheckNode:cc.Node,nameRiText:cc.RichText,showSp:cc.Sprite,grayMask:cc.Node},statics:{ColorSquareType:i,_itemPrefab:null,CreateItemAysn:function CreateItemAysn(o,e,r,a,s,c,l){var u=new cc.Node(r);return e.addChild(u),yx.resUtil.LoadRes(d,function(e,t){if(e)yx.warn(d+" is not exist!");else{var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(h);i&&u&&u.isValid?(i.init(o,a,s,l),u.addChild(n),u.setContentSize(n.getContentSize())):yx.warn("ColorSquareItem instantiate error!"),c&&c(i,o)}}),u},CreateItemSyn:function CreateItemSyn(e,t,n,i,o){var r=new cc.Node(n);t.addChild(r);var a=cc.instantiate(h._itemPrefab);null!=n&&(a.name=n);var s=a.getComponent(h);return s?(s.init(e,i,o),r.addChild(a),r.setContentSize(a.getContentSize())):yx.warn("ColorSquareItem instantiate error!"),s}},init:function init(e,t,n,i){this._cb=t,this._info=e,this._colorSquareType=n,this.node.on("click",this._onItemBtnClick.bind(this),this),this.refresh(e,i)},refresh:function refresh(e,t){var n=1<arguments.length&&void 0!==t&&t;this._colorSquareType==i.PLAYER?(this._setPlayerItem(e),this.setPlayerGray(n)):this._setItemConfig(e)},_setPlayerItem:function _setPlayerItem(e){if(!e||!e.npcListCfg)return this.showSp.node.active=!1,void(this.nameRiText.string="");var t=e.npcListCfg.Name?e.npcListCfg.Name:"";this._setName(e.PinZhi,t),this.showSp.node.active=!0,this._setNpcSprite(e.npcListCfg.Icon,this.showSp)},_setItemConfig:function _setItemConfig(e){if(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.Reward[0].id});t&&(this._setItemSprite(t.Icon,t.Type,this.showSp),this._setName(t.PinZhi,t.Name))}},_setName:function _setName(e,t){e&&(this.nameRiText.string=yx.colorUtil.AddColorString(t,yx.textDict.QualityLightColor.getQualityColor(e)),e<=3?yx.resUtil.LoadSprite("common/Head-52",this.bgSp):e<=6?yx.resUtil.LoadSprite("common/Head-53",this.bgSp):e<=9?yx.resUtil.LoadSprite("common/Head-54",this.bgSp):e<=12?yx.resUtil.LoadSprite("common/Head-55",this.bgSp):yx.resUtil.LoadSprite("common/Head-60",this.bgSp))},_onItemBtnClick:function _onItemBtnClick(){this._cb&&this._cb(this._info,this);var e=this.node.parent.parent.getComponentsInChildren(h);for(var t in e)e[t].showIsCheck(e[t]===this)},showIsCheck:function showIsCheck(e){this.isCheckNode.active=e},_setItemSprite:function _setItemSprite(e,t,n){null!=e&&0<e.length&&(t==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(e,yx.ResType.EQUIP,n):yx.resUtil.LoadSpriteByType(e,yx.ResType.ITEM,n))},_setNpcSprite:function _setNpcSprite(e,t){if(e&&t){var n=yx.cfgMgr.getRecordByKey("ResConfig",{ID:e});n&&(yx.resUtil.LoadSpriteByType(n.Head,yx.ResType.NPC,t),t.node.active=!0)}},setPlayerGray:function setPlayerGray(e){this.grayMask.active=e}});yx.ColorSquareItem=t.exports=h,cc._RF.pop()},{}],ColorUtil:[function(e,t,n){cc._RF.push(t,"c5538GqdWNFVYjTjtO5Wllp","ColorUtil");var i={TextYellowDark:"#FFD066",TextGreyDark:"#7C6141",TextYellowLight:"#EDD49B",TextGreen:"#00C800",TextRed:"#FF0000",TextBlueLigth:"#98BAF0",TextWhite:"#FFFFFF",TextBlack:"#000000",TextGray:"#666666",TextDarkGreen:"#345A5C",TextDarkRed:"#B16647",AddColorString:function AddColorString(e,t){return"<color="+t+">"+e+"</c>"},toCCColor:function toCCColor(e){return(new cc.Color).fromHEX(e)}};t.exports=yx.colorUtil=i,cc._RF.pop()},{}],ConfigManager:[function(e,t,n){var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"1540b/XcvNNGZFFM7frwb8x","ConfigManager");function rJ(){this._init=!1,this._cfgs=null,this.CharCreatorCfgs=r}var r=[null,{Avatar:{ID:1001008,Avatar:"huli_0205",Type:2,AnimName:"animation",Rate:70,Offset:[-24,2],Shadow:[552,91],"备注":""},FaXiang:{ID:2000002,Avatar:"fx-0210",Type:2,AnimName:"animation",Rate:80,Offset:[44,-56],Shadow:"","备注":""},TeXiao:{ID:3000002,Avatar:"huli_0210_et",Type:1,AnimName:"jinse",Rate:110,Offset:[52,132],Shadow:"","备注":""}},{Avatar:{ID:1002008,Avatar:"she_0405",Type:2,AnimName:"animation",Rate:55,Offset:[35,17],Shadow:[432,91],"备注":""},FaXiang:{ID:2000006,Avatar:"fx-0410",Type:2,AnimName:"animation",Rate:80,Offset:[-14,-21],Shadow:"","备注":""},TeXiao:{ID:3000006,Avatar:"she0410_effect",Type:1,AnimName:"newAnimation",Rate:250,Offset:[46,13],Shadow:"","备注":""}},{Avatar:{ID:1003008,Avatar:"hou0305",Type:2,AnimName:"animation",Rate:65,Offset:[31,11],Shadow:[583,91],"备注":""},FaXiang:{ID:2000008,Avatar:"fx-0310",Type:2,AnimName:"animation",Rate:76,Offset:[55,18],Shadow:"","备注":""},TeXiao:{ID:3000003,Avatar:"hou_0310_et",Type:1,AnimName:"jinse",Rate:110,Offset:[-23,49],Shadow:"","备注":""}},{Avatar:{ID:1004008,Avatar:"yu_0105",Type:2,AnimName:"animation",Rate:65,Offset:[4,26],Shadow:[536,91],"备注":""},FaXiang:{ID:2000004,Avatar:"fx-0110",Type:2,AnimName:"animation",Rate:74,Offset:[39,3],Shadow:"","备注":""},TeXiao:{ID:3000001,Avatar:"0110_yu_effect",Type:1,AnimName:"yu",Rate:190,Offset:[13,97],Shadow:"","备注":""}}],a=(o(i={CharacterAvatarConfig:{keys:["ZhongZu","Level"],calIndex:function calIndex(e,t){return e+100*t}},CuiTiConfig:{keys:["Level"]},DiZiLevelConfig:{keys:["Level"]},DongFuBuildConfig:{keys:["Type"]},DongFuConfig:{keys:["Type","Level"],calIndex:function calIndex(e,t){return e+1e4*t}},DuJieConfig:{keys:["Level"]},DropConfig:{keys:["ID"]},DaoLvSkillStepConfig:{keys:["SkillID","Step"],calIndex:function calIndex(e,t){return e+1e4*t}},DaoLvSkillRewardConfig:{keys:["SkillID","Step1OpID","Step2OpID","Step3OpID"],calIndex:function calIndex(e,t,n,i){return+e+100*t+1e4*n+1e6*i}},DaoLvSkillStepTxtConfig:{keys:["OpID"]},DongFuOrderConfig:{keys:["Type"]},EquipConfig:{keys:["ID"]},ExchangeConfig:{keys:["ID"]},FishDesConfig:{keys:["PiaoType"]},GuaXiangConfig:{keys:["Type","Level"],calIndex:function calIndex(e,t){return e+100*t}},HeiShiItemConfig:{keys:["ID"]},HuoLangConfig:{keys:["ID","Type","Layer"],calIndex:function calIndex(e,t,n){return e+1e3*t+1e5*n}},LianQiFormulaConfig:{keys:["ID"]},LianQiLuConfig:{keys:["PinZhi"]},LianQiLevelConfig:{keys:["Level"]},LianYaoFormulaConfig:{keys:["ID"]},LianYaoLevelConfig:{keys:["Level"]},LianYaoLuConfig:{keys:["PinZhi"]},LiLianMonsterConfig:{keys:["ID"]},LiLianMapRewardConfig:{keys:["ID"]},ItemConfig:{keys:["ID"]},MenpaiLevelConfig:{keys:["Star"]},MenPaiPostConfig:{keys:["ZhiWu"]},MiJingEventConfig:{keys:["EventID"]},MiJingListConfig:{keys:["ID"]},MonsterAttrConfig:{keys:["ID"]},NpcListConfig:{keys:["ID"]},PkgLevelConfig:{keys:["Level"]},QiYuListConfig:{keys:["ID"]},QiYuRateConfig:{keys:["LevelFrom"]},QiYuRewardConfig:{keys:["ID"]},ResConfig:{keys:["ID"]},ShopListConfig:{keys:["ID","Type","Layer"],calIndex:function calIndex(e,t,n){return e+1e3*t+1e5*n}},XianFangListConfig:{keys:["ID","Type","Layer"],calIndex:function calIndex(e,t,n){return e+1e3*t+1e5*n}},SkillConfig:{keys:["ID","Type"],calIndex:function calIndex(e,t){return e+1e4*t}},SkillUpdateConfig:{keys:["Level"]},ShiJieEventList:{keys:["ID"]},TalkListConfig:{keys:["ID"]},WuDaoAttrConfig:{keys:["Type","Level"],calIndex:function calIndex(e,t){return e+1e4*t}},WuDaoChingConfig:{keys:["Level"]},WuDaolevelConfig:{keys:["Level"]},WuDaoProficiencyConfig:{keys:["Level"]},WuDaoBookConfig:{keys:["ID"]}},"XianFangListConfig",{keys:["ID","Type","Layer"],calIndex:function calIndex(e,t,n){return e+1e3*t+1e5*n}}),o(i,"XianPuExpandConfig",{keys:["Times"]}),o(i,"XiSuiConfig",{keys:["Jie","Num"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"YouLITownConfig",{keys:["ID"]}),o(i,"YouLiEventConfig",{keys:["ID"]}),o(i,"ZongMenNiTiConfig",{keys:["ID"]}),o(i,"ZongMenWuDaoConfig",{keys:["ID"]}),o(i,"FuncOpenConfig",{keys:["ID"]}),o(i,"PayItemConfig",{keys:["ID"]}),o(i,"FengYinBossConfig",{keys:["ID"]}),o(i,"FengYinBossDamageConfig",{keys:["ID"]}),o(i,"DaoLvListConfig",{keys:["ID"]}),o(i,"DaoLvNatureConfig",{keys:["ID"]}),o(i,"DaoLvPhysiqueConfig",{keys:["ID"]}),o(i,"LiLianGuaJiRewardConfig",{keys:["ID"]}),o(i,"DailyAttrConfig",{keys:["Level"]}),o(i,"GuideConfig",{keys:["ID","Step"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"TitleConfig",{keys:["ID"]}),o(i,"EffectsConfig",{keys:["ID"]}),o(i,"PetGiftProConfig",{keys:["ID","Level"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"PetLvProConfig",{keys:["Quality","Level"],calIndex:function calIndex(e,t){return 1e3*e+t}}),o(i,"ZEquipConfig",{keys:["ID"]}),o(i,"ZItemConfig",{keys:["ID"]}),o(i,"PsychicSkillConfig",{keys:["ID","Skilllv"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"SystemConfig",{keys:["id"]}),o(i,"TaskConfig",{keys:["ID"]}),o(i,"JingMaiConfig",{keys:["level"]}),o(i,"ChapterConfig",{keys:["CID","ChapterId"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"ActivityType101Config",{keys:["ID","Index"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"DiGongConfig",{keys:["ID"]}),o(i,"GuildSkillConfig",{keys:["Level","Index"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"AvatarListConfig",{keys:["ID"]}),o(i,"QiLinLevelConfig",{keys:["Level","Type"],calIndex:function calIndex(e,t){return 100*e+t}}),o(i,"FaZhenConfig",{keys:["Level","Type"],calIndex:function calIndex(e,t){return 100*e+t}}),i),s={HeiShiItemDef:"HeiShiItemDef2",MonDef:"MonDef2",LingGenDef:"LingGenDef2",DongFuBuildDef:"DongFuBuildDef2",ItemDef:"ItemDef2",QiYuLevelDef:"QiYuLevelDef2"};rJ.prototype={constructor:rJ,init:function init(e){yx.log("configmanager init"),this._cfgs=new Map,this._initByDir(e)},_initByFile:function _initByFile(r){var a=this;yx.resUtil.LoadRes("config/ClientConfig",function(e,t){if(null==e&&t instanceof cc.JsonAsset){var n=0,i=t.json;for(var o in i)i.hasOwnProperty(o)&&(a._setCfg(o,i[o]),n++);a._init=!0,yx.log("ConfigManager Init loadResDir complete res count:"+n+" succ cfg count:"+a._cfgs.size),r&&r(!0)}else yx.error("ConfigManager Init loadRes error",e),r(!1)})},_initByDir:function _initByDir(o){var r=this;yx.resUtil.LoadResDir("config",function(e,t,n){if(null!=e)yx.error("ConfigManager Init loadResDir error",e),o(!1);else{for(var i=0;i<t.length;i++)t[i]instanceof cc.JsonAsset&&r._setCfg(t[i]._name,t[i].json);r._init=!0,yx.log("ConfigManager Init loadResDir complete res count:"+t.length+" succ cfg count:"+r._cfgs.size),o&&o(!0)}})},_setCfg:function _setCfg(e,t){var n=new Map,i=this._getKeyAndIndex(e);if(100<t.length&&null==i)yx.error("一百条以上的数据需要添加索引信息方便查找:"+e+":"+JSON.stringify(t[0]));else{for(var o=0;o<t.length;o++){var r=t[o],a=o;if(i&&(-2==(a=this._genIndex(i,r))||-3==a))return void yx.error("主键信息有错误，请检查:"+e);a<0&&(a=o),n.set(a,r)}this._cfgs.set(e,n)}},_getKeyAndIndex:function _getKeyAndIndex(e){var t=a[e];return t&&t.keys?(null==t.calIndex&&(t.calIndex=function(e){return e}),t):null},_genIndex:function _genIndex(e,t){if(null==e||null==e.keys||e.keys.length!=e.calIndex.length)return yx.warn("[ConfigManager _genIndex] keys length not same the calIndex func length"),-1;for(var n=new Array,i=0;i<e.keys.length;i++){var o=t[e.keys[i]];if(null==o)return-2;n.push(o)}var r=0;switch(n.length){case 1:r=e.calIndex(n[0]);break;case 2:r=e.calIndex(n[0],n[1]);break;case 3:r=e.calIndex(n[0],n[1],n[2]);break;case 4:r=e.calIndex(n[0],n[1],n[2],n[3]);break;default:return yx.warn("[ConfigManager _genIndex] key length error len:"+n.length),-3}return r},_getRealCfg:function _getRealCfg(e){return 0==this._init?null:(null!=s[e]&&(e=s[e]),this._cfgs.get(e))},getRecordByKey:function getRecordByKey(e,t){return this.getOneRecord(e,t)},getOneRecord:function getOneRecord(e,o){if(null==o)return yx.warn("[ConfigManager getRecordByKey] findObj null"),null;if(o.constructor==Number&&(o={ID:o}),o.constructor!=Object)return yx.warn("[ConfigManager getRecordByKey] findObj error"),null;var t=this._getRealCfg(e);if(null==t)return yx.warn("no config:"+e),null;var n=this._getKeyAndIndex(e);if(n&&n.keys&&n.keys.length==Object.keys(o).length){var i=this._genIndex(n,o);if(0<=i&&t.has(i))return t.get(i)}return Array.from(t.values()).find(function(e){for(var t=!0,n=Object.keys(o),i=0;i<n.length;++i)if(null==o[n[i]]||o[n[i]]!=e[n[i]]){t=!1;break}return t})},getRecordList:function getRecordList(e,o){if(null==o||null==o)return yx.warn("[ConfigManager getRecordByKey] findObj null"),this.getAllConfig(e);if(o.constructor==Number&&(o={ID:o}),o.constructor!=Object)return yx.warn("[ConfigManager getRecordByKey] findObj error"),null;var t=this._getRealCfg(e);return null==t?(yx.warn("no config:"+e),null):Array.from(t.values()).filter(function(e){for(var t=!0,n=Object.keys(o),i=0;i<n.length;++i)if(null==o[n[i]]||o[n[i]]!=e[n[i]]){t=!1;break}return t})},getAllConfig:function getAllConfig(e){var t=this._getRealCfg(e);return null==t?(yx.warn("no config:"+e),null):Array.from(t.values())}},yx.cfgMgr=new rJ,t.exports=yx.cfgMgr,cc._RF.pop()},{}],CreateRoleWindow:[function(e,t,n){cc._RF.push(t,"ec91588+yBL+bqcUEdCczwO","CreateRoleWindow");var i=e("BaseWindow"),c=["高","郭","郑","谢","冯","于","萧","程","袁","许","傅","吕","苏","卢","蒋","丁","薛","阎","潘","杜","夏","钟","汪","田","任","范","方","姚","谭","廖","邹","金","陆","郝","孔","崔","邱","秦","史","顾","候","邵","孟","万","段","雷","钱","汤","尹","黎","易","常","乔","赖","龚","庞","樊","殷","施","陶","翟","颜","苗","严","鲁","葛","卫","关","刑","祝","岳","庄","包","宁","姑苏","司马","夏侯","南宫","独孤","上官","太史","公孙","西门","东方","尉迟","慕容","诸葛","司徒","皇甫","轩辕","端木","宇文","令狐","完颜","纳兰"],l=["文","玄","天","紫","志","健","英","远","良","杰","剑","思","元","霄","常","百","力","立","本","子","辰","大","小","成","义","云","之","蓝","希","艳","以","亦","雨","玉","若","晓","容","妙","幻","梦","美","依","凌","灵","伶","雪"],u=["惠","莹","柳","盈","娴","兰","雅","文","霞","珍","静","丽","香","烟","若","玉","容","岚","妍","菁","雨","蓉","芷","嫣","婧","琴","芳","紫","怡","熙","琦","媚","蕾","荷","曦","琪","姬","夜","瑶","晓","曼","倩","蓝","芩","茵","雯","美","绮","韵","莺","梦","红","涵","芸","瑛","冰","露","蝶","仪","樱","雪","英","情","颖","淇","莲","晴","婷","琼","薇","云","芹","亭","嘉","凤","裳","凝","慧","苑","欣","双","茹","音","姿","娜","霜","玫","悦","丹","琳","依","萍","乐","意","娟","巧","媛","敏","利","凌","芙","茜","玟","莉","灵","梅","菲","花","俪","玲","婵","妃","楚","淑","铃","彤","燕","芬","佩","菱","丝","艳","洁","珮","柔","璐","珊","慈","欢","佳","钰","喻","瑜","舞","苇","蕊","娇","羽","萱","璇","翠","乔","丫","艺","馨","强","城","角","翔","墨","峰","光","平","耀","复","枫","勇","德","鑫","超","锋","东","宝","兴","龙","烽","凡","表","川","行","荣","宗","白","志","诸","融","辰","北","基","斌","锐","子","伯","盛","彬","瑞","雄","福","真","浩","仁","星","宇","豪","山","桥","信","林","秋","图","术","哲","聪","清","同","帅","夕","武","权","天","生","良","青","台","师","安","庆","铁","森","奕","丰","辉","童","顺","杰","宫","飞","刚","伦","军","统","泰","晨","藤","延","涛","素","健","尚","威","民","岩","标","炎","易","凯","宁","达","伟","原","寒","策","胜","阳","祥","仔","坚","海","备","松","明","典","佗","毅","迪","彪","冲","正","亮","昂","章","保"];cc.Class({extends:i,properties:{usernameEditBox:cc.EditBox,randomBtn:cc.Button,startBtn:cc.Button,roleNode:cc.Node,shadowSprite:cc.Sprite,prologueBgBtn:cc.Button,descToggleContainer:cc.ToggleContainer},_onInit:function _onInit(){this._creating=!1,yx.eventDispatch.addListener(yx.EventType.CREATE_ROLE,this.onEventCreateRole,this),yx.eventDispatch.addListener(yx.EventType.GET_PLAYER_INFO,this.onEventGetPlayerInfo,this),this.randomBtn.node.on("click",this.onRandomClick,this),this.startBtn.node.on("click",this.onCreateClick,this),this._faxiangGroup=new cc.Node("faxiangGroup"),this._roleEffectGroup=new cc.Node("effectGroup"),this.roleNode.parent.insertChild(this._faxiangGroup,0),this.roleNode.parent.addChild(this._roleEffectGroup),this._zhongzu=1,this._refreshZhongZu(),this.onRandomClick()},_onShow:function _onShow(){yx.report("Create-Role-Window","on-Show")},_refreshZhongZu:function _refreshZhongZu(){yx.log("zhongzu="+this._zhongzu);var e=yx.cfgMgr.CharCreatorCfgs[this._zhongzu];yx.log("charCfg.AvatarID="+e.Avatar.ID),this._roleEffectGroup.removeAllChildren(!0),this._faxiangGroup.removeAllChildren(!0);var t=new cc.Node("faxiang"),n=new cc.Node("effect");this._roleEffectGroup.addChild(n),this._faxiangGroup.addChild(t),yx.resUtil.loadRoleAvatar(this.roleNode,e.Avatar.ID,"create",this.shadowSprite,e.Avatar)},_randomName:function _randomName(){var e=c.length,t=Math.floor(Math.random()*e),n=c[t],i=l.length,o=Math.floor(Math.random()*i),r=l[o],a=u.length,s=Math.floor(Math.random()*a);return n+r+u[s]},onUserNameEditDidEnded:function onUserNameEditDidEnded(){0<this.usernameEditBox.string.length&&yx.log("nameChange = "+this.usernameEditBox.string)},onSelectClick:function onSelectClick(e){switch(yx.log("onSelectClick=="+e.node.getName()),yx.report("Create-Role-Window","on-Select-Click"),e.node.getName()){case"toggle1":this._zhongzu=1,this.descToggleContainer.toggleItems[0].isChecked=!0;break;case"toggle2":this._zhongzu=2,this.descToggleContainer.toggleItems[1].isChecked=!0;break;case"toggle3":this._zhongzu=3,this.descToggleContainer.toggleItems[2].isChecked=!0;break;case"toggle4":this._zhongzu=4,this.descToggleContainer.toggleItems[3].isChecked=!0}this._refreshZhongZu()},onRandomClick:function onRandomClick(){this.usernameEditBox.string=this._randomName(),yx.report("Create-Role-Window","on-Random-Click")},onCreateClick:function onCreateClick(){if(1==this._creating)return yx.log("[CreateRoleWindow onCreateClick] creating"),void yx.ToastUtil.showListToast("请稍候，正在创建中...");this._creating=!0,yx.log("onCreateClick name="+this.usernameEditBox.string+" zhongzu="+this._zhongzu),yx.report("Create-Role-Window","on-Create-Click"),yx.playerMgr.reqRegister(this._zhongzu,this.usernameEditBox.string)},onEventCreateRole:function onEventCreateRole(e){yx.log("[CreateRoleWindow onEventCreateRole] succ:"+e),0==e&&(this._creating=!1)},onEventGetPlayerInfo:function onEventGetPlayerInfo(e){yx.log("[CreateRoleWindow onEventGetPlayerInfo] succ:"+e),this._creating=!1,yx.sdkLayer.sendExtraData(yx.SendExtraType.TYPE_CREATE_ROLE)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],CreateZongMenPanel:[function(e,t,n){cc._RF.push(t,"7fe7dyi8ztPLavzBkId1jC0","CreateZongMenPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{maskSp:cc.Button,closeBtn:cc.Button,createBtn:cc.Button,nameEditBox:cc.EditBox,shangLianEditBox:cc.Label,xiaLianEditBox:cc.Label},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.CREATE_ZONGMEN,this.onCreateZongMenRefresh,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.createBtn.node.on("click",this.oncreateBtnClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this.nameEditBox.string="",this.shangLianEditBox.string="",this.xiaLianEditBox.string="";var e=yx.cfgMgr.getRecordList("ZongMenDuiLianConfig"),t=Math.floor(Math.random()*e.length);t==e.length&&(t=0),""==e[t].ShangLian?(this.shangLianEditBox.string=e[0].ShangLian,this.xiaLianEditBox.string=e[0].XiaLian):(this.shangLianEditBox.string=e[t].ShangLian,this.xiaLianEditBox.string=e[t].XiaLian)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},oncreateBtnClick:function oncreateBtnClick(){if(""!=this.nameEditBox.string)if(""!=this.shangLianEditBox.string){var e=new RegExp("[^\\u4E00-\\u9FFF]+","g");e.test(this.shangLianEditBox.string)?yx.ToastUtil.showListToast("对联请输入中文"):""!=this.xiaLianEditBox.string?e.test(this.xiaLianEditBox.string)?yx.ToastUtil.showListToast("对联请输入中文"):yx.ZongMenMgr.createZongMen(this.nameEditBox.string,this.shangLianEditBox.string+","+this.xiaLianEditBox.string):yx.ToastUtil.showListToast("请输入下联")}else yx.ToastUtil.showListToast("请输入上联");else yx.ToastUtil.showListToast("请输入宗门名称")},onCreateZongMenRefresh:function onCreateZongMenRefresh(){yx.windowMgr.goBack(),yx.windowMgr.showWindow("zongMen")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],DanYaoNumItem:[function(e,t,n){cc._RF.push(t,"45b7bouP0xGRIj/O8nWTRyT","DanYaoNumItem");var s="prefabs/widgets/DanYaoNumItem",c=cc.Class({extends:cc.Component,properties:{nameLabel:cc.RichText},statics:{CreateItem:function CreateItem(o,e,r){var a=new cc.Node(r);a.setAnchorPoint(.5,.5),e.addChild(a),yx.resUtil.LoadRes(s,function(e,t){if(!e){var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(c);return i&&a&&a.isValid?(a.addChild(n),i.init(o),a.setContentSize(n.getContentSize())):yx.warn("DanYaoNumItem instantiate error!"),i}yx.warn(s+" is not exist!")})}},init:function init(e){var t=e.itemId,n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t});this.nameLabel.string=n?this._getContentStr(n.Name,e.useCount,e.maxCount,e.isNoShowMaxcount):""},_getContentStr:function _getContentStr(e,t,n,i){return yx.colorUtil.AddColorString(e+" (",yx.colorUtil.TextWhite)+(n<=t?yx.colorUtil.AddColorString(t+"",yx.colorUtil.TextRed):yx.colorUtil.AddColorString(t+"",yx.colorUtil.TextWhite))+(i?")":yx.colorUtil.AddColorString("/"+n+")",yx.colorUtil.TextWhite))}});yx.DanYaoNumItem=t.exports=c,cc._RF.pop()},{}],DanYaoTitleItem:[function(e,t,n){cc._RF.push(t,"742f2aZFa1DwLeULdPyd0Wf","DanYaoTitleItem");var c="prefabs/widgets/DanYaoTitleItem",l=cc.Class({extends:cc.Component,properties:{btn:cc.Button,nameLabel:cc.Label,itemLayout:cc.Layout},statics:{CreateItem:function CreateItem(o,e,r,a){var s=new cc.Node(r);return s.setAnchorPoint(.5,1),e.addChild(s),yx.resUtil.LoadRes(c,function(e,t){if(!e){var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(l);return i&&s&&s.isValid?(s.addChild(n),i.init(o,a)):yx.warn("DanYaoTitleItem instantiate error!"),i}yx.warn(c+" is not exist!")}),s}},init:function init(e){this.btn.node.on("click",this.itemBtnClick,this),this.itemLayout.node.active=!1,this.refresh(e)},refresh:function refresh(e){for(var t in 1<=(this._info=e).pinZhi&&e.pinZhi<=23&&(this.nameLabel.node.color=yx.colorUtil.toCCColor(yx.textDict.QualityColor.getQualityColor(e.pinZhi)),yx.CodeHelper.addOutlineByPinZhi(this.nameLabel.node,e.pinZhi)),this.itemLayout.node.removeAllChildren(!0),this.nameLabel.string=e.title,e.items)yx.DanYaoNumItem.CreateItem(e.items[t],this.itemLayout.node,"DanYaoNumItem"+parseInt(t));this._setContentSize()},_setContentSize:function _setContentSize(){this.node.setContentSize(this._calcuContentSize()),this.node.parent.setContentSize(this.node.getContentSize())},_calcuContentSize:function _calcuContentSize(){var e=this.node.getContentSize().width,t=this.btn.node.getContentSize().height,n=0;return this.itemLayout.node.active&&(n=50*Math.ceil(this.getObjectLength(this._info.items)/2)),n=0<n?n+20:0,cc.size(e,t+n)},getObjectLength:function getObjectLength(e){var t=0;for(var n in e)t++;return t},itemBtnClick:function itemBtnClick(){var e=this.node.parent.parent.getComponentsInChildren(l);for(var t in e)e[t]!==this&&(e[t].itemLayout.node.active=!1,e[t]._setContentSize());this.getObjectLength(this._info.items)<=0?1<=this._info.pinZhi&&this._info.pinZhi<=23&&yx.ToastUtil.showListToast("未尝服用过该品阶的丹药"):(this.itemLayout.node.active=!this.itemLayout.node.active,this._setContentSize())}});yx.DanYaoTitleItem=t.exports=l,cc._RF.pop()},{}],DaoLvMgr:[function(e,t,n){cc._RF.push(t,"ee4e688y3ZLk7zGBaX6cwt2","DaoLvMgr"),yx.DaoLvManager=function(){},yx.DaoLvManager.prototype={constructor:yx.DaoLvManager,init:function init(){this.daoLvData=null,yx.network.addHandler(yx.proto.CmdId.DaoLv,this.onMessageDaoLv.bind(this))},reqDaoLv:function reqDaoLv(e,t){var n=new yx.proto.C2S_DaoLv;n.cmdType=e,n.id=t,yx.network.sendMessage(yx.proto.CmdId.DaoLv,n)},updateRedDot:function updateRedDot(){this.daoLvData||yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.GetDaoLv_Cmd)},_calcuSxCount:function _calcuSxCount(e){for(var t=0,n=0;n<e.length;n++)e[n].relationship===yx.proto.RelationshipType.ShuangXiu&&t++;return t},onMessageDaoLv:function onMessageDaoLv(e,t){if(null!=e&&0<e.length)yx.log("[DaoLvManager onMessageDaoLv] error:"+e);else{var n=yx.proto.S2C_DaoLv.decode(t);if(n){if(this.daoLvData=n,yx.log("onMessageDaoLv:"+JSON.stringify(n)),n.result&&!n.result.result)return void yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_ERROR_TIP,n);switch(n.cmdType){case yx.proto.DaoLvCmdType.GetDaoLv_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_REFRESH_INFO,n),yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_UPDATE_REDDOT,0<this._calcuSxCount(n.daoLvInfo)&&n.curShungXiuCount<3);break;case yx.proto.DaoLvCmdType.GifgGiving_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_ZENGLI,n);break;case yx.proto.DaoLvCmdType.TakeHome_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_DAIHUI,n);break;case yx.proto.DaoLvCmdType.YuanJin_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_YUANJIN,n);break;case yx.proto.DaoLvCmdType.TakeRoom_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_TAKEHOME,n);break;case yx.proto.DaoLvCmdType.ShuangXiu_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_SHUANGXIU,n),yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_UPDATE_REDDOT,n.curShungXiuCount<3);break;case yx.proto.DaoLvCmdType.ShuangXiuLog_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_SHUANGXIU_LOG,n);break;case yx.proto.DaoLvCmdType.CompareNotes_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DAOLV_PK,n)}}}}},yx.daoLvMgr=new yx.DaoLvManager,t.exports=yx.daoLvMgr,cc._RF.pop()},{}],DaoLvWindow:[function(e,t,n){cc._RF.push(t,"e4e52xFKQFNrKvmq1qdXUov","DaoLvWindow");var i=e("BaseWindow"),o=e("ColorSquareItem"),r={All:-1,BU_XIANG_SHI:yx.proto.RelationshipType.Stranger,HONG_YAN:yx.proto.RelationshipType.SoulMate},a=cc.Class({extends:i,properties:{quanBuBtn:cc.Button,buXiangShiBtn:cc.Button,hongYanBtn:cc.Button,nameLabel:cc.Label,jiaoLabel:cc.Label,xingGeDesRiText:cc.RichText,jiaoTanBtn:cc.Button,qieChuoBtn:cc.Button,zengLiBtn:cc.Button,daiHuiBtn:cc.Button,logRiZhiRiText:cc.RichText,logScrollView:cc.ScrollView,qinMiDuLabel:cc.Label,daoLvBtn:cc.Button,shuangXiuBtn:cc.Button,jieShiNode:cc.Node,unJieShiNode:cc.Node,colorSquareItemPrefab:cc.Prefab,contentNode:cc.Node,headLayout:cc.Layout,preBtn:cc.Button,nextBtn:cc.Button,headScrollview:cc.ScrollView,daoLvPageNode:cc.Node,shuangXiuPageNode:cc.Node,sxHeadLayout:cc.Layout,sxPreBtn:cc.Button,sxNextBtn:cc.Button,sxHeadScrollview:cc.ScrollView,sxNameLabel:cc.Label,sxJiaoLabel:cc.Label,sxXingGeDesRiText:cc.RichText,sxJueSeShangXianNumLabel:cc.Label,sxShuangXiuNumLabel:cc.Label,sxQinMiDuLabel:cc.Label,sxRiZhiBtn:cc.Button,sxYaoQingBtn:cc.Button,sxShuangXiuBtn:cc.Button,sxYuanJinBtn:cc.Button,sxXinTipLabel:cc.Label,sxXinTipBgNode:cc.Node,sxRoomSquareItem:o,shuangXiuingMaskNode:cc.Node},_onInit:function _onInit(){this.curPageType=1,this.curDaoLvSelectedItemCfg=null,this.curSxSelectedItemCfg=null,this.curRoomItemCfg=null,this.talkTimeList={},yx.ColorSquareItem._itemPrefab=this.colorSquareItemPrefab,this.daoLvPageNode.active=!1,this.shuangXiuPageNode.active=!1,this.sxXinTipBgNode.active=!1,this.sxYaoQingBtn.node.active=!0,this.sxShuangXiuBtn.node.active=!1,this.quanBuBtn.node.on("click",this._filterBtnClick.bind(this,r.All),this),this.buXiangShiBtn.node.on("click",this._filterBtnClick.bind(this,r.BU_XIANG_SHI),this),this.hongYanBtn.node.on("click",this._filterBtnClick.bind(this,r.HONG_YAN),this),this.jiaoTanBtn.node.on("click",this._optBtnClick.bind(this,1),this),this.qieChuoBtn.node.on("click",this._optBtnClick.bind(this,2),this),this.zengLiBtn.node.on("click",this._optBtnClick.bind(this,3),this),this.daiHuiBtn.node.on("click",this._optBtnClick.bind(this,4),this),this.daoLvBtn.node.on("click",this._pageBtnClick.bind(this,1),this),this.shuangXiuBtn.node.on("click",this._pageBtnClick.bind(this,2),this),this.preBtn.node.on("click",this._onPreBtnClick,this),this.sxPreBtn.node.on("click",this._onPreBtnClick,this),this.nextBtn.node.on("click",this._onNextBtnClick,this),this.sxNextBtn.node.on("click",this._onNextBtnClick,this),this.sxYaoQingBtn.node.on("click",this._yaoQingBtnClick.bind(this),this),this.sxShuangXiuBtn.node.on("click",this._shuangXiuBtnClick.bind(this),this),this.sxRiZhiBtn.node.on("click",this._riZhiBtnClick.bind(this),this),this.sxYuanJinBtn.node.on("click",this._yuanJinBtn.bind(this),this),yx.eventDispatch.addListener(yx.EventType.DAOLV_REFRESH_INFO,this._refresh,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_ZENGLI,this._onEventZengLi,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_DAIHUI,this._onEventDaiHui,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_YUANJIN,this._onEventYuanJin,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_TAKEHOME,this._onEventTakeHome,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_SHUANGXIU,this._onEventShuangXiu,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_UPDATE_REDDOT,this._onEventUpdateRedDot,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_SHUANGXIU_LOG,this._onEventShuangXiuLog,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_ERROR_TIP,this._onEventErrorTip,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_PK,this._onEventPKShow,this),yx.BadgeMgr.addBadge(this.shuangXiuBtn.node,30,30),this._resetMessage(),this.sxRoomSquareItem.init(null,this._updateContent.bind(this,2),yx.ColorSquareItem.ColorSquareType.PLAYER),this.daoLvConfigs={},this._loadConfig(),this._delayArr=[],this._lastDelayTime=0,this._sxDelayArr=[],this._sxLastDelayTime=0,this.curFilter=r.All,this._pageBtnClick(1)},_onEventErrorTip:function _onEventErrorTip(e){if(this.isShown()&&e.result&&e.result.errorCode)switch(e.result.errorCode){case yx.proto.ErrorCodeType.DAO_LV_INTIMACY_MAX:this._showToastOrLog(e.result.type,"道侣亲密度达最大值");break;case yx.proto.ErrorCodeType.DAO_LV_ALREADY_IN_HOME:this._showToastOrLog(e.result.type,"该道侣已在洞府中");break;case yx.proto.ErrorCodeType.DAO_LV_INTIMACY_LOWER:this._showToastOrLog(e.result.type,"我们好友度尚浅");break;case yx.proto.ErrorCodeType.DAO_LV_ALREADY_NOT_IN_HOME:this._showToastOrLog(e.result.type,"该道侣不在洞府中");break;case yx.proto.ErrorCodeType.DAO_LV_SHUANG_XIU_MAX:this._showToastOrLog(e.result.type,"今日双休已达最大次数");break;case yx.proto.ErrorCodeType.DAO_LV_SHUANG_XIU_CHILL_DOWN:this._showToastOrLog(e.result.type,"双休时间未到");break;case yx.proto.ErrorCodeType.DAO_LV_ALREADY_SHUANG_XIU:this._showToastOrLog(e.result.type,"已经双休过");break;case yx.proto.ErrorCodeType.DAO_LV_SHUANG_XIU_COUNT_MAX:this._showToastOrLog(e.result.type,"双修人数达最大");break;case yx.proto.ErrorCodeType.DAO_LV_REFUSE_SHUANG_XIU:this._showToastOrLog(e.result.type,"该道侣拒绝与你双休");break;case yx.proto.ErrorCodeType.DAO_LV_CAN_NOT_GIFT_GIVING:this._showToastOrLog(e.result.type,"我不能接受你的礼物");break;case yx.proto.ErrorCodeType.NO_AVALIABLE_GIFT:this._showToastOrLog(e.result.type,"没有可以赠送的礼物");break;case yx.proto.ErrorCodeType.DAO_LV_STRAGE:this._showToastOrLog(e.result.type,"还未结识道侣");break;case yx.proto.ErrorCodeType.COMPARE_NOTES_LEVEL_LIMIT:this._showToastOrLog(e.result.type,"你的境界太低, 还不配做我的对手")}},_showToastOrLog:function _showToastOrLog(e,t){e===yx.proto.ErrorTipsType.Console?yx.ToastUtil.showListToast(t):(yx.DiarysUtil.addShowTextToRichText(this.logRiZhiRiText,"daoLv",{index:0,str:t}),this.logScrollView.scrollToBottom())},_onEventZengLi:function _onEventZengLi(e){var t=e.daoLvInfo;if(t)for(var n=0;n<t.length;n++){var i=t[n];this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][i.id]=null,this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.SoulMate][i.id]=null,this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.HappyCouple][i.id]=null,this.daoLvData.relationShipCfgList[i.relationship][i.id]=this.daoLvConfigs[i.id],this.daoLvData.qinMiList[i.id]=i.intimacy,this._updateContent(1,this.daoLvConfigs[i.id]),yx.ToastUtil.showListToast("好感度增加10")}},_onEventDaiHui:function _onEventDaiHui(e){var t=e.daoLvInfo;if(t)for(var n=0;n<t.length;n++)t[n].relationship===yx.proto.RelationshipType.ShuangXiu&&(yx.ToastUtil.showListToast("带回到洞府"),yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.GetDaoLv_Cmd))},_onEventYuanJin:function _onEventYuanJin(){yx.ToastUtil.showListToast("缘分已尽"),yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.GetDaoLv_Cmd)},_onEventTakeHome:function _onEventTakeHome(){this.sxRoomSquareItem.refresh(this.curSxSelectedItemCfg),this.curRoomItemCfg=this.curSxSelectedItemCfg,this.sxYaoQingBtn.node.active=!1,this.sxShuangXiuBtn.node.active=!0},_onEventUpdateRedDot:function _onEventUpdateRedDot(e){yx.BadgeMgr.showBadge(this.shuangXiuBtn.node,e)},_onEventShuangXiu:function _onEventShuangXiu(e){if(e.natureRefuseShuangXiu)return this.sxShuangXiuNumLabel.string=e.curShungXiuCount+"/3",void yx.ToastUtil.showListToast("对方拒绝与你双修");this.sxXinTipBgNode.active=!0,this.shuangXiuingMaskNode.active=!0,this.sxYaoQingBtn.node.active=!1,this.sxShuangXiuBtn.node.active=!1,this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){this.sxXinTipBgNode.active=!1,this.shuangXiuingMaskNode.active=!1,this.sxYaoQingBtn.node.active=!0,this.sxRoomSquareItem.refresh(null),this.curRoomItemCfg=null,this.sxShuangXiuNumLabel.string=e.curShungXiuCount+"/3",this._showShuangXiuReword(e)}.bind(this))))},_onEventShuangXiuLog:function _onEventShuangXiuLog(e){this._createShuangXiuLog(e),yx.windowMgr.showWindow("shuoMingPanel",{shuoMingType:yx.ShuoMingPanel.SHUOMING_TYPE.DAOLVRIZHI})},_createShuangXiuLog:function _createShuangXiuLog(e){yx.DiarysUtil.resetLocalDataByType("daoLvLog");for(var t=e.xiuLianLog,n=0;n<t.length;n++){var i=t[n];if(i){var o=i.shuangXiuTime,r=i.xiuLianInfo,a=r.daoLvInfo;if(a&&a[0]){var s=a[0].id;if(s&&this.daoLvConfigs[s]){var c=this.daoLvConfigs[s].TiZhiID,l=this.daoLvConfigs[s].XingGeID,u=r.natureAllMultiple,d=r.cmdType,h=r.natureEffect,g=r.physiqueReduceEffect,p=this.daoLvConfigs[s].physiqueCfg,y={};switch(y.year=yx.timeUtil.getXiuLianByTime(o),y.npcName=this.daoLvConfigs[s].npcListCfg.Name,y.name=yx.playerMgr.getName(),c){case 1:y.index=4,y.xiuwei=h,y.xiuwei=Math.abs(y.xiuwei);break;case 2:y.index=5,y.lianqi=p.Type1Value[0].count*(h/100),y.lianqi=Math.abs(y.lianqi);break;case 3:y.index=6,y.liandan=p.Type1Value[0].count*(h/100),y.liandan=Math.abs(y.liandan);break;case 4:y.index=7,y.weiwang=p.Type1Value[0].count*(h/100),y.weiwang=Math.abs(y.weiwang);break;case 5:y.index=8,y.radio=h;break;case 6:y.index=9,y.xiuwei=h,y.weiwang=p.Type2Value[0].count,y.xiuwei=Math.abs(y.xiuwei),y.weiwang=Math.abs(y.weiwang);break;case 7:y.index=10,y.radio=h,y.xiuwei=g,y.radio=Math.abs(y.radio),y.xiuwei=Math.abs(y.xiuwei);break;case 8:y.index=11,y.gongde=p.Type1Value[0].count*(h/100),y.gongde=Math.abs(y.gongde);break;case 12:case 9:y.index=12,y.lingyu=p.Type1Value[0].count*(h/100),y.lingyu=Math.abs(y.lingyu);break;case 10:y.index=13,y.yuhe=p.Type1Value[0].count*(h/100),y.yuhe=Math.abs(y.yuhe);break;case 11:y.index=11,y.gongde=p.Type1Value[0].count*(h/100),y.gongde=Math.abs(y.gongde);break;case 13:y.index=14,y.jingyan=p.Type1Value[0].count*(h/100),y.jingyan=Math.abs(y.jingyan)}if(r.natureRefuseShuangXiu&&(y.index=16),yx.DiarysUtil.addShowTextToRichText(this.textRitext,"daoLvLog",y),u){switch(l){case 2:y.index=1;break;case 8:y.index=2;break;case 5:y.index=3}yx.DiarysUtil.addShowTextToRichText(this.textRitext,"daoLvLog",y)}d===yx.proto.DaoLvCmdType.YuanJin_Cmd&&(y.index=15,yx.DiarysUtil.addShowTextToRichText(this.textRitext,"daoLvLog",y))}}}}},_showShuangXiuReword:function _showShuangXiuReword(e){var t=e.daoLvInfo;if(t&&t[0]){var n=t[0].id;if(n&&this.daoLvConfigs[n]){var i={};i.year=yx.timeUtil.getXiuLianYear();var o=this.daoLvConfigs[n].TiZhiID,r=this.daoLvConfigs[n].XingGeID,a=e.natureOtherValue;if(a)for(var s=0;s<a.length;s++){var c=a[s],l=c.id,u=yx.cfgMgr.getOneRecord("ItemConfig",{ID:l});u&&yx.ToastUtil.showListToast("获得了"+u.Name+"x"+c.count)}var d=e.natureEffect,h=e.physiqueReduceEffect,g=this.daoLvConfigs[n].physiqueCfg;switch(i.npcName=this.daoLvConfigs[n].npcListCfg.Name,i.name=yx.playerMgr.getName(),o){case 1:i.index=4,i.xiuwei=d,i.xiuwei=Math.abs(i.xiuwei),yx.ToastUtil.showListToast("修为提升"+i.xiuwei+"点");break;case 2:i.index=5,i.lianqi=g.Type1Value[0].count*(d/100),i.lianqi=Math.abs(i.lianqi),yx.ToastUtil.showListToast("炼器经验提升"+i.lianqi+"点");break;case 3:i.index=6,i.liandan=g.Type1Value[0].count*(d/100),i.liandan=Math.abs(i.liandan),yx.ToastUtil.showListToast("炼丹经验提升"+i.liandan+"点");break;case 4:i.index=7,i.weiwang=g.Type1Value[0].count*(d/100),i.weiwang=Math.abs(i.weiwang),yx.ToastUtil.showListToast("威望提升"+i.weiwang+"点");break;case 5:i.index=8,i.radio=d,yx.ToastUtil.showListToast("渡劫成功率提升"+i.radio+"%");break;case 6:i.index=9,i.xiuwei=d,i.weiwang=g.Type2Value[0].count,i.xiuwei=Math.abs(i.xiuwei),i.weiwang=Math.abs(i.weiwang),yx.ToastUtil.showListToast("修为提升"+i.xiuwei+"点"),yx.ToastUtil.showListToast("威望下降"+i.weiwang+"点");break;case 7:i.index=10,i.radio=d,i.xiuwei=h,i.radio=Math.abs(i.radio),i.xiuwei=Math.abs(i.xiuwei),yx.ToastUtil.showListToast("渡劫成功率提升"+i.radio+"%"),yx.ToastUtil.showListToast("修为下降"+i.xiuwei+"点");break;case 8:i.index=11,i.gongde=g.Type1Value[0].count*(d/100),i.gongde=Math.abs(i.gongde),yx.ToastUtil.showListToast("功德提升"+i.gongde+"点");break;case 12:case 9:i.index=12,i.lingyu=g.Type1Value[0].count*(d/100),i.lingyu=Math.abs(i.lingyu),yx.ToastUtil.showListToast("获取灵玉x"+i.lingyu);break;case 10:i.index=13,i.yuhe=g.Type1Value[0].count*(d/100),i.yuhe=Math.abs(i.yuhe),yx.ToastUtil.showListToast("获取玉盒x"+i.yuhe);break;case 11:i.index=11,i.gongde=g.Type1Value[0].count*(d/100),i.gongde=Math.abs(i.gongde),yx.ToastUtil.showListToast("功德提升"+i.gongde+"点");break;case 13:i.index=14,i.jingyan=g.Type1Value[0].count*(d/100),i.jingyan=Math.abs(i.jingyan),yx.ToastUtil.showListToast("炼丹经验提升"+i.jingyan+"点"),yx.ToastUtil.showListToast("炼器经验提升"+i.jingyan+"点")}switch(r){case 2:i.index=1;break;case 8:i.index=2;break;case 5:i.index=3}}}},_resetMessage:function _resetMessage(){this._resetDaoLvPageMessage(),this._resetShuangXiuPageMessage()},_resetDaoLvPageMessage:function _resetDaoLvPageMessage(){this.nameLabel.string="",this.jiaoLabel.string="",this.xingGeDesRiText.string=""},_resetShuangXiuPageMessage:function _resetShuangXiuPageMessage(){this.sxJueSeShangXianNumLabel.string="0/10",this.sxShuangXiuNumLabel.string="0/3",this.sxNameLabel.string="",this.sxJiaoLabel.string="",this.sxXingGeDesRiText.string=""},_refresh:function _refresh(e){if(e){this.daoLvData=e,this.daoLvData.relationShipCfgList=[],this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger]={},this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.SoulMate]={},this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.HappyCouple]={},this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.ShuangXiu]={},this.daoLvData.qinMiList={},this.daoLvData.curShuangXiuNum=0;for(var t=e.daoLvInfo,n=0;n<t.length;n++){var i=t[n];this.daoLvData.relationShipCfgList[i.relationship][i.id]=this.daoLvConfigs[i.id],this.daoLvData.qinMiList[i.id]=i.intimacy,i.relationship===yx.proto.RelationshipType.ShuangXiu&&this.daoLvData.curShuangXiuNum++}for(var o in this.daoLvConfigs){for(var r=!0,a=this.daoLvConfigs[o],s=0;s<t.length;s++)if(a.ID==t[s].id){r=!1;break}r&&(this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][a.ID]=a,this.daoLvData.qinMiList[a.ID]=0)}this._filterBtnClick(this.curFilter),this._loadShuangXiuHeadLayoutItem(this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.ShuangXiu]),this.sxShuangXiuNumLabel.string=this.daoLvData.curShungXiuCount+"/3",this.sxJueSeShangXianNumLabel.string=this.daoLvData.curShuangXiuNum+"/10",this.curDaoLvSelectedItemCfg&&this._updateContent(1,this.curDaoLvSelectedItemCfg),this.curSxSelectedItemCfg&&this._updateContent(2,this.curSxSelectedItemCfg)}},refreshRiZhiRichText:function refreshRiZhiRichText(){yx.DiarysUtil.setRichTextWithShowList(this.logRiZhiRiText,"daoLv")},_onShow:function _onShow(e){yx.CodeHelper.CallInNextTick(this.refreshRiZhiRichText.bind(this)),yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.GetDaoLv_Cmd),e&&(1==e?(this._pageBtnClick(1),this.curFilter=r.All):2==e&&this._pageBtnClick(2))},_yaoQingBtnClick:function _yaoQingBtnClick(){this.curSxSelectedItemCfg&&this.curSxSelectedItemCfg.npcListCfg&&this.daoLvData&&yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.TakeRoom_Cmd,this.curSxSelectedItemCfg.ID)},_shuangXiuBtnClick:function _shuangXiuBtnClick(){this.curRoomItemCfg&&this.daoLvData&&yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.ShuangXiu_Cmd,this.curSxSelectedItemCfg.ID)},_riZhiBtnClick:function _riZhiBtnClick(){yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.ShuangXiuLog_Cmd)},_yuanJinBtn:function _yuanJinBtn(){if(this.curSxSelectedItemCfg&&this.daoLvData){var e={content:" 缘尽后将无法与该道侣双修，且友好度变为 60，是否确定。<color=#bb1f29>（该道侣的特殊技能缘尽后不再生效）</color>"},t=new cc.Component.EventHandler;t.target=this.node,t.component="DaoLvWindow",t.handler="_onyuanJinBtnConfirm",e.confirmCallback=t,yx.windowMgr.showWindow("textConfirm",e)}},_onyuanJinBtnConfirm:function _onyuanJinBtnConfirm(){this.curSxSelectedItemCfg&&this.daoLvData&&yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.YuanJin_Cmd,this.curSxSelectedItemCfg.ID)},_onPreBtnClick:function _onPreBtnClick(){switch(this.curPageType){case 1:var e=this.headScrollview.getScrollOffset().x;this.headScrollview.scrollToOffset(cc.v2(Math.abs(e)-this.headScrollview.node.width,0),1.5);break;case 2:var t=this.sxHeadScrollview.getScrollOffset().x;this.sxHeadScrollview.scrollToOffset(cc.v2(Math.abs(t)-this.sxHeadScrollview.node.width,0),1.5)}},_onNextBtnClick:function _onNextBtnClick(){switch(this.curPageType){case 1:var e=this.headScrollview.getScrollOffset().x;this.headScrollview.scrollToOffset(cc.v2(Math.abs(e)+this.headScrollview.node.width,0),1.5);break;case 2:var t=this.sxHeadScrollview.getScrollOffset().x;this.sxHeadScrollview.scrollToOffset(cc.v2(Math.abs(t)+this.sxHeadScrollview.node.width,0),1.5)}},_loadConfig:function _loadConfig(){var e=yx.cfgMgr.getAllConfig("DaoLvListConfig");if(e)for(var t=0;t<e.length;t++){var n=e[t],i=e[t].ID,o=e[t].XingGeID,r=yx.cfgMgr.getOneRecord("DaoLvNatureConfig",{ID:o});r&&(n.natureCfg=r);var a=e[t].TiZhiID,s=yx.cfgMgr.getOneRecord("DaoLvPhysiqueConfig",{ID:a});s&&(n.physiqueCfg=s);var c=e[t].NpcID,l=yx.cfgMgr.getOneRecord("NpcListConfig",{ID:c});if(l){var u=(n.npcListCfg=l).MenPaiID,d=yx.cfgMgr.getOneRecord("MenPaiConfig",{ID:u});d&&(n.menPaiCfg=d)}this.daoLvConfigs[i]=n}},_loadShuangXiuHeadLayoutItem:function _loadShuangXiuHeadLayoutItem(e){this.sxHeadLayout.node.removeAllChildren(!0),this.sxScrollviewItemChang=!0;var t=this.finishCallBack.bind(this);for(var n in this._sxDelayArr=[],e)if(e[n]){var i={};i.cfg=e[n],i.finishCb=t,i.i=n,i.filter=1,i.daiLvId=e[n].ID,this._sxDelayArr.push(i)}0<this._sxDelayArr.length?(this._sxDelayArr.sort(this.daoLvsort.bind(this)),this._sxDelayArr[0].isFirst=!0):this.contentNode.active=!1},_loadDaoLvHeadLayoutItem:function _loadDaoLvHeadLayoutItem(e){var t=null;e==r.All?t=this.daoLvConfigs:this.daoLvData&&(t=this.daoLvData.relationShipCfgList[e]),t=t||{},this.headLayout.node.removeAllChildren(!0);var n=this.finishCallBack.bind(this);for(var i in this._delayArr=[],t)if(t[i]){var o={};o.cfg=t[i],o.finishCb=n,o.i=i,o.filter=e,o.daiLvId=t[i].ID,o.isMoSheng=this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][t[i].ID],this._delayArr.push(o)}0<this._delayArr.length?(this._delayArr.sort(this.daoLvsort.bind(this)),this._delayArr[0].isFirst=!0):this.contentNode.active=!1},finishCallBack:function finishCallBack(e,t){e&&t&&(this.contentNode.active=!0,this._updateContent(this.curPageType,t),e.showIsCheck(!0)),1===this.curPageType?this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.headScrollview.scrollToOffset(cc.v2(0,0),.1)}.bind(this)))):this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.sxHeadScrollview.scrollToOffset(cc.v2(0,0),.1)}.bind(this))))},daoLvsort:function daoLvsort(e,t){var n=this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][e.daiLvId],i=this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][t.daiLvId];if(n&&!i)return 1;if(!n&&i)return-1;var o=this.daoLvConfigs[e.daiLvId],r=this.daoLvConfigs[t.daiLvId];return o.PinZhi===r.PinZhi?0:o.PinZhi>r.PinZhi?1:-1},_updateContent:function _updateContent(e,t){var n=null,i=null,o=null,r=null;if(1==e?(this.curDaoLvSelectedItemCfg=t,n=this.nameLabel,i=this.jiaoLabel,o=this.xingGeDesRiText,r=this.qinMiDuLabel):(this.curSxSelectedItemCfg=t,n=this.sxNameLabel,i=this.sxJiaoLabel,o=this.sxXingGeDesRiText,r=this.sxQinMiDuLabel,this.curRoomItemCfg&&this.curRoomItemCfg===this.curSxSelectedItemCfg?(this.sxYaoQingBtn.node.active=!1,this.sxShuangXiuBtn.node.active=!0):(this.sxYaoQingBtn.node.active=!0,this.sxShuangXiuBtn.node.active=!1)),t){t.npcListCfg&&n&&(n.string=t.npcListCfg.Name),t.menPaiCfg&&i&&(i.string=t.menPaiCfg.DefName);var a="";a+=yx.colorUtil.AddColorString("【"+t.natureCfg.Name+"】",yx.textDict.QualityColor.getQualityColor(t.PinZhi)),a+=yx.colorUtil.AddColorString(t.natureCfg.XingGeDesc+"\n",yx.colorUtil.TextDarkGreen),a+=yx.colorUtil.AddColorString("【"+t.physiqueCfg.Name+"】",yx.textDict.QualityColor.getQualityColor(t.PinZhi)),a+=yx.colorUtil.AddColorString(t.physiqueCfg.TiZhiDesc,yx.colorUtil.TextDarkGreen),o&&(o.string=a),this.curDaoLvSelectedItemCfg&&(this.daoLvData&&!this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][this.curDaoLvSelectedItemCfg.ID]?(this.jieShiNode.active=!0,this.unJieShiNode.active=!1):(this.jieShiNode.active=!1,this.unJieShiNode.active=!0));var s=this.daoLvData&&this.daoLvData.qinMiList&&this.daoLvData.qinMiList[t.ID]?this.daoLvData.qinMiList[t.ID]:0;r&&(r.string=s)}},_filterBtnClick:function _filterBtnClick(e){switch(this._resetFilterBtnCheck(),this.curFilter,this.curFilter=e){case r.All:this.quanBuBtn.node.getChildByName("selectBg").active=!0;break;case r.BU_XIANG_SHI:this.buXiangShiBtn.node.getChildByName("selectBg").active=!0;break;case r.HONG_YAN:this.hongYanBtn.node.getChildByName("selectBg").active=!0}this._loadDaoLvHeadLayoutItem(e)},_optBtnClick:function _optBtnClick(e){if(this.curDaoLvSelectedItemCfg&&this.curDaoLvSelectedItemCfg.npcListCfg&&this.daoLvData)if(this.daoLvData.relationShipCfgList[yx.proto.RelationshipType.Stranger][this.curDaoLvSelectedItemCfg.ID])yx.ToastUtil.showListToast("未结识");else switch(e){case 1:var t=this.talkTimeList[this.curDaoLvSelectedItemCfg.ID];if(t&&3<=t.talkCount&&(t.endTime-t.beginTime)/1e3<=5){if(yx.DiarysUtil.addShowTextToRichText(this.logRiZhiRiText,"daoLv",{index:1}),this.logScrollView.scrollToBottom(),!t.isRunAciton){t.isRunAciton=!0;var n=this.curDaoLvSelectedItemCfg.ID;this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){this.talkTimeList[n]=null}.bind(this))))}return}var i=this.curDaoLvSelectedItemCfg.npcListCfg.TalkID;this._showTalkLogText(i);var o=(new Date).getTime();this.talkTimeList[this.curDaoLvSelectedItemCfg.ID]||(this.talkTimeList[this.curDaoLvSelectedItemCfg.ID]={},this.talkTimeList[this.curDaoLvSelectedItemCfg.ID].beginTime=o,this.talkTimeList[this.curDaoLvSelectedItemCfg.ID].talkCount=0),this.talkTimeList[this.curDaoLvSelectedItemCfg.ID].endTime=o,this.talkTimeList[this.curDaoLvSelectedItemCfg.ID].talkCount++;break;case 2:this.daoLvData&&yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.CompareNotes_Cmd,this.curDaoLvSelectedItemCfg.ID);break;case 3:this.daoLvData&&yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.GifgGiving_Cmd,this.curDaoLvSelectedItemCfg.ID);break;case 4:this.daoLvData&&yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.TakeHome_Cmd,this.curDaoLvSelectedItemCfg.ID)}},_showTalkLogText:function _showTalkLogText(e){if(e&&this.curDaoLvSelectedItemCfg&&this.curDaoLvSelectedItemCfg.npcListCfg){var t=yx.cfgMgr.getRecordByKey("TalkListConfig",{ID:e});if(t){var n="<color=#e7452f>{npcName}</color>:{talk}",i=this.curDaoLvSelectedItemCfg.npcListCfg.Name;n=n.format({npcName:i,talk:t.Talk}),yx.DiarysUtil.addShowTextToRichText(this.logRiZhiRiText,"daoLv",{index:0,str:n}),this.logScrollView.scrollToBottom()}}},_pageBtnClick:function _pageBtnClick(e){if(2==e){if(!this.daoLvData)return;if(this.daoLvData.curShuangXiuNum<=0)return void yx.ToastUtil.showListToast("目前还没有愿意与你双修的道侣")}switch(this._resetPageBtnCheck(),e){case 1:this.daoLvBtn.node.getChildByName("checkMark").active=!0,this.daoLvPageNode.active=!0,this.shuangXiuPageNode.active=!1;break;case 2:this.shuangXiuBtn.node.getChildByName("checkMark").active=!0,this.daoLvPageNode.active=!1,this.shuangXiuPageNode.active=!0,this.sxScrollviewItemChang&&(this.sxScrollviewItemChang=!1,this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){this.sxHeadScrollview.scrollToOffset(cc.v2(0,0),.1)}.bind(this)))))}this.curPageType=e},_resetFilterBtnCheck:function _resetFilterBtnCheck(){this.quanBuBtn.node.getChildByName("selectBg").active=!1,this.buXiangShiBtn.node.getChildByName("selectBg").active=!1,this.hongYanBtn.node.getChildByName("selectBg").active=!1},_resetPageBtnCheck:function _resetPageBtnCheck(){this.daoLvBtn.node.getChildByName("checkMark").active=!1,this.shuangXiuBtn.node.getChildByName("checkMark").active=!1},_onEventPKShow:function _onEventPKShow(e){var t=e.daoLvInfo;if(t&&t[0]){var n=t[0].id,i=this.daoLvConfigs[n].npcListCfg.Name;yx.FightPanel.ShowFightResult("daolv",i,e.fightResult,!0,null,null)}},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",22)},update:function update(){this.isShown()&&(1===this.curPageType?(this._lastDelayTime++,this._delayArr&&this._delayArr[0]&&2<this._lastDelayTime&&(this._lastDelayTime=0,this._delayArr[0].cfg&&yx.ColorSquareItem.CreateItemAysn(this._delayArr[0].cfg,this.headLayout.node,"playerItem",this._updateContent.bind(this,1),yx.ColorSquareItem.ColorSquareType.PLAYER,this._delayArr[0].isFirst?this._delayArr[0].finishCb:null,this._delayArr[0].isMoSheng),this._delayArr.splice(0,1))):2===this.curPageType&&(this._sxLastDelayTime++,this._sxDelayArr&&this._sxDelayArr[0]&&2<this._sxLastDelayTime&&(this._sxLastDelayTime=0,this._sxDelayArr[0].cfg&&yx.ColorSquareItem.CreateItemAysn(this._sxDelayArr[0].cfg,this.sxHeadLayout.node,"playerItem",this._updateContent.bind(this,2),yx.ColorSquareItem.ColorSquareType.PLAYER,this._sxDelayArr[0].isFirst?this._sxDelayArr[0].finishCb:null,this._sxDelayArr[0].isMoSheng),this._sxDelayArr.splice(0,1))))}});yx.DaoLvWindow=t.exports=a,cc._RF.pop()},{BaseWindow:"BaseWindow",ColorSquareItem:"ColorSquareItem"}],DiGongMgr:[function(e,t,n){cc._RF.push(t,"3793dSiXXxHL6MGuWHWmBjl","DiGongMgr"),yx.DiGongManaget=function(){this.level=0},yx.DiGongManaget.prototype={constructor:yx.DiGongManaget,init:function init(){yx.network.addHandler(yx.proto.CmdId.DI_GONG,this.onMessageDiGongInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.RANK_DI_GONG_CID,this.onMessageDiGongRank.bind(this)),this._rankList=[],this._myRank=0,this._myRankValue=0,this._diGongData=null},reqInfo:function reqInfo(e){yx.log("[DiGongManaget] reqInfo ");var t=new yx.proto.C2S_DiGong;t.cmdType=e,yx.network.sendMessage(yx.proto.CmdId.DI_GONG,t)},reqRankList:function reqRankList(){yx.log("[DiGongManaget] reqRankList ");var e=new yx.proto.C2S_AttributeRankList;e.type=20001,yx.network.sendMessage(yx.proto.CmdId.RANK_DI_GONG_CID,e)},onMessageDiGongInfo:function onMessageDiGongInfo(e,t){if(null!=e&&0<e.length)yx.log("[DiGongManaget onMessageDiGongInfo] error:"+e);else{var n=yx.proto.S2C_DiGong.decode(t);if(n)switch(n.cmdType){case yx.proto.DiGongCmdType.GetDiGong_Cmd:this._diGongData=n,yx.eventDispatch.dispatchMsg(yx.EventType.DIGONG_GET_MESSAGE,n);break;case yx.proto.DiGongCmdType.Challenge_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DIGONG_CHALLENGE,n);break;case yx.proto.DiGongCmdType.Sweep_Cmd:this._diGongData=n,yx.eventDispatch.dispatchMsg(yx.EventType.DIGONG_SWEEP,n);break;case yx.proto.DiGongCmdType.PurchaseCount_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.DIGONG_PURCHASE,n)}}},onMessageDiGongRank:function onMessageDiGongRank(e,t){if(null!=e&&0<e.length)yx.log("[DiGongManaget onMessageDiGongRank] error:"+e);else{var n=yx.proto.S2C_AttributeRankList.decode(t);yx.diGongMgr.updateRankList(n),yx.eventDispatch.dispatchMsg(yx.EventType.DIGONG_RANKLIST)}},updateRankList:function updateRankList(e){this._rankList=e.rankInfo,this._rankList.sort(function(e,t){return e.rankIndex<t.rankIndex?-1:e.rankIndex==t.rankIndex?0:1});for(var t=0;t<this._rankList.length;t++){var n=this._rankList[t];n.playerID==yx.playerMgr.getPid()&&(this._myRank=n.rankIndex,this._myRankValue=n.value)}},getRankList:function getRankList(){return this._rankList},getMyRank:function getMyRank(){return this._myRank},getMyRankValue:function getMyRankValue(){return this._myRankValue},getDiGongData:function getDiGongData(){return this._diGongData}},yx.diGongMgr=new yx.DiGongManaget,t.exports=yx.diGongMgr,cc._RF.pop()},{}],DiGongRankPanel:[function(e,t,n){cc._RF.push(t,"6ffdasXfnBOmqm3h7CWCE0N","DiGongRankPanel");var i=e("BaseWindow"),o=e("ScrollViewRepeat"),r=e("RankItem");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,RankItemPrefab:cc.Prefab,myselfRankItem:r},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.DIGONG_RANKLIST,this.onEventRankRefresh,this)},_onShow:function _onShow(){yx.diGongMgr.reqRankList()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_setMyselfInfo:function _setMyselfInfo(){var e={};e.rankIndex=0==yx.diGongMgr.getMyRank()?"未上榜":yx.diGongMgr.getMyRank(),e.zhongZu=yx.playerMgr.getZhongZu(),e.rankType=yx.RankItem.RankType.DiGong,e.level=yx.playerMgr.getDuJieLevel(),e.value=yx.diGongMgr.getMyRankValue(),e.nickName=yx.playerMgr.getName(),this.myselfRankItem.initItem(0,e)},_refresh:function _refresh(){if(this._svr)this._svr.updateAllWithoutData();else{var e=yx.diGongMgr.getRankList();if(0<e.length){for(var t=[],n=0;n<e.length;n++)t.push(e[n]),e[n].rankType=yx.RankItem.RankType.DiGong;this._svr=this.scrollView.getComponent(o),this._svr.initialize(t,this.RankItemPrefab)}}this._setMyselfInfo()},onEventRankRefresh:function onEventRankRefresh(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",RankItem:"RankItem",ScrollViewRepeat:"ScrollViewRepeat"}],DiGongSaoDangPanel:[function(e,t,n){cc._RF.push(t,"60641BmWAtAW5bRpVgKLc6+","DiGongSaoDangPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{layoutNode:cc.Node,numLabel:cc.Label,saoDangBtn:cc.Button},_onInit:function _onInit(){this.saoDangBtn.node.on("click",this.saoDangBtnClick,this)},_onShow:function _onShow(){var n=this,e=yx.diGongMgr.getDiGongData();if(e){this.numLabel.string=e.sweepCount,this.layoutNode.removeAllChildren(!0);var t=e.cid,i=yx.cfgMgr.getOneRecord("DiGongConfig",{ID:t});i&&i.SweepReward.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n.onItemClick,yx.ItemWidget.CreateItemSlot(t,n.layoutNode,"reward"+e.id)})}},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},saoDangBtnClick:function saoDangBtnClick(){yx.windowMgr.goBack(),yx.diGongMgr.reqInfo(yx.proto.DiGongCmdType.Sweep_Cmd)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],DiarysDict:[function(e,t,n){cc._RF.push(t,"a3627y7uzRPQKdsvg/wIZyb","DiarysDict");var i={main:{title:"修炼界面",list:["【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{name}</color>历经九重天劫，渡劫成功，修为提升至<color=#bb1f29>{levelName}</color>。\n【<color=#1d8d00>{year}年</color>】通天教主见你勤奋刻苦，奖励你<color=#bb1f29>{amount}</color>灵石。","【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{name}</color>没能经受住天劫，被打成重伤，修为大减。","【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{name}</color>引导玄气入体，洗练全身骨骼，吐纳天地灵气，肉身境界提升到<color=#bb1f29>{cuitiLevelName}</color>"],defDes:["道可道，非常道；名可名，非常名。\n无名，万物之始，有名，万物之母。\n故常无欲，以观其妙，常有欲，以观其徼。\n此两者，同出而异名，同谓之玄，玄之又玄，众妙之门。\n【<color=#1d8d00>1年</color>】<color=#bb1f29>{name}</color>开启了修真之旅","反者道之动，弱者道之用。\n天下万物生于有，有生于无。\n<color=#bb1f29>{name}</color>历经九重天劫，渡劫成功，修为提升至<color=#bb1f29>{levelName}</color>。"],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){var e={};return e.name=yx.playerMgr.getName(),e.levelName=yx.playerMgr.dujieInfo.Name,1<yx.playerMgr.getDuJieLevel()?this.defDes[1].format(e):this.defDes[0].format(e)}},wudao:{title:"妖丹界面",list:["【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{name}</color>盘坐入定，从妖阵拨出一缕灵气，注入<color={color}>{type}</color>系妖丹，灵气逐渐凝练并且被妖丹吸收，该妖丹成功提升到<color=#bb1f29>{levelName}</color>","【<color=#1d8d00>{year}年</color>】合抱之木，生于毫末；九层之台，起于累土。<color=#bb1f29>{name}</color>汇集天材地宝将妖阵成功提升到了<color=#bb1f29>{level}</color>级。"],defDes:["历来得仙家福缘聊聊少数，乃天地气运，九州大陆万中无一，得妖丹者天赋异禀。灵气在心，一来一逝，其细无内，其大无外。"],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return this.defDes[0]}},dongfu:{title:"洞府",list:["【<color=#345A5C>{year}年</color>】正所谓技多不压身。于潜心修道之余，开始研习<color=#bb1f29>{name}</color>典籍。","【<color=#345A5C>{year}年</color>】丹方，乃汇聚诸多丹道大家毕生绝学之配方。今有幸习得<color=#bb1f29>{name}</color>。","【<color=#345A5C>{year}年</color>】获得{name}<color=#bb1f29>{name}</color>，如此机缘气运，实在是羡煞旁人。","【<color=#345A5C>{year}年</color>】携灵药异草步入丹室，沉心静气开始<color=#bb1f29>炼制丹药</color>。","【<color=#345A5C>{year}年</color>】携奇珍异宝步入器室，沉心静气开始<color=#bb1f29>锻造法宝</color>。","【<color=#345A5C>{year}年</color>】一阵耀眼夺目的彩芒闪过，定是那<color=#bb1f29>{name}</color>锻造大功告成。","【<color=#345A5C>{year}年</color>】一阵沁人心脾的丹香传来，定是那<color=#bb1f29>{name}</color>炼制大功告成。","【<color=#345A5C>{year}年</color>】汇聚天地灵宝，以鬼斧神工般的手法于洞府内建造了<color=#bb1f29>{name}</color>。","【<color=#345A5C>{year}年</color>】工欲善其事，必先利其器。用上佳灵木，将<color=#bb1f29>{name}</color>提升至<color=#bb1f29>{level}</color>级。","【<color=#345A5C>{year}年</color>】灵药异草历来珍稀，而丹药所耗甚大。为确保炼丹顺利，于药谷<color=#bb1f29>种植草药</color>。","【<color=#345A5C>{year}年</color>】转眼一百年已过，药材成熟，药谷传来阵阵芳香。<color=#bb1f29>收获</color>到些很不错的药材。","【<color=#345A5C>{year}年</color>】平定心神，开始参悟<color=#bb1f29>《{name}》</color>。","【<color=#345A5C>{year}年</color>】一阵焦糊的味道传来，看来那<color=#bb1f29>{name}</color>炼制失败了。","【<color=#345A5C>{year}年</color>】一阵焦糊的味道传来，看来那<color=#bb1f29>{name}</color>装备锻造失败了。"],defDes:["道本虚无，因恍惚而有物；气元冲始，乘运化而分形。精象玄著，列宫阙于清景；幽质潜凝，开洞府于名山。\n乾坤既辟，清浊肇分，融为江河，结为山岳，或上配辰宿，或下藏洞天。"],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return this.defDes[0]}},chuiDiao:{title:"垂钓",list:["<color=#bb1f29>{name}</color>一个踏步向前，鱼竿往前一抛，鱼钩在空中划出一道流行的痕迹，随后扎入水中，只留下一小截鱼漂。","鱼漂稍稍下沉了少许，与其说是被咬钩，更像是被鱼含在了嘴里。<color=#00c800>（宜静待片刻）</color>","鱼漂以一种几乎难以察觉的频率轻微抖动，似乎鱼儿也在试探这食饵的虚实。<color=#00c800>（宜抖饵引诱）</color>","鱼漂猛地下沉，似乎鱼儿对自己的力量很有信心，便是陷阱也要吃定这食饵。<color=#00c800>（宜直接拉杆）</color>","<color=#bb1f29>{name}</color>静待片刻之后，冷不防一拉勾，鱼钩稳稳地勾住了鱼儿。","<color=#bb1f29>{name}</color>轻轻抖杆，引诱鱼儿，片刻之后鱼漂猛地下沉，此时一拉，鱼儿稳稳地被勾了上来。","<color=#bb1f29>{name}</color>直接拉杆，一阵人与自然的较量之后，一条劲道的鱼儿被拽出水面。","<color=#bb1f29>{name}</color>提起鱼竿，鱼饵完好如初。","<color=#bb1f29>{name}</color>用力一提，结果一屁股坐在地上，看看收回来的鱼钩，上面空无一物。","获得<color=#00C800>{name}【{num}】</color>","恭喜你获极为稀有的<color=#00C800>{name}</color>，特殊鱼类会直接进入人物背包"],defDes:[""],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return this.defDes[0]}},menpai:{title:"门派界面",list:["{str}"],defDes:[],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return""}},fengyin:{title:"圣兽封印",list:["[<color=#32BF72>{year}年</color>]{title}发出震天嘶吼，集聚气力作势欲攻，众修行者纷纷暂退。接着一记威势滔天的横扫袭来，有很少的奋勇者避之不及，中招重伤。","[<color=#32BF72>{year}年</color>]{title}一记横扫，重创少量修士。<color=#95462A>{name}</color>重伤败退，需疗伤一年方可再次参与封印。","[<color=#32BF72>{year}年</color>]{title}变得暴躁愤怒，周身散发出恐怖的气息，有修行者预感不妥，暂退避其锋芒。接着一记毁天灭地的狂暴撕咬袭来，有少量奋勇者避之不及，中招重伤。","[<color=#32BF72>{year}年</color>]{title}暴怒，重创少量修士。<color=#95462A>{name}</color>重伤败退，需疗伤一年方可再次参与封印。","[<color=#32BF72>{year}年</color>]暴怒之后耗费精力的{title}虚弱下来。众修士哪能错过此等机会，抓紧完善{title1}，大阵完成度增加<color=#95462A>{fengYinAdd}点</color>。","[<color=#32BF72>{year}年</color>]<color=#0070C0>{name}</color>贡献了<color=#95462A>{atkOne}点</color>{title1}的完成度。","[<color=#32BF72>{year}年</color>]<color=#95462A>{name}</color>贡献了<color=#95462A>{atkOne}点</color>{title1}的完成度。","[<color=#32BF72>{year}年</color>]在一众修行者众志成城的合作下，{title1}终于趋于完成。随着最后一道阵门的闭合，{title}终于被成功封印。恐怕至少数百年之内{title}都不得再次为祸。"],defDes:[""],maxline:15,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return this.defDes[0]}},daoLv:{title:"道侣交谈",list:["{str}","对方似乎不想再与你交谈","对方很不屑的离开了","<color=#e7452f>{npcName}</color>：我们好感度尚浅。"],defDes:[],maxline:6,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return""}},daoLvLog:{title:"道侣双修日志",list:["{str}","【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{npcName}</color>与<color=#bb1f29>{name}</color>发生争执，<color=#bb1f29>{name}</color>十分沮丧，百年之内不想修炼。","【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{npcName}</color>外出游玩得到了一个用于渡劫的丹药，打算在双修时赠与你。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>双修后，灵气饱满，精神换发，百年内后续双修效果大幅提升。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后修为增加了<color=#bb1f29>{xiuwei}</color>。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后炼器经验增加了<color=#bb1f29>{lianqi}</color>点。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后炼丹经验增加了<color=#bb1f29>{liandan}</color>点。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后获得威望<color=#bb1f29>{weiwang}</color>点。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后突破成功率提升<color=#bb1f29>{radio}%</color>。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后修为增加了<color=#bb1f29>{xiuwei}</color>，威望下降了<color=#bb1f29>{weiwang}</color>。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修结束后渡劫成功率提升<color=#bb1f29>{radio}%</color>，修为下降<color=#bb1f29>{xiuwei}</color>。","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修后获得功德<color=#bb1f29>{gongde}</color>","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修后获得灵玉<color=#bb1f29>{lingyu}</color>","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修后获得玉盒*{yuhe}","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>一番云雨，双修后炼丹、炼器经验分别增加<color=#bb1f29>{jingyan}</color>","【<color=#1d8d00>{year}年</color>】与<color=#bb1f29>{npcName}</color>结束双修关系。","【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{npcName}</color>拒绝与你双修。"],defDes:[],maxline:20,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return""}},liLian:{title:"历练",list:["{str}","【<color=#1d8d00>{year}年</color>】于历练中逐渐融汇神通，<color=#bb1f29>%s</color>已再无挑战，遂准备前往<color=#bb1f29>%s</color>历练。","【<color=#1d8d00>{year}年</color>】以英明神武的姿态扫荡<color=#bb1f29>%s</color>，所遇对手几乎无一合之敌。","【<color=#1d8d00>{year}年</color>】于<color=#bb1f29>%s</color>遭遇强敌，一番激烈的斗法之后惨败而归。","【<color=#1d8d00>{year}年</color>】于<color=#bb1f29>%s</color>历练时偶得一份<color=#bb1f29>奇遇</color>，至于是福是祸，尚未可知。","【<color=#1d8d00>{year}年</color>】遇人不淑，惨遭蒙骗，损失物品<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】偶遇妙人，花费<color=#bb1f29>%s</color>物品换得物品<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】巧遇奇人，福缘爆发，获得物品<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】遭遇恶人，一言不合大打出手，最终凭借一身神通<color=#bb1f29>略胜一筹</color>。","【<color=#1d8d00>{year}年</color>】遭遇恶人，一言不合大打出手，最终棋差一招<color=#bb1f29>仓惶逃亡</color>。","【<color=#1d8d00>{year}年</color>】炼神还虚，神魂出窍。开始神游<color=#bb1f29>{curMapName}</color>。","【<color=#1d8d00>{year}年</color>】神游<color=#bb1f29>{curMapName}</color>时，遭遇数个<color=#bb1f29>{npcName}</color>围攻。一番血战之后，最终取得<color=#bb1f29>胜利</color>！获得奖励：{reword}。","【<color=#1d8d00>{year}年</color>】引神入体，神魂归窍。结束神游。","【<color=#1d8d00>{year}年</color>】修道大有所成，渐感飞升不日将近。因于<color=#bb1f29>%s</color>更有感应，最终决定<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】强<color=#bb1f29>%s</color>，<color=#bb1f29>%s</color>皆不可当，成功飞升。","【<color=#1d8d00>{year}年</color>】强<color=#bb1f29>%s</color>，<color=#bb1f29>%s</color>大发神威，修为不足，<color=#bb1f29>飞升失败</color>。","【<color=#1d8d00>{year}年</color>】探索<color=#bb1f29>{curMapName}</color>。无奈神肉分离过久，异常虚弱，一无所获，空手而归"],defDes:[],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return"修真修道者，需动静相宜。\n动者，静之基。清者，浊之源。砺其体炼其形，增益其所不能，以入真道。\n如此形神俱妙，与道合真。"}},zhaodianshi:{title:"找点事",list:["{str}"],defDes:[],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return""}},WuDaoShi:{title:"悟道室",list:["{str}"],defDes:[],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return""}},youli:{title:"游历",list:["{str}","【<color=#1d8d00>{year}年</color>】于历练中逐渐融汇神通，<color=#bb1f29>%s</color>已再无挑战，遂准备前往<color=#bb1f29>%s</color>历练。","【<color=#1d8d00>{year}年</color>】以英明神武的姿态扫荡<color=#bb1f29>%s</color>，所遇对手几乎无一合之敌。","【<color=#1d8d00>{year}年</color>】于<color=#bb1f29>%s</color>遭遇强敌，一番激烈的斗法之后惨败而归。","【<color=#1d8d00>{year}年</color>】于<color=#bb1f29>%s</color>历练时偶得一份<color=#bb1f29>奇遇</color>，至于是福是祸，尚未可知。","【<color=#1d8d00>{year}年</color>】遇人不淑，惨遭蒙骗，损失物品<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】偶遇妙人，花费<color=#bb1f29>%s</color>物品换得物品<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】巧遇奇人，福缘爆发，获得物品<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】遭遇恶人，一言不合大打出手，最终凭借一身神通<color=#bb1f29>略胜一筹</color>。","【<color=#1d8d00>{year}年</color>】遭遇恶人，一言不合大打出手，最终棋差一招<color=#bb1f29>仓惶逃亡</color>。","【<color=#1d8d00>{year}年</color>】炼神还虚，神魂出窍。开始神游<color=#bb1f29>{curMapName}</color>。","【<color=#1d8d00>{year}年</color>】神游<color=#bb1f29>{curMapName}</color>时，遭遇数个<color=#bb1f29>{npcName}</color>围攻。一番血战之后，最终取得<color=#bb1f29>胜利</color>！获得奖励：{reword}。","【<color=#1d8d00>{year}年</color>】引神入体，神魂归窍。结束神游。","【<color=#1d8d00>{year}年</color>】修道大有所成，渐感飞升不日将近。因于<color=#bb1f29>%s</color>更有感应，最终决定<color=#bb1f29>%s</color>。","【<color=#1d8d00>{year}年</color>】强<color=#bb1f29>%s</color>，<color=#bb1f29>%s</color>皆不可当，成功飞升。","【<color=#1d8d00>{year}年</color>】强<color=#bb1f29>%s</color>，<color=#bb1f29>%s</color>大发神威，修为不足，<color=#bb1f29>飞升失败</color>。","【<color=#1d8d00>{year}年</color>】探索<color=#bb1f29>{curMapName}</color>。无奈神肉分离过久，异常虚弱，一无所获，空手而归"],defDes:[],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return"修真修道者，需动静相宜。\n动者，静之基。清者，浊之源。砺其体炼其形，增益其所不能，以入真道。\n如此形神俱妙，与道合真。"}},dongtian:{title:"洞天界面",list:["{str}"],defDes:[],maxline:4,getText:function getText(e){if(e)return this.list[e.index].format(e)},getDefaultText:function getDefaultText(){return""}}};t.exports=yx.DiarysDict=i,cc._RF.pop()},{}],DiarysUtil:[function(e,t,n){cc._RF.push(t,"37721+PKylJpKnk6RN+8PyF","DiarysUtil");var i={init:function init(){if(0<yx.playerMgr.getPid())for(var e in yx.DiarysDict){var t=yx.DiarysDict[e];t.showList=yx.localStorage.Load(yx.LSKey.EventLog+":"+yx.playerMgr.getPid()+":"+e),null!=t.showList&&0!=t.showList.length||(t.showList=new Array,t.showList.push(t.getDefaultText()))}},_getShowList:function _getShowList(e){var t=new Array;return yx.DiarysDict.hasOwnProperty(e)&&0<yx.DiarysDict[e].showList.length&&(t=yx.DiarysDict[e].showList),t},setRichTextWithShowList:function setRichTextWithShowList(e,t){var n=this._getShowList(t);e.string="",0<n.length&&(e.string=n.join("\n"))},addShowTextToRichText:function addShowTextToRichText(e,t,n){if(null!=n&&null!=n.index){var i=yx.DiarysDict[t].getText(n);if(i){var o=this._getShowList(t);o.length>=yx.DiarysDict[t].maxline&&o.splice(0,o.length-yx.DiarysDict[t].maxline+1),o.push(i),e&&(e.string=o.join("\n")),this.saveLocalDataWithList(t,o)}}},saveLocalData:function saveLocalData(e){var t=this._getShowList(e);this.saveLocalDataWithList(t)},saveLocalDataWithList:function saveLocalDataWithList(e,t){yx.localStorage.Save(yx.LSKey.EventLog+":"+yx.playerMgr.getPid()+":"+e,t)},resetLocalDataByType:function resetLocalDataByType(e){yx.DiarysDict.hasOwnProperty(e)&&(yx.DiarysDict[e].showList=[],yx.DiarysDict[e].showList.push(yx.DiarysDict[e].getDefaultText()),yx.localStorage.Save(yx.LSKey.EventLog+":"+yx.playerMgr.getPid()+":"+e,yx.DiarysDict[e].showList))},getShowList:function getShowList(e){return this._getShowList(e)}};t.exports=yx.DiarysUtil=i,cc._RF.pop()},{}],DongFuWindow:[function(e,t,n){cc._RF.push(t,"fbcd4n/gVxBk6769ApzMHcp","DongFuWindow");var i=e("BaseWindow");e("GoBackWidget"),cc.Class({extends:i,properties:{shuGebtn:cc.Button,resourceBtn:cc.Button,danFangBtn:cc.Button,qiShiBtn:cc.Button,xianNiangBtn:cc.Button,daoLvBtn:cc.Button,dongTianBtn:cc.Button,lingMaiBtn:cc.Button,logRichText:cc.RichText,logScrollView:cc.ScrollView},_onInit:function _onInit(){this.shuGebtn.node.on("click",this.onShuGeBtnClick,this),this.danFangBtn.node.on("click",this.onDanFangBtnClick,this),this.qiShiBtn.node.on("click",this.onQiShiBtnClick,this),this.xianNiangBtn.node.on("click",this.onXianNiangBtnClick,this),this.daoLvBtn.node.on("click",this.onDaoLvBtnClick,this),this.dongTianBtn.node.on("click",this.onDongTianBtnClick,this),this.lingMaiBtn.node.on("click",this.onLingMaiBtnClick,this),this.resourceBtn.node.on("click",this.onStuffBtnClick,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_UPDATE_REDDOT,this._onEventUpdateRedDot,this),this._initLogEvent(),yx.BadgeMgr.addBadge(this.shuGebtn.node,0,80),yx.BadgeMgr.addBadge(this.danFangBtn.node,-10,100),yx.BadgeMgr.addBadge(this.qiShiBtn.node,10,80),yx.BadgeMgr.addBadge(this.resourceBtn.node,10,80),yx.BadgeMgr.addBadge(this.daoLvBtn.node,0,80),yx.BadgeMgr.addBadge(this.dongTianBtn.node,0,80),yx.BadgeMgr.addBadge(this.lingMaiBtn.node,0,80),yx.daoLvMgr.updateRedDot(),this.xianNiangBtn.node.active=yx.serverMgr.IsAuditPassed()},refreshRiZhiRichText:function refreshRiZhiRichText(){yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"dongfu")},_onShow:function _onShow(e){yx.caveMgr.reqDongfuInfo(),yx.CodeHelper.CallInNextTick(this.refreshRiZhiRichText.bind(this)),e&&(e.tab==yx.CaveBuildType.SHUGE?this.onShuGeBtnClick(e.secondTab):e.tab==yx.CaveBuildType.DANFANG?this.onDanFangBtnClick():e.tab==yx.CaveBuildType.QISHI?this.onQiShiBtnClick():e.tab==yx.CaveBuildType.XIANNIANG?this.onXianNiangBtnClick():e.tab==yx.CaveBuildType.DAOLV?this.onDaoLvBtnClick(e.secondTab):e.tab==yx.CaveBuildType.ZiYuan?this.onStuffBtnClick():e.tab==yx.CaveBuildType.DONGTIAN?this.onDongTianBtnClick():e.tab==yx.CaveBuildType.JINGMAI&&this.onLingMaiBtnClick()),this.onEventRefreshBadge()},onShuGeBtnClick:function onShuGeBtnClick(e){if(yx.log("onShuGeBtnClick"),yx.CodeHelper.checkFuncOpen(48)){var t=yx.caveMgr.getCaveData();if(t)if(t.isBuild[yx.CaveBuildType.SHUGE])e instanceof cc.Button?yx.windowMgr.showWindow("shuge",1):yx.windowMgr.showWindow("shuge",e);else{var n={type:yx.CaveBuildType.SHUGE};yx.windowMgr.showWindow("buildPanel",n)}}},onDanFangBtnClick:function onDanFangBtnClick(){if(yx.log("onDanFangBtnClick"),yx.CodeHelper.checkFuncOpen(6)){var e=yx.caveMgr.getCaveData();if(e)if(e.isBuild[yx.CaveBuildType.DANFANG]){if(!yx.playerMgr.isOwnDanLu()&&!this.isBagOwnDanLu())return void yx.ToastUtil.showListToast("请先购买丹炉");if(!yx.playerMgr.isOwnDanLu()&&this.isBagOwnDanLu())return void yx.ToastUtil.showListToast("请先激活丹炉");yx.windowMgr.showWindow("lianZhiPanel",{buildType:yx.CaveBuildType.DANFANG})}else{var t={type:yx.CaveBuildType.DANFANG};yx.windowMgr.showWindow("buildPanel",t)}}},isBagOwnDanLu:function isBagOwnDanLu(){for(var e=1151;e<=1159;e++)if(0<yx.bagMgr.GetItemOwnCount(1,e))return!0;return!1},isBagOwnQiLu:function isBagOwnQiLu(){for(var e=1161;e<=1169;e++)if(0<yx.bagMgr.GetItemOwnCount(1,e))return!0;return!1},onQiShiBtnClick:function onQiShiBtnClick(){if(yx.log("onQiShiBtnClick"),yx.CodeHelper.checkFuncOpen(7)){var e=yx.caveMgr.getCaveData();if(e)if(e.isBuild[yx.CaveBuildType.QISHI]){if(!yx.playerMgr.isOwnQiLu()&&!this.isBagOwnQiLu())return void yx.ToastUtil.showListToast("请先购买器炉");if(!yx.playerMgr.isOwnQiLu()&&this.isBagOwnQiLu())return void yx.ToastUtil.showListToast("请先激活器炉");yx.windowMgr.showWindow("lianZhiPanel",{buildType:yx.CaveBuildType.QISHI})}else{var t={type:yx.CaveBuildType.QISHI};yx.windowMgr.showWindow("buildPanel",t)}}},onXianNiangBtnClick:function onXianNiangBtnClick(){yx.log("onXianNiangBtnClick"),yx.CodeHelper.checkFuncOpen(8)&&yx.windowMgr.showWindow("xianNiangWindow",null)},onLingMaiBtnClick:function onLingMaiBtnClick(e){yx.CodeHelper.checkFuncOpen(76)&&(e instanceof cc.Button?yx.windowMgr.showWindow("lingMai",1):yx.windowMgr.showWindow("lingMai",e))},onDongTianBtnClick:function onDongTianBtnClick(){yx.CodeHelper.checkFuncOpen(80)&&yx.windowMgr.showWindow("dongTianWindow")},onDaoLvBtnClick:function onDaoLvBtnClick(e){yx.CodeHelper.checkFuncOpen(22)&&(yx.log("onDaoLvBtnClick"),e instanceof cc.Button?yx.windowMgr.showWindow("daoLv",1):yx.windowMgr.showWindow("daoLv",e))},onStuffBtnClick:function onStuffBtnClick(){yx.CodeHelper.checkFuncOpen(50)&&(yx.log("onStuffBtnClick"),yx.windowMgr.showWindow("stuff"))},_initLogEvent:function _initLogEvent(){yx.eventDispatch.addListener(yx.EventType.XIULIAN,this.onEventXiuLian,this),yx.eventDispatch.addListener(yx.EventType.LIANYAO_MAKE,this.onEventLianYaoBegin,this),yx.eventDispatch.addListener(yx.EventType.LIANQI_MAKE,this.onEventLianQiBegin,this),yx.eventDispatch.addListener(yx.EventType.LIANQI_AWARD,this.onEventLianQiEnd,this),yx.eventDispatch.addListener(yx.EventType.LIANYAO_AWARD,this.onEventLianYaoEnd,this),yx.eventDispatch.addListener(yx.EventType.DONGFU_UNLOCK_RES,this.onEventBuildUnLock,this),yx.eventDispatch.addListener(yx.EventType.DONGFU_BUILD_LEVELUP,this.onEventStuffUpgrade,this),yx.eventDispatch.addListener(yx.EventType.WUDAO_NOTIFY,this.onEventWuDaoAddNotifyRes,this)},onEventXiuLian:function onEventXiuLian(e){if(this.isShown()&&e){var t={};t.year=yx.timeUtil.getXiuLianYear(),t.index=0,e.type==yx.ShuGeItemType.DANDAO?t.name="丹道":t.name="器道",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventWuDaoAddNotifyRes:function onEventWuDaoAddNotifyRes(e){var t={};t.year=yx.timeUtil.getXiuLianYear(),t.index=11,t.name=e,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()},onEventLianYaoBegin:function onEventLianYaoBegin(){if(this.isShown()){var e={};e.year=yx.timeUtil.getXiuLianYear(),e.index=3,e.name="丹道",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",e),this.logScrollView.scrollToBottom()}},onEventLianQiBegin:function onEventLianQiBegin(){if(this.isShown()){var e={};e.year=yx.timeUtil.getXiuLianYear(),e.index=4,e.name="器道",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",e),this.logScrollView.scrollToBottom()}},onEventLianYaoEnd:function onEventLianYaoEnd(e){if(this.isShown()){var t={};t.year=yx.timeUtil.getXiuLianYear(),e.success?t.index=5:t.index=13,t.name=e.name,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventLianQiEnd:function onEventLianQiEnd(e){if(this.isShown()){var t={};t.year=yx.timeUtil.getXiuLianYear(),e.success?t.index=6:t.index=12,t.name=e.name,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventBuildUnLock:function onEventBuildUnLock(e){if(this.isShown()){var t={};t.year=yx.timeUtil.getXiuLianYear(),t.index=7,t.name=e,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventStuffUpgrade:function onEventStuffUpgrade(e){if(this.isShown()){var t={};switch(t.year=yx.timeUtil.getXiuLianYear(),t.index=8,e.type){case yx.StuffItemType.LINGSHI:t.name="灵石坊";break;case yx.StuffItemType.SHIWU:t.name="兽栏";break;case yx.StuffItemType.MUCAI:t.name="木枋";break;case yx.StuffItemType.YUNTIE:t.name="陨铁坊"}t.level=e.curLevel,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",21)},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&(yx.BadgeMgr.showBadge(this.shuGebtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuShuGe)),yx.BadgeMgr.showBadge(this.danFangBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuDanDao)),yx.BadgeMgr.showBadge(this.qiShiBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuQiShi)),yx.BadgeMgr.showBadge(this.resourceBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuResource)),yx.BadgeMgr.showBadge(this.lingMaiBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuLingMai)))},_onEventUpdateRedDot:function _onEventUpdateRedDot(e){yx.BadgeMgr.showBadge(this.daoLvBtn.node,e)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",GoBackWidget:"GoBackWidget"}],DongTianHunItem:[function(e,t,n){cc._RF.push(t,"1c84aUMBdZGKbmZksLznyRR","DongTianHunItem"),cc.Class({extends:cc.Component,properties:{nowNode:cc.Node,hunName:cc.Label,selectNode:cc.Node,effectNode:cc.Node},init:function init(e){switch(this._cfg=e,this.node.on("click",this.onSelectClick,this),this.nowNode.active=!1,this.hunName.string=e.Name,this._cfg.ID){case 1:this.effectNode.color=new cc.Color(162,255,162);break;case 2:this.effectNode.color=new cc.Color(63,142,235);break;case 3:this.effectNode.color=new cc.Color(255,58,235);break;case 4:this.effectNode.color=new cc.Color(255,71,71)}},onSelectClick:function onSelectClick(){var e={};e.cfg=this._cfg,yx.windowMgr.showWindow("dongTianRewardPanel",e)},getData:function getData(){return this._cfg},setCurrent:function setCurrent(e){this.nowNode.active=e,this.selectNode.active=e}}),cc._RF.pop()},{}],DongTianLuoDuoPanel:[function(e,t,n){cc._RF.push(t,"c7921stpQdPqY/uFds7sK3I","DongTianLuoDuoPanel");var i=e("BaseWindow"),o=e("DongTianRoleItem");cc.Class({extends:i,properties:{lueduoBtn:cc.Button,roleNode:cc.Node,roleItemPrefab:cc.Prefab,rewardContent:cc.Node,lueduoLabel:cc.Label},_onInit:function _onInit(e){this._args=e,this.lueduoBtn.node.on("click",this.onlueduoBtnClick,this);var t=cc.instantiate(this.roleItemPrefab);this.roleNode.addChild(t);var n=t.getComponent(o);n.init(),n.updateData(e)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onlueduoBtnClick:function onlueduoBtnClick(){yx.DongTianMgr.getRobLeft()<=0?yx.ToastUtil.showListToast("掠夺次数不足"):(yx.windowMgr.goBack(),yx.DongTianMgr.Rob(this._args.id,this._args))},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0],t=yx.DongTianMgr.getRobLeft();this.lueduoLabel.string="今日掠夺次数："+t+"/"+e.FreeRobNum;var n=yx.cfgMgr.getOneRecord("DongTianRewardConfig",{ID:this._args.pinzhi}).RobReward,i=this;i.rewardContent.removeAllChildren(!0),n.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i._onItemClick,yx.ItemWidget.CreateItemSlot(t,i.rewardContent,"reward"+e.id)})},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",DongTianRoleItem:"DongTianRoleItem"}],DongTianMgr:[function(e,t,n){cc._RF.push(t,"2afcfhHXJdHM4y34gGykcyl","DongTianMgr"),yx.DongTianManager=function(){},yx.DongTianManager.prototype={constructor:yx.DongTianManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.MY_DA_ZUO,this.onMessageGetMyInfo),yx.network.addHandler(yx.proto.CmdId.ROB,this.onMessageRob),yx.network.addHandler(yx.proto.CmdId.ROB_LIST,this.onMessageRobList),yx.network.addHandler(yx.proto.CmdId.DA_ZUO_SPEED_UP,this.onMessageSpeedUp),yx.network.addHandler(yx.proto.CmdId.PROMOTE_PINZHI,this.onMessagePromotePinzhi),yx.network.addHandler(yx.proto.CmdId.TOP_PINZHI,this.onMessageTopPinzhi),yx.network.addHandler(yx.proto.CmdId.DA_ZUO,this.onMessageDaZuo),yx.network.addHandler(yx.proto.CmdId.BUY_ROB,this.onMessageBuyRob),yx.network.addHandler(yx.proto.CmdId.XIULIAN_REWARD,this.onMessageGetReward),yx.network.addHandler(yx.proto.CmdId.DA_ZUO_LOG,this.onMessageLog),this._xiulianLeft=0,this._robLeft=0,this._endTime=0,this._quickLeft=0,this._status=0,this._freeLeft=0,this._pinzhi=0,this._beRobLeft=0,this._lastDefendObject=null},GetMyInfo:function GetMyInfo(){yx.log("[DongTianManager] GetMyInfo ");var e=new yx.proto.C2S_MyDaZuo;yx.network.sendMessage(yx.proto.CmdId.MY_DA_ZUO,e)},AddRobCount:function AddRobCount(){yx.log("[DongTianManager] AddRobCount ");var e=new yx.proto.C2S_BuyRob;yx.network.sendMessage(yx.proto.CmdId.BUY_ROB,e)},Rob:function Rob(e,t){yx.log("[DongTianManager] Rob ");var n=new yx.proto.C2S_Rob;n.id=e,yx.network.sendMessage(yx.proto.CmdId.ROB,n),yx.DongTianMgr.setLastDefendObj(t)},UpgradeHighPinzhi:function UpgradeHighPinzhi(){yx.log("[DongTianManager] UpgradeHighPinzhi ");var e=new yx.proto.C2S_TopPinzhi;yx.network.sendMessage(yx.proto.CmdId.TOP_PINZHI,e)},UpgradePinzhi:function UpgradePinzhi(){yx.log("[DongTianManager] UpgradePinzhi ");var e=new yx.proto.C2S_PromotePinzhi;yx.network.sendMessage(yx.proto.CmdId.PROMOTE_PINZHI,e)},StartXiuLian:function StartXiuLian(){yx.log("[DongTianManager] StartXiuLian ");var e=new yx.proto.C2S_DaZuo;yx.network.sendMessage(yx.proto.CmdId.DA_ZUO,e)},SpeedXiuLian:function SpeedXiuLian(){yx.log("[DongTianManager] SpeedXiuLian ");var e=new yx.proto.C2S_DaZuoSpeedUp;yx.network.sendMessage(yx.proto.CmdId.DA_ZUO_SPEED_UP,e)},GetRobList:function GetRobList(e){yx.log("[DongTianManager] GetRobList ");var t=new yx.proto.C2S_RobList;t.page=e,yx.network.sendMessage(yx.proto.CmdId.ROB_LIST,t)},GetReward:function GetReward(){yx.log("[DongTianManager] GetReward ");var e=new yx.proto.C2S_XiuLianReward;yx.network.sendMessage(yx.proto.CmdId.XIULIAN_REWARD,e)},getLog:function getLog(){yx.log("[DongTianManager] getLog ");var e=new yx.proto.C2S_DaZuoLog;yx.network.sendMessage(yx.proto.CmdId.DA_ZUO_LOG,e)},onMessageGetMyInfo:function onMessageGetMyInfo(e,t){if(yx.log("DongTianManager onMessageGetMyInfo-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageGetMyInfo] error:"+e);else{var n=yx.proto.S2C_MyDaZuo.decode(t);yx.DongTianMgr.updateMyData(n),yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_GET_MYINFO),yx.DongTianMgr.getLog()}},onMessageRob:function onMessageRob(e,t){if(yx.log("DongTianManager onMessageRob-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageRob] error:"+e);else{var n=yx.proto.S2C_Rob.decode(t),i={};i.result=n.result,yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_PK_SHOW,i)}},onMessageRobList:function onMessageRobList(e,t){if(yx.log("DongTianManager onMessageRobList-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageRobList] error:"+e);else{var n=yx.proto.S2C_RobList.decode(t),i=[];i.roblist=n.member,i.page=n.page,i.totalPage=n.totalPage,yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_ROBLIST_REFRESH,i)}},onMessageSpeedUp:function onMessageSpeedUp(e,t){if(yx.log("DongTianManager onMessageSpeedUp-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageSpeedUp] error:"+e);else{var n=yx.proto.S2C_MyDaZuo.decode(t);yx.DongTianMgr.updateMyData(n),yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_GET_MYINFO)}},onMessageTopPinzhi:function onMessageTopPinzhi(e,t){if(yx.log("DongTianManager onMessageTopPinzhi-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageTopPinzhi] error:"+e);else{yx.ToastUtil.showListToast("成功提升到最高品质");var n=yx.proto.S2C_MyDaZuo.decode(t);yx.DongTianMgr.updateMyData(n),yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_GET_MYINFO)}},onMessageDaZuo:function onMessageDaZuo(e,t){if(yx.log("DongTianManager onMessageDaZuo-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageDaZuo] error:"+e);else{var n=yx.proto.S2C_MyDaZuo.decode(t);yx.DongTianMgr.updateMyData(n),yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_GET_MYINFO),yx.DongTianMgr.GetRobList(1),yx.DongTianMgr.getLog()}},onMessageBuyRob:function onMessageBuyRob(e,t){if(yx.log("DongTianManager onMessageBuyRob-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageBuyRob] error:"+e);else{var n=yx.proto.S2C_MyDaZuo.decode(t);yx.DongTianMgr.updateMyData(n),yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_GET_MYINFO)}},onMessagePromotePinzhi:function onMessagePromotePinzhi(e,t){yx.log("DongTianManager onMessagePromotePinzhi-----"),null!=e&&0<e.length?yx.log("[DongTianManager onMessagePromotePinzhi] error:"+e):yx.proto.S2C_PromotePinzhi.decode(t).succ?yx.ToastUtil.showListToast("提升品质成功"):yx.ToastUtil.showListToast("提升品质失败")},onMessageGetReward:function onMessageGetReward(e,t){if(yx.log("DongTianManager onMessageGetReward-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageGetReward] error:"+e);else{var n=yx.proto.S2C_XiuLianReward.decode(t);yx.DongTianMgr.showRewardToast(n.reward),yx.DongTianMgr.GetRobList(1),yx.DongTianMgr.getLog()}},onMessageLog:function onMessageLog(e,t){if(yx.log("DongTianManager onMessageLog-----"),null!=e&&0<e.length)yx.log("[DongTianManager onMessageLog] error:"+e);else{var n=yx.proto.S2C_DaZuoLog.decode(t);if(n.log&&0<n.log.length){var i={};i.logs=n.log,yx.eventDispatch.dispatchMsg(yx.EventType.DONGTIAN_DIALY,i)}}},updateMyData:function updateMyData(e){yx.log("updateMyData"),e.hasOwnProperty("xiulianLeft")&&(this._xiulianLeft=e.xiulianLeft),e.hasOwnProperty("robLeft")&&(this._robLeft=e.robLeft),e.hasOwnProperty("endTime")&&(this._endTime=e.endTime),e.hasOwnProperty("quickLeft")&&(this._quickLeft=e.quickLeft),e.hasOwnProperty("status")&&(this._status=e.status),e.hasOwnProperty("freeLeft")&&(this._freeLeft=e.freeLeft),e.hasOwnProperty("pinzhi")&&(this._pinzhi=e.pinzhi),e.hasOwnProperty("beRobLeft")&&(this._beRobLeft=e.beRobLeft)},showRewardToast:function showRewardToast(e){for(var t=0;t<e.length;t++){var n=e[t],i=yx.bagMgr.GetItemName(n.itemId)+"<color=#ffd066>+"+n.amount+"</color>";yx.ToastUtil.showListToast(i)}},getXiulianLeft:function getXiulianLeft(){return this._xiulianLeft},getRobLeft:function getRobLeft(){return this._robLeft},getEndTime:function getEndTime(){return this._endTime},getQuickLeft:function getQuickLeft(){return this._quickLeft},getStatus:function getStatus(){return this._status},getFreeLeft:function getFreeLeft(){return this._freeLeft},getPinzhi:function getPinzhi(){return this._pinzhi},getBeRobLeft:function getBeRobLeft(){return this._beRobLeft},setLastDefendObj:function setLastDefendObj(e){this._lastDefendObject=e},getLastDefendObj:function getLastDefendObj(){return this._lastDefendObject}},yx.DongTianMgr=new yx.DongTianManager,t.exports=yx.DongTianMgr,cc._RF.pop()},{}],DongTianRewardPanel:[function(e,t,n){cc._RF.push(t,"666a6mq4UlNarNWOpQTNed/","DongTianRewardPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{sureBtn:cc.Button,rewardContent:cc.Node,lueduoLabel:cc.Label,title:cc.Label},_onInit:function _onInit(){this.sureBtn.node.on("click",this.onsureBtnClick,this)},_onShow:function _onShow(e){this._args=e,this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onsureBtnClick:function onsureBtnClick(){this._args?yx.windowMgr.goBack():(yx.windowMgr.goBack(),yx.DongTianMgr.GetReward())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=this;if(this._args){var t=this._args.cfg;this.lueduoLabel.string=t.Name,this.title.string="奖品预览";var n=t.Reward;e.rewardContent.removeAllChildren(!0);for(var i=0;i<n.length;i++){var o=n[i],r={};r.amount=o.count,r.itemId=o.id,r.clickCallBack=e._onItemClick,yx.ItemWidget.CreateItemSlot(r,e.rewardContent,"reward"+o.id)}}else{var a=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0].BeRobNum-yx.DongTianMgr.getBeRobLeft();this.lueduoLabel.string=0==a?"修炼过程没有遭遇掠夺":"修炼过程遭到"+a+"人掠夺";var s=yx.cfgMgr.getOneRecord("DongTianRewardConfig",{ID:yx.DongTianMgr.getPinzhi()}),c=s.Reward,l=s.RobReward;e.rewardContent.removeAllChildren(!0);for(var u=0;u<c.length;u++){var d=c[u],h=l[u],g={};g.amount=d.count-a*h.count,g.itemId=d.id,g.clickCallBack=e._onItemClick,yx.ItemWidget.CreateItemSlot(g,e.rewardContent,"reward"+d.id)}}},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],DongTianRoleItem:[function(e,t,n){cc._RF.push(t,"92e2fVGXUBPgYo3iDB1ADyJ","DongTianRoleItem"),cc.Class({extends:cc.Component,properties:{roleNode:cc.Node,pName:cc.Label,pLevel:cc.Label,effectNode:cc.Node,myselfNode:cc.Node},init:function init(e){e&&this.node.on("click",this.onSelectClick,this)},onSelectClick:function onSelectClick(){this._cfg.id!=yx.playerMgr.getPid()?yx.windowMgr.showWindow("dongTianLuoDuoPanel",this._cfg):yx.ToastUtil.showListToast("不能对自己进行掠夺")},updateData:function updateData(e){if(null!=e){this.node.active=!0,this._cfg=e,this.pName.string=this._cfg.name,this._cfg.id==yx.playerMgr.getPid()?(this.pName.node.color=new cc.Color(0,255,0),this.myselfNode.active=!0):(this.pName.node.color=new cc.Color(255,255,255),this.myselfNode.active=!1),this.pLevel.string="";var t=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this._cfg.level});switch(t&&(this.pLevel.string=t.Name),this._avatarId!=this._cfg.avatarId&&(this._avatarId=this._cfg.avatarId,yx.resUtil.loadRoleAvatar(this.roleNode,this._avatarId,"dongtian",null)),this._cfg.pinzhi){case 1:this.effectNode.color=new cc.Color(162,255,162);break;case 2:this.effectNode.color=new cc.Color(63,142,235);break;case 3:this.effectNode.color=new cc.Color(255,58,235);break;case 4:this.effectNode.color=new cc.Color(255,71,71)}}else this.node.active=!1},getData:function getData(){return this._cfg}}),cc._RF.pop()},{}],DongTianXiuLianPanel:[function(e,t,n){cc._RF.push(t,"b1590xF1DVA8ZW4paJ3/ZBA","DongTianXiuLianPanel");var i=e("BaseWindow"),r=e("DongTianHunItem");cc.Class({extends:i,properties:{hightestBtn:cc.Button,upgradeBtn:cc.Button,startXiulianBtn:cc.Button,hightestLabel:cc.Label,upgradeLabel:cc.Label,startXiulianLabel:cc.Label,hunContent:cc.Node,hunItemPrefab:cc.Prefab,rewardContent:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.DONGTIAN_GET_MYINFO,this.onRefresh,this),this.hightestBtn.node.on("click",this.onHightestBtnClick,this),this.upgradeBtn.node.on("click",this.onUpgradeBtnClick,this),this.startXiulianBtn.node.on("click",this.onStartXiulianBtnClick,this),this.hightestLabel.string="",this.upgradeLabel.string="",this.startXiulianLabel.string="",this._items=[]},_onShow:function _onShow(){this._refresh(),this.onRefresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onHightestBtnClick:function onHightestBtnClick(){4<=yx.DongTianMgr.getPinzhi()?yx.ToastUtil.showListToast("当前为最高品质"):yx.DongTianMgr.UpgradeHighPinzhi()},onUpgradeBtnClick:function onUpgradeBtnClick(){4<=yx.DongTianMgr.getPinzhi()?yx.ToastUtil.showListToast("当前为最高品质"):yx.DongTianMgr.UpgradePinzhi()},onStartXiulianBtnClick:function onStartXiulianBtnClick(){yx.DongTianMgr.getXiulianLeft()<=0?yx.ToastUtil.showListToast("修炼次数不足"):(yx.windowMgr.goBack(),yx.DongTianMgr.StartXiuLian())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0];this.hightestLabel.string="消耗"+e.AutoRefreshCost[0].count+yx.bagMgr.GetItemName(e.AutoRefreshCost[0].id);var t=yx.DongTianMgr.getFreeLeft();this.upgradeLabel.string=0<t?"今日免费 "+t:"消耗"+e.RefreshCost[0].count+yx.bagMgr.GetItemName(e.RefreshCost[0].id);var n=yx.DongTianMgr.getXiulianLeft();this.startXiulianLabel.string="今日修炼次数："+n+"/"+e.XiuLianNum;var i=yx.cfgMgr.getAllConfig("DongTianRewardConfig"),o=this;o.hunContent.removeAllChildren(!0),i.forEach(function(e){var t=cc.instantiate(o.hunItemPrefab),n=t.getComponent(r);n&&(n.init(e),o.hunContent.addChild(t),o._items.push(n))})},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onRefresh:function onRefresh(){var e=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0],t=yx.DongTianMgr.getFreeLeft();this.upgradeLabel.string=0<t?"今日免费 "+t:"消耗"+e.RefreshCost[0].count+yx.bagMgr.GetItemName(e.RefreshCost[0].id);var n=yx.DongTianMgr.getXiulianLeft();this.startXiulianLabel.string="今日修炼次数："+n+"/"+e.XiuLianNum;for(var i=0;i<this._items.length;i++){var o=this._items[i];i+1==yx.DongTianMgr.getPinzhi()?o.setCurrent(!0):o.setCurrent(!1)}var r=yx.cfgMgr.getOneRecord("DongTianRewardConfig",{ID:yx.DongTianMgr.getPinzhi()}).Reward,a=this;a.rewardContent.removeAllChildren(!0),r.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=a._onItemClick,yx.ItemWidget.CreateItemSlot(t,a.rewardContent,"reward"+e.id)})}}),cc._RF.pop()},{BaseWindow:"BaseWindow",DongTianHunItem:"DongTianHunItem"}],DouFaItem:[function(e,t,n){cc._RF.push(t,"6331e86VnROEJltkCImn47u","DouFaItem");var i=e("BaseItem");cc.Class({extends:i,properties:{nameLabel:cc.Label,headSp:cc.Sprite,maxLianShengLabel:cc.Label},_onInit:function _onInit(e){e&&this.refresh(e)},refresh:function refresh(e){this.nameLabel.string=e.name,this.maxLianShengLabel.string=e.lianSheng,yx.resUtil.LoadSpriteByType(e.playerIcon,yx.ResType.HEAD,this.headSp)}}),cc._RF.pop()},{BaseItem:"BaseItem"}],DouFaResultPanel:[function(e,t,n){cc._RF.push(t,"bf58dBR09JFHYqAJivoV+GR","DouFaResultPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{resultDragon:dragonBones.ArmatureDisplay,anotherHeadSp:cc.Sprite,curRankLabel:cc.Label,curJiFenLabel:cc.Label,rewardJiFenLabel:cc.Label,rewardScrollView:cc.ScrollView,rewardItemLayout:cc.Layout,confirmBtn:cc.Button},_onInit:function _onInit(e){if(e){var t=e.isWin;e.drop,this.dragonPath="",this.animaName="",t?(this.dragonPath="ui_effect/jingji/succ",this.animaName="shengli"):(this.dragonPath="ui_effect/jingji/fail",this.animaName="shibai"),yx.resUtil.loadDragonBones(this.resultDragon,this.dragonPath,"MovieClip",this.animaName),this.resultDragon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this)}},onDragonActionAnimComplete:function onDragonActionAnimComplete(){this.resultDragon._armature.animation.gotoAndStopByProgress(this.animaName,.9)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],DropShowPanel:[function(e,t,n){cc._RF.push(t,"664a6m3H21N3b49+0NznOEm","DropShowPanel");var i=e("BaseWindow"),o=cc.Class({extends:i,properties:{confirmBtn:cc.Button,itemLayout:cc.Layout,fullLabelNode:cc.Node,_dropList:null},statics:{ShowDropPanel:function ShowDropPanel(e,t,n){if(n||null!=e&&0!=e.length){var i={dropList:e,comfirmCallBack:t,isFull:n};yx.windowMgr.showWindowAuto("dropPanel",i)}}},_onInit:function _onInit(e){var n=this;null!=e?(this.fullLabelNode.active=!1,this.itemLayout.node.active=!1,this._dropList=e.dropList,this._comfirmCallBack=e.comfirmCallBack,this._isFull=e.isFull,this.confirmBtn.node.on("click",this.onConfirmBtnClick,this),this._isFull?this.fullLabelNode.active=!0:(this.itemLayout.node.active=!0,this._dropList.forEach(function(e){var t={};t.id=e.id,t.itemId=e.itemId,t.amount=e.amount,t.clickCallBack=n.onItemClick,yx.ItemWidget.CreateItemSlot(t,n.itemLayout.node,"drop")}))):yx.error("[ItemDetail oninit error]")},_onShow:function _onShow(){},_refresh:function _refresh(){},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onConfirmBtnClick:function onConfirmBtnClick(){yx.log("[DropShowPanel onConfirmBtnClick]"),yx.windowMgr.goBack(),this._comfirmCallBack&&this._comfirmCallBack(this)}});t.exports=yx.DropShowPanel=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],DuJieWindow:[function(e,t,n){cc._RF.push(t,"1cf54wsrV1K1p1j7KRR8LnJ","DuJieWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{uilayer:cc.Node,dujieBtn:cc.Button,waitBtn:cc.Button,exitBtn:cc.Button,skipBtn:cc.Button,succValueLabel:cc.RichText,failHintLabel:cc.RichText,danItemWidget:yx.ItemWidget,danNameLabel:cc.Label,hintRichText:cc.RichText,startGroup:cc.Node,endGroup:cc.Node,effectLayer:cc.Node,dujieEffectAnim:cc.Animation,succEffectNode:cc.Node,failEffectNode:cc.Node,roleNode:cc.Node},_onInit:function _onInit(){this.dujieBtn.node.on("click",this.onDuJieBtnClick,this),this.waitBtn.node.on("click",this.onWaitBtnClick,this),this.exitBtn.node.on("click",this.onExitBtnClick,this),this.skipBtn.node.on("click",this.onSkipBtnClick,this),yx.eventDispatch.addListener(yx.EventType.LEVEL_UP,this.onEventLevelUp,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.DUJIE_SUCRADIO,this.onEventDuJieSucRadio,this),this._succ=!1,this._lostXiuWei=0,this._danItemId=0,this._avatarId=0},_onShow:function _onShow(){this._hideSkipBtn(),yx.playerMgr.reqDuJieSucRadio(),this._refresh()},onEventDuJieSucRadio:function onEventDuJieSucRadio(e){var t=yx.playerMgr.dujieInfo;0<t.UseItemID&&(this._lostXiuWei=t.FailCost[0].count,this.failHintLabel.string="若失败降低修为"+this._lostXiuWei+this._getFailHintExtStr(e.duJieChance)),this.duJieChance=e.duJieChance,this.succValueLabel.string=this._getUpSuccRatioStr(e.duJieChance)},onEventUseItem:function onEventUseItem(e){if(this.isShown()){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});if(t&&0!==t.UseType){var n=e.reward[0];if(t.UseType===yx.proto.ItemUseType.DuJieChance&&n){var i=yx.colorUtil.AddColorString("+"+n.amount/100+"%",yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("渡劫成功率"+i)}}}},_setSucc:function _setSucc(e){this._succ=e,this._succ?this._textlist=yx.textDict.DuJie.DuJieing.concat(yx.textDict.DuJie.Succ):this._textlist=yx.textDict.DuJie.DuJieing.concat(yx.textDict.DuJie.Fail)},_refresh:function _refresh(){this.effectLayer.active=!1,this.succEffectNode.active=!1,this.failEffectNode.active=!1,this.endGroup.active=!1,this.startGroup.opacity=255,this.startGroup.active=!0,0<yx.playerMgr.getAvatarId()&&(this._avatarId=yx.playerMgr.getAvatarId(),yx.resUtil.loadRoleAvatar(this.roleNode,this._avatarId,"dujie",null)),this.roleNode.color=new cc.Color(100,100,100,255),this.succValueLabel.string="",this.failHintLabel.string="若失败降低修为0",this._refreshDanItem()},_showSkipBtn:function _showSkipBtn(){var e=yx.cfgMgr.getOneRecord("SystemConfig",{id:104});if(e&&yx.playerMgr.getDuJieLevel()>=e.int_value){var t=cc.fadeIn(.2);this.skipBtn.node.active=!0,this.skipBtn.node.runAction(t)}},_hideSkipBtn:function _hideSkipBtn(){this.skipBtn.node.opacity=0,this.skipBtn.node.active=!1},_getCurDuJieConfig:function _getCurDuJieConfig(){if(this.duJieDanItemCfgs||(this.duJieDanItemCfgs=yx.cfgMgr.getRecordList("ItemConfig",{Type:yx.ItemType.DUJIEDAN_PINZHI})),this.duJieDanItemCfgs)for(var e in this.duJieDanItemCfgs){var t=this.duJieDanItemCfgs[e],n=t.limitvalue[0],i=t.limitvalue[1];if(yx.playerMgr.getDuJieLevel()>=n&&yx.playerMgr.getDuJieLevel()<=i)return t}return null},_refreshDanItem:function _refreshDanItem(){var e=this._getCurDuJieConfig();if(e){this.danNameLabel.string=e.Name;var t={};t.itemId=e.ID,t.amount=yx.bagMgr.getDJDanNumByPinZhiGte(e.PinZhi),t.clickCallBack=this._danItemClick.bind(this),this.danItemWidget.init(t)}},_getUpSuccRatioStr:function _getUpSuccRatioStr(e){var t=e<100?yx.colorUtil.TextRed:yx.colorUtil.TextBlueLigth,n=yx.colorUtil.AddColorString(e+"%",t),i="";return yx.playerMgr.isVipMonth()&&(i+="巡山御史加成5%"),yx.playerMgr.isVipForever()&&(0<i.length&&(i+="，"),i+="镇山妖官加成10%"),0<i.length&&(i="（"+i+"）"),n+i},_getFailHintExtStr:function _getFailHintExtStr(e){var t="";return e<100&&(t=yx.colorUtil.AddColorString("，使用道具可提高成功率",yx.colorUtil.TextGreen)),t},_refreshDanAmount:function _refreshDanAmount(){var e=this._getCurDuJieConfig();if(e){var t=yx.bagMgr.getDJDanNumByPinZhiGte(e.PinZhi);this.danItemWidget.changeAmount(t)}},_danItemClick:function _danItemClick(e){1!=this.effectLayer.active&&yx.windowMgr.showWindow("itemUsePanel",{itemInfo:e,duJieRatio:this.duJieChance})},_refreshRichText:function _refreshRichText(){0<this._textlist.length&&(this.hintRichText.string=this._textlist.shift().format({name:yx.playerMgr.getName(),levelName:yx.playerMgr.dujieInfo.Name,num:this._lostXiuWei}))},onDuJieBtnClick:function onDuJieBtnClick(){1!=this.effectLayer.active&&(yx.playerMgr.getExp()>=yx.playerMgr.dujieInfo.Cost[0].count?yx.playerMgr.reqDuJieLevelUp():yx.ToastUtil.showListToast("修为不足"))},onSkipBtnClick:function onSkipBtnClick(){this.dujieEffectAnim.stop(),this.dujieEffectAnim.node.active=!1,this.roleNode.stopAllActions(),this.hintRichText.node.stopAllActions(),this.roleNode.color=new cc.Color(100,100,100,255),this.onDuJieChangeRoleAvatar(),this.onDuJieEffectFinished(),this._succ?this._textlist=[yx.textDict.DuJie.Succ]:this._textlist=[yx.textDict.DuJie.Fail],this.hintRichText.node.opacity=255,this._refreshRichText()},_startDuJieEffect:function _startDuJieEffect(){this._showSkipBtn();var e=cc.fadeOut(.2);this.startGroup.runAction(e),this.effectLayer.active=!0,this.dujieEffectAnim.node.active=!0,this.dujieEffectAnim.play(),this.exitBtn.node.active=!1,this.hintRichText.node.active=!0,this.endGroup.active=!0;var t=cc.Color.WHITE,n=new cc.Color(100,100,100,255),i=t;this.roleNode.color=n;var o=cc.sequence(cc.delayTime(7.1),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(1.2),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(1.4),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(1.4),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(1.2),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(.5),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(1),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(.7),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.delayTime(2.1),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB()),cc.callFunc(this.onDuJieChangeRoleAvatar,this),cc.tintTo(.1,i.getR(),i.getG(),i.getB()),cc.tintTo(.1,n.getR(),n.getG(),n.getB())),r=cc.sequence(cc.callFunc(this._refreshRichText,this),cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5),cc.delayTime(.5),cc.callFunc(this._refreshRichText,this),cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5),cc.delayTime(.5),cc.callFunc(this._refreshRichText,this),cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5),cc.delayTime(3.3),cc.callFunc(this._refreshRichText,this),cc.fadeIn(.5),cc.delayTime(1),cc.fadeOut(.5),cc.delayTime(5.9),cc.callFunc(this._refreshRichText,this),cc.fadeIn(.5),cc.hide(),cc.delayTime(1.2),cc.callFunc(this._refreshRichText,this),cc.show(),cc.delayTime(.1),cc.callFunc(this.onDuJieEffectFinished,this));this.roleNode.runAction(o),this.hintRichText.node.runAction(r)},onDuJieChangeRoleAvatar:function onDuJieChangeRoleAvatar(){this._succ&&yx.playerMgr.getAvatarId()!=this._avatarId&&0!=yx.playerMgr.getAvatarId()&&(this._avatarId=yx.playerMgr.getAvatarId(),yx.resUtil.loadRoleAvatar(this.roleNode,this._avatarId,"dujie",null))},onWaitBtnClick:function onWaitBtnClick(){1!=this.effectLayer.active&&yx.windowMgr.goBack()},onExitBtnClick:function onExitBtnClick(){yx.windowMgr.goBack()},onDuJieEffectFinished:function onDuJieEffectFinished(){this._succ?this.succEffectNode.active=!0:this.failEffectNode.active=!0,this.exitBtn.node.active=!0,this._hideSkipBtn(),this._refreshDanItem()},onEventLevelUp:function onEventLevelUp(e){this.isShown()&&e.type==yx.proto.LevelUpType.DU_JIE&&(this._setSucc(e.succ),this._startDuJieEffect())},onEventItemChange:function onEventItemChange(e){this.isShown()&&null!=e.add.concat(e.sub).find(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});return t&&t.Type==yx.ItemType.DUJIEDAN})&&this._refreshDanAmount()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],DuiHuanPanel:[function(e,t,n){cc._RF.push(t,"73e47JSdjZMYrBU5h+rUI01","DuiHuanPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,itemLayout:cc.Layout},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE,this.onEventItemExChange,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.UPDATE_EXCHANGE,this.onEventUpdateChange,this)},_onHide:function _onHide(){yx.eventDispatch.removeListenersByTarget(this)},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_refresh:function _refresh(){var e=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:9});if(e){e.sort(function(e,t){return e.Top<t.Top?-1:e.Top==t.Top?0:1});for(var t=0;t<e.length;t++){var n=e[t],i="DuiHuanWidget_"+t,o=this.itemLayout.node.getChildByName(i);if(o){var r=o.getComponentInChildren(yx.DuiHuanWidget);if(r){r.refresh(n);continue}}yx.DuiHuanWidget.CreateItemSlot(n,this.itemLayout.node,i)}}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onEventItemChange:function onEventItemChange(){this.isShown()&&this._refresh()},onEventItemExChange:function onEventItemExChange(e){if(this.isShown()){var t=e.id,n=yx.cfgMgr.getOneRecord("ExchangeConfig",{ID:t});if(n){var i=n.GetReward[0].id,o=yx.cfgMgr.getOneRecord("ItemConfig",{ID:i});o&&yx.ToastUtil.showListToast("获取"+o.Name+"x"+n.GetReward[0].count)}}},onEventUpdateChange:function onEventUpdateChange(){this.isShown()&&this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],DuiHuanWidget:[function(e,t,n){cc._RF.push(t,"fb49bZ0JSlAzZvzNIwRGVmd","DuiHuanWidget");var u="prefabs/widgets/DuiHuanWidget",i=e("ItemRichTextWidget"),o=e("BaseRepeatItem"),d=cc.Class({extends:o,properties:{rewordItemWidget:i,costItemWidget1:i,costItemWidget2:i,duiHuanBtn:cc.Button,bgNode:cc.Node,leftRiText:cc.RichText,hasLearn:cc.Node,hasOwn:cc.Node},statics:{_itemPrefab:null,CreateItemSlot:function CreateItemSlot(o,e,r,a,s,c){var l=new cc.Node(r);return e.addChild(l),yx.resUtil.LoadRes(u,function(e,t){if(e)yx.warn(u+" is not exist!");else{var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(d);i&&l&&l.isValid?(i.init(o,a,s,c),l.addChild(n),l.setContentSize(n.getContentSize())):yx.warn("DuiHuanWidget instantiate error!")}}),l}},init:function init(e,t,n,i){this._setCustomWidth(t),this._isShowLeft=i,this.leftRiText.node.active=i,this.costItemWidgetArr=[],this.costItemWidgetArr.push(this.costItemWidget1),this.costItemWidgetArr.push(this.costItemWidget2),this.duiHuanBtn.node.on("click",this.duiHuanBtnClick,this),this.duiHuanBtn.node.name="DuiHuanWidgetBtn_"+e.ID,this.refresh(e)},refresh:function refresh(e){if(this._exchangeCfgItem=e){for(var t=e.GetReward,n=0;n<t.length;n++){var i=t[n],o="<outline color=#000000><color=#FFFFFF>{num}</c></outline>".format({num:i.count}),r=i.id;this.rewordItemWidget.init({ID:r,content:o},this.itemClick);var a=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:r});this._refreshStatus(a)}for(var s=e.Cost,c=0;c<s.length;c++){var l=s[c],u=this.costItemWidgetArr[c];if(u){var d=l.id,h="",g=0,p=0;h=(p=(g=0==l.type?yx.playerMgr.getCurrency(d):yx.bagMgr.getItemNum(d),l.count),yx.colorUtil.AddColorString(g+"/"+p,p<=g?yx.colorUtil.TextDarkGreen:yx.colorUtil.TextRed)),u.node.active=!0,u.init({ID:d,content:h},this.itemClick)}}if(this._isShowLeft){var y=e.MaxNum;11===e.Type&&(y=e.DayNum);var f=y-yx.playerMgr.getItemExchangeCount(e.ID);f<=0&&(f=0,f=yx.colorUtil.AddColorString(""+f,yx.colorUtil.TextRed)),this.leftRiText.string="剩余："+f}}},itemClick:function itemClick(e){var t={};t.ID=e.ID,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},duiHuanBtnClick:function duiHuanBtnClick(){if(this._exchangeCfgItem){for(var e=this._exchangeCfgItem.Cost,t=0;t<e.length;t++){var n=e[t];if(this.costItemWidgetArr[t]){var i=n.id,o=0;if(!((o=0==n.type?yx.playerMgr.getCurrency(i):yx.bagMgr.getItemNum(i),n.count)<=o))return void yx.ToastUtil.showListToast("道具不足")}}if(this._exchangeCfgItem.MaxNum&&0!==this._exchangeCfgItem.MaxNum&&yx.playerMgr.getItemExchangeCount(this._exchangeCfgItem.ID)>=this._exchangeCfgItem.MaxNum)return void yx.ToastUtil.showListToast("兑换数量已达到上限");yx.bagMgr.reqExchangeItem(this._exchangeCfgItem.ID)}},_setCustomWidth:function _setCustomWidth(e){e&&(this.node.width=e,this.bgNode.width=e)},_setCustomHeight:function _setCustomHeight(e){e&&(this.node.height=e,this.bgNode.height=e)},_refreshStatus:function _refreshStatus(e){this.hasLearn.active=!1,this.hasOwn.active=!1,this.duiHuanBtn.node.active=!1,yx.bagMgr.checkHasLearn(e)?this.hasLearn.active=!0:yx.bagMgr.checkHasOwn(e)?this.hasOwn.active=!0:this.duiHuanBtn.node.active=!0},_initItem:function _initItem(){this._setCustomWidth(this._data.customWidth),this._isShowLeft=this._data.isShowLeft,this.leftRiText.node.active=this._data.isShowLeft,this.costItemWidgetArr=[],this.costItemWidgetArr.push(this.costItemWidget1),this.costItemWidgetArr.push(this.costItemWidget2),this.duiHuanBtn.node.on("click",this.duiHuanBtnClick,this),this.refresh(this._data.exchangeCfgItem)},_updateItem:function _updateItem(){this._setCustomWidth(this._data.customWidth),this._isShowLeft=this._data.isShowLeft,this.refresh(this._data.exchangeCfgItem)},_updateWithoutData:function _updateWithoutData(){this.refresh(this._data.exchangeCfgItem)}});yx.DuiHuanWidget=t.exports=d,cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem",ItemRichTextWidget:"ItemRichTextWidget"}],EnumDefine:[function(e,t,n){cc._RF.push(t,"034b8VvFqZIPppVhXf52B0F","EnumDefine");var i,o,r=yx;r.ItemType=cc.Enum({ITEM:1,EQUIP:2,DANYAO:3,XIANLIANG:4,FISH:5,EQUIP_PINZHI:11,DUJIEDAN:12,DUJIEDAN_PINZHI:13,CANGBAOTU:14}),r.EquipmentType=cc.Enum({ITEM:0,WuQi:1,YiFu:2,XieZi:3,JieZi:4,ShouZuo:5,YuPei:6,FaBao:7,TouKui:8}),r.ResType=cc.Enum({ITEM:1,EQUIP:2,NPC:3,SKILL:4,DANLU:5,MAP_OB:6,MAP:7,FISH:8,SHENGSHOU:9,SCENE_BG:10,ROLE:11,HEAD:12,CHUANGXIAN:13,AVATAR:14,Currency:15,FAQI:16,GUANKA:17,LOGO:18,BATTLE_BG:19,CHENG_HAO:20,BATTLE_MIN_BG:21,FAZHEN:22}),r.StuffItemType=cc.Enum({LINGSHI:1,SHIWU:2,MUCAI:3,YUNTIE:4}),r.CaveBuildType=cc.Enum({SHUGE:1,DANFANG:2,QISHI:3,ZiYuan:4,XIANNIANG:5,DAOLV:6,DONGTIAN:7,JINGMAI:8}),r.FormulaType=cc.Enum({DANFANG:r.CaveBuildType.DANFANG,TUZHI:r.CaveBuildType.QISHI}),r.ShuGeItemType=cc.Enum({DANDAO:1,QIDAO:2,WUDAO:3}),r.ShuJiType=cc.Enum({LUNDAO:1,ZHUANJI:2,XINDE:3,GANWU:4}),r.MenPaiZhiWeiType=cc.Enum({WAIMENDIZI:0,NEIMENDIZI:1,QINCHUANDIZI:2,GONGFENG:3,HUFU:4,ZHANGMEN:5}),r.CyType=(i={},(o=Object.create(i))[i[8e4]="XIUWEI"]=8e4,o[i[80001]="LINGSHI"]=80001,o[i[80002]="SHENYU"]=80002,o[i[80003]="LINGQI"]=80003,o[i[80004]="SHIWU"]=80004,o[i[80005]="MUCAI"]=80005,o[i[80006]="YUNTIE"]=80006,o[i[80007]="WEIWANG"]=80007,o[i[80008]="GONGXIAN"]=80008,o[i[80009]="GONGDE"]=80009,o[i[80010]="LINGYU"]=80010,o[i[80011]="XIEYU"]=80011,o[i[80012]="HAOYU"]=80012,o[i[80013]="LINGMU"]=80013,o[i[80014]="CHENMU"]=80014,o[i[80015]="HANTIE"]=80015,o[i[80016]="BINGPO"]=80016,o[i[80017]="HUNSHI"]=80017,o[i[80018]="SHENSHI"]=80018,o[i[80019]="JIERIBI"]=80019,o[i[80020]="PUCON"]=80020,o[i[80021]="WUDAO"]=80021,o[i[80022]="LIANQI"]=80022,o[i[80023]="LIANDAN"]=80023,o[i[80024]="MOJING"]=80024,o[i[80025]="DIZIXIUWEI"]=80025,o[i[80026]="SHENGYU"]=80026,o[i[80027]="ZHENGQI"]=80027,o[i[80028]="XIEQI"]=80028,o[i[80033]="GONGXIAN_XM"]=80033,o),r.EventType=cc.Enum({GAME_INITED:"GameInited",SERVER_CONNECTED:"ServerConnected",SERVER_DISCONNECT:"ServerDisConnect",SCENE_ENTER:"SceneEnter",SCENE_EXIT:"SceneExit",LOGIN_GET_SERVER_LIST:"ServerListChg",LOGIN_EVENT:"LoginEvent",LOGOUT_EVENT:"LogoutEvent",CREATE_ROLE:"CreateRole",GET_PLAYER_INFO:"GetPlayerInfo",LOAD_CONFIG:"LoadConfig",PLAYER_ITEM_CHG:"ItemChange",PLAYER_ITEM_USE_INFO:"player_item_use_info",CURRENCY_CHANGE:"CurrencyChange",CURRENCY_CHANGE_SHOW:"CurrencyChangeShow",PROPERTY_CHANGE:"PropertyChange",PROPERTY_REFRESH:"PROPERTY_REFRESH",LEVEL_UP:"LevelUp",XIU_LIAN:"XiuLianManual",ITEM_EXCHANGE:"ItemExchange",UPDATE_EXCHANGE:"UpdateExchange",EQUIPMENT_OPT:"EquipmentOpt",PKG_LEVEL_CHANGE:"PkgLevelChange",DANYAO_CHANGE:"DanyaoChange",USE_ITEM:"useItem",USE_ITEM_RESULT:"use_item_result",DUJIE_SUCRADIO:"DujieSucRadio",SWITCH_UPDATE:"SwitchUpdate",XIU_LIAN_LOG:"XiuLianLog",BAG_REFRESH_SLOT:"bag_refresh_slot",ITEM_EXCHANGE_INFO:"item_exchange_info",WUDAO:"WuDaoInfo",UPGRADE_WUDAO:"WuDaoChange",UPGRADE_WUDAO_ATTR:"WuDaoAttrChange",GONG_FA_CHANGE:"GongFaChange",ADD_MEN_PAI_SKILL_NUM:"GongFaAddSkillNum",REFRESH_STUFF_WINDOW:"refreshStuffWindow",REFRESH_CAVE_SHUGE:"refreshCaveShuge",REFRESH_CAVE_LIAN_DANFANG:"refreshCaveLianZhi",REFRESH_CAVE_LIAN_QISHI:"refreshCaveLianQishi",REFRESH_CAVE_LIAN_XIANNIANG:"refreshCaveXianNiang",REFRESH_CAVE_YUDING_BOOK:"refresh_cave_yuding_book",XIULIAN:"Xiulian",LIANQI_XIULIAN:"LianqiXiulian",LIANYAO_MAKE:"LianyaoMake",LIANQI_MAKE:"LianqiMake",LIANQI_AWARD:"LianqiAward",LIANYAO_AWARD:"LianyaoAward",DONGFU_UNLOCK_RES:"DongfuUnlockRes",DONGFU_BUILD_LEVELUP:"DongfuBuildLevelup",WUDAO_NOTIFY:"WudaoNotify",FIGHT_MONSTER:"fightMonster",GJ_ENTER:"gj_enter",GJ_RECEIVE_REWARD:"gj_receive_reward",GJ_PK_BOSS:"gj_pk_boss",GJ_NEXT_CHAPTER:"gj_next_chapter",GJ_SHOW_BATTLE:"gj_show_battle",GJ_QUICK_BATTLE:"gj_quick_battle",GJ_TASK_REFRESH:"gj_task_refresh",GJ_WINDOW_INIT:"gj_window_init",MENPAI_ADD_DAIRY_LOG:"menpaiAddDairyLog",MENPAI_INFO_REFRESH:"menpaiInfoRefresh",MENPAI_TASK_REFRESH:"menpaiTaskRefresh",MENPAI_SKILL_REFRESH:"menpaiSkillRefresh",MENPAI_ZHIWEI_REFRESH:"menpaiZhiWeiRefresh",MENPAI_LIANGONG_REFRESH:"menpaiLianGongRefresh",MENPAI_LINGQUAN_REFRESH:"menpaiLingQuanRefresh",MENPAI_TIAOZHAN_REFRESH:"menpaiTiaoZhanRefresh",MENPAI_PK_SHOW:"menpaiPKShow",MENPAI_QINGAN_REFRESH:"menpaiQingAn",MENPAI_FENGLU_REFRESH:"menpaiFenglu",MENPAI_LIANGONGCOUNT_REFRESH:"menpaiLianGongCount",MENPAI_QUIT_REFRESH:"menpaiQuit",FANG_SHI_LIST:"FangShiList",PURCHASE_GOODS:"FangShiGoodsChange",XIAN_FANG_SHOP_LIST:"xian_fang_shop_list",PURCHASE_XIAN_FANG_GOODS:"purchase_xian_fang_goods",HUO_LANG_SHOP_LIST:"HUO_LANG_SHOP_LIST",PURCHASE_HUO_LANG_GOODS:"PURCHASE_HUO_LANG_GOODS",CHUIDIAO_RECONNECT_INFO:"chuidiao_reconnect_info",CHUIDIAO_COUNT_INFO:"chuidiao_count_info",CHUIDIAO_YUGAN_INFO:"chuidiao_yugan_info",CHUIDIAO_OPT_INFO:"chuidiao_opt_info",CHUIDIAO_CHANG_GAMESTATE:"chuidiao_chang_gamestate",CHUIDIAO_LAGAN_RESULT:"chuidiao_lagan_result",CHUIDIAO_LAGAN_RECOMMEND:"chuidiao_lagan_recommend",CHUANGXIANZHEN_INFO:"chuangxianzhen_info",CHUANGXIANZHEN_TIAOZHAN:"chuangxianzhen_tiaozhan",CHUANGXIANZHEN_FLYOVER:"chuangxianzhen_flyover",SHENGYOU_ERFRESH_INFO:"shengyou_erfresh_info",SHENGYOU_SET_AUTOSELL:"shengyou_set_autosell",SHENGSHOU_REFRESH_INFO:"shengshou_refresh_info",DAOLV_REFRESH_INFO:"daolv_refresh_info",DAOLV_ZENGLI:"daolv_zengli",DAOLV_DAIHUI:"daolv_daihui",DAOLV_YUANJIN:"daolv_yuanjin",DAOLV_TAKEHOME:"daolv_takehome",DAOLV_SHUANGXIU:"daolv_shuangxiu",DAOLV_SHUANGXIU_LOG:"daolv_shuangxiu_log",DAOLV_ERROR_TIP:"daolv_error_tip",DAOLV_PK:"daolv_pk",DAOLV_UPDATE_REDDOT:"daolv_update_reddot",JIYUAN_DOACTION_REFRESH:"jiyuan_action_refresh",JIYUAN_INFO_REFRESH:"jiyuan_info_refresh",QIYU_OPEN_WINDOW:"qiyu_open_window",QIYU_DOACTION_REFRESH:"qiyu_action_refresh",MAIL_REFRESH:"mail_refresh",HEISHI_REFRESH:"heishi_refresh",ZHAODIANSHI_PK_SHOW:"zhaodianshi_PK_show",ZHAODIANSHI_ADD_DAIRY_LOG:"zhaodianshi_add_dairy_log",ACTIVITY_REFRESH:"activity_refresh",ACTIVITY_SELECTTAB:"activity_selectTab",ACTIVITY_TASK_REFRESH:"activity_task_refresh",ACTIVITY_TURNTABLE_SHOW_REWARD:"activity_turntable_show_reward",ACTIVITY_TASK_BY_ID:"ACTIVITY_TASK_BY_ID",XIANSHILIBAO_OPEN_REWARDPANEL:"XIANSHILIBAO_OPEN_REWARDPANEL",XISUI_GETMESSAGE:"xisui_getmessage",XISUI_OPT:"xisui_opt",RICHANG_REFRESH:"richang_refresh",RICHANG_REFRESHREWARD:"richang_refreshreward",RICHANG_REFRESHUPGRADE:"richang_refreshupgrade",RICHANG_ZHAOHUI_REFRESH:"richang_zhaohui_refresh",REFRESH_TASK_PANEL:"refresh_task_panel",REFRESH_TASK_TO_LILIAN:"refresh_task_to_lilian",FIRST_RECHARGE_INFO:"first_recharge_info",FIRST_RECHARGE_LINGQU:"first_recharge_lingqu",RECHARGE_RESULT:"recharge_result",SKIN_SELECT_ITEM:"skin_select_item",SKIN_STATUS_REFRESH:"skin_status_refresh",BADGE_REFRESH:"badge_refresh",REFRESH_WORLD:"refresh_world",CREATE_ZONGMEN:"create_zongmen",CHANGE_DUILIAN:"change_duilian",SHISI_DUBO:"shisi_dubo",WUDAOSHI_REFRESH:"wudaoshi_refresh",WUDAOSHIREWARD_REFRESH:"wudaoshiReward_refresh",ZONGMENHUODONG_TASK_REFRESH:"zongmenhuodong_task_refresh",SHARE_GET_INFO:"share_get_info",SHARE_OPT_REQ:"share_opt_req",SHARE_REVEIVED:"share_reveived",MAIN_SHANG:"main_shang",MAIN_XIA:"main_xia",CHENGZHANGLIBAO_REFRESH:"chengzhangLibao_refresh",BIWU_GETRANKINFO:"biwu_getrankinfo",BIWU_MATCHINGINFO:"biwu_matchinginfo",BIWU_FIGHT:"biwu_fight",DOUFA_GETINFO:"DOUFA_GETINFO",YOULI_MAP:"youli_map",MILING_REFRESH:"miling_refresh",SHOUCANG_GET_INFO:"shoucang_get_info",SHOUCANG_OPT_REQ:"shoucang_opt_req",SHOUCANG_REVEIVED:"shoucang_reveived",RANK_LIST_REFRESH:"rank_list_refresh",RANK_MOBAI_REFRESH:"rank_mobai_refresh",RANK_ATRR_LIST:"RANK_ATRR_LIST",RANK_FENGSHEN_LIST:"rank_fengshen_list",PLAYER_AVATAR_REFRESH:"player_avatar_refresh",TASK_UPDATE:"task_update",QQqun_INFO_REFRESH:"QQqun_info_refresh",Chat_Refresh:"Chat_Refresh",RECONNECT_CHECK:"reconnect_check",FENGSHEN_CONFIG:"fengshen_config",PEIDAY_CHONGZHI_TASKINFO:"peiday_chongzhi_taskinfo",JINGMAI_GET_MESSAGE:"jingmai_get_message",JINGMAI_UPGRATE:"jingmai_upgrate",JINGMAI_ONEKEY_UPGRATE:"jingmai_onekey_upgrate",QILING_GET_MESSAGE:"qiling_get_message",QILING_UPGRATE:"qiling_upgrate",DIGONG_GET_MESSAGE:"digong_get_message",DIGONG_CHALLENGE:"digong_challenge",DIGONG_SWEEP:"digong_sweep",DIGONG_PURCHASE:"digong_purchase",DIGONG_RANKLIST:"digong_ranklist",DONGTIAN_ROBLIST_REFRESH:"dongtian_roblist_refresh",DONGTIAN_GET_MYINFO:"dongtian_getmyInfo",DONGTIAN_DIALY:"dongtian_dialy",DONGTIAN_PK_SHOW:"dongtian_pk_show",XIANMENG_GET_INFO:"XIANMENG_GET_INFO",XIANMENG_UPDATE_XIANMEWNG_INFO:"XIANMENG_UPDATE_XIANMEWNG_INFO",XIANMENG_CREATE:"XIANMENG_CREATE",XIANMENG_GET_PLAYER_INFO:"XIANMENG_GET_PLAYER_INFO",XIANMENG_UPDATE_PLAYER_INFO:"XIANMENG_UPDATE_PLAYER_INFO",XIANMENG_GET_XIANMEG_LIST:"XIANMENG_GET_XIANMEG_LIST",XIANMENG_GET_MEMBER_LIST:"XIANMENG_GET_MEMBER_LIST",XIANMENG_APPLY_JOIN:"XIANMENG_APPLY_JOIN",XIANMENG_DEAL_APPLY:"XIANMENG_DEAL_APPLY",XIANMENG_APPLY_LIST:"XIANMENG_APPLY_LIST",XIANMENG_NOTICE:"XIANMENG_NOTICE",XIANMENG_GET_BOSS_INFO:"XIANMENG_GET_BOSS_INFO",XIANMENG_UPDATE_BOSS_INFO:"XIANMENG_UPDATE_BOSS_INFO",XIANMENG_FIGHT_BOSS:"XIANMENG_FIGHT_BOSS",XIANMENG_BOSS_RANK:"XIANMENG_BOSS_RANK",XIANMENG_KICKOUT:"XIANMENG_KICKOUT",XIANMENG_EXIT:"XIANMENG_EXIT",XIANMENG_DUTY:"XIANMENG_DUTY",XIANMENG_DONATE:"XIANMENG_DONATE",XIANMENG_SKILL:"XIANMENG_SKILL",XIANMENG_SETNAME:"XIANMENG_SETNAME",XIANMENG_RECORD:"XIANMENG_RECORD",XIANMENG_BOSS_TIAOZHAN_TIME:"XIANMENG_BOSS_TIAOZHAN_TIME",XIANMENG_ACTIVITY_TIME:"XIANMENG_ACTIVITY_TIME",CANGBAOTU_GET_INFO:"CANGBAOTU_GET_INFO",CANGBAOTU_ENTER_MAP:"CANGBAOTU_ENTER_MAP",CANGBAOTU_GET_REWARD:"CANGBAOTU_GET_REWARD",QILING_ACTIVITY:"qiling_activity",FAQI_GET_INFO:"FAQI_GET_INFO",FAQI_CHANGE:"FAQI_CHANGE",FAQI_FEED:"FAQI_FEED",FAQI_FEEDLIST:"FAQI_FEEDLIST",FAQI_RIDE:"FAQI_RIDE",FAQI_RIDE_CANCEL:"FAQI_RIDE_CANCEL",FAQI_DELETE:"FAQI_DELETE",BAGUA_GET_INFO:"BAGUA_GET_INFO",BAGUA_UPGRATE:"BAGUA_UPGRATE",VIP_GONGFENG:"VIP_GONGFENG"}),r.LSKey=cc.Enum({USERNAME:"username",LAST_LOGIN:"lastlogin",EventLog:"diarys",AUTO_ADAPT_DAN:"autoAdaptDan",AUTO_ADAPT_QI:"autoAdaptQI",AUTO_HIDE_DAN:"AUTO_HIDE_DAN",AUTO_HIDE_QI:"AUTO_HIDE_QI",MUSIC_SWITCH:"bg_switch",EFFECT_SWITCH:"effect_switch",PINGBI_SETTING:"PINGBI_SETTING",GONGFA_NEW:"gongfa_new",YIYUAN_TASK:"yiyuan_task",ONE_KEY_SELL:"one_key_sell"}),r.MapRes={NO_FOOD:-1,MON_NORMAL:1,MUCAI:2,YUNTIE:3,LINGSHI:4,ENTER:5,OUT:6,BAOXIANG:7,MON_BOSS:8,QIYU:101,MIJING:102},r.GuideActionType=cc.Enum({TYPE_1:1,TYPE_2:2,TYPE_3:3,TYPE_4:4,TYPE_5:5,TYPE_6:6}),r.WuDaoShiTask=cc.Enum({TYPE_1:2001,TYPE_2:2002}),r.SpecialActivity=cc.Enum({MILING:"a_10000001",SHIZHUANG:"a_10000002",ZIYAUNLIBAO2:"a_10000003",XIANSHICOST:"a_10000004",JUEXUECANYE:"a_10000005",FENGSHENBANG:"a_10000006",PERDAYCHONGZHI:"a_10000007"}),r.ServerType=cc.Enum({NORMAL:1,HOT:2,MAINTAIN:3}),r.ZhongZu=cc.Enum({REN:1,YAO:2,MO:3,XIAN:4,LONG:5,SHOU:6}),r.ActionTag=cc.Enum({BATTLE_FIRST_FIGHT:10001,BATTLE_END_FIGHT:10002,SHOW_SEARCH_ACTION:10003,ENEMY_FADEOUT:10004,DEMAGE_ACTION:10005,RECONNECT_BOSSBTN_ACTION:10006,BATTLE_PLAYER_ATTACK:20001,BATTLE_PLAYER_HIT:20002,BATTLE_PLAYER_DIE:20003,BATTLE_PLAYER_SKILL:20004,BATTLE_PLAYER_RESET:20005,BATTLE_ENEMY_ATTACK:20011,BATTLE_ENEMY_HIT:20012,BATTLE_ENEMY_DIE:20013,BATTLE_ENEMY_SKILL:20014,BATTLE_ENEMY_RESET:20015,RED_TINTTO_ACTION:20016,NORMAL_TINTTO_ACTION:20017,NORMAL_FADEOUT:3e4,NORMAL_FADEIN:30001}),r.SendExtraType={TYPE_SELECT_SERVER:1,TYPE_CREATE_ROLE:2,TYPE_ENTER_GAME:3,TYPE_LEVEL_UP:4,TYPE_EXIT_GAME:5},r.SHOPTYPE=cc.Enum({FANGSHI:1,XIANFANG:2,HUOLANG:3}),r.GuaXiangType=cc.Enum({QingLongType:1,BaiHuType:2,ZhuQueType:3,XuanWuType:4,PiXiuType:5}),cc._RF.pop()},{}],EquipDetailPanel:[function(e,t,n){cc._RF.push(t,"79b8fsJTABCMbYPr7ktFfqw","EquipDetailPanel");var i=e("BaseWindow");e("NumberWidget"),cc.Class({extends:i,properties:{titleLabel:cc.Label,levelLabel:cc.Label,iconSp:cc.Sprite,contentRichText:cc.RichText,descLabel:cc.Label,closeBtn:cc.Button,useBtn:cc.Button,sellBtn:cc.Button,_itemid:Number,_itemInfo:null,_itemMsg:null,_equipInfo:null,_uid:Number},_onInit:function _onInit(e){null!=e&&null!=e.id?(this._uid=e.id,this._wear=e.wear,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.useBtn.node.on("click",this.onUseBtnClick,this),this.sellBtn.node.on("click",this.onSellBtnClick,this),this._itemMsg=yx.bagMgr.getItemById(this._uid),this._itemInfo=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._itemMsg.itemId}),this._equipInfo=yx.cfgMgr.getRecordByKey("EquipConfig",{ID:this._itemMsg.itemId}),null!=this._itemInfo&&null!=this._equipInfo&&null!=this._itemMsg.attr||yx.error("[ItemDetail get iteminfo faild] id:"+this._itemid)):yx.error("[ItemDetail oninit error]")},_onShow:function _onShow(){this._refresh()},_getAttrString:function _getAttrString(n,o){var r="";if(null==n)return"";for(var e=function i(e){var t=n[e];null!=(a=o.find(function(e){return e.type==t.type}))&&(r+=yx.textDict.Attr[t.type]+"："+t.value+"     (上限"+a.value[1]+")\n")},t=0;t<n.length;t++){var a;e(t)}return r},_refresh:function _refresh(){var e={amount:-1};e.itemId=this._itemInfo.ID,e.clickCallBack=function(){},yx.ItemWidget.CreateItemSlot(e,this.iconSp.node,"reward"+this._itemInfo.ID),this.titleLabel.string=this._itemInfo.Name;var t=yx.textDict.QualityColor.getQualityColor(this._itemInfo.PinZhi);this.titleLabel.node.color=yx.colorUtil.toCCColor(t),yx.CodeHelper.addOutlineByPinZhi(this.titleLabel.node,this._itemInfo.PinZhi),this.levelLabel.string=yx.textDict.ItemPinZhi.getQualityText(this._itemInfo.PinZhi),this.descLabel.string=this._itemInfo.DefDesc,this.contentRichText.string=this._getAttrString(this._itemMsg.attr,this._equipInfo.attrpower),this.sellBtn.node.active=!this._wear,this._wear?(this.useBtn.node.getChildByName("Background").getComponentInChildren(cc.Label).string="卸  下",this.sellBtn.node.active=!1):(this.useBtn.node.getChildByName("Background").getComponentInChildren(cc.Label).string="穿  戴",this.sellBtn.node.active=!0)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onUseBtnClick:function onUseBtnClick(){if(yx.log("[EquipDetailPanel onUseBtnClick]"),yx.bagMgr.isBagFull()&&this._wear)return yx.ToastUtil.showListToast("背包已满"),void yx.windowMgr.goBack();yx.windowMgr.goBack(),yx.bagMgr.reqEquipmentOpt(this._itemMsg.id,!this._wear),yx.playerMgr.reqPlayerProperty()},onSellBtnClick:function onSellBtnClick(){var e=this._itemInfo.SellMoney[0].count;e=e||0;var t=yx.textDict.QualityColor.getQualityColor(this._itemInfo.PinZhi),n=this._itemInfo.Name,i="出售<color={itemColor}>{itemName}</color>可获得<color=#2D94C9>{lingShiNum}灵石</color>，确定要出售吗？".format({itemColor:t,itemName:n,lingShiNum:e});yx.windowMgr.goBack(),yx.TextConfirm.ShowConfirm(i,this.onSellBtnComfirm.bind(this,this._itemMsg.id,this._itemMsg.itemId,1))},onSellBtnComfirm:function onSellBtnComfirm(e,t,n){yx.bagMgr.reqSellItem(e,t,n)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",NumberWidget:"NumberWidget"}],EquipWidget:[function(e,t,n){cc._RF.push(t,"cfb52WXpUxCaoBtAnaiO5d+","EquipWidget"),cc.Class({extends:cc.Component,properties:{},init:function init(e){this.node.on("click",this.onBtnClick,this),this._equipType=e,this._iconSp=this.node.getChildByName("Background").getComponent(cc.Sprite),this._pinzhiSp=this.node.getChildByName("pinzhiBg").getComponent(cc.Sprite),this._itemMsg=yx.bagMgr.getEquipment(this._equipType),this._itemMsg?(this._itemCfg=yx.cfgMgr.getOneRecord("ItemConfig",{ID:this._itemMsg.itemId}),this._itemCfg&&(yx.resUtil.LoadSpriteByType(this._itemCfg.Icon,yx.ResType.EQUIP,this._iconSp),this._showPinJie(this._itemCfg.PinZhi))):(this._iconSp.spriteFrame=null,this._pinzhiSp.spriteFrame=null)},_showPinJie:function _showPinJie(e){if(e){var t=yx.bagMgr.getPinZhiBg(e);yx.resUtil.LoadSprite(t,this._pinzhiSp)}},onBtnClick:function onBtnClick(){if(this._itemMsg){var e={};e.id=this._itemMsg.id,e.wear=!0,yx.windowMgr.showWindow("equipDetail",e)}}}),cc._RF.pop()},{}],EventDispatch:[function(e,t,n){cc._RF.push(t,"1c71fCFbhRGbLjvqG6SOnuG","EventDispatch");function ZW(e,t,n,i){this.msgName=e,this.target=t,this.callback=n,this.once=i}function $W(){this._msg2listDict=null,this._removeList=null,this._dispatchList=null,this.init()}$W.prototype={constructor:yx.EventDispatch,init:function init(){return this._msg2listDict=new Map,this._removeList=new Array,this._dispatchList=new Array,yx.log("EventDispatch init"),!0},addListener:function addListener(e,t,n){var i=new ZW(e,n,t,!1);this._add(e,i)},addOnceListener:function addOnceListener(e,t,n){var i=new ZW(e,n,t,!0);this._add(e,i)},_getListenerByTarget:function _getListenerByTarget(e){var t=new Array;if(!e)return null;var n=!0,i=!1,o=void 0;try{for(var r,a=this._msg2listDict.values()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;for(var c in s)s[c].target==e&&t.push(s[c])}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return t},_add:function _add(e,t){if(e&&t&&t.target&&t.callback){var n=this._msg2listDict.get(e);for(var i in n||(n=new Array,this._msg2listDict.set(e,n)),n)if(n[i].callback==t.callback)return void yx.warn("[EventDispatch add] callback is added:"+t.callback.toString());n.push(t)}else yx.error("[EventDispatch] regMsgCallBack msgName or callback is null name:"+e)},removeMsgListener:function removeMsgListener(e,t,n){var i=new ZW(n,t,!1);this._remove(e,i)},removeListenersByTarget:function removeListenersByTarget(e){if(e){var t=this._getListenerByTarget(e);if(t){for(var n=0;n<t.length;n++)this._remove(t[n].msgName,t[n]);yx.log("[EventDispatch removeListenersByTarget] "+e.name+" remove listener count:"+t.length)}}else yx.error("[EventDispatch removeListenersByTarget] target is null")},_remove:function _remove(e,t){if(e&&t&&t.target&&t.callback)if(this._isDispatching(e))this._removeList.push(t);else{var n=this._msg2listDict.get(e);if(n&&!(n.length<1))for(var i=n.length-1;0<=i;i--)if(n[i].callback==t.callback)return n.splice(i,1),void yx.log("[EventDispatch remove] removeMsgCallBack, msgName="+e+", listener:"+t.callback.name)}else yx.error("[EventDispatch] removeMsgCallBack msgName or callback is null")},dispatchMsg:function dispatchMsg(e,t){if(e&&this._msg2listDict.get(e)){null==t&&(t=null);var n={msgName:e,data:t};this._dispatchList.push(n),1<this._dispatchList.length||(this._handleDispatch(),this._handleRemove())}},_handleRemove:function _handleRemove(){for(var e=this._removeList.length-1;0<=e;e--)this._remove(this._removeList[e].msgName,this._removeList[e])},_handleDispatch:function _handleDispatch(){for(;0<this._dispatchList.length;){var e=this._dispatchList.pop(),t=this._msg2listDict.get(e.msgName);if(!t)return;var n=e.data;for(var i in t)t[i].target&&t[i].callback&&(t[i].callback.call(t[i].target,n),t[i].once&&this._removeList.push(t[i]))}},_isDispatching:function _isDispatching(e){for(var t in this._dispatchList)if(this._dispatchList[t].msgName==e)return!0;return!1}},t.exports=yx.eventDispatch=new $W,cc._RF.pop()},{}],FaQiInfoPanel:[function(e,t,n){cc._RF.push(t,"a28a99RbOlEE7LEQWtydm2E","FaQiInfoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,faqiDrogon:dragonBones.ArmatureDisplay,title:cc.Label,desc:cc.RichText,levelLabel:cc.Label,progress:cc.ProgressBar,progressLabel:cc.Label,attr:cc.RichText,skillContent:cc.Node,skillBtn:cc.Button,propertyNode:cc.Node,propertyLayoutNode:cc.Node},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this)},_onShow:function _onShow(e){this._data=e,yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){var o=this,e=yx.FaQiMgr.getFaQiDataById(this._data.ID);if(e){var t="ui_effect/faqi/"+this._data.Icon;yx.resUtil.loadDragonBones(this.faqiDrogon,t,"MovieClip","newAnimation",null,null),this.title.string=this._data.Name,this.desc.string=this._data.Desc2;var n=[];e.skills&&0<e.skills.length&&(n=n.concat(e.skills)),this.skillContent.removeAllChildren(!0),n.forEach(function(e){var t=yx.cfgMgr.getOneRecord("PetSkillConfig",{ID:e});if(t){var n=cc.instantiate(o.skillBtn.node),i=n.getComponent(cc.Button);i&&(n.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=t.Name,i.clickEvents.push(yx.CodeHelper.NewClickEvent(o,"onSkillClick",{skillCfg:t})),o.skillContent.addChild(n))}}),this.skillBtn.node.active=!1,this.levelLabel.string=e.level+"";var i=e.level+1;i>=yx.FaQiMgr.getMaxLevel()&&(i=yx.FaQiMgr.getMaxLevel());var r=yx.cfgMgr.getOneRecord("PetLevelConfig",{Level:i});if(r)this.progress.progress=e.experience/r.Exp,this.progressLabel.string=e.experience+" / "+r.Exp;else{var a=yx.cfgMgr.getOneRecord("PetLevelConfig",{Level:1});this.progress.progress=0,this.progressLabel.string="0 / "+a.Exp}this.refreshPropertyLabel()}else yx.ToastUtil.showListToast("无数据")},refreshPropertyLabel:function refreshPropertyLabel(){var e=yx.FaQiMgr.getFaQiProperty(this._data.ID);for(var t in e){var n=e[t],i=yx.textDict.Attr[t],o=cc.instantiate(this.propertyNode);o.active=!0,o.getChildByName("Label").getComponent(cc.Label).string=i+"+"+n.value,this.propertyLayoutNode.addChild(o)}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onSkillClick:function onSkillClick(e,t){var n={};n.Name=t.skillCfg.Name,n.GongFaDesc=t.skillCfg.Icon+"\n"+t.skillCfg.DefDesc,n.Icon="";var i={};i.configData=n,i.skillIconNode=e.target,yx.windowMgr.showWindow("skillTipsPanel",i),yx.log("点击技能")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],FaQiJiaChengPanel:[function(e,t,n){cc._RF.push(t,"01435lDcghEJK6TOJfpCGxG","FaQiJiaChengPanel");var i=e("BaseWindow"),m="<color=#345A5C>当前佩戴：</color><color=#ff0000>{name}</color>";cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,curDesc:cc.RichText,nextDesc:cc.RichText,title:cc.RichText,desc1:cc.RichText,desc2:cc.RichText},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){var e=yx.FaQiMgr.getOwnFaQiLen(),t=yx.cfgMgr.getOneRecord("PetNumConfig",{ID:e}),n=yx.cfgMgr.getOneRecord("PetNumConfig",{ID:e+1});if(t){var i=t.WanPer/100,o=n.WanPer/100;this.curDesc.string="<color=#345A5C>法器数量：</color><color=#00C800>{num}</color>\n<color=#345A5C>属性加成：</color><color=#00C800>{property}</color>".format({num:e,property:i+"%"}),n&&(this.nextDesc.string="<color=#B16647>法器数量：{num}\n属性加成：{property}</color>".format({num:e+1,property:o+"%"})),this.desc1.string="<color=#B16647>属性加成：</color><color=#00C800>{property}</color>".format({property:i+"%"}),this.desc2.string=this.getPropertyText(i/100)}var r=yx.FaQiMgr.getUseingFaQiData();if(r){var a=yx.cfgMgr.getOneRecord("PetListConfig",{ID:r.id});a&&(this.title.string=m.format({name:a.Name}))}else this.title.string="当前佩戴：无"},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},getPropertyText:function getPropertyText(e){var t="",n=yx.FaQiMgr.getUseingFaQiData();if(n){var i=yx.cfgMgr.getOneRecord("PetListConfig",{ID:n.id});if(i){this.title.string=m.format({name:i.Name});var o=n.level,r=i.BaseAttr,a=i.AddAttr,s={};if(r)for(var c in r){var l=r[c];s[l.type]={},s[l.type].value=l.value}if(a)for(var u in a){var d=a[u];s[d.type]||(s[d.type]={value:0}),s[d.type].value+=d.value*o}for(var h in s){var g=s[h],p=yx.textDict.Attr[h],y=g.value*(1+e),f=g.value*e;t+="{propertyName}+{sum}：（{cur} <color=#00C800>+ {add}</color>）\n".format({propertyName:p,sum:y.toFixed(0),cur:g.value,add:f})}}}return t}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],FaQiLevelPanel:[function(e,t,n){cc._RF.push(t,"100d29OR4JIC7/Kt/p11g1X","FaQiLevelPanel");var i=e("BaseWindow"),c=e("FaQiLevelScrollItem"),a=e("FrameLoadWidget");cc.Class({extends:i,properties:{closeBtn:cc.Button,scrollContent:cc.Node,faQiLevelScrollItem:cc.Prefab,maskSp:cc.Button,title:cc.RichText},_onInit:function _onInit(e){var t=this;this._data=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),yx.eventDispatch.addListener(yx.EventType.FAQI_FEED,this.onEventFaQiFeed,this),yx.eventDispatch.addListener(yx.EventType.FAQI_FEEDLIST,this.onEventFaQiFeedList,this);var n=yx.cfgMgr.getRecordList("PetFeedConfig");this.scrollContent.removeAllChildren(!0);var i=[];for(var o in n){var r={};r.petID=this._data.ID,Object.assign(r,n[o]),i.push(r)}this.node.addComponent(a).init(this.scrollContent,i,this.faQiLevelScrollItem,c,function(){yx.FaQiMgr.req(yx.proto.PetCmdType.FeedPetList_Cmd,t._data.petID)}).startLoad(),this.title.string="<color=#345A5C>升级</color><color=#ff0000>"+this._data.Name+"</color>"},_onShow:function _onShow(){},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onEventFaQiFeed:function onEventFaQiFeed(e){var t=this.scrollContent.getComponentsInChildren(c);for(var n in t)t[n].refresh();if(e.feedInfo){var i=e.feedInfo[0];if(i.id==yx.proto.FeedPetType.AddExp){var o=yx.colorUtil.AddColorString(i.feedBackValue,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("获得法器经验"+o)}else{var r=i.feedBackValue,a=yx.cfgMgr.getOneRecord("PetSkillConfig",{ID:r});if(a){var s=yx.colorUtil.AddColorString(a.Name,yx.colorUtil.TextGreen);yx.ToastUtil.showListToast("领悟技能"+s)}else yx.ToastUtil.showListToast("没有领悟到技能")}}},onEventFaQiFeedList:function onEventFaQiFeedList(){var e=this.scrollContent.getComponentsInChildren(c);for(var t in e)e[t].refresh();console.log("")}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FaQiLevelScrollItem:"FaQiLevelScrollItem",FrameLoadWidget:"FrameLoadWidget"}],FaQiLevelScrollItem:[function(e,t,n){cc._RF.push(t,"532c6b8b1JG96i97qoa8vIl","FaQiLevelScrollItem"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,title:cc.Label,desc:cc.RichText,upgradeBtn:cc.Button,count:cc.Label},frameInit:function frameInit(e){this._data=e,this.upgradeBtn.node.on("click",this.onupgradeBtnClick,this),this.refresh();var t={};t.amount=yx.bagMgr.GetItemOwnCount(this._data.Cost[0].type,this._data.Cost[0].id),t.itemId=this._data.Cost[0].id,t.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(t,this.itemNode,"reward"),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange.bind(this),this)},refresh:function refresh(){if(this.desc.string=this._data.DefDesc,this.title.string=yx.bagMgr.GetItemName(this._data.Cost[0].id),this._data.ID==yx.proto.FeedPetType.AddExp)this.count.string="";else{var e=yx.FaQiMgr.getFeedDataById(this._data.ID),t=e?e.feedCount:0;this.count.string=this._data.LeiJiCount-t+"次必领悟技能"}var n=this.itemNode.getComponentInChildren(yx.ItemWidget);if(n){var i={};i.amount=yx.bagMgr.GetItemOwnCount(this._data.Cost[0].type,this._data.Cost[0].id),i.itemId=this._data.Cost[0].id,n.init(i)}},onupgradeBtnClick:function onupgradeBtnClick(){yx.FaQiMgr.req(yx.proto.PetCmdType.Feed_Cmd,this._data.petID,this._data.ID)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onEventItemChange:function onEventItemChange(e){var t=this;null!=e.add.concat(e.sub).find(function(e){return t._data.Cost[0].id==e.itemId})&&this.refresh()},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)}}),cc._RF.pop()},{}],FaQiMgr:[function(e,t,n){cc._RF.push(t,"3e316PA9zFLtYFnXs4mDx5G","FaQiMgr"),yx.FaQiManager=function(){},yx.FaQiManager.prototype={constructor:yx.FaQiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.Pet,this.onMessagePetInfo.bind(this)),this.faQiDatas=[],this.feedDatas=[],this.maxLimitCount=1,this.preRideFaQiId=null,this.maxPetLevel=-1},req:function req(e,t,n){var i=new yx.proto.C2S_Pet;i.cmdType=e,i.petID=t,i.feedID=n,yx.network.sendMessage(yx.proto.CmdId.Pet,i)},onMessagePetInfo:function onMessagePetInfo(e,t){if(!(null!=e&&0<e.length)){var n=yx.proto.S2C_Pet.decode(t);if(n)switch(n.cmdType){case yx.proto.PetCmdType.GetPetList_Cmd:this.faQiDatas=n.pets,this.maxLimitCount=n.maxLimitCount,yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_GET_INFO,n);break;case yx.proto.PetCmdType.ChangePet_Cmd:this.updateFaQiData(n.pets),yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_CHANGE,n);break;case yx.proto.PetCmdType.Feed_Cmd:this.updateFeedData(n.feedInfo),yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_FEED,n);break;case yx.proto.PetCmdType.FeedPetList_Cmd:this.feedDatas=n.feedInfo,yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_FEEDLIST,n);break;case yx.proto.PetCmdType.Ride_Cmd:this.updatePreRideFaqiId(),this.updateFaQiData(n.pets),yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_RIDE,n);break;case yx.proto.PetCmdType.CancelRide_Cmd:this.updateFaQiData(n.pets),this.updatePreRideFaqiId(),yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_RIDE_CANCEL,n);break;case yx.proto.PetCmdType.Delete_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.FAQI_DELETE,n)}}},updatePreRideFaqiId:function updatePreRideFaqiId(){var e=this.getUseingFaQiData();this.preRideFaQiId=e?e.id:null},updateFaQiData:function updateFaQiData(e){if(this.faQiDatas)for(var t=0;t<e.length;t++)for(var n=0;n<this.faQiDatas.length;n++)if(this.faQiDatas[n].id==e[t].id){this.faQiDatas[n]=e[t];break}},updateFeedData:function updateFeedData(e){if(this.feedDatas)for(var t=0;t<e.length;t++)for(var n=0;n<this.feedDatas.length;n++)if(this.feedDatas[n].id==e[t].id){this.feedDatas[n]=e[t];break}},getPreRideFaqiId:function getPreRideFaqiId(){return this.preRideFaQiId},getFaQiList:function getFaQiList(){return this.faQiDatas},getFeedList:function getFeedList(){return this.feedDatas},getFeedDataById:function getFeedDataById(e){if(this.feedDatas){for(var t=0;t<this.feedDatas.length;t++)if(this.feedDatas[t].id==e)return this.feedDatas[t];return null}},getFaQiDataById:function getFaQiDataById(e){if(this.faQiDatas)for(var t=0;t<this.faQiDatas.length;t++)if(this.faQiDatas[t].id==e)return this.faQiDatas[t]},getFaQiLevelById:function getFaQiLevelById(e){var t=yx.FaQiMgr.getFaQiDataById(e);return t?t.level:0},getUseingFaQiData:function getUseingFaQiData(){if(this.faQiDatas){for(var e=0;e<this.faQiDatas.length;e++)if(this.faQiDatas[e].useing)return this.faQiDatas[e];return null}},getOwnFaQiLen:function getOwnFaQiLen(){return this.faQiDatas?this.faQiDatas.length:0},getMaxLimitCount:function getMaxLimitCount(){return this.maxLimitCount},getFaQiProperty:function getFaQiProperty(e){var t={},n=yx.cfgMgr.getOneRecord("PetListConfig",{ID:e});if(!n)return t;var i=yx.FaQiMgr.getFaQiLevelById(e),o=n.BaseAttr,r=n.AddAttr;if(o)for(var a in o){var s=o[a];t[s.type]={},t[s.type].value=s.value}if(r)for(var c in r){var l=r[c];t[l.type]||(t[l.type]={value:0}),t[l.type].value+=l.value*i}return t},getMaxLevel:function getMaxLevel(){if(-1==this.maxPetLevel){var e=yx.cfgMgr.getAllConfig("PetLevelConfig");e.sort(function(e,t){return e.Level<t.Level?-1:e.Level==t.Level?0:1}),this.maxPetLevel=e[e.length-1].Level}return this.maxPetLevel}},yx.FaQiMgr=new yx.FaQiManager,cc._RF.pop()},{}],FangShiMgr:[function(e,t,n){cc._RF.push(t,"687b2SK0X9BfJ1WHD/VohnH","FangShiMgr"),yx.FangShiManger=function(){this._shopData={}},yx.FangShiManger.prototype={constructor:yx.FangShiManger,init:function init(){yx.network.addHandler(yx.proto.CmdId.FANG_SHI_LIST,this.onMessageShopList),yx.network.addHandler(yx.proto.CmdId.PURCHASE_GOODS,this.onMessagePurchaseGoods)},initShopList:function initShopList(e){var t=!0,n=!(this._shopData={}),i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._shopData[a.shopType]||(this._shopData[a.shopType]={}),this._shopData[a.shopType][a.layer]||(this._shopData[a.shopType][a.layer]=new Map),this._shopData[a.shopType][a.layer].set(a.goodsID,a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}},getGoodsList:function getGoodsList(e,t){return this._shopData[e]&&this._shopData[e][t]?Array.from(this._shopData[e][t].values()):new Array},changeGoods:function changeGoods(e){this._shopData[e.shopType]&&this._shopData[e.shopType][e.layer]&&this._shopData[e.shopType][e.layer].has(e.goodsID)&&this._shopData[e.shopType][e.layer].set(e.goodsID,e)},reqShopList:function reqShopList(){var e=new yx.proto.C2S_GetShopList;yx.network.sendMessage(yx.proto.CmdId.FANG_SHI_LIST,e)},reqPurchaseGoods:function reqPurchaseGoods(e,t,n,i){var o=new yx.proto.C2S_PurchaseGoods;o.shopType=e,o.layer=t,o.goodsID=n,o.count=i,yx.network.sendMessage(yx.proto.CmdId.PURCHASE_GOODS,o)},onMessageShopList:function onMessageShopList(e,t){var n=yx.proto.S2C_GetShopList.decode(t);yx.fangshiMgr.initShopList(n.shopInfo),yx.eventDispatch.dispatchMsg(yx.EventType.FANG_SHI_LIST,n)},onMessagePurchaseGoods:function onMessagePurchaseGoods(e,t){if(null!=e&&0<e.length)yx.log("[FangShiManger onMessagePurchaseGoods] error:"+e);else{var n=yx.proto.S2C_PurchaseGoods.decode(t);yx.fangshiMgr.changeGoods(n.shopInfo),yx.eventDispatch.dispatchMsg(yx.EventType.PURCHASE_GOODS,n)}}},yx.fangshiMgr=new yx.FangShiManger,t.exports=yx.fangshiMgr,cc._RF.pop()},{}],FangShiScrollItem:[function(e,t,n){cc._RF.push(t,"4cca09LdoBDaKje4B5+Ozx0","FangShiScrollItem");var i=e("GoodsItemWidget");cc.Class({extends:cc.Component,properties:{goodsItem1:i,goodsItem2:i,goodsItem3:i},onLoad:function onLoad(){},initGoodsList:function initGoodsList(e,t,n,i){var o=[];o.push(this.goodsItem1),o.push(this.goodsItem2),o.push(this.goodsItem3);var r=[e,t,n];for(var a in o){var s=o[a],c=r[a];if(c){s.node.active=!0,s.initGoods(c,i);var l=null;switch(i){case yx.SHOPTYPE.FANGSHI:l=yx.cfgMgr.getOneRecord("ShopListConfig",{ID:c.goodsID,Type:c.shopType,Layer:c.layer});break;case yx.SHOPTYPE.XIANFANG:l=yx.cfgMgr.getOneRecord("XianFangListConfig",{ID:c.goodsID,Type:c.xianFangType,Layer:c.layer});break;case yx.SHOPTYPE.HUOLANG:l=yx.cfgMgr.getOneRecord("HuoLangConfig",{ID:c.goodsID,Type:c.huoLangType,Layer:c.layer})}s.node.name=l?"fangshiItem_"+l.QuickId:""}else s.node.active=!1,s.node.name=""}},initReChargeList:function initReChargeList(e,t,n){var i=[];i.push(this.goodsItem1),i.push(this.goodsItem2),i.push(this.goodsItem3);var o=[e,t,n];for(var r in i){var a=i[r],s=o[r];s?(a.node.active=!0,a.initRecharge(s)):(a.node.active=!1,a.node.name="")}}}),cc._RF.pop()},{GoodsItemWidget:"GoodsItemWidget"}],FangShiWindow:[function(e,t,n){cc._RF.push(t,"0a3c222h01Nx4dLJuHQqlxB","FangShiWindow");var i=e("BaseWindow"),a=e("FangShiScrollItem"),o=e("GoodsItemWidget"),r=e("AttrGroupWidget"),s=[yx.proto.ShopType.LingBaoGe,yx.proto.ShopType.CangShuGe,yx.proto.ShopType.WeiWangGe,yx.proto.ShopType.XianYuGe,yx.proto.ShopType.Recharge];cc.Class({extends:i,properties:{attrGroupWidget:r,fangshiScrollItemPrefab:cc.Prefab,heishiBtn:cc.Button,titleLabel:cc.Label,switchTC:cc.ToggleContainer,scrollView:cc.ScrollView,scrollContent:cc.Node,prevBtn:cc.Button,zhaoshiBtn:cc.Button,nextBtn:cc.Button,nextHintLabel:cc.Label,drownArrow:cc.Node,timeHintLabel:cc.Label,_curType:Number,rechargeNode:cc.Node},_onInit:function _onInit(e){this.attrGroupWidget.initItems([yx.CyType.LINGSHI,yx.CyType.WEIWANG,yx.CyType.SHENYU]),this.attrGroupWidget.showItems([yx.CyType.LINGSHI,yx.CyType.SHENYU]),this.heishiBtn.node.on("click",this.onHeishiBtnClick,this),this.prevBtn.node.on("click",this.onPrevBtnClick,this),this.zhaoshiBtn.node.on("click",this.onZhaoShiBtnClick,this),this.nextBtn.node.on("click",this.onNextBtnClick,this),this.scrollView.node.on("scrolling",this.onScrolling,this),yx.eventDispatch.addListener(yx.EventType.FANG_SHI_LIST,this.onEventFangShiList,this),yx.eventDispatch.addListener(yx.EventType.PURCHASE_GOODS,this.onEventGoodsChange,this),this._initSwitchTC(),null!=e?null!=e.type&&(this._curType=e.type):this._curType=s[0],this._curLevels=[],this._curLevels[yx.proto.ShopType.LingBaoGe]=1,this._curLevels[yx.proto.ShopType.CangShuGe]=1,this._curLevels[yx.proto.ShopType.WeiWangGe]=1,this._curLevels[yx.proto.ShopType.XianYuGe]=1,this._curLevels[yx.proto.ShopType.Recharge]=1,this._shopCfg=null,this._nextLevelCfg=null,this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]),this.rechargeNode.active=yx.CodeHelper.checkFuncOpenShow(59)},_setCheckToggle:function _setCheckToggle(){var e=this.switchTC.node.getChildByName("toggle"+(s.indexOf(this._curType)+1));e&&e.getComponent(cc.Toggle).check()},_onShow:function _onShow(e){this._curType=yx.proto.ShopType.LingBaoGe,e&&(null!=e.type&&(this._curType=e.type),null!=e.scrollIndex&&(this._initScrollIndex=e.scrollIndex)),this._setCheckToggle(),this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]);var t=yx.fangshiMgr.getGoodsList(this._curType,this._curLevels[this._curType]);t&&0<t.length?yx.CodeHelper.CallInNextTick(this._refresh.bind(this)):yx.fangshiMgr.reqShopList()},_initSwitchTC:function _initSwitchTC(){this.switchTC.checkEvents.length=0,this.switchTC.checkEvents.push(yx.CodeHelper.NewClickEvent(this,"onSwitchTCClick"))},_changeTypeAndLevel:function _changeTypeAndLevel(e,t){this._curType=e,this._curLevels[this._curType]=t,this._curType!=yx.proto.ShopType.Recharge&&(this._shopCfg=yx.cfgMgr.getOneRecord("ShopBaseConfig",{Type:this._curType,Layer:this._curLevels[this._curType]}),this._nextLevelCfg=yx.cfgMgr.getOneRecord("ShopBaseConfig",{Type:this._curType,Layer:this._curLevels[this._curType]+1}))},_refreshGoods:function _refreshGoods(t,e){var n=this.scrollContent.getComponentsInChildren(o).find(function(e){return e.goodsId==t});n&&n.changeRemain(e)},_refreshScroll:function _refreshScroll(){var e=yx.fangshiMgr.getGoodsList(this._curType,this._curLevels[this._curType]);this.scrollContent.removeAllChildren(!0),e?e.length<9&&(e.length=9):e=new Array(9);var t=Math.ceil(e.length/3);this._itemSrcList=[];for(var n=0;n<t;n++){var i=cc.instantiate(this.fangshiScrollItemPrefab);this._ItemHeight=i.height;var o=i.getComponent(a);o&&(o.initGoodsList(e[3*n],e[3*n+1],e[3*n+2],yx.SHOPTYPE.FANGSHI),this.scrollContent.addChild(i),this._itemSrcList[n]=o)}},_refreshRecharge:function _refreshRecharge(){this.zhaoshiBtn.node.active=!1,this.titleLabel.string="充值",this.prevBtn.node.active=!1,this.nextBtn.node.active=!1,this.nextHintLabel.string="",this.timeHintLabel.node.active=!1,this.scrollContent.removeAllChildren(!0);var e=yx.cfgMgr.getAllConfig("PayItemConfig");if(e){var t=e.filter(function(e){return 1<=e.ID&&e.ID<=8});t?t.length<9&&(t.length=9):t=new Array(9);for(var n=Math.ceil(t.length/3),i=0;i<n;i++){var o=cc.instantiate(this.fangshiScrollItemPrefab),r=o.getComponent(a);r&&(r.initReChargeList(t[3*i],t[3*i+1],t[3*i+2]),this.scrollContent.addChild(o))}}},_refreshShop:function _refreshShop(){if(this._shopCfg){if(this._curType==yx.proto.ShopType.LingBaoGe||this._curType==yx.proto.ShopType.CangShuGe?this.zhaoshiBtn.node.active=!0:this.zhaoshiBtn.node.active=!1,this.timeHintLabel.node.active=!0,this.titleLabel.string=this._shopCfg.LayerName,this.prevBtn.node.active=1<this._curLevels[this._curType],this.nextBtn.node.active=!1,this.nextHintLabel.string="",this._nextLevelCfg){var e=yx.fangshiMgr.getGoodsList(this._curType,this._curLevels[this._curType]+1);if(this.nextBtn.node.active=0<e.length,0==this.nextBtn.node.active){var t=yx.cfgMgr.getOneRecord("DuJieConfig",{Level:this._nextLevelCfg.LevelLimit});t&&(this.nextHintLabel.string="达到"+t.Name+"\n方可上楼")}}this._refreshScroll()}},_refreshCurrency:function _refreshCurrency(){this._curType==yx.proto.ShopType.WeiWangGe?this.attrGroupWidget.showItems([yx.CyType.LINGSHI,yx.CyType.WEIWANG]):this.attrGroupWidget.showItems([yx.CyType.LINGSHI,yx.CyType.SHENYU])},_refresh:function _refresh(){this._refreshCurrency(),this._curType==yx.proto.ShopType.Recharge?this._refreshRecharge():this._refreshShop(),this.scheduleOnce(this.onScrolling,.1),this._initScrollIndex&&this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.scrollView.scrollToOffset(cc.v2(0,this._ItemHeight*this._initScrollIndex),.5),this._initScrollIndex=null}.bind(this))))},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTC.toggleItems.indexOf(e);if(0<=t){var n=s[t];if(null!=n&&n!=this._curType){if(n===yx.proto.ShopType.CangShuGe){if(!yx.CodeHelper.checkFuncOpen(54))return void this._setCheckToggle()}else if(n===yx.proto.ShopType.WeiWangGe){if(!yx.CodeHelper.checkFuncOpen(55))return void this._setCheckToggle()}else if(n===yx.proto.ShopType.LingBaoGe){if(!yx.CodeHelper.checkFuncOpen(53))return void this._setCheckToggle()}else if(n===yx.proto.ShopType.Recharge&&!yx.CodeHelper.checkFuncOpen(59))return void this._setCheckToggle();this._changeTypeAndLevel(n,this._curLevels[n]),this._refresh()}}},onPrevBtnClick:function onPrevBtnClick(){1<this._curLevels[this._curType]&&(this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]-1),this._refresh())},onZhaoShiBtnClick:function onZhaoShiBtnClick(){var e={};e.cfg=this._shopCfg,yx.windowMgr.showWindow("zhaodianshi",e)},onNextBtnClick:function onNextBtnClick(){this._nextLevelCfg&&yx.playerMgr.getDuJieLevel()>=this._nextLevelCfg.LevelLimit?(this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]+1),this._refresh()):yx.ToastUtil.showListToast("等级不足")},onHeishiBtnClick:function onHeishiBtnClick(){yx.CodeHelper.checkFuncOpen(12)&&yx.windowMgr.showWindow("heishi")},onEventFangShiList:function onEventFangShiList(){this.isShown()&&this._refresh()},onEventGoodsChange:function onEventGoodsChange(e){if(this.isShown()&&e&&e.shopInfo){var t=e.shopInfo.shopType,n=e.shopInfo.layer;this._curType==t&&this._curLevels[this._curType]==n&&this._refreshGoods(e.shopInfo.goodsID,e.shopInfo.remainCount);var i=yx.cfgMgr.getOneRecord("ShopListConfig",{ID:e.shopInfo.goodsID,Type:e.shopInfo.shopType,Layer:e.shopInfo.layer});if(i&&i.Reward){var o=i.Reward[0],r=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:o.id});if(r){var a=yx.colorUtil.AddColorString(r.Name+"x"+e.count,yx.textDict.QualityColor.getQualityColor(r.PinZhi));yx.ToastUtil.showListToast("获得"+a)}}}},onScrolling:function onScrolling(){this.scrollView.getScrollOffset().y>this.scrollContent.height-this.scrollView.node.height-10?this.drownArrow.active=!1:this.drownArrow.active=!0},getFangShiNodeByType:function getFangShiNodeByType(e){if(e==yx.GuideActionType.TYPE_6)for(var t=0;t<this._itemSrcList.length;t++){var n=this._itemSrcList[t];if(n.goodsItem1&&n.goodsItem1.IsCanAddTutor())return n.goodsItem1.node;if(n.goodsItem2&&n.goodsItem2.IsCanAddTutor())return n.goodsItem2.node;if(n.goodsItem3&&n.goodsItem3.IsCanAddTutor())return n.goodsItem3.node}return null}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",FangShiScrollItem:"FangShiScrollItem",GoodsItemWidget:"GoodsItemWidget"}],FenXiangPanel:[function(e,t,n){cc._RF.push(t,"bc88debAmFIhJ4pla+SXOPC","FenXiangPanel");var i=e("BaseWindow"),r="<color=#345A5C>分享游戏立即领取</c><color=#00C800>丰厚奖励</c>",a="<color=#345A5C>剩余分享时间</c><color=#00C800>{time}</c>";cc.Class({extends:i,properties:{tipRiText:cc.RichText,itemListLayout:cc.Layout,lingQuBtn:cc.Node,fenXiangBtn:cc.Node},_onInit:function _onInit(){this.lingQuBtn.on("click",this.lingQuBtnClick,this),this.fenXiangBtn.on("click",this.fenXiangBtnClick,this),yx.eventDispatch.addListener(yx.EventType.SHARE_GET_INFO,this.onEventGetShareInfo,this),yx.eventDispatch.addListener(yx.EventType.SHARE_OPT_REQ,this.onEventOptReq,this),yx.eventDispatch.addListener(yx.EventType.SHARE_REVEIVED,this.onEventReveived,this),this._resetNodes()},_resetNodes:function _resetNodes(){this.lingQuBtn.active=!1,this.fenXiangBtn.active=!1},_onShow:function _onShow(){yx.shareMgr.reqShare(yx.proto.WeChatShareCmdType.GetShare_Cmd)},onEventGetShareInfo:function onEventGetShareInfo(e){var n=this;this._resetNodes();var t=yx.cfgMgr.getOneRecord("ShareRewardConfig",{ID:e.id});this.itemListLayout.node.removeAllChildren(!0),t&&t.Reward.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});t&&yx.ItemWidget.CreateItemSlot({itemId:t.ID,amount:e.count,clickCallBack:n.onItemClick.bind(n)},n.itemListLayout.node,"itemSlot"+e.id,!0)}),this.fenXiangBtn.active=!e.received,this.lingQuBtn.active=e.received;var i=yx.timeUtil.getServerTime(),o=e.endTime;i<o?(this.leftTime=parseInt((o-i)/1e3),0<this.leftTime&&(this.tipRiText.string=r+a.format({time:yx.timeUtil.seconds2hourMinSecondChina(this.leftTime)}),this.schedule(this._scheduleCallback.bind(this),1,cc.macro.REPEAT_FOREVER,.1))):this.tipRiText.string=r},onEventOptReq:function onEventOptReq(e){this.fenXiangBtn.active=!e.received,this.lingQuBtn.active=e.received},onEventReveived:function onEventReveived(e){yx.ToastUtil.showListToast("领取成功!"),this.lingQuBtn.active=!1,this.fenXiangBtn.active=!0,e.rewards.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});if(t){var n=yx.textDict.QualityColor.getQualityColor(t.PinZhi),i="获得"+yx.colorUtil.AddColorString(t.Name+"x"+e.count,n);yx.ToastUtil.showListToast(i)}}),yx.shareMgr.reqShare(yx.proto.WeChatShareCmdType.GetShare_Cmd)},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_scheduleCallback:function _scheduleCallback(){var e=yx.timeUtil.seconds2hourMinSecondChina(this.leftTime);if(this.leftTime--,this.leftTime<=0)return this.unscheduleAllCallbacks(),void(this.tipRiText.string=r);this.tipRiText.string=r+a.format({time:e})},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},lingQuBtnClick:function lingQuBtnClick(){yx.shareMgr.reqShare(yx.proto.WeChatShareCmdType.Reveived_Cmd)},fenXiangBtnClick:function fenXiangBtnClick(){var e=yx.shareMgr.getShareInfo();e&&(yx.timeUtil.getServerTime()>e.endTime?(yx.sdkLayer.share(),yx.shareMgr.reqShare(yx.proto.WeChatShareCmdType.Share_Cmd)):yx.ToastUtil.showListToast("分享时间未到"))},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],FengShenItem:[function(e,t,n){cc._RF.push(t,"fad533mEqVFE62hlNh2e7xK","FengShenItem");var r=e("ItemWidget"),a=e("FrameLoadWidget");cc.Class({extends:cc.Component,properties:{rankLabel:cc.Label,weiLieRT:cc.RichText,chengHaoRT:cc.RichText,scrollContent:cc.Node,itemWidgetPrefab:cc.Prefab,chengHaoSp:cc.Sprite,rongyuNode:cc.Node},frameInit:function frameInit(e){e.Rank&&(e.Rank[0]==e.Rank[1]&&(this.rankLabel.string="第{rank}名".format({rank:e.Rank[0]})),e.Rank[0]!=e.Rank[1]&&(this.rankLabel.string="第{from}至{to}名".format({from:e.Rank[0],to:e.Rank[1]}))),e.Desc&&(this.weiLieRT.string=e.Desc.join("\n"),this.rongyuNode.active=0<e.Desc.length);var t=yx.cfgMgr.getOneRecord("TitleConfig",{ID:e.TitleId});t?(this.chengHaoSp.node.active=!0,yx.resUtil.LoadSpriteByType(t.Icon,yx.ResType.CHENG_HAO,this.chengHaoSp)):this.chengHaoSp.node.active=!1;var n=e.Reward,i=this,o=[];i.scrollContent.removeAllChildren(!0),n.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i._onItemClick,o.push({info:t,isShowPinJie:!0})}),o&&this.node.addComponent(a).init(this.scrollContent,o,this.itemWidgetPrefab,r).startLoad()},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{FrameLoadWidget:"FrameLoadWidget",ItemWidget:"ItemWidget"}],FengShenRankPanel:[function(e,t,n){cc._RF.push(t,"a65a7dQiHhC568qPEI53VKS","FengShenRankPanel");var i=e("BaseWindow"),o=e("ScrollViewRepeat"),r=e("RankItem");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,RankItemPrefab:cc.Prefab,myselfRankItem:r},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.RANK_FENGSHEN_LIST,this.onEventRankRefresh,this)},_onShow:function _onShow(){yx.FengShenMgr.reqFengShenRankList()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_setMyselfInfo:function _setMyselfInfo(){var e={};e.rankIndex=0==yx.FengShenMgr.getMyFengShenRank()?"未上榜":yx.FengShenMgr.getMyFengShenRank(),e.zhongZu=yx.playerMgr.getZhongZu(),e.level=yx.playerMgr.getDuJieLevel(),e.nickName=yx.playerMgr.getName(),this.myselfRankItem.initItem(0,e)},_refresh:function _refresh(){if(this._svr)this._svr.updateAllWithoutData();else{var e=yx.FengShenMgr.getFengShenRankList();if(0<e.length){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);this._svr=this.scrollView.getComponent(o),this._svr.initialize(t,this.RankItemPrefab)}}this._setMyselfInfo()},onEventRankRefresh:function onEventRankRefresh(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",RankItem:"RankItem",ScrollViewRepeat:"ScrollViewRepeat"}],FengShenWindow:[function(e,t,n){cc._RF.push(t,"75f99av8PlE56t+aexGUxah","FengShenWindow");var i=e("BaseWindow"),o=e("FengShenItem"),r=e("FrameLoadWidget");cc.Class({extends:i,properties:{kuitanBtn:cc.Button,fengshenbangBtn:cc.Button,faqiBtn:cc.Button,chatLabel:cc.Label,scrollContent:cc.Node,fengShenItemPrefab:cc.Prefab,leftTimeLabel:cc.Label},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.FENGSHEN_CONFIG,this.onEventConfigRefresh,this),this.kuitanBtn.node.on("click",this.onKuitanBtnClick,this),this.fengshenbangBtn.node.on("click",this.onFengshenbangBtnClick,this),this.faqiBtn.node.on("click",this.onFaqiBtnClick,this);var e=yx.cfgMgr.getAllConfig("FengShenBangBaseConfig");e&&e[0]&&(this.chatLabel.string=e[0].MainDesc.join("\n"));var t=yx.cfgMgr.getAllConfig("FengShenBangRankConfig");t&&this.node.addComponent(r).init(this.scrollContent,t,this.fengShenItemPrefab,o).startLoad(5),this._leftTimeCallback=this.leftTimeCallback.bind(this)},refreshLeftTime:function refreshLeftTime(){var e=yx.FengShenMgr.getActivityData(yx.FengShenMgr.fengShenActivityId);e&&(this._endTime=e.endTime,this.unschedule(this._leftTimeCallback),this.schedule(this._leftTimeCallback,1,cc.macro.REPEAT_FOREVER,.1))},onEventConfigRefresh:function onEventConfigRefresh(){this.refreshLeftTime()},leftTimeCallback:function leftTimeCallback(){var e=yx.timeUtil.getServerTime(),t=parseInt(this._endTime-e)/1e3;this.leftTimeLabel.string=yx.timeUtil.seconds2DayHourMinSecondChina(t),t<=0&&(this.leftTimeLabel.string="0天0时0分0秒",this.unschedule(this._leftTimeCallback))},onKuitanBtnClick:function onKuitanBtnClick(){yx.windowMgr.showWindow("kuiTanTianJiWindow")},onFengshenbangBtnClick:function onFengshenbangBtnClick(){yx.windowMgr.showWindow("fengShenRankPanel")},onFaqiBtnClick:function onFaqiBtnClick(){yx.windowMgr.showWindow("xianDingFaQiPanel")},_onShow:function _onShow(){yx.FengShenMgr.reqConfig()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FengShenItem:"FengShenItem",FrameLoadWidget:"FrameLoadWidget"}],FengShengBangMgr:[function(e,t,n){cc._RF.push(t,"72359g4tmxI2opMYveLBZjT","FengShengBangMgr"),yx.FengShenManager=function(){this.fengShenActivityId=3003},yx.FengShenManager.prototype={constructor:yx.FengShenManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.RANK_FLY_UP_TIME,this.onMessageFengShenRankInfo),yx.network.addHandler(yx.proto.CmdId.RANK_FLY_UP_CONFIG,this.onMessageConfig),this._fengshenRankList=[],this._myFengshenRank=0},reqFengShenRankList:function reqFengShenRankList(){yx.log("[RankManager] reqFengShenRankList ");var e=new yx.proto.C2S_RankList;yx.network.sendMessage(yx.proto.CmdId.RANK_FLY_UP_TIME,e)},reqConfig:function reqConfig(){yx.log("RankManager  Info");var e=new yx.proto.C2S_Activity;e.cmdType=yx.proto.ActivityCmdType.GetActivityConfig_Cmd,yx.network.sendMessage(yx.proto.CmdId.RANK_FLY_UP_CONFIG,e)},onMessageConfig:function onMessageConfig(e,t){if(null!=e&&0<e.length)yx.log("[RankManager onMessageConfig] error:"+e);else{var n=yx.proto.S2C_Activity.decode(t);yx.FengShenMgr.updateList(n)}},updateList:function updateList(e){this._activityMap={};for(var t=0;t<e.activityConfig.length;t++){var n=e.activityConfig[t];n.avalid&&(this._activityMap[n.id]={},this._activityMap[n.id].endTime=n.endTime,this._activityMap[n.id].startTime=n.startTime)}yx.eventDispatch.dispatchMsg(yx.EventType.FENGSHEN_CONFIG)},getActivityData:function getActivityData(e){return this._activityMap?this._activityMap[e]:null},onMessageFengShenRankInfo:function onMessageFengShenRankInfo(e,t){if(yx.log("RankManager onMessageFengShenRankInfo-----"),null!=e&&0<e.length)yx.log("[RankManager onMessageFengShenRankInfo] error:"+e);else{var n=yx.proto.S2C_RankList.decode(t);yx.FengShenMgr.updateFengShenRankList(n),yx.eventDispatch.dispatchMsg(yx.EventType.RANK_FENGSHEN_LIST)}},updateFengShenRankList:function updateFengShenRankList(e){this._fengshenRankList=e.rankInfo,this._fengshenRankList.sort(function(e,t){return e.rankIndex<t.rankIndex?-1:e.rankIndex==t.rankIndex?0:1});for(var t=0;t<this._fengshenRankList.length;t++){var n=this._fengshenRankList[t];n.playerID==yx.playerMgr.getPid()&&(this._myFengshenRank=n.rankIndex)}},getFengShenRankList:function getFengShenRankList(){return this._fengshenRankList},getMyFengShenRank:function getMyFengShenRank(){return this._myFengshenRank}},yx.FengShenMgr=new yx.FengShenManager,t.exports=yx.FengShenMgr,cc._RF.pop()},{}],FightHelper:[function(e,t,n){cc._RF.push(t,"887ffd6NYZMDLU5pAEn0jlW","FightHelper");var i=cc.Class({reset:function reset(){this.level=0,this.id=0,this.skill=0,this.hp=0,this.shanbi=0,this.atk=0,this.def=0,this.zu=0,this.baoji=0,this.zhaoshiAtrr={},this.zhongzuAtrr={}},getZhongZuAtk:function getZhongZuAtk(e){return this.zhongzuAtrr[e]||0},getSkillAtk:function getSkillAtk(e){var t=this.zhaoshiAtrr[e];return t?yx.playerMgr.getProperty(e)*(t/1e4):0},initByPlayer:function initByPlayer(){this.reset(),this.level=yx.playerMgr.getDuJieLevel(),this.id=yx.playerMgr.getPid(),this.zu=yx.playerMgr.getZhongZu(),this.hp=yx.playerMgr.getSecAttr(yx.proto.PropertyType.TiPo),this.shanbi=yx.playerMgr.getSecAttr(yx.proto.PropertyType.ShenFa),this.atk=yx.playerMgr.getSecAttr(yx.proto.PropertyType.ZhenQi),this.def=yx.playerMgr.getSecAttr(yx.proto.PropertyType.GenGu),this.baoji=yx.playerMgr.getSecAttr(yx.proto.PropertyType.LingLi);var e=yx.cfgMgr.getOneRecord("SkillConfig",{ID:yx.gongfaMgr.getCurZhaoShi(),Type:yx.proto.GongFaType.ZhaoShi});if(e&&e.ZhaoShiAttr)for(var t in e.ZhaoShiAttr){var n=e.ZhaoShiAttr[t];this.zhaoshiAtrr[n.AttrType]=n.AttrRate}return this.zhongzuAtrr[yx.proto.PropertyType.RenZu]=yx.playerMgr.getProperty(yx.proto.PropertyType.RenZu),this.zhongzuAtrr[yx.proto.PropertyType.YaoZu]=yx.playerMgr.getProperty(yx.proto.PropertyType.YaoZu),this.zhongzuAtrr[yx.proto.PropertyType.MoZu]=yx.playerMgr.getProperty(yx.proto.PropertyType.MoZu),this.zhongzuAtrr[yx.proto.PropertyType.ShouZu]=yx.playerMgr.getProperty(yx.proto.PropertyType.ShouZu),this.zhongzuAtrr[yx.proto.PropertyType.XianRen]=yx.playerMgr.getProperty(yx.proto.PropertyType.XianRen),this},initByMonster:function initByMonster(e){this.reset();var t=yx.cfgMgr.getOneRecord("MonsterAttrConfig",{ID:e});if(t){var n=t.AttrPower;for(var i in this.zu=t.ZhongZu,n){var o=n[i];o.type===yx.proto.PropertyType.TiPo?this.hp=yx.playerMgr.attr2secAttr(o.type,o.value):o.type===yx.proto.PropertyType.ShenFa?this.shanbi=yx.playerMgr.attr2secAttr(o.type,o.value):o.type===yx.proto.PropertyType.ZhenQi?this.atk=yx.playerMgr.attr2secAttr(o.type,o.value):o.type===yx.proto.PropertyType.GenGu&&(this.def=yx.playerMgr.attr2secAttr(o.type,o.value)),o.type>=yx.proto.PropertyType.RenZu&&o.type<=yx.proto.PropertyType.XianRen&&(this.zhongzuAtrr[o.type]=o.value)}var r=t.SkillId;if(r){var a=yx.cfgMgr.getOneRecord("SkillConfig",{Index:r,Type:yx.proto.GongFaType.ZhaoShi});if(a&&a.ZhaoShiAttr)for(var s in a.ZhaoShiAttr){var c=a.ZhaoShiAttr[s];this.zhaoshiAtrr[c.AttrType]=c.AttrRate}}}var l=yx.cfgMgr.getOneRecord("LiLianMonsterConfig",{MonsterId:e});return l&&l.Level&&(this.level=l.Level),this}}),o=new i,r=new i,a={getFightResult:function getFightResult(e){var t=o.initByPlayer(),n=r.initByMonster(e);return this._fight(t,n)},_fight:function _fight(e,t){var n={init1:{},init2:{},fightInfo:[]};n.init1.id=e.id,n.init1.hp=e.hp,n.init2.id=t.id,n.init2.hp=t.hp,n.win=!1,n.isPkNormal=!0;var i=null,o=null,r=null;o=e.level>=t.level?(i=e,t):(i=t,e);for(var a=0;0<i.hp&&0<o.hp;)if(this._checkShanBi(i.shanbi,o.shanbi)){if(n.fightInfo.push({attack:i.id,defense:o.id,status:"0",hurt:0}),r=i,i=o,o=r,60<=++a)break}else{var s=i.atk,c=o.def,l=0;for(var u in i.zhaoshiAtrr)i.zhaoshiAtrr[u]&&(l+=i.getSkillAtk(u));var d=s+l-c+i.getZhongZuAtk(this._convertToZhongZuHurtType(o.zu));if(this._checkBaoji(i.baoji,o.baoji)&&(d<<=1),d<=0&&(d=1),0===d&&yx.error("伤害为0"),n.fightInfo.push({attack:i.id,defense:o.id,status:"0",hurt:d}),o.hp-=d,r=i,i=o,o=r,30<=++a)break}return n.win=t.hp<=0,n},_checkShanBi:function _checkShanBi(e,t){var n=1e4-Math.max(9500-(t-e)/5e3,5e3);return parseInt(1e4*Math.random())<=n},_checkBaoji:function _checkBaoji(e,t){var n=1e4-Math.max(9500-(t-e)/5e3,5e3);return parseInt(1e4*Math.random())<=n},_convertToZhongZuHurtType:function _convertToZhongZuHurtType(e){switch(e){case yx.ZhongZu.REN:return yx.proto.PropertyType.RenZu;case yx.ZhongZu.YAO:return yx.proto.PropertyType.YaoZu;case yx.ZhongZu.MO:return yx.proto.PropertyType.MoZu;case yx.ZhongZu.XIAN:return yx.proto.PropertyType.XianRen;case yx.ZhongZu.LONG:return yx.proto.PropertyType.LongZu;case yx.ZhongZu.SHOU:return yx.proto.PropertyType.ShouZu;default:return 0}}};yx.FightHelper=t.exports=a,cc._RF.pop()},{}],FightPanel:[function(e,t,n){cc._RF.push(t,"90e5f2CybJNsbmE1kYBN5qK","FightPanel");var i=e("BaseWindow"),o=cc.Enum({Normal:0,ShanBi:1,BaoJi:2}),r={Attack:"attack",Die:"die",Behit:"hit",Idle:"stand",Skill:"skill"},c=cc.Enum({Ready:0,Fighting:1}),a=cc.Class({extends:i,properties:{fightBgSp:cc.Sprite,nameLabel:cc.Label,titleGroup:cc.Node,hpGroup:cc.Node,myPb:cc.ProgressBar,enemyPb:cc.ProgressBar,roleNode:cc.Node,loadRoleFaXiangNode:cc.Node,loadRoleNode:cc.Node,enemyRoleNode:cc.Node,enemyDrogon:dragonBones.ArmatureDisplay,enemyLoadRoleFaXiangNode:cc.Node,enemyLoadRoleNode:cc.Node,normalPuGongDrogon:dragonBones.ArmatureDisplay,bossPuGongDrogon:dragonBones.ArmatureDisplay,dieDrogon:dragonBones.ArmatureDisplay,enemyShadowSprite:cc.Sprite,playerShadowSprite:cc.Sprite,damageNumLabel:cc.Label,damageNode:cc.Node,damageShanBiNode:cc.Node,desRichText:cc.RichText,textScrollView:cc.ScrollView,atkBtn:cc.Button,cancelBtn:cc.Button,exitBtn:cc.Button,_fightStatus:0,_fightMonMsg:null,_fightType:0,_enemyId:0,_myInfoMsg:null,_enemyInfoMsg:null,_roundList:null,_currRoundMsg:null,_isWin:!1,_dropMsg:null,_myZhaoShiCfg:null,_enemyZhaoShiCfg:null,_showDrop:!1,_endCallback:null,_endTarget:null},statics:{ShowFightPanel:function ShowFightPanel(e,t,n,i){var o={};o.type=e,o.enemyId=t,o.status=c.Ready,o.showDrop=!0,n&&i&&(o.callback=n,o.target=i),yx.windowMgr.showWindow("fightPanel",o)},ShowFightResult:function ShowFightResult(e,t,n,i,o,r,a){if(n&&n.fightInfo&&0!=n.fightInfo.length){var s={};s.type=e,s.enemyId=n.init2.id,s.npcId=n.npcId,s.enemyName=t,s.status=c.Fighting,s.resultMsg=n,s.showDrop=i,o&&r&&(s.callback=o,s.target=r),s.enemyData=a,yx.windowMgr.showWindow("fightPanel",s)}else yx.error("[FightPanel ShowFightResult] fightInfo error")}},_onInit:function _onInit(e){this.normalPuGongDrogon.node.active=!1,this.bossPuGongDrogon.node.active=!1,this.dieDrogon.node.active=!1,this.atkBtn.node.on("click",this.onAtkBtnClick,this),this.cancelBtn.node.on("click",this.onCancelBtnClick,this),this.exitBtn.node.on("click",this.onExitBtnClick,this),yx.eventDispatch.addListener(yx.EventType.FIGHT_MONSTER,this.onEventFightMonster,this),e&&(this._fightStatus=e.status,this._fightType=e.type,this._enemyId=e.enemyId,this._npcId=e.npcId,this._showDrop=e.showDrop,e.enemyName&&(this._enemyName=e.enemyName),e.resultMsg&&this._setResult(e.resultMsg),e.callback&&e.target&&(this._endCallback=e.callback,this._endTarget=e.target),this._enemyData=e.enemyData),this.initActions(),this.loadBattlePlayer(),"dongtian_rob"==this._fightType?this.loadBattlePlayer(!0):this.loadBattleEnemy(),this.loadFightBg(),this._refresh()},loadBattlePlayer:function loadBattlePlayer(e){if(e){this.enemyShadowSprite.node.runAction(cc.fadeIn(.5)),this._enemyData.avatarId&&yx.resUtil.loadRoleAvatar(this.enemyLoadRoleNode,this._enemyData.avatarId,"fight"),this._enemyData.faxiangId&&yx.resUtil.loadRoleAvatar(this.enemyLoadRoleFaXiangNode,this._enemyData.faxiangId,"fight",null),this.enemyShadowSprite.node.scale=this.enemyLoadRoleNode.scale;var t=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:this._enemyData.avatarId});t&&1==t.Flip?this.enemyLoadRoleNode.scaleX=+Math.abs(this.enemyLoadRoleNode.scaleX):this.enemyLoadRoleNode.scaleX=-1*Math.abs(this.enemyLoadRoleNode.scaleX)}else{this.playerShadowSprite.node.runAction(cc.fadeIn(.5)),yx.resUtil.loadRoleAvatar(this.loadRoleNode,yx.playerMgr.getAvatarId(),"fight"),yx.resUtil.loadRoleAvatar(this.loadRoleFaXiangNode,yx.playerMgr.getFaXiang(),"fight",null),this.playerShadowSprite.node.scale=this.loadRoleNode.scale;var n=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:yx.playerMgr.getAvatarId()});n&&1==n.Flip?this.loadRoleNode.scaleX=-1*Math.abs(this.loadRoleNode.scaleX):this.loadRoleNode.scaleX=+Math.abs(this.loadRoleNode.scaleX)}},loadFightBg:function loadFightBg(){switch(this._fightType){case"diGong":yx.resUtil.LoadSpriteByType("zd-2",yx.ResType.BATTLE_MIN_BG,this.fightBgSp);break;default:yx.resUtil.LoadSpriteByType("zd-1",yx.ResType.BATTLE_MIN_BG,this.fightBgSp)}},loadBattleEnemy:function loadBattleEnemy(){this.enemyRoleNode.active=!0,this.enemyRoleNode.runAction(cc.fadeIn(.5)),this.enemyShadowSprite.node.runAction(cc.fadeIn(.5));var e="colorAction/",t="colorAction/guaiwu1";switch(this.isCurLoadBoss&&(t="colorAction/boss2"),this._fightType){case"chuangXianZhen":case"qiyu_fight":case"jingji":case"diGong":case"xianmeng_boss":var n=yx.cfgMgr.getOneRecord("MonsterAttrConfig",{ID:this._enemyId});if(n&&n.AvatarId){var i=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:n.AvatarId});i&&(t=e+i.Avatar,i.Avatar)}break;case"daolv":case"menpai_qiecuo":case"menpai_tiaozhan":var o=yx.cfgMgr.getOneRecord("NpcListConfig",{ID:this._npcId});if(o){var r=yx.cfgMgr.getOneRecord("MonsterAttrConfig",{ID:o.MonsterId});if(r&&r.AvatarId){var a=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:r.AvatarId});a&&(t=e+a.Avatar,a.Avatar)}}}yx.resUtil.loadDragonBones(this.enemyDrogon,t,"MovieClip","newAnimation",null,null),this.enemyDrogon.node.scale=.7*this.enemyDrogon.node.scale,this.enemyShadowSprite.node.scale=this.enemyDrogon.node.scale},_playBattleAction:function _playBattleAction(e,t){var n=t?this.roleNode:this.enemyRoleNode,i=t?"player":"enemy";if(n&&this.actions&&this.actions[i]&&this.actions[i][e]){var o=this.actions[i][e].action.clone();o.setTag(this.actions[i][e].tag),n.runAction(o)}},_setResult:function _setResult(e){this._myInfoMsg=e.init1,this._enemyInfoMsg=e.init2,this._roundList=e.fightInfo,this._isWin=e.win,this._dropMsg=e.drop,this._packageFull=e.packageFull,this._myZhaoShiCfg=yx.cfgMgr.getOneRecord("SkillConfig",{Index:e.init1.skill,Type:yx.proto.GongFaType.ZhaoShi}),this._enemyZhaoShiCfg=yx.cfgMgr.getOneRecord("SkillConfig",{Index:e.init2.skill,Type:yx.proto.GongFaType.ZhaoShi})},_onShow:function _onShow(){},_onHide:function _onHide(){},update:function update(){this.playerShadowSprite.node.x=this.roleNode.x,this.enemyShadowSprite.node.x=this.enemyRoleNode.x},_refreshDetail:function _refreshDetail(){switch(this.exitBtn.node.active=!1,this.atkBtn.node.active=!0,this.cancelBtn.node.active=!0,this.titleGroup.active=!0,this.hpGroup.active=!1,this._fightType){case"lilian":var e=yx.cfgMgr.getOneRecord("LiLianMonsterConfig",{ID:this._enemyId});e&&(this.nameLabel.string=e.Name,this.desRichText.string="境界："+e.LevelName+"\n\n种族："+yx.textDict.ZhongZu[e.ZhongZu]+"\n\n"+e.DefDesc,this._enemyName=e.Name)}},_refreshFighting:function _refreshFighting(){this.exitBtn.node.active=!0,this.atkBtn.node.active=!1,this.cancelBtn.node.active=!1,this.exitBtn.interactable=!1,this.titleGroup.active=!1,this.myPb.progress=1,this.enemyPb.progress=1,this._myHp=this._myInfoMsg.hp,this._enemyHp=this._enemyInfoMsg.hp,this._myName=yx.playerMgr.getName(),this.hpGroup.active=!0,this.desRichText.string="",yx.log("[Fight _refreshFighting] start"),this.schedule(this._refreshFightRound,1.4,cc.macro.REPEAT_FOREVER,.5)},_refresh:function _refresh(){this._fightStatus==c.Ready?this._refreshDetail():this._fightStatus==c.Fighting&&this._refreshFighting()},_playDrogonBehitAnim:function _playDrogonBehitAnim(e,t){this._playBattleAction(t.actionName,t.isLeft)},_refreshRichText:function _refreshRichText(e,t){var n={};n.damage=e.hurt,t?(n.atkName=this._myName,n.defName=this._enemyName,n.zhaoshiName=this._myZhaoShiCfg.Name):(n.atkName=this._enemyName,n.defName=this._myName,n.zhaoshiName=this._enemyZhaoShiCfg.Name);var i="";switch(e.status){case o.Normal:i=yx.textDict.Fight.Normal.format(n)+"\n";break;case o.ShanBi:i=yx.textDict.Fight.ShanBi.format(n)+"\n";break;case o.BaoJi:i=yx.textDict.Fight.BaoJi.format(n)+"\n"}this.desRichText.string+=i,0==this._roundList.length&&(i=this._isWin?yx.textDict.Fight.Succ.format(n)+"\n":yx.textDict.Fight.Fail.format(n)+"\n",this.desRichText.string+=i),this.desRichText.node.getContentSize().height>=this.textScrollView.node.getContentSize().height&&this.textScrollView.scrollToBottom()},attackEvent:function attackEvent(){var e=this._currRoundMsg.attack==yx.playerMgr.getPid();this._refreshHpBar(this._currRoundMsg,!e);var t=e&&this._enemyHp<=0||!e&&this._myHp<=0;this._refreshBehit(!e,t),this._refreshDamageLabel(this._currRoundMsg,!e),this._refreshHitEff(!e)},_refreshHitEff:function _refreshHitEff(e){e?this.isCurLoadBoss?(this.bossPuGongDrogon.node.position=cc.v2(this.roleNode.position.x+45,this.roleNode.position.y+30),this.bossPuGongDrogon.node.scaleX=1,this.bossPuGongDrogon.node.active=!0,this.bossPuGongDrogon.playAnimation("newAnimation",1)):(this.normalPuGongDrogon.node.position=cc.v2(this.roleNode.position.x+90,this.roleNode.position.y+30),this.normalPuGongDrogon.node.scaleX=-1,this.normalPuGongDrogon.node.active=!0,this.normalPuGongDrogon.playAnimation("newAnimation",1)):(this.normalPuGongDrogon.node.position=cc.v2(this.enemyRoleNode.position.x-90,this.enemyRoleNode.position.y+30),this.normalPuGongDrogon.node.scaleX=1,this.normalPuGongDrogon.node.active=!0,this.normalPuGongDrogon.playAnimation("newAnimation",1))},_refreshHpBar:function _refreshHpBar(e,t){t?(this._myHp-=e.hurt,this.myPb.progress=this._myHp/this._myInfoMsg.hp):(this._enemyHp-=e.hurt,this.enemyPb.progress=this._enemyHp/this._enemyInfoMsg.hp)},_refreshDamageLabel:function _refreshDamageLabel(e,t){t?this.damageNode.setPosition(this.enemyRoleNode.getPosition()):this.damageNode.setPosition(this.roleNode.getPosition()),this.damageNode.y+=100,0===e.hurt?(this.damageShanBiNode.active=!0,this.damageNumLabel.node.active=!1):(this.damageShanBiNode.active=!1,this.damageNumLabel.node.active=!0,this.damageNumLabel.string="/"+e.hurt),this.damageNode.stopActionByTag(yx.ActionTag.DEMAGE_ACTION);var n=cc.scaleTo(0,1,1),i=cc.fadeIn(0),o=cc.scaleTo(.08,3.5,3.5),r=cc.scaleTo(.13,1,1),a=cc.moveBy(.8,cc.v2(0,50)),s=cc.fadeOut(.8),c=cc.sequence(cc.spawn(n,i),o,r,cc.delayTime(.3),cc.spawn(a,s));c.setTag(yx.ActionTag.DEMAGE_ACTION),this.damageNode.runAction(c)},_refreshBehit:function _refreshBehit(e,t){var n=t?r.Die:r.Hit;this._playBattleAction(n,e)},_refreshFightRound:function _refreshFightRound(){if(yx.log("[Fight _refreshFightRound] time:"+yx.timeUtil.getNowTimeString()),0<this.desRichText.string.length&&0==this.exitBtn.interactable&&(this.exitBtn.interactable=!0),0!=this._roundList.length){this._currRoundMsg=this._roundList.shift();var e=this._currRoundMsg.attack==yx.playerMgr.getPid();this._playBattleAction(r.Attack,e),this._refreshRichText(this._currRoundMsg,e)}else this.onFightEnd()},onAtkBtnClick:function onAtkBtnClick(){yx.battleMgr.reqFightMonster()},onCancelBtnClick:function onCancelBtnClick(){yx.windowMgr.goBack()},onExitBtnClick:function onExitBtnClick(){this.onFightEnd()},onEventFightMonster:function onEventFightMonster(e){this.isShown()&&(e.init2.id==this._enemyId?(this._setResult(e),this._myZhaoShiCfg&&this._enemyZhaoShiCfg?this._refreshFighting():yx.error("[FightPanel onEventFightMonster] zhaoshiCfg error: "+e.init1.skill+" and "+e.init2.skill)):yx.error("ID不一样"))},onFightEnd:function onFightEnd(){if(yx.log("[FightPanel onFightEnd]"),this._currRoundMsg=null,this.unschedule(this._refreshFightRound),this._isWin){var e=this._dropMsg;yx.windowMgr.closeWindow(this),this._showDrop&&(e||this._packageFull)&&yx.DropShowPanel.ShowDropPanel(e,null,this._packageFull)}else yx.windowMgr.closeWindow(this);this._endTarget&&this._endCallback&&this._endCallback.call(this._endTarget,this._isWin)},initActions:function initActions(){var t=this;this.orginPlayerPosition=this.roleNode.position,this.orginEnemyPosition=this.enemyRoleNode.position,this.hitColor=new cc.Color(255,0,0,178),this.normalColor=new cc.Color(255,255,255,255);var e=Math.abs(this.enemyRoleNode.x-this.roleNode.x)-100,n=cc.fadeOut(.5),i=cc.sequence(cc.moveBy(.1,e,0),cc.spawn(cc.rotateTo(.1,13),cc.moveBy(.1,44,-3)),cc.callFunc(function(){t.attackEvent()}),cc.spawn(cc.rotateTo(.1,-4),cc.moveBy(.1,-56,33)),cc.spawn(cc.moveTo(.1,this.orginPlayerPosition.x,this.orginPlayerPosition.y),cc.rotateTo(.1,0)),cc.callFunc(function(){yx.log("player attatkAction end fightpanel")})),o=cc.sequence(cc.moveBy(.5,100,0),cc.callFunc(function(){t.attackEvent()}),cc.moveBy(.5,-100,0),cc.callFunc(function(){yx.log("player skillAction end fightpanel")})),r=cc.tintTo(.1,this.hitColor.getR(),this.hitColor.getG(),this.hitColor.getB(),this.hitColor.getA()),a=cc.tintTo(.1,this.normalColor.getR(),this.normalColor.getG(),this.normalColor.getB(),this.normalColor.getA()),s=cc.sequence(cc.spawn(cc.callFunc(function(){var e=r.clone();e.setTag(yx.ActionTag.RED_TINTTO_ACTION),t.loadRoleNode.runAction(e)}),cc.moveBy(.1,-10,0)),cc.spawn(cc.callFunc(function(){var e=a.clone();e.setTag(yx.ActionTag.NORMAL_TINTTO_ACTION),t.loadRoleNode.runAction(e)}),cc.moveBy(.1,10,0)),cc.callFunc(function(){yx.log("player hitAction end fightpanel")})),c=cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){yx.log("player dieAction end fightpanel");var e=n.clone();e.setTag(yx.ActionTag.NORMAL_FADEOUT),t.playerShadowSprite.node.runAction(e),t.dieDrogon.node.active=!0,t.dieDrogon.playAnimation("newAnimation",1),t.dieDrogon.node.position=t.orginPlayerPosition})),l=cc.sequence(cc.moveBy(.1,-e,0),cc.spawn(cc.rotateTo(.1,17),cc.moveBy(.1,0,38)),cc.callFunc(function(){t.attackEvent()}),cc.spawn(cc.rotateTo(.1,0),cc.moveBy(.1,0,-38)),cc.spawn(cc.moveTo(.1,this.orginEnemyPosition.x,this.orginEnemyPosition.y),cc.rotateTo(.1,0)),cc.callFunc(function(){yx.log("enemy attatkAction end fightpanel")})),u=cc.sequence(cc.moveBy(.5,-100,0),cc.callFunc(function(){t.attackEvent()}),cc.moveBy(.5,100,0),cc.callFunc(function(){yx.log("enemy skillAction end fightpanel")})),d=cc.sequence(cc.spawn(cc.callFunc(function(){var e=r.clone();e.setTag(yx.ActionTag.RED_TINTTO_ACTION),t.enemyDrogon.node.runAction(e)}),cc.moveBy(.1,10,0)),cc.spawn(cc.callFunc(function(){var e=a.clone();e.setTag(yx.ActionTag.NORMAL_TINTTO_ACTION),t.enemyDrogon.node.runAction(e)}),cc.moveBy(.1,-10,0)),cc.callFunc(function(){yx.log("enemy hitAction end fightpanel")})),h=cc.sequence(cc.spawn(cc.fadeOut(.5),cc.callFunc(function(){var e=n.clone();e.setTag(yx.ActionTag.NORMAL_FADEOUT),t.enemyShadowSprite.node.runAction(e)})),cc.callFunc(function(){yx.log("enemy dieAction end fightpanel"),t.dieDrogon.node.active=!0,t.dieDrogon.playAnimation("newAnimation",1),t.dieDrogon.node.position=t.orginEnemyPosition}));this.actions={player:{attack:{action:i,tag:yx.ActionTag.BATTLE_PLAYER_ATTACK},hit:{action:s,tag:yx.ActionTag.BATTLE_PLAYER_HIT},die:{action:c,tag:yx.ActionTag.BATTLE_PLAYER_DIE},skill:{action:o,tag:yx.ActionTag.BATTLE_PLAYER_SKILL}},enemy:{attack:{action:l,tag:yx.ActionTag.BATTLE_ENEMY_ATTACK},hit:{action:d,tag:yx.ActionTag.BATTLE_ENEMY_HIT},die:{action:h,tag:yx.ActionTag.BATTLE_ENEMY_DIE},skill:{action:u,tag:yx.ActionTag.BATTLE_ENEMY_SKILL}}}}});t.exports=yx.FightPanel=a,cc._RF.pop()},{BaseWindow:"BaseWindow"}],FrameLoadWidget:[function(e,t,n){cc._RF.push(t,"c1e7cA1wwJGNLnpBsGpwJbD","FrameLoadWidget");var r=cc.Enum({T_INSTANT:1,T_FUNC:2});cc.Class({extends:cc.Component,init:function init(e,t,n,i,o){return this._delayArr=t,this._parentNode=e,this._prefab=n,this._componentType=i,this._finishCb=o,this._type=r.T_INSTANT,this},init2:function init2(e,t,n){return this._delayArr=e,this._handleCb=t,this._finishCb=n,this._type=r.T_FUNC,this},startLoad:function startLoad(e){var t=0<arguments.length&&void 0!==e?e:2;return this._startLoad=!0,this._lastDelayTime=0,this._delayCount=t,this},update:function update(){if(this._startLoad&&(this._lastDelayTime++,this._delayArr&&this._delayArr[0]&&this._lastDelayTime>this._delayCount)){if(this._lastDelayTime=0,this._type==r.T_INSTANT){var e=cc.instantiate(this._prefab);e.getComponent(this._componentType).frameInit(this._delayArr[0]),this._parentNode.addChild(e)}else this._type==r.T_FUNC&&this._handleCb&&this._handleCb(this._delayArr[0]);this._delayArr.splice(0,1),this._delayArr.length<=0&&this._finishCb&&(this._finishCb(),this._finishCb=null)}},pushOneDelay:function pushOneDelay(e){this._delayArr.push(e)},pushMuchDelay:function pushMuchDelay(e){this._delayArr=this._delayArr.concat(e)}}),cc._RF.pop()},{}],FrameWork:[function(i,o,e){(function(e){cc._RF.push(o,"1b725s5/oxNXaQpM4c3gWsu","FrameWork"),cc.RichText.prototype.cacheEnable=!0;var n=cc.RichText.prototype._applyTextAttribute;cc.RichText.prototype._applyTextAttribute=function(e){var t=e.getComponent(cc.Label);t&&(this.cacheEnable?t.cacheMode=cc.Label.CacheMode.CHAR:t.cacheMode=cc.Label.CacheMode.NONE,n.call(this,e))};var t="undefined"==typeof window?e:window;t.yx=t.yx||{},t.yx.version="0.0.1",i("LogUtil"),yx.log("framework init:"+t.yx.version),i("PreDefine"),o.exports=t.yx,cc._RF.pop()}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{LogUtil:"LogUtil",PreDefine:"PreDefine"}],FuBenDiGongPage:[function(e,t,n){cc._RF.push(t,"d42aan7f7FLM5BHIIzVJPgP","FuBenDiGongPage"),cc.Class({extends:cc.Component,properties:{bxNode:cc.Node,waBaoBtn:cc.Button,waBaoOneKeyBtn:cc.Button,rankBtn:cc.Button,addBtn:cc.Button,rewardLayoutNode:cc.Node,challengeCountLabel:cc.Label,guanQiaLabel:cc.Label},init:function init(){yx.eventDispatch.addListener(yx.EventType.DIGONG_GET_MESSAGE,this.onEventGetMessage,this),yx.eventDispatch.addListener(yx.EventType.DIGONG_CHALLENGE,this.onEventChallenge,this),yx.eventDispatch.addListener(yx.EventType.DIGONG_SWEEP,this.onEventSweep,this),yx.eventDispatch.addListener(yx.EventType.DIGONG_PURCHASE,this.onEventPurchase,this),yx.BadgeMgr.addBadge(this.waBaoBtn.node,70,15),yx.BadgeMgr.addBadge(this.waBaoOneKeyBtn.node,70,15),this.waBaoBtn.node.on("click",this.waBaoBtnClick,this),this.waBaoOneKeyBtn.node.on("click",this.waBaoOneKeyBtnClick,this),this.rankBtn.node.on("click",this.rankBtnClick,this),this.addBtn.node.on("click",this.addBtnClick,this),this.bxNodes=[];for(var e=0;e<6;e++)this.bxNodes[e]=this.bxNode.getChildByName("bxBtn"+e),this.bxNodes[e].getChildByName("checkMark").active=!1,this.bxNodes[e].getChildByName("pass").active=!1},onShow:function onShow(){yx.diGongMgr.reqInfo(yx.proto.DiGongCmdType.GetDiGong_Cmd),this.isShow=!0},onHide:function onHide(){this.isShow=!1},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},addBtnClick:function addBtnClick(){var e={content:""},t=yx.cfgMgr.getAllConfig("DiGongBaseConfig");if(t&&t[0]){var n=t[0].AddCost[0].id,i=t[0].AddCost[0].count,o=yx.bagMgr.GetItemName(n);e.content+="花费"+i+o+"购买1次闯关次数"}var r=new cc.Component.EventHandler;r.target=this.node,r.component="FuBenDiGongPage",r.handler="onAddConfirmBtnClick",e.confirmCallback=r,yx.windowMgr.showWindow("textConfirm",e)},onAddConfirmBtnClick:function onAddConfirmBtnClick(){yx.diGongMgr.reqInfo(yx.proto.DiGongCmdType.PurchaseCount_Cmd)},onEventGetMessage:function onEventGetMessage(e){var n=this;yx.BadgeMgr.showBadge(this.waBaoBtn.node,0<e.count),yx.BadgeMgr.showBadge(this.waBaoOneKeyBtn.node,0!=e.cid&&0<e.sweepCount);var t=yx.cfgMgr.getAllConfig("DiGongBaseConfig");t&&t[0]&&(this.challengeCountLabel.string=e.count+"/"+t[0].FreeNum);var i=e.cid+1,o=yx.cfgMgr.getOneRecord("DiGongConfig",{ID:i});if(o){var r=o.Page,a=yx.cfgMgr.getRecordList("DiGongConfig",{Page:r});if(a)for(var s=0;s<a.length;s++){var c=a[s];c.ID<i?(this.bxNodes[s].getChildByName("checkMark").active=!1,this.bxNodes[s].getChildByName("pass").active=!0):(c.ID==i?this.bxNodes[s].getChildByName("checkMark").active=!0:this.bxNodes[s].getChildByName("checkMark").active=!1,this.bxNodes[s].getChildByName("pass").active=!1)}this.rewardLayoutNode.removeAllChildren(!0),o.Reward.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n.onItemClick,yx.ItemWidget.CreateItemSlot(t,n.rewardLayoutNode,"reward"+e.id)}),this.guanQiaLabel.string="第"+r+"关"}else{var l=yx.cfgMgr.getOneRecord("DiGongConfig",{ID:e.cid}),u=l.Page;this.guanQiaLabel.string="第"+u+"关";for(var d=0;d<this.bxNodes.length;d++)this.bxNodes[d].getChildByName("checkMark").active=!1,this.bxNodes[d].getChildByName("pass").active=!0;this.rewardLayoutNode.removeAllChildren(!0),l.Reward.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n.onItemClick,yx.ItemWidget.CreateItemSlot(t,n.rewardLayoutNode,"reward"+e.id)})}},onEventChallenge:function onEventChallenge(e){var t=[];for(var n in e.reward){var i=e.reward[n];t.push({id:i.id,itemId:i.id,amount:i.count})}e.result.drop=t,yx.FightPanel.ShowFightResult("diGong","怪物名",e.result,!0,null,null),yx.diGongMgr.reqInfo(yx.proto.DiGongCmdType.GetDiGong_Cmd)},onEventSweep:function onEventSweep(e){yx.BadgeMgr.showBadge(this.waBaoBtn.node,0<e.count),yx.BadgeMgr.showBadge(this.waBaoOneKeyBtn.node,0!=e.cid&&0<e.sweepCount);var t=[];for(var n in e.reward){var i=e.reward[n];t.push({id:i.id,itemId:i.id,amount:i.count})}yx.DropShowPanel.ShowDropPanel(t,null)},onEventPurchase:function onEventPurchase(e){yx.BadgeMgr.showBadge(this.waBaoBtn.node,0<e.count),yx.BadgeMgr.showBadge(this.waBaoOneKeyBtn.node,0!=e.cid&&0<e.sweepCount);var t=yx.cfgMgr.getAllConfig("DiGongBaseConfig");t&&t[0]&&(this.challengeCountLabel.string=e.count+"/"+t[0].FreeNum)},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},waBaoBtnClick:function waBaoBtnClick(){yx.diGongMgr.reqInfo(yx.proto.DiGongCmdType.Challenge_Cmd)},waBaoOneKeyBtnClick:function waBaoOneKeyBtnClick(){var e=yx.diGongMgr.getDiGongData();if(e){var t=e.cid;if(!yx.cfgMgr.getOneRecord("DiGongConfig",{ID:t}))return void yx.ToastUtil.showListToast("您还未通过任何关卡")}yx.windowMgr.showWindow("diGongSaoDangPanel")},rankBtnClick:function rankBtnClick(){yx.windowMgr.showWindow("diGongRankPanel")}}),cc._RF.pop()},{}],FuBenDongTianPage:[function(e,t,n){cc._RF.push(t,"d878b8yPMRFiLBQ0e7stYig","FuBenDongTianPage");var s=e("DongTianRoleItem");cc.Class({extends:cc.Component,properties:{robGroup:cc.Node,xiulianGroup:cc.Node,preBtn:cc.Button,nextBtn:cc.Button,peopleContent:cc.Node,startXiuLianBtn:cc.Button,speedXiuLianBtn:cc.Button,rewardBtn:cc.Button,addBtn:cc.Button,xiulianLabel:cc.Label,lueduoLabel:cc.Label,leftTimeLabel:cc.Label,logRichText:cc.RichText,logScrollView:cc.ScrollView,roleItemPrefab:cc.Prefab},init:function init(){yx.eventDispatch.addListener(yx.EventType.DONGTIAN_GET_MYINFO,this.onGetMyInfoMsg,this),yx.eventDispatch.addListener(yx.EventType.DONGTIAN_ROBLIST_REFRESH,this.onRefreshRobList,this),yx.eventDispatch.addListener(yx.EventType.DONGTIAN_PK_SHOW,this.onPKShow,this),yx.eventDispatch.addListener(yx.EventType.DONGTIAN_DIALY,this.onDailyShow,this),this.preBtn.node.on("click",this.onPreBtnClick,this),this.nextBtn.node.on("click",this.onNextBtnClick,this),this.startXiuLianBtn.node.on("click",this.onStartXiulianBtnClick,this),this.speedXiuLianBtn.node.on("click",this.onSpeedXiulianBtnClick,this),this.rewardBtn.node.on("click",this.onRewardBtnClick,this),this.addBtn.node.on("click",this.onAddBtnClick,this),yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"dongtian")},onShow:function onShow(){this.isShow=!0,this.robGroup.active=!1,this.xiulianGroup.active=!1,this._isReady1=!1,this._isReady2=!1,yx.DongTianMgr.GetMyInfo(),yx.DongTianMgr.GetRobList(1)},onHide:function onHide(){this.isShow=!1,this.unscheduleAllCallbacks()},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},onStartXiulianBtnClick:function onStartXiulianBtnClick(){yx.DongTianMgr.getXiulianLeft()<=0?yx.ToastUtil.showListToast("修炼次数不足"):yx.windowMgr.showWindow("dongTianXiuLianPanel")},onSpeedXiulianBtnClick:function onSpeedXiulianBtnClick(){if(yx.DongTianMgr.getQuickLeft()<=0)yx.ToastUtil.showListToast("快速修炼次数不足");else{var e=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0],t=e.XiuLianTime*(1e-4*e.QuickReduce),n="<color=#345A5C>是否消耗{rewardValue}{rewardName}加速{minute}分钟？</color>";n=n.format({rewardValue:e.QuickCompleteCost[0].count,rewardName:yx.bagMgr.GetItemName(e.QuickCompleteCost[0].id),minute:t}),yx.TextConfirm.ShowConfirm(n,this.onSpeedBtnConfirmBtnClick.bind(this))}},onSpeedBtnConfirmBtnClick:function onSpeedBtnConfirmBtnClick(){yx.DongTianMgr.SpeedXiuLian()},onAddBtnClick:function onAddBtnClick(){var e=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0];if(yx.DongTianMgr.getRobLeft()>=e.FreeRobNum)yx.ToastUtil.showListToast("今日掠夺次数已满，无需购买");else{var t="<color=#345A5C>是否消耗{rewardValue}{rewardName}增加1次掠夺次数？</color>";t=t.format({rewardValue:e.AddRobCost[0].count,rewardName:yx.bagMgr.GetItemName(e.AddRobCost[0].id)}),yx.TextConfirm.ShowConfirm(t,this.ononAddBtnConfirmBtnClick.bind(this))}},ononAddBtnConfirmBtnClick:function ononAddBtnConfirmBtnClick(){yx.DongTianMgr.AddRobCount()},onPreBtnClick:function onPreBtnClick(){1!=this._curPage&&yx.DongTianMgr.GetRobList(this._curPage-1)},onNextBtnClick:function onNextBtnClick(){yx.DongTianMgr.GetRobList(this._curPage+1)},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",20)},onRewardBtnClick:function onRewardBtnClick(){yx.windowMgr.showWindow("dongTianRewardPanel")},_diaryShow:function _diaryShow(e){for(var t=0;t<e.logs.length;t++){var n={index:0,str:e.logs[t]};yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongtian",n)}this.logScrollView.scrollToBottom()},onPKShow:function onPKShow(e){var t=yx.DongTianMgr.getLastDefendObj();yx.FightPanel.ShowFightResult("dongtian_rob",t.name,e.result,!1,this._onPkEnd.bind(this,e),this,{avatarId:t.avatarId})},_onPkEnd:function _onPkEnd(e){if(e.result.win)for(var t=yx.DongTianMgr.getLastDefendObj(),n=yx.cfgMgr.getOneRecord("DongTianRewardConfig",{ID:t.pinzhi}).RobReward,i=0;i<n.length;i++){var o=n[i],r=yx.bagMgr.GetItemName(o.id)+"<color=#ffd066>+"+o.count+"</color>";yx.ToastUtil.showListToast(r)}else yx.ToastUtil.showListToast("挑战失败")},onGetMyInfoMsg:function onGetMyInfoMsg(){this._isReady1=!0,this._isReady1&&this._isReady2&&(this.xiulianGroup.active=!0,this.robGroup.active=!0);var e=yx.cfgMgr.getAllConfig("DongTianBaseConfig")[0],t=yx.DongTianMgr.getXiulianLeft();this.xiulianLabel.string="今日修炼次数："+t+"/"+e.XiuLianNum;var n=yx.DongTianMgr.getRobLeft();switch(this.lueduoLabel.string="今日掠夺次数："+n+"/"+e.FreeRobNum,yx.DongTianMgr.getStatus()){case yx.proto.DaZuoStatus.NotStart:this.startXiuLianBtn.node.active=!0,this.speedXiuLianBtn.node.active=!1,this.rewardBtn.node.active=!1,this.leftTimeLabel.string="";break;case yx.proto.DaZuoStatus.DaZuo:this.startXiuLianBtn.node.active=!1,this.speedXiuLianBtn.node.active=!0,this.rewardBtn.node.active=!1,this.leftTimeLabel.string="";break;case yx.proto.DaZuoStatus.DaZuoOver:this.startXiuLianBtn.node.active=!1,this.speedXiuLianBtn.node.active=!1,this.rewardBtn.node.active=!0,this.leftTimeLabel.string=""}},onRefreshRobList:function onRefreshRobList(e){if(this._isReady2=!0,this._isReady1&&this._isReady2&&(this.xiulianGroup.active=!0,this.robGroup.active=!0),1==e.page||e.roblist&&0!=e.roblist.length){if(this._curPage=e.page,e.page>=e.totalPage?this.nextBtn.interactable=!1:this.nextBtn.interactable=!0,this._curPage<=1?this.preBtn.interactable=!1:this.preBtn.interactable=!0,null==this._items){this._items=[];for(var t=0;t<6;t++){var n=cc.instantiate(this.roleItemPrefab);this.peopleContent.addChild(n);var i=n.getComponent(s);i.init(!0),this._items.push(i)}}for(var o=e.roblist,r=0;r<this._items.length;r++){var a=o[r];this._items[r].updateData(a)}}else yx.DongTianMgr.GetRobList(1)},onDailyShow:function onDailyShow(e){this._diaryShow(e)},update:function update(){if(this.isShow)if(yx.DongTianMgr.getStatus()==yx.proto.DaZuoStatus.DaZuo){var e=yx.DongTianMgr.getEndTime()-yx.timeUtil.getServerTime();0<=e&&(this.leftTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(e/1e3))}else this.leftTimeLabel.string=""}}),cc._RF.pop()},{DongTianRoleItem:"DongTianRoleItem"}],FuBenShengShouPage:[function(e,t,n){cc._RF.push(t,"6fb02zC6ntOeL/4/c2RSh77","FuBenShengShouPage");var a=e("ScrollViewRepeat");cc.Class({extends:cc.Component,properties:{ssFengYinBtn:cc.Button,ssDuiHuanBtn:cc.Button,ssDuiHuanScrollView:cc.ScrollView,ssDuiHuanItemPrefab:cc.Prefab,ssDuiHuanPageNode:cc.Node,ssFengYinPageNode:cc.Node,ssShuoMingBtn:cc.Button,ssShenShouSp:cc.Sprite,ssShenShouDes:cc.RichText,ssShenShouWanfaDes:cc.Label,ssTimeLabel:cc.Label,ssYuYueFengYinBtn:cc.Button,ssUnBeginNode:cc.Node,ssOnBeginNode:cc.Node,ssFengYinRiZhiRiText:cc.RichText,ssFengYinRiZhiScroview:cc.ScrollView,ssFengYinFinishLabel:cc.Label,ssTimeProBar:cc.ProgressBar,ssTimeProBarLabel:cc.Label,ssFengYinNumLabel:cc.Label,ssWanChengNumLabel:cc.Label,ssHadYuYueNode:cc.Node,ssUnYuYueNode:cc.Node,ssOnDoingNode:cc.Node,ssOnOverNode:cc.Node,ssUnCanJiaNode:cc.Node},init:function init(){this.ssOnOverNode.active=!1,this.ssUnCanJiaNode.active=!1,this.ssOnDoingNode.active=!1,this.logScheduleCallBackBind=this.logScheduleCallBack.bind(this),this.logScheduleTimerCallBackBind=this.logScheduleTimerCallBack.bind(this),this.isLogScheduleing=!1,this.ssFengYinPageNode.active=!0,this.ssDuiHuanPageNode.active=!1,this.ssUnBeginNode.active=!0,this.ssOnBeginNode.active=!1,this.ssHadYuYueNode.active=!1,this.ssUnYuYueNode.active=!0,this.ssFengYinBtn.node.on("click",this.ssFengYinBtnClick,this),this.ssDuiHuanBtn.node.on("click",this.ssDuiHuanBtnClick,this),this.ssShuoMingBtn.node.on("click",this.ssShuoMingBtnClick,this),this.ssYuYueFengYinBtn.node.on("click",this.ssYuYueFengYinBtnClick,this),this.ssDuiHuanBtn.node.name="ssDuiHuanBtn",yx.eventDispatch.addListener(yx.EventType.SHENGSHOU_REFRESH_INFO,this._refreshShengShou,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.UPDATE_EXCHANGE,this.onEventUpdateChange,this),yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE,this.onEventItemExChange,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),this._refreshShengShou(),yx.BadgeMgr.addBadge(this.ssYuYueFengYinBtn.node,70,15)},onShow:function onShow(){yx.shengShouMgr.reqGetFengyin(yx.proto.FengYinCmdType.GetFengYinBoss_Cmd),this.onEventRefreshBadge(),this.isShow=!0},onHide:function onHide(){this.isShow=!1,this.ssFengYinBtnClick()},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},onEventItemChange:function onEventItemChange(){this.isShow&&this._refreshShengShouDuiHaunPage()},onEventUpdateChange:function onEventUpdateChange(){this.isShow&&this._refreshShengShouDuiHaunPage()},logScheduleTimerCallBack:function logScheduleTimerCallBack(){var e=new Date,t=e.getTime();e.setHours(this.fengYinAtkData.EndTime.split(":")[0],this.fengYinAtkData.EndTime.split(":")[1],0,0);var n=(e.getTime()-t)/1e3;n=n<=0?0:n,this.ssTimeProBarLabel.string="距离圣兽消失还剩  "+yx.timeUtil.seconds2hourMinSecond(n)},logScheduleCallBack:function logScheduleCallBack(){var e=new Date,t=e.getTime();e.setHours(this.fengYinAtkData.StartTime.split(":")[0],this.fengYinAtkData.StartTime.split(":")[1],0,0);var n=e.getTime(),i=parseInt((t-n)/1e3),o=parseInt((t-n)/1e3/60);if(!(o<0)){var r=o*this.fengYinAtkData.maxPlayerNum*this.fengYinAtkData.averageAtk,a=this.fengYinAtkData.maxHp-r;a=a<=0?0:a,r=r>=this.fengYinAtkData.maxHp?this.fengYinAtkData.maxHp:r;var s=!1,c=!1;this.fengYinAtkData.preLeftOverHp&&(c=this.fengYinAtkData.isBetween(a,this.fengYinAtkData.preLeftOverHp)),this.ssWanChengNumLabel.string=parseInt(r)+"/"+this.fengYinAtkData.maxHp;var l=parseInt(i%75);!this.fengYinAtkData.isCanNew||0!=l&&1!=l?-1!=this.fengYinAtkData.newFor&&(this.fengYinAtkData.newFor+=1):(s=!0,this.fengYinAtkData.newFor=0,this.fengYinAtkData.isCanNew=!1),37.5<=l&&(this.fengYinAtkData.isCanNew=!0),yx.log("second % times:"+l+"isCanNew"+this.fengYinAtkData.isCanNew+" newFor "+this.fengYinAtkData.newFor);var u=this.fengYinAtkData.orderInfos[this.fengYinAtkData.myIndex];if(this.ssFengYinNumLabel.string=parseInt(Math.ceil((i-3)/75)*u.averageAtk),this.ssTimeProBar.progress=a/this.fengYinAtkData.maxHp,(this.fengYinAtkData.preLeftOverHp=a)<=0){var d={};d.year=yx.timeUtil.getXiuLianYear(),d.index=7,d.title1=this.fengYinAtkData.title1,d.title=this.fengYinAtkData.title,this.ssShenShouDes.string=yx.DiarysDict.fengyin.getText(d),cc.Canvas.instance.unschedule(this.logScheduleCallBackBind),cc.Canvas.instance.unschedule(this.logScheduleTimerCallBackBind),this.isLogScheduleing=!1}else if(c){var h={};h.year=yx.timeUtil.getXiuLianYear(),h.title=this.fengYinAtkData.title,h.title1=this.fengYinAtkData.title1,h.fengYinAdd=this.fengYinAtkData.FengYinAdd,h.index=4,yx.DiarysUtil.addShowTextToRichText(this.ssFengYinRiZhiRiText,"fengyin",h),this.ssFengYinRiZhiScroview.scrollToBottom()}else if(s){var g=parseInt(4*Math.random(),10),p={};p.year=yx.timeUtil.getXiuLianYear(),p.name=yx.playerMgr.getName(),p.title=this.fengYinAtkData.title,p.title1=this.fengYinAtkData.title1,p.index=g,yx.DiarysUtil.addShowTextToRichText(this.ssFengYinRiZhiRiText,"fengyin",p),this.ssFengYinRiZhiScroview.scrollToBottom()}else{var y=this.fengYinAtkData.orderInfos,f=null;if(3==this.fengYinAtkData.newFor)f=y[this.fengYinAtkData.myIndex];else for(var m=1e3;0<m;){var v=parseInt(50*Math.random(),10);if(f=y[v],this.fengYinAtkData.myIndex!==v)break;m--}if(f){var x={};x.year=yx.timeUtil.getXiuLianYear(),x.name=f.nickName;var w=parseInt(2*Math.random(),10);x.atkOne=f.DamageArea[w],x.title1=this.fengYinAtkData.title1,x.index=5,yx.playerMgr.getPid()==f.playerID&&(x.index=6),yx.DiarysUtil.addShowTextToRichText(this.ssFengYinRiZhiRiText,"fengyin",x),this.ssFengYinRiZhiScroview.scrollToBottom()}}}},showFengYinRiZhiDetail:function showFengYinRiZhiDetail(){if(this.fengYinData&&!this.isLogScheduleing){var e=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:this.fengYinData.bossID}),t=this.fengYinData.fightingBossInfo.averagePlayerLevel;this.fengYinAtkData={},this.fengYinAtkData.newFor=-1,this.fengYinAtkData.averageAtk=0,this.fengYinAtkData.maxPlayerNum=this.fengYinData.fightingBossInfo.totalOrder,this.fengYinAtkData.maxHp=e.FengYinVal,this.fengYinAtkData.title1=e.Title1,this.fengYinAtkData.title=e.Title,this.fengYinAtkData.FengYinAdd=e.FengYinAdd,this.fengYinAtkData.StartTime=e.StartTime,this.fengYinAtkData.EndTime=e.EndTime,this.fengYinAtkData.orderInfos=[],yx.CodeHelper.deepClone(this.fengYinData.fightingBossInfo.orderInfos,this.fengYinAtkData.orderInfos),this.fengYinAtkData.radioLine=[.2,.4,.6,.8,1];for(var n=0;n<this.fengYinAtkData.radioLine.length;n++)this.fengYinAtkData.radioLine[n]=this.fengYinAtkData.radioLine[n]*this.fengYinAtkData.maxHp;this.fengYinAtkData.isBetween=function(e,t){for(var n=0;n<this.radioLine.length;n++)if(e<this.radioLine[n]&&t>=this.radioLine[n])return!0;return!1};for(var i=yx.cfgMgr.getAllConfig("FengYinBossDamageConfig"),o=this.fengYinAtkData.myIndex=0;o<this.fengYinAtkData.orderInfos.length;o++){var r=this.fengYinAtkData.orderInfos[o];yx.playerMgr.getPid()==r.playerID&&(this.fengYinAtkData.myIndex=o),r.DamageArea=[0,0];for(var a=r.averageAtk=0;a<i.length;a++)if(r.level>=i[a].LevelArea[0]&&r.level<=i[a].LevelArea[1]){r.DamageArea=i[a].DamageArea,r.averageAtk=(i[a].DamageArea[0]+i[a].DamageArea[1])/2;break}}for(var s=0;s<i.length;s++)if(t>=i[s].LevelArea[0]&&t<=i[s].LevelArea[1]){this.fengYinAtkData.averageAtk=(i[s].DamageArea[0]+i[s].DamageArea[1])/2;break}this.isLogScheduleing=!0,yx.log("开始圣兽日志调度"),cc.Canvas.instance.schedule(this.logScheduleCallBackBind,1.5,cc.macro.REPEAT_FOREVER,0),cc.Canvas.instance.schedule(this.logScheduleTimerCallBackBind,1,cc.macro.REPEAT_FOREVER,0)}},onEventItemExChange:function onEventItemExChange(e){if(this.isShow&&this.curPageType==LiLianPageType.SHENGSHOU){var t=e.id,n=yx.cfgMgr.getOneRecord("ExchangeConfig",{ID:t});if(n){var i=n.GetReward[0].id,o=yx.cfgMgr.getOneRecord("ItemConfig",{ID:i});o&&yx.ToastUtil.showListToast("获取"+o.Name+"x"+n.GetReward[0].count)}this._refreshShengShou()}},_refreshShengShouDuiHaunPage:function _refreshShengShouDuiHaunPage(){if(this.ssDuiHuanPageNode.active)if(this._svr)this._svr.updateAllWithoutData();else{var e=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:3});if(e){e.sort(function(e,t){return e.Top<t.Top?-1:e.Top==t.Top?0:1});for(var t=[],n=0;n<e.length;n++){var i={},o=e[n],r="DuiHuanWidget_"+n;i.exchangeCfgItem=o,i.nodeName=r,i.customWidth=720,t[n]=i}this._svr=this.ssDuiHuanScrollView.getComponent(a),this._svr.initialize(t,this.ssDuiHuanItemPrefab)}}else yx.log("圣兽兑换界面隐藏中")},_refreshShengShou:function _refreshShengShou(e){if(this._refreshShengShouDuiHaunPage(),e&&(this.fengYinData=e),this.fengYinData){if(this.fengYinData.fengYinState==yx.proto.FengYinStateType.Fighting)if(this.ssUnBeginNode.active=!1,this.ssOnBeginNode.active=!0,this.fengYinData.isOrder){var t=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:this.fengYinData.bossID});t&&(this.ssWanChengNumLabel.string="0/"+t.FengYinVal),this.ssOnOverNode.active=!1,this.ssUnCanJiaNode.active=!1,this.ssOnDoingNode.active=!0,yx.DiarysUtil.setRichTextWithShowList(this.ssFengYinRiZhiRiText,"fengyin"),this.ssFengYinRiZhiScroview.scrollToBottom(),this.showFengYinRiZhiDetail()}else{this.ssOnOverNode.active=!1,this.ssUnCanJiaNode.active=!0,this.ssOnDoingNode.active=!1;var n=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:this.fengYinData.bossID});n&&(this.ssFengYinRiZhiRiText.string=n.Txt1)}else if(this.fengYinData.fengYinState==yx.proto.FengYinStateType.Ordering)this.ssUnBeginNode.active=!0,this.ssOnBeginNode.active=!1,this.fengYinData.isOrder?(this.ssUnYuYueNode.active=!1,this.ssHadYuYueNode.active=!0):(this.ssUnYuYueNode.active=!0,this.ssHadYuYueNode.active=!1);else if(this.fengYinData.fengYinState==yx.proto.FengYinStateType.GameOver){cc.Canvas.instance.unschedule(this.logScheduleCallBackBind),cc.Canvas.instance.unschedule(this.logScheduleTimerCallBackBind),this.ssUnBeginNode.active=!1,this.ssOnBeginNode.active=!0,this.ssOnOverNode.active=!0,this.ssOnDoingNode.active=!1,this.ssUnCanJiaNode.active=!1;var i=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:this.fengYinData.bossID});i&&(this.ssWanChengNumLabel.string=i.FengYinVal+"/"+i.FengYinVal,this.ssFengYinRiZhiRiText.string=i.Txt1)}var o=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:this.fengYinData.bossID});if(o){this.ssShenShouDes.string=o.Txt,this.ssShenShouWanfaDes.string=o.Txt1;var r=yx.cfgMgr.getRecordByKey("ResConfig",{ID:o.ResID1});r&&yx.resUtil.LoadSpriteByType(r.Head,yx.ResType.SHENGSHOU,this.ssShenShouSp)}}},ssDuiHuanBtnClick:function ssDuiHuanBtnClick(){this.ssDuiHuanBtn.node.getChildByName("selectBg").active=!0,this.ssDuiHuanBtn.node.getChildByName("unSelectBg").active=!1,this.ssFengYinBtn.node.getChildByName("selectBg").active=!1,this.ssFengYinBtn.node.getChildByName("unSelectBg").active=!0,this.ssFengYinPageNode.active=!1,this.ssDuiHuanPageNode.active=!0,this._refreshShengShouDuiHaunPage()},ssFengYinBtnClick:function ssFengYinBtnClick(){this.ssDuiHuanBtn.node.getChildByName("selectBg").active=!1,this.ssDuiHuanBtn.node.getChildByName("unSelectBg").active=!0,this.ssFengYinBtn.node.getChildByName("selectBg").active=!0,this.ssFengYinBtn.node.getChildByName("unSelectBg").active=!1,this.ssFengYinPageNode.active=!0,this.ssDuiHuanPageNode.active=!1},ssShuoMingBtnClick:function ssShuoMingBtnClick(){this.fengYinData&&this.fengYinData.bossID?yx.windowMgr.showWindow("shuoMingPanel",{shuoMingType:yx.ShuoMingPanel.SHUOMING_TYPE.SHENGSHOU,ID:this.fengYinData.bossID}):yx.warn("ssShuoMingBtnClick this.fengYinData null")},ssYuYueFengYinBtnClick:function ssYuYueFengYinBtnClick(){if(this.fengYinData){var e=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:this.fengYinData.bossID});e&&yx.playerMgr.getDuJieLevel()<e.LevelLimit?yx.ToastUtil.showListToast("等级不足"):yx.shengShouMgr.reqGetFengyin(yx.proto.FengYinCmdType.OrderFengYinBoss_Cmd)}},onEventRefreshBadge:function onEventRefreshBadge(){this.isShow&&yx.BadgeMgr.showBadge(this.ssYuYueFengYinBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianBossFengYin))}}),cc._RF.pop()},{ScrollViewRepeat:"ScrollViewRepeat"}],FuBenWindow:[function(e,t,n){cc._RF.push(t,"340fbt5faJCqav+xJS+vyRz","FuBenWindow");var i=e("BaseWindow"),o=e("FuBenDiGongPage"),r=e("FuBenDongTianPage"),a=e("FuBenShengShouPage"),s=e("AttrGroupWidget"),c=cc.Enum({DIGONG:1,DONGTIAN:2,SHENGSHOU:3});cc.Class({extends:i,statics:{TabType:c},properties:{dongTianBgNode:cc.Node,attrGroupWidget:s,diGongBtn:cc.Button,dongTianBtn:cc.Button,shengShouBtn:cc.Button,diGongPageNode:cc.Node,dongTianPageNode:cc.Node,shengShouPageNode:cc.Node,_curTab:Number,_tabBtnArray:null,_tabPageNodeArray:null,prefabDiGong:cc.Prefab,prefabDongtian:cc.Prefab,prefabShengShou:cc.Prefab},_onInit:function _onInit(){this._curTab=c.DIGONG,this.attrGroupWidget.initItems([yx.CyType.SHIWU,yx.CyType.LINGSHI]),this._tabBtnArray=[this.diGongBtn,this.dongTianBtn,this.shengShouBtn],this._tabPageNodeArray=[this.diGongPageNode,this.dongTianPageNode,this.shengShouPageNode],this._pageScrArray={},this.diGongBtn.node.on("click",this.tabBtnClick.bind(this,c.DIGONG),this),this.dongTianBtn.node.on("click",this.tabBtnClick.bind(this,c.DONGTIAN),this),this.shengShouBtn.node.on("click",this.tabBtnClick.bind(this,c.SHENGSHOU),this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.diGongBtn.node,30,30),yx.BadgeMgr.addBadge(this.dongTianBtn.node,30,30),yx.BadgeMgr.addBadge(this.shengShouBtn.node,30,30)},onEventRefreshBadge:function onEventRefreshBadge(){yx.BadgeMgr.showBadge(this.diGongBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianDiGong)),yx.BadgeMgr.showBadge(this.shengShouBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianBossFengYin))},_onShow:function _onShow(e){e&&(this._curTab=e.tab),yx.CodeHelper.CallInNextTick(this.tabBtnClick.bind(this,this._curTab)),this.onEventRefreshBadge()},_onHide:function _onHide(){for(var e=0;e<this._tabBtnArray.length;e++){var t=e+1;this._pageScrArray[t]&&this._pageScrArray[t].onHide()}},tabBtnClick:function tabBtnClick(e){switch(this.dongTianBgNode.active=!1,e){case c.DIGONG:if(!yx.CodeHelper.checkFuncOpen(79))return;if(this._curTab=e,!this._pageScrArray[this._curTab]){var t=cc.instantiate(this.prefabDiGong);this._pageScrArray[this._curTab]=t.getComponent(o),this.diGongPageNode.addChild(t),t.setContentSize(this.diGongPageNode.getContentSize()),this._pageScrArray[this._curTab].init()}break;case c.DONGTIAN:if(!yx.CodeHelper.checkFuncOpen(80))return;if(this._curTab=e,!this._pageScrArray[this._curTab]){var n=cc.instantiate(this.prefabDongtian);this._pageScrArray[this._curTab]=n.getComponent(r),this.dongTianPageNode.addChild(n),this._pageScrArray[this._curTab].init(),n.setContentSize(this.diGongPageNode.getContentSize())}this.dongTianBgNode.active=!0;break;case c.SHENGSHOU:if(!yx.CodeHelper.checkFuncOpen(26))return;if(this.attrGroupWidget.showItems([yx.CyType.SHIWU]),this._curTab=e,!this._pageScrArray[this._curTab]){var i=cc.instantiate(this.prefabShengShou);this._pageScrArray[this._curTab]=i.getComponent(a),this.shengShouPageNode.addChild(i),this._pageScrArray[this._curTab].init(),i.setContentSize(this.diGongPageNode.getContentSize())}}this._refreshTabContent()},_refreshTabContent:function _refreshTabContent(){for(var e=0;e<this._tabBtnArray.length;e++){var t=e+1;this._curTab==t?(this._tabBtnArray[e].node.getChildByName("selected").active=!0,this._tabBtnArray[e].node.getChildByName("Background").active=!1,this._tabPageNodeArray[e].active=!0,this._pageScrArray[t].onShow()):(this._tabBtnArray[e].node.getChildByName("selected").active=!1,this._tabBtnArray[e].node.getChildByName("Background").active=!0,this._tabPageNodeArray[e].active=!1)}}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",FuBenDiGongPage:"FuBenDiGongPage",FuBenDongTianPage:"FuBenDongTianPage",FuBenShengShouPage:"FuBenShengShouPage"}],GameHelpPanel:[function(e,t,n){cc._RF.push(t,"679d5Btys1D4Z2CBB4jVbXF","GameHelpPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{itemLayout:cc.Layout,closeBtn:cc.Button},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this._delayArr=o.slice(0,o.length)},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},update:function update(){this.isShown()&&this._delayArr[0]&&(yx.GameHelpTitleItem.CreateItem(this._delayArr[0],this.itemLayout.node,"GameHelpTitleItem",null),this._delayArr.splice(0,1))}});var o=[{ID:1,WenTi:"如何提升境界",BiaoTi:"如何提升境界",DaAn:["1.境界的提升消耗修为，聚灵期的玩家需要手动修炼获得修为，聚灵十阶渡劫后便开启自动修炼。","2.聚灵十阶后需要通过渡劫才能提升境界，渡劫有成功率，使用对应境界的渡劫丹可以把成功率提升至100%。","3.随着境界的提升，每次自动修炼获得的修为数值也会提升，这是提升修炼速度最基础的方法。","4.修炼的效率与角色的悟性关联，悟性越高获得的修为越多，绝学类的功法能提升大量悟性。","5.悟道也能够获得大量修为。通过坊市购买、圣兽兑换等方式获取道书，之后每次阅读道书都会获得修为。悟道还可以提升角色的悟性，进而增加角色的修炼速度。","6.与部分道侣双修后也可以直接获得修为。"]},{ID:2,WenTi:"境界的作用",BiaoTi:"境界的作用",DaAn:["1.游戏内的大量玩法都是伴随着境界的提升而解锁，境界越高参与的内容便越多。","2.提升境界可以选择进入更高星的妖族，以学习更高阶的功法。","3.坊市有多层，境界越高可以进入的层数越高，高层能买到更多价值更高的道具。"]},{ID:3,WenTi:"角色的属性",BiaoTi:"角色的属性",DaAn:["1.角色拥有基础属性真气（攻击）、根骨（防御）、体魄（生命）、身法（闪避）、灵力（暴击）、悟性（修炼速度）、机缘（灵气获取）每条基础属性都对应着其二级属性。","2.五行伤害只有配合对应的招式才有效果（部分妖族可以习得招式）。种族伤害只对特定种族的敌人有效。","3.人物的正气与邪气增长与加入的妖族相关，正派则加正气邪派则加邪气，每一年会增加一点。","4.完成妖族任务可以获得威望。威望可以在坊市威望堂中购买装备打造图纸，退出门派也需要消耗大量威望。"]},{ID:4,WenTi:"兽诀的作用",BiaoTi:"兽诀的作用",DaAn:["1.兽诀是提供主角属性的主要来源，前期主要从妖族与坊市获得兽诀。","2.兽诀拥有秘籍（真气）、遁术（身法）、绝学（悟性）、心经（体魄）、真诀（根骨）、残页（机缘）分别提升不同的主角属性。","3.招式是特殊的兽诀，可以理解为角色在战斗中用来施放的技能。","4.兽诀拥有阶、等级以及五行属性，提升兽诀的等级可以略微提升兽诀带来的属性，同时兽诀受到五行的加成，加成数值为：该兽诀阶级*对应五行妖丹数值。","5.兽诀中妖族技能是一个较为特殊的分类，它包含其他增加属性的6种分类，但是拥有学习数量的上限，这个上限可以消耗威望去提升。"]},{ID:5,WenTi:"如何玩转妖丹",BiaoTi:"如何玩转妖丹",DaAn:["1.妖丹为对应系的兽诀提升属性，妖丹升级是提升兽诀属性加成的主要渠道。","2.妖丹通过升级来增加其对应兽诀的加成，妖丹的升级消耗灵气。","3.妖阵升级可提升产生灵气的数量和储存灵气的上限。","4.妖阵的升阶需要消耗木材和陨铁，木材和陨铁主要从洞府中获取。"]},{ID:6,WenTi:"如何玩转妖族",BiaoTi:"如何玩转妖族",DaAn:["1.达到一定的境界后可以加入不同星级的妖族。妖族有正邪之分。","2.做妖族任务可以获得妖族贡献和威望值。","3.妖族的每个角色都可以进行交谈和切磋，并且可以通过加入妖族结识新的妖妃。在npc处可以请安，学习兽诀、招式、兑换道具、提升妖族职位。","4.妖族里还可以每日领取俸禄，挑战族长担任代理族长，在练功房练功获得多倍修炼速度。除此之外，妖族还能给予一定的炼丹或者炼器加成。"]},{ID:7,WenTi:"如何玩好洞府",BiaoTi:"如何玩好洞府",DaAn:["1.洞府产出游戏的原材料。灵石于各个系统内都有广泛使用需求；食物则用来供给历练消耗及招募妖仆；木材提供给妖阵升级用及洞府原材料本身升级；陨铁则完全供给妖阵升级。","2.洞府内原材料建筑可升级，提升储存上限及投入妖仆数量的上限，是决定整个洞府产出效率的关键。升级需要木材，投入妖仆消耗食物产出效率。因此，木材与食物是前期的提升重点。","3.食物与木材的产出可观之后，可以酌情同时提升陨铁，以更快的提升妖阵等级，增强实力。","4.灵石建筑的升级需视玩家自身状况待定。若玩家的灵石需求极大，且其他材料需求相对缓和，则可以升级灵石建筑，额外增加些灵石产出。"]},{ID:8,WenTi:"书阁的作用",BiaoTi:"书阁的作用",DaAn:["1.书阁是通过读书去获取部分功能经验值的系统。包括读书获取炼丹、锻器经验，读书悟道获取修为和悟道经验。","2.研习丹道可提升炼丹的经验等级。是炼丹系统的条件与基石，在灵石足够时，不能落下丹道研习。","3.研习器道可提升锻器的经验等级。是锻器系统的基石，在灵石足够时，不能落下器道研习。","4.悟道能够获得大量修为，还可以提升主角的悟性，进而增加主角的修炼速度。"]},{ID:9,WenTi:"炼丹的玩法",BiaoTi:"炼丹的玩法",DaAn:["1.炼丹是指将各类草药类材料通过加工生产成可使用的丹药。丹药类型分为属性丹和种族丹。属性丹使用后直接增加玩家属性，种族丹使用后增加玩家对特点种族的伤害。","2.炼丹需要炼制工具，即为丹炉。丹炉可于坊市购买、妖族兑换、锻器打造。","3.炼丹需要学习对应丹药的丹方。丹方学习需要丹道等级的支持。丹方可于坊市购买、妖族兑换。","4.丹炉有品阶，不同品阶的丹炉对应不同品阶的丹方，会有实际不同的炼丹成功率。","5.当丹炉、丹方、炼丹材料准备就绪后，玩家即可开始炼制一炉丹药后使用。每种丹药有食用上限，通过洗髓丹可提高上限。"]},{ID:10,WenTi:"炼器的玩法",BiaoTi:"炼器的玩法",DaAn:["1.锻器可以通过金属石头等材料打造丹炉器鼎，强化武器装备，以及锻炼虚空石提升储物袋空间。","2.锻器需要锻制工具，即为器鼎。器鼎可于坊市购买、妖族兑换、也可锻器打造。","3.锻器需要学习对应物品的图纸。图纸学习需要器道等级的支持。图纸可于坊市购买、妖族兑换。","4.器鼎有品阶，不同品阶的器鼎对应不同品阶的图纸，会有实际不同的锻器成功率。","5.当器鼎、图纸、锻器材料准备就绪后，玩家即可开始锻制强化各类物品装备。"]},{ID:11,WenTi:"如何玩转妖妃",BiaoTi:"如何玩转妖妃",DaAn:["1.妖妃的结识方法主要有两个，加入某个妖族或者每天的机缘结识。","2.结识妖妃后可以通过每日赠礼来提升好感度，有时也可以通过完成机缘事件提升。","3.当道与侣好感度达到100既可以带回洞府，玩家可以与带回洞府的妖妃进行双修。","4.双修可以带来提升修为、提升渡劫成功率、威望等等收益，但每天有次数限制，需要合理运用这些次数。"]},{ID:12,WenTi:"仙酿的玩法",BiaoTi:"仙酿的玩法",DaAn:["1.通过原酿与仙草可以酿制各种不同的仙酒，饮用仙酒可以带来属性的提升。","2.仙酿的调制每天有次数限制，请选择自己需要的仙酿调制以提升最需要的属性。"]},{ID:13,WenTi:"历练的玩法",BiaoTi:"历练的玩法",DaAn:["1.历练产出大量的资源材料，以满足玩家的日常消耗需求。","2.历练挂机每10秒扣除一次食物，食物不足时将无法获得收益。","3.非VIP用户每天有8小时的离线收益时长，月卡用户每天有10小时的离线收益时长，终生卡用户每天有12小时的离线收益时长。","4.用户在离线收益时长内，并保持食物充足的情况下离线后可以正常获得收益。","5.背包满后，超出背包上限的道具将无法获得。开启妖魄拾遗后，可以选择自动出售对应的装备，保证背包有充足的空间。"]},{ID:14,WenTi:"如何玩转圣兽",BiaoTi:"如何玩转圣兽",DaAn:["1.共有五个不同的圣兽，每日一个，不停轮换。需要玩家参与封印。封印成功后会根据玩家的封印值来分发给玩家奖励。","2.参与圣兽玩法十分简单，只要到达指定圣兽的参与等级，仅需每日上线点击一次“预约”，圣兽结束后即可自动获得奖励。","3.每个圣兽都会产出“圣兽晶核”，此道具可于圣兽系统中兑换各类极品道具，请务必积极参与圣兽积累“晶核”。"]},{ID:15,WenTi:"坊市里卖什么",BiaoTi:"坊市里卖什么",DaAn:["1.灵宝阁主要出售渡劫丹方，低阶属性丹方以及虚空石，其中一、二楼固定出售，三楼商品定时刷新。","2.藏书阁一层出售一阶功法，二层出售二到三阶功法，三层出售三到四阶功法，每一层楼的商品都是定时刷新。","3.仙玉阁中出售各种功法，材料以及各种成品丹药，其中一、二楼商品固定，三、四楼商品定时刷新。","4.威望堂主要是出售炼器图纸，一层出售一二三阶，二层四五六阶，三层为七八九阶，威望堂的商品皆为固定出售。"]},{ID:16,WenTi:"什么是飞升",BiaoTi:"什么是飞升",DaAn:["1.通过历练第20关（赤壁）之后，可以尝试飞升仙界。成功飞升后，可体验到仙界专属内容（自建宗门、法器、法宝……)。","2.闯过九十九重仙锁大阵便可飞升仙界。"]},{ID:17,WenTi:"黑市的玩法",BiaoTi:"黑市的玩法",DaAn:["1.选择法力波动（闪光特效）最强烈且为绿色的储物袋。有些假的储物袋虽然波动也很强烈，但是颜色呈淡蓝色，不要选。","2.炼丹/炼器等级越高，灵石收益就越高。达到五品以上，还有可能获得天宫令牌。"]}];cc._RF.pop()},{BaseWindow:"BaseWindow"}],GameHelpTitleItem:[function(e,t,n){cc._RF.push(t,"5e737X9RYlLqYgBsqNK/egq","GameHelpTitleItem");var c="prefabs/widgets/GameHelpTitleItem",l=cc.Class({extends:cc.Component,properties:{btn:cc.Button,nameLabel:cc.Label,itemLayout:cc.Layout,contentRiText:cc.Label,arrowIconRightNode:cc.Node,arrowIconDownNode:cc.Node},statics:{CreateItem:function CreateItem(o,e,r,a){var s=new cc.Node(r);s.setAnchorPoint(.5,1),e.addChild(s),yx.resUtil.LoadRes(c,function(e,t){if(!e){var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(l);return i&&s&&s.isValid?(s.addChild(n),i.init(o,a)):yx.warn("GameHelpTitleItem instantiate error!"),i}yx.warn(c+" is not exist!")})}},init:function init(e){this._info=e,this.btn.node.on("click",this.itemBtnClick,this),this.nameLabel.string=e.WenTi,this.contentRiText.string=e.DaAn.join("\n"),this.itemLayout.node.active=!1,this.arrowIconRightNode.active=!0,this.arrowIconDownNode.active=!1,this._setContentSize()},_setContentSize:function _setContentSize(){this.node.setContentSize(this._calcuContentSize()),this.node.parent.setContentSize(this.node.getContentSize())},_calcuContentSize:function _calcuContentSize(){var e=this.btn.node.getContentSize().width,t=this.btn.node.getContentSize().height,n=0;return this.itemLayout.node.active&&(n=this.contentRiText.node.getContentSize().height),cc.size(e,t+n)},itemBtnClick:function itemBtnClick(){var e=this.node.parent.parent.getComponentsInChildren(l);for(var t in e)e[t]!==this&&(e[t].itemLayout.node.active=!1,e[t].arrowIconRightNode.active=!0,e[t].arrowIconDownNode.active=!1,e[t]._setContentSize());this.itemLayout.node.active=!this.itemLayout.node.active,this.arrowIconDownNode.active=this.itemLayout.node.active,this.arrowIconRightNode.active=!this.itemLayout.node.active,this._setContentSize()}});yx.GameHelpTitleItem=t.exports=l,cc._RF.pop()},{}],GameMain:[function(e,t,n){cc._RF.push(t,"5f7cbv0JodDarLnZTFnNfAR","GameMain"),e("FrameWork"),cc.Class({extends:cc.Component,properties:{},onLoad:function onLoad(){yx.log("GameMain onLoad3333333"),cc.game.addPersistRootNode(this.node),this._loadingWindow=null,yx.log("SystemInfo:"),cc.sys.dump(),yx.windowMgr.init(),yx.network.init(),yx.eventDispatch.addListener(yx.EventType.SERVER_CONNECTED,this.onEventServerConnected,this),yx.eventDispatch.addListener(yx.EventType.SERVER_DISCONNECT,this.onEventServerDisConnect,this),yx.eventDispatch.addListener(yx.EventType.RECONNECT_CHECK,this.onEventStartReconnectCheck,this),cc.game.on(cc.game.EVENT_SHOW,this.onEventGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onEventGameHide,this)},onEventStartReconnectCheck:function onEventStartReconnectCheck(){this.unschedule(this.reconnectCheckSchedule),this.schedule(this.reconnectCheckSchedule,3,cc.macro.REPEAT_FOREVER,3)},reconnectCheckSchedule:function reconnectCheckSchedule(){if(yx.network.isCanShowReconnect()&&!yx.network.isConnected()&&yx.sdkLayer.isLogin()){var e=yx.windowMgr.getCurWindowOrPanel();e&&"reconnectPanel"!=e.name&&yx.eventDispatch.dispatchMsg(yx.EventType.SERVER_DISCONNECT)}},start:function start(){yx.LoadingWindow.ShowPanel(this._preloadFirst.bind(this))},onEventGameShow:function onEventGameShow(){yx.log("[GameMain onEventGameShow]")},onEventGameHide:function onEventGameHide(){yx.log("[GameMain onEventGameHide]")},_preloadFirst:function _preloadFirst(e){yx.log("GameMain _preloadFirst"),this._loadingWindow=e;var t=new Array,n=yx.windowMgr.getPreloadInMainScene(),i=!0,o=!1,r=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c={path:a.value,type:"file"};t.push(c)}}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}yx.cfgMgr.CharCreatorCfgs&&yx.cfgMgr.CharCreatorCfgs.forEach(function(e){e&&0<e.Avatar.ID&&t.push({path:yx.resUtil.GetAvatarResPath(e.Avatar.ID,e.Avatar),type:"dir"})});var l=this;l._timeS=Date.now(),l._loadingWindow.setProgressValue(0),yx.report("Game-Main","preload-First"),yx.resUtil.PreLoadResArray(t,function(e,t){l._loadingWindow.setProgressValue(e/t*1)},function(e,t){var n=(Date.now()-l._timeS)/1e3;yx.log("[GameMain _preloadFirst] loadres complete duration:"+n+"s"),yx.log("[GameMain _preloadFirst] loadres succ:"+t+" error:"+e),0<e?(yx.log("[GameMain _preloadFirst] 有错误，重新来"),l._loadingWindow.showRetryText(l._preloadFirst.bind(l)),yx.report("Game-Main","preloadFirst-fail")):(l._loadingWindow.setProgressValue(1),yx.report("Game-Main","preloadFirst-succ"),yx.resUtil.set_load_log_flag(!1),l._preloadFinish())})},_preloadFinish:function _preloadFinish(){this._loadingWindow=null,yx.ToastUtil.init(),yx.log("wxdownloader GameMain _preloadFinish"),yx.windowMgr.showWindow("login")},onEventServerConnected:function onEventServerConnected(){var e=new yx.proto.C2S_Login;e.channel=yx.sdkLayer.getChannelName(),e.session=yx.serverMgr.getSession(),e.uid=yx.serverMgr.getUid(),e.openId=yx.serverMgr.getOpenId(),e.sid=yx.serverMgr.getCurServerInfo().id,yx.log("[LoginWindow onServerConnected] login with:",e),yx.network.sendMessage(yx.proto.CmdId.LOGIN,e)},onEventServerDisConnect:function onEventServerDisConnect(){var e=void 0;"textConfirm"==yx.windowMgr.getCurWindowName()&&yx.windowMgr.closeWindow("textConfirm"),e="main"==yx.sceneMgr.getSceneName()?"你与服务器断开了连接，请重新连接":"网络正忙，请重试",yx.TextConfirm.ShowHint(e,yx.CodeHelper.NewClickEvent(this,"_reconnectConfirm"),!0,"reconnectPanel")},_reconnectConfirm:function _reconnectConfirm(){yx.report("Game-Main","reconnect-Confirm"),yx.network.reconnect()}}),cc._RF.pop()},{FrameWork:"FrameWork"}],GoBackWidget:[function(e,t,n){cc._RF.push(t,"22cf88Qa05Azo+MBXO1n3pE","GoBackWidget");var i=cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label},setTitle:function setTitle(){},onBtnClick:function onBtnClick(){yx.windowMgr.goBack()}});t.extends=i,cc._RF.pop()},{}],GongFaMgr:[function(e,t,n){var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"e49c2fASeNGr6mpEds96uZW","GongFaMgr");var u=(o(i={},2,2),o(i,3,4),o(i,4,6),o(i,5,1),o(i,6,3),o(i,7,7),i),d=[3,2,1,4];yx.GongFaManager=function(){this._meipaiSkillInfo=null,this._gongfaList={},this._curZhaoShi=0},yx.GongFaManager.prototype={constructor:yx.GongFaManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.GONG_FA,this.onMessageGongFaInfo),yx.network.addHandler(yx.proto.CmdId.ADD_MEN_PAI_SKILL_NUM,this.onMessageAddMenPaiSkillNum),yx.network.addHandler(yx.proto.CmdId.GONG_FA_CHANGE,this.onMessageGongFaChange)},getMenPaiSkillNum:function getMenPaiSkillNum(){return this._meipaiSkillInfo?this._meipaiSkillInfo.Num:6},getNextSkillInfo:function getNextSkillInfo(){var e=this._meipaiSkillInfo.ID+1;return yx.cfgMgr.getRecordByKey("SkillNumConfig",{ID:e})},setMenPaiSkillNumId:function setMenPaiSkillNumId(e){var t=yx.cfgMgr.getRecordByKey("SkillNumConfig",{ID:e});t?this._meipaiSkillInfo=t:yx.warn("[GongFaMgr setMenPaiSkillNumId] can't find record")},initGongFaInfo:function initGongFaInfo(e){this.setMenPaiSkillNumId(e.skillNumID);var t=!0,n=!1,i=void 0;try{for(var o,r=e.gongFaInfo[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this.addGongFa(a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}this.setCurZhaoShi(e.zhaoShi)},getGongFa:function getGongFa(e,t){return this._gongfaList[e]?this._gongfaList[e].get(t):null},setCurZhaoShi:function setCurZhaoShi(e){this._curZhaoShi=e},getCurZhaoShi:function getCurZhaoShi(){return this._curZhaoShi},hasLearn:function hasLearn(e,t){return null!=this.getGongFa(e,t)},hasLearnByIndex:function hasLearnByIndex(e){var t=yx.cfgMgr.getRecordByKey("SkillConfig",{Index:e});return!!t&&this.hasLearn(t.Type,t.ID)},addGongFa:function addGongFa(e){if(!this.hasLearn(e.gongFaType,e.id)){this._gongfaList[e.gongFaType]||(this._gongfaList[e.gongFaType]=new Map);var t=yx.cfgMgr.getRecordByKey("SkillConfig",{ID:e.id,Type:e.gongFaType});e.cfg=t,this._gongfaList[e.gongFaType].set(e.id,e)}},getGongFaAdd:function getGongFaAdd(e){return e&&e.cfg?e.cfg.BaseAttr[0].value+e.cfg.AddAttr[0].value*(e.level-1):0},getWuXingAdd:function getWuXingAdd(e){return e&&e.cfg?yx.wudaoMgr.getAttrAdd(e.cfg.WuXingType)*e.cfg.Star:0},calStarsByWuXingType:function calStarsByWuXingType(t){var n={};for(var e in this._gongfaList)this._gongfaList.hasOwnProperty(e)&&this._gongfaList[e].forEach(function(e){e&&e.cfg&&e.cfg.WuXingType==t&&(n[e.cfg.BaseAttr[0].type]?n[e.cfg.BaseAttr[0].type]=n[e.cfg.BaseAttr[0].type]+e.cfg.Star:n[e.cfg.BaseAttr[0].type]=e.cfg.Star)});return n},changeGongFa:function changeGongFa(e){var t=this.getGongFa(e.gongFaType,e.id);t&&(t.level=e.level)},deleteGongFa:function deleteGongFa(e){this._gongfaList[e.gongFaType]&&this._gongfaList[e.gongFaType].delete(e.id)},getGongFaByType:function getGongFaByType(e){return this._gongfaList[e]?Array.from(this._gongfaList[e].values()):new Array},calGongFaAttrByType:function calGongFaAttrByType(e){var i=this;if(e==yx.proto.GongFaType.ZhaoShi)return null;var o={};if(e==yx.proto.GongFaType.MenPai){var t=!0,n=!1,r=void 0;try{for(var a,s=d[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var c=a.value;o[c]=0}}catch(e){n=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}else o[u[e]]=0;var l=this.getGongFaByType(e);return l&&l.forEach(function(e){var t=e.cfg;if(t){var n=t.BaseAttr[0].type;t.BaseAttr[0].type==t.AddAttr[0].type&&0<=o[n]&&(o[n]+=i.getWuXingAdd(e)+i.getGongFaAdd(e))}}),o},reqGongFaInfo:function reqGongFaInfo(){var e=new yx.proto.C2S_GetGongFa;yx.network.sendMessage(yx.proto.CmdId.GONG_FA,e)},reqAddMenPaiSkill:function reqAddMenPaiSkill(){var e=new yx.proto.C2S_AddMenPaiSkillNumID;yx.network.sendMessage(yx.proto.CmdId.ADD_MEN_PAI_SKILL_NUM,e)},reqGongFaUpgrade:function reqGongFaUpgrade(e,t){yx.gongfaMgr.reqGongFaChange(yx.proto.GongFaCmdType.UpGradeSkill,e,t)},reqChangeZhaoShi:function reqChangeZhaoShi(e){yx.gongfaMgr.reqGongFaChange(yx.proto.GongFaCmdType.ChangeZhaoShi,yx.proto.GongFaType.ZhaoShi,e)},reqForgetMenPaiGongFa:function reqForgetMenPaiGongFa(e){yx.gongfaMgr.reqGongFaChange(yx.proto.GongFaCmdType.DeleteMenPaiSkill,yx.proto.GongFaType.MenPai,e)},reqGongFaChange:function reqGongFaChange(e,t,n){var i=new yx.proto.C2S_GongFaChange;i.operateType=e,i.gongFaType=t,i.id=n,yx.network.sendMessage(yx.proto.CmdId.GONG_FA_CHANGE,i)},onMessageGongFaInfo:function onMessageGongFaInfo(e,t){var n=yx.proto.S2C_GetGongFa.decode(t);yx.gongfaMgr.initGongFaInfo(n),yx.eventDispatch.dispatchMsg(yx.EventType.GONG_FA,n)},onMessageAddMenPaiSkillNum:function onMessageAddMenPaiSkillNum(e,t){if(null!=e&&0<e.length)yx.log("[GongFaMrg onMessageAddMenPaiSkillNum] error:"+e);else{var n=yx.proto.S2C_AddMenPaiSkillNumID.decode(t);yx.gongfaMgr.setMenPaiSkillNumId(n.skillNumID),yx.eventDispatch.dispatchMsg(yx.EventType.ADD_MEN_PAI_SKILL_NUM)}},onMessageGongFaChange:function onMessageGongFaChange(e,t){if(null!=e&&0<e.length)yx.log("[GongFaMrg onMessageGongFaChange] error:"+e);else{var n=yx.proto.S2C_GongFaChange.decode(t);switch(n.operateType){case yx.proto.GongFaCmdType.AddSkill:yx.gongfaMgr.addGongFa(n.gongFaInfo),yx.gongfaMgr.newGongfa2Local(n.gongFaInfo.gongFaType,n.gongFaInfo.id);var i=yx.gongfaMgr.getGongFa(n.gongFaInfo.gongFaType,n.gongFaInfo.id),o=yx.gongfaMgr.getWuXingAdd(i)+yx.gongfaMgr.getGongFaAdd(i),r=yx.playerMgr.attr2secAttr(i.cfg.BaseAttr[0].type,o),a=yx.textDict.SecAttrName[i.cfg.BaseAttr[0].type];yx.ToastUtil.showListToast("<color=#00ff00>"+a+"+"+r+"</color>");break;case yx.proto.GongFaCmdType.UpGradeSkill:yx.gongfaMgr.changeGongFa(n.gongFaInfo);break;case yx.proto.GongFaCmdType.DeleteMenPaiSkill:yx.gongfaMgr.deleteGongFa(n.gongFaInfo);break;case yx.proto.GongFaCmdType.ChangeZhaoShi:yx.gongfaMgr.setCurZhaoShi(n.zhaoShi);break;default:return}yx.eventDispatch.dispatchMsg(yx.EventType.GONG_FA_CHANGE,n)}},newGongfa2Local:function newGongfa2Local(e,t){var n=yx.localStorage.Load(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid()),i={};n?(i=n)[e]?(i[e]=n[e],i[e].push(t)):i[e]=[t]:i[e]=[t],yx.localStorage.Save(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid(),i)},getNewGongfaList:function getNewGongfaList(e){var t=yx.localStorage.Load(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid());return t?t[e]:null},hasNewGongFa:function hasNewGongFa(){if(!yx.CodeHelper.checkFuncOpen(14,!1))return!1;var e=yx.localStorage.Load(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid());if(e)for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(n&&0<n.length)return!0}return!1},isNewGongfa:function isNewGongfa(e,t){var n=yx.localStorage.Load(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid());if(n&&n[e])for(var i=0;i<n[e].length;i++)if(n[e][i]==t)return!0;return!1},clearNewGongByType:function clearNewGongByType(e){var t=yx.localStorage.Load(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid());t&&t[e]&&(yx.log("clearNewGongByType----"),t[e]=null,yx.localStorage.Save(yx.LSKey.GONGFA_NEW+"_"+yx.playerMgr.getPid(),t))}},yx.gongfaMgr=new yx.GongFaManager,t.exports=yx.gongfaMgr,cc._RF.pop()},{}],GongFaScrollItem:[function(e,t,n){cc._RF.push(t,"63cbbS4Ga1JtLbmEBR7nL3d","GongFaScrollItem");var i=["iocn-37","iocn-40","iocn-36","iocn-38","iocn-39"];cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,detailLabel:cc.Label,iconSprite:cc.Sprite,forgetBtn:cc.Button,upgradeBtn:cc.Button,needLingQiLabel:cc.Label,newSp:cc.Sprite,_gongfaType:Number,_gongfaId:Number,_needLingQi:Number},init:function init(e){if(this.forgetBtn.node.on("click",this.onForgetBtnClick,this),this.upgradeBtn.node.on("click",this.onUpgradeBtnClick,this),this._gongfaType=e.gongFaType,this._gongfaId=e.id,this.titleLabel.string="{star}阶·{name}({level}级)".format({star:e.cfg.Star,name:e.cfg.Name,level:e.level}),this.detailLabel.string="{typename}+{addGongFa}({linggenType}效果+{addLinggen})".format({typename:yx.textDict.Attr[e.cfg.BaseAttr[0].type],addGongFa:yx.gongfaMgr.getWuXingAdd(e)+yx.gongfaMgr.getGongFaAdd(e),linggenType:yx.textDict.WuDaoTypeName[e.cfg.WuXingType],addLinggen:yx.gongfaMgr.getWuXingAdd(e)}),this.forgetBtn.node.active=e.gongFaType==yx.proto.GongFaType.MenPai,this._needLingQi=0,e.gongFaType!=yx.proto.GongFaType.ZhaoShi){yx.resUtil.LoadSprite("wudao/"+i[e.cfg.WuXingType-1],this.iconSprite);var t=yx.cfgMgr.getRecordByKey("SkillUpdateConfig",{Level:e.level});t?(this.needLingQiLabel.string=t.Cost[0].count+"灵气",this.upgradeBtn.enable=!0,this._needLingQi=t.Cost[0].count):(this.needLingQiLabel.string="已经满级",this.upgradeBtn.enable=!1)}this.newSp.node.active=yx.gongfaMgr.isNewGongfa(e.gongFaType,e.id)},getGongFaId:function getGongFaId(){return this._gongfaId},onForgetBtnClick:function onForgetBtnClick(){if(this._gongfaType==yx.proto.GongFaType.MenPai){var e=yx.gongfaMgr.getGongFa(this._gongfaType,this._gongfaId);if(e){var t="您确定要遗忘<color=#00C800>{name}</color>吗？";t=t.format({name:e.cfg.Name}),yx.TextConfirm.ShowConfirm(t,this.onForgetConfirmBtnClick.bind(this))}}},onUpgradeBtnClick:function onUpgradeBtnClick(){0<this._needLingQi&&this._needLingQi<=yx.playerMgr.getCurrency(yx.CyType.LINGQI)?(yx.gongfaMgr.reqGongFaUpgrade(this._gongfaType,this._gongfaId),yx.resUtil.playEffect("DianJiEffect",this.upgradeBtn.node)):yx.ToastUtil.showListToast("灵气不足")},onForgetConfirmBtnClick:function onForgetConfirmBtnClick(){yx.gongfaMgr.reqForgetMenPaiGongFa(this._gongfaId)},getUpgradeNode:function getUpgradeNode(){return this.upgradeBtn.node}}),cc._RF.pop()},{}],GongFaWindow:[function(e,t,n){cc._RF.push(t,"b5d42mNYOlD1oy7Vfb0ps8B","GongFaWindow");var i=e("BaseWindow"),o=e("GoBackWidget"),r=e("GongFaScrollItem"),a=e("ZhaoShiScrollItem"),c=[yx.proto.GongFaType.MenPai,yx.proto.GongFaType.MiJi,yx.proto.GongFaType.ZhenJue,yx.proto.GongFaType.XinJing,yx.proto.GongFaType.DunShu,yx.proto.GongFaType.JueXue,yx.proto.GongFaType.CanYe,yx.proto.GongFaType.ZhaoShi],s=e("AttrGroupWidget");cc.Class({extends:i,properties:{attrGroupWidget:s,autoUpgradeBtn:cc.Button,backWidget:o,gongfaItemPrefab:cc.Prefab,zhaoshiItemPrefab:cc.Prefab,switchTC:cc.ToggleContainer,emptyGroupNode:cc.Node,emptyBuyBtn:cc.Button,emptyLabel:cc.Label,scrollView:cc.ScrollView,scrollContent:cc.Node,scrollBgSprite:cc.Sprite,skillPointGroup:cc.Node,skillNumLabel:cc.Label,skillAddBtn:cc.Button,menpaiGroup:cc.Node,TypeGroup:cc.Node,menpaiTextLabel1:cc.Label,menpaiTextLabel2:cc.Label,menpaiTextLabel3:cc.Label,menpaiTextLabel4:cc.Label,typeTextLabel:cc.Label,_curPage:Number},_onInit:function _onInit(e){this.attrGroupWidget.initItems([yx.CyType.LINGQI]),this.skillAddBtn.node.on("click",this.onSkillAddBtnClick,this),this.emptyBuyBtn.node.on("click",this.onEmptyBuyBtnClick,this),this.autoUpgradeBtn.node.on("click",this.onAutoUpgradeBtnClick,this),this.autoUpgradeBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.GongFaAuto),yx.eventDispatch.addListener(yx.EventType.GONG_FA_CHANGE,this.onEventGongFaChange,this),yx.eventDispatch.addListener(yx.EventType.ADD_MEN_PAI_SKILL_NUM,this.onEventSkillNumChange,this),yx.eventDispatch.addListener(yx.EventType.SWITCH_UPDATE,this.onEventSwitchAutoUpgrade,this),this._initSwitchTC(),this._curPage=null!=e?e:c[0],this._itemSrcMap={},this.autoUpgradeBtn.node.active=yx.CodeHelper.checkFuncOpenShow(70)},_onShow:function _onShow(e){if(null!=e){this._curPage=e;var t=c.indexOf(this._curPage);this.switchTC.toggleItems[t]&&(this.switchTC.toggleItems[t].isChecked=!0)}for(var n=0;n<this.switchTC.toggleItems.length;n++){var i=this.switchTC.toggleItems[n];yx.BadgeMgr.addBadge(i.node,50,50)}yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_initSwitchTC:function _initSwitchTC(){this.switchTC.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="GongFaWindow",e.handler="onSwitchTCClick",this.switchTC.checkEvents.push(e)},_gongfaSortFunction:function _gongfaSortFunction(e,t){var n=e.cfg,i=t.cfg;return n.Star!=i.Star?i.Star-n.Star:n.WuXingType!=i.WuXingType?n.WuXingType-i.WuXingType:n.ID-n.ID},_refreshMenPaiPage:function _refreshMenPaiPage(){var e=yx.gongfaMgr.getGongFaByType(this._curPage);this.emptyLabel.string="加入妖族向族长学习兽诀",null!=e&&0<e.length?this.emptyGroupNode.active=!1:this.emptyGroupNode.active=!0,e.sort(this._gongfaSortFunction),this.scrollView.node.height=yx.windowHeight-450-5,this.scrollView.node.getChildByName("view").getComponent(cc.Widget).updateAlignment(),this.scrollBgSprite.node.height=yx.windowHeight-350;var i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.gongfaItemPrefab),n=t.getComponent(r);n&&(n.init(e),i._itemSrcMap[e.gongFaType+"_"+e.id]=n,i.scrollContent.addChild(t))}),this.skillPointGroup.active=!0,this.skillNumLabel.string=e.length+"/"+yx.gongfaMgr.getMenPaiSkillNum(),this._refreshAddAttr()},_refreshOtherPage:function _refreshOtherPage(){var e=yx.gongfaMgr.getGongFaByType(this._curPage);this.emptyLabel.string="功法书可在坊市的藏书阁购买",null!=e&&0<e.length?this.emptyGroupNode.active=!1:this.emptyGroupNode.active=!0,e.sort(this._gongfaSortFunction),this.scrollView.node.height=yx.windowHeight-350-5,this.scrollView.node.getChildByName("view").getComponent(cc.Widget).updateAlignment(),this.scrollBgSprite.node.height=yx.windowHeight-350;var i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.gongfaItemPrefab),n=t.getComponent(r);n&&(n.init(e),i._itemSrcMap[e.gongFaType+"_"+e.id]=n,i.scrollContent.addChild(t))}),this.skillPointGroup.active=!1,this._refreshAddAttr()},_refreshZhaoShiPage:function _refreshZhaoShiPage(){this.emptyGroupNode.active=!1;var e=yx.gongfaMgr.getGongFaByType(this._curPage);e.sort(this._gongfaSortFunction),this.scrollView.node.height=yx.windowHeight-350-5,this.scrollView.node.getChildByName("view").getComponent(cc.Widget).updateAlignment(),this.scrollBgSprite.node.height=yx.windowHeight-350;var i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.zhaoshiItemPrefab),n=t.getComponent(a);n&&(n.init(e),i.scrollContent.addChild(t))}),this.skillPointGroup.active=!1,this.menpaiGroup.active=!1,this.TypeGroup.active=!1},_refresh:function _refresh(){this._curPage==yx.proto.GongFaType.MenPai?this._refreshMenPaiPage():this._curPage==yx.proto.GongFaType.ZhaoShi?this._refreshZhaoShiPage():this._refreshOtherPage();for(var e=0;e<this.switchTC.toggleItems.length;e++){var t=this.switchTC.toggleItems[e],n=yx.gongfaMgr.getNewGongfaList(c[e]);n&&0<n.length?yx.BadgeMgr.showBadge(t.node,!0):yx.BadgeMgr.showBadge(t.node,!1)}},_refreshAddAttr:function _refreshAddAttr(){if(this._curPage==yx.proto.GongFaType.MenPai){var e=yx.gongfaMgr.calGongFaAttrByType(this._curPage);this.menpaiGroup.active=!0,this.TypeGroup.active=!1;var t=0,n=[this.menpaiTextLabel1,this.menpaiTextLabel2,this.menpaiTextLabel3,this.menpaiTextLabel4];for(var i in e)if(n[t++].string=yx.textDict.SecAttrName[i]+"+"+yx.playerMgr.attr2secAttr(i,e[i]),4<=t)break}else if(this._curPage!=yx.proto.GongFaType.ZhaoShi){this.menpaiGroup.active=!1,this.TypeGroup.active=!0;var o=yx.gongfaMgr.calGongFaAttrByType(this._curPage);for(var r in o){this.typeTextLabel.string=yx.textDict.GongFaTypeName[this._curPage]+"总计："+yx.textDict.SecAttrName[r]+"+"+yx.playerMgr.attr2secAttr(r,o[r]);break}}},_refreshGongFa:function _refreshGongFa(t,n){this.scrollContent.getComponentsInChildren(r).forEach(function(e){e.getGongFaId()!=n||e.init(yx.gongfaMgr.getGongFa(t,n))})},_refreshChangeZhaoShi:function _refreshChangeZhaoShi(){this._refreshZhaoShiPage()},_refreshDelete:function _refreshDelete(t){if(this._curPage==yx.proto.GongFaType.MenPai){this.scrollContent.getComponentsInChildren(r).forEach(function(e){e.getGongFaId()!=t||e.node.removeFromParent(!0)});var e=yx.gongfaMgr.getGongFaByType(this._curPage);this.skillNumLabel.string=e.length+"/"+yx.gongfaMgr.getMenPaiSkillNum()}},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTC.toggleItems.indexOf(e);if(0<=t){var n=c[t];null!=n&&n!=this._curPage&&(this._curPage=n,this._refresh())}yx.gongfaMgr.clearNewGongByType(c[t])},onSkillAddBtnClick:function onSkillAddBtnClick(){var e=yx.gongfaMgr.getNextSkillInfo();if(e){var t="您确定要消耗{cost}威望增加门派技能上限？\n(当前威望：{cur})";t=t.format({cost:e.Cost[0].count,cur:yx.playerMgr.getCurrency(yx.CyType.WEIWANG)}),yx.TextConfirm.ShowConfirm(t,this.onUpgradeConfirmBtnClick.bind(this))}else yx.ToastUtil.showListToast("已经达到最大等级")},onUpgradeConfirmBtnClick:function onUpgradeConfirmBtnClick(){var e=yx.gongfaMgr.getNextSkillInfo();e?e.Cost[0].count<=yx.playerMgr.getCurrency(yx.CyType.WEIWANG)?yx.gongfaMgr.reqAddMenPaiSkill():yx.ToastUtil.showListToast("威望不足"):yx.ToastUtil.showListToast("已经达到最大等级")},onEmptyBuyBtnClick:function onEmptyBuyBtnClick(){if(this._curPage==yx.proto.GongFaType.MenPai){if(!yx.CodeHelper.checkFuncOpen(15))return;yx.windowMgr.showWindow("menPai")}else{if(!yx.CodeHelper.checkFuncOpen(47))return;yx.windowMgr.showWindow("fangshi",{type:yx.proto.ShopType.CangShuGe})}},onEventGongFaChange:function onEventGongFaChange(e){if(this.isShown()&&this._curPage==e.gongFaInfo.gongFaType)switch(e.operateType){case yx.proto.GongFaCmdType.AddSkill:break;case yx.proto.GongFaCmdType.UpGradeSkill:this._refreshGongFa(e.gongFaInfo.gongFaType,e.gongFaInfo.id),this._refreshAddAttr();break;case yx.proto.GongFaCmdType.DeleteMenPaiSkill:this._refreshDelete(e.gongFaInfo.id),this._refreshAddAttr();break;case yx.proto.GongFaCmdType.ChangeZhaoShi:this._refreshChangeZhaoShi();break;default:return}},onEventSkillNumChange:function onEventSkillNumChange(){if(this.isShown()&&this._curPage==yx.proto.GongFaType.MenPai){var e=yx.gongfaMgr.getGongFaByType(this._curPage);this.skillNumLabel.string=e.length+"/"+yx.gongfaMgr.getMenPaiSkillNum()}},_onVipTipComfirm:function _onVipTipComfirm(){yx.CodeHelper.checkFuncOpen(56)&&yx.windowMgr.showWindow("vipWindow")},onAutoUpgradeBtnClick:function onAutoUpgradeBtnClick(){if(yx.playerMgr.isVip()){var e=yx.playerMgr.getSwitch(yx.proto.SwitchType.WuDaoAuto),t=!this.autoUpgradeBtn.node.getChildByName("checkmark").active;e&&t?yx.TextConfirm.ShowConfirm("当前正在自动升级妖丹，开启兽诀将会关闭妖丹的自动升级功能",this._onAutoUpgrateComfirm.bind(this)):yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.GongFaAuto,t)}else yx.TextConfirm.ShowConfirm("开通月卡即可享受妖丹与兽诀的自动升级功能",this._onVipTipComfirm.bind(this))},_onAutoUpgrateComfirm:function _onAutoUpgrateComfirm(){var e=!this.autoUpgradeBtn.node.getChildByName("checkmark").active;yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.GongFaAuto,e)},onEventSwitchAutoUpgrade:function onEventSwitchAutoUpgrade(){this.autoUpgradeBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.GongFaAuto)},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",14)},_getTargetData:function _getTargetData(){for(var e=-1,t=-1,n=-1,i=0;i<c.length;i++){var o=c[i];if(yx.proto.GongFaType.ZhaoShi!=o)for(var r=yx.gongfaMgr.getGongFaByType(o),a=0;a<r.length;a++){var s=r[a];(-1==n||s.level<n)&&(e=o,t=s.id,n=s.level)}}return{targetId:t,targetType:e}},getLestGongFaTabNode:function getLestGongFaTabNode(){var e=this._getTargetData(),t=c.indexOf(e.targetType);return this.switchTC.toggleItems[t]?this.switchTC.toggleItems[t].node:null},getLestGongFaItemNode:function getLestGongFaItemNode(){var e=this._getTargetData(),t=this._itemSrcMap[e.targetType+"_"+e.targetId];return t?t.getUpgradeNode():null},getGongFaNodeByType:function getGongFaNodeByType(e){return e==yx.GuideActionType.TYPE_4?this.getLestGongFaTabNode():e==yx.GuideActionType.TYPE_5?this.getLestGongFaItemNode():null},isTargetTab:function isTargetTab(){var e=this._getTargetData();return this._curPage==e.targetType}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",GoBackWidget:"GoBackWidget",GongFaScrollItem:"GongFaScrollItem",ZhaoShiScrollItem:"ZhaoShiScrollItem"}],GongGaoPanel:[function(e,t,n){cc._RF.push(t,"c417dOsDGtGMYey3XaUfzHW","GongGaoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,comfirmBtn:cc.Button,titleLabel:cc.Label,contentRitext:cc.RichText},_onInit:function _onInit(){this.titleLabel.string="公告",this.contentRitext.string=yx.serverMgr.getBulletin(),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.comfirmBtn.node.on("click",this.onCloseBtnClick,this)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],GoodsDetailPanel:[function(e,t,n){cc._RF.push(t,"cff66QpT95BLJKB2891aK31","GoodsDetailPanel");var i=e("BaseWindow"),o=e("NumberWidget");cc.Class({extends:i,properties:{titleLabel:cc.Label,iconSp:cc.Sprite,contentLabel:cc.Label,levelLabel:cc.Label,closeBtn:cc.Button,buyBtn:cc.Button,numberWidget:o,stockNumLabel:cc.Label,cyIconSp:cc.Sprite,costLabel:cc.Label,_goodsCfg:null,_stockNum:Number,_costItemCfg:null,_rewardItemCfg:null},_onInit:function _onInit(e){null!=e?(this._goodsCfg=e.goodsCfg,this._stockNum=e.remain,this._showType=e.showType,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.buyBtn.node.on("click",this.onBuyBtnClick,this),this._costItemCfg=yx.cfgMgr.getOneRecord("ItemConfig",this._goodsCfg.Cost[0].id),this._rewardItemCfg=yx.cfgMgr.getOneRecord("ItemConfig",this._goodsCfg.Reward[0].id),null!=this._costItemCfg&&null!=this._rewardItemCfg||yx.error("[GoodsDetail get _costItemCfg faild] id:"+this._goodsCfg.Cost[0].id)):yx.error("[GoodsDetail oninit error]")},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){if(this._costItemCfg&&this._rewardItemCfg){yx.resUtil.LoadSpriteByType(this._rewardItemCfg.Icon,yx.ResType.ITEM,this.iconSp),yx.resUtil.LoadSpriteByType(this._costItemCfg.Icon,yx.ResType.ITEM,this.cyIconSp),this.titleLabel.string=this._rewardItemCfg.Name;var e=yx.textDict.QualityColor.getQualityColor(this._rewardItemCfg.PinZhi);this.titleLabel.node.color=yx.colorUtil.toCCColor(e),yx.CodeHelper.addOutlineByPinZhi(this.titleLabel.node,this._rewardItemCfg.PinZhi),this.contentLabel.string=this._rewardItemCfg.DefDesc,this.levelLabel.string=yx.textDict.ItemPinZhi.getQualityText(this._rewardItemCfg.PinZhi),this.stockNumLabel.string=this._stockNum,this.numberWidget.init(1,this._stockNum,this.onNumberWidgetChange,this),this.numberWidget.setNumberClickEnable(!1),this._refreshCostValue()}},_refreshCostValue:function _refreshCostValue(){this.costLabel.string=this._goodsCfg.Cost[0].count*this.numberWidget.curNum},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onNumberWidgetChange:function onNumberWidgetChange(){this._refreshCostValue()},onBuyBtnClick:function onBuyBtnClick(){if(yx.log("[GoodsDetailPanel onBuyBtnClick]"),yx.playerMgr.getCurrency(this._costItemCfg.ID)>=this._goodsCfg.Cost[0].count)switch(yx.windowMgr.goBack(),this._showType){case yx.SHOPTYPE.FANGSHI:yx.fangshiMgr.reqPurchaseGoods(this._goodsCfg.Type,this._goodsCfg.Layer,this._goodsCfg.ID,this.numberWidget.curNum);break;case yx.SHOPTYPE.XIANFANG:yx.xianfangMgr.reqPurchaseGoods(this._goodsCfg.Type,this._goodsCfg.Layer,this._goodsCfg.ID,this.numberWidget.curNum);break;case yx.SHOPTYPE.HUOLANG:yx.huolangMgr.reqPurchaseGoods(this._goodsCfg.Type,this._goodsCfg.Layer,this._goodsCfg.ID,this.numberWidget.curNum)}else yx.ToastUtil.showListToast(this._costItemCfg.Name+"不足")}}),cc._RF.pop()},{BaseWindow:"BaseWindow",NumberWidget:"NumberWidget"}],GoodsItemWidget:[function(e,t,n){cc._RF.push(t,"8f618+NclBAc6FEKFNfQgs3","GoodsItemWidget");var i="fangshi/iocn-124";cc.Class({extends:cc.Component,properties:{cyIconSp:cc.Sprite,goodsIconSp:cc.Sprite,numLabel:cc.Label,statusSp:cc.Sprite,nameLabel:cc.Label,itemNode:cc.Node,_goodsId:Number,_remain:Number,_goodsCfg:null,_itemCfg:null,goodsId:{get:function get(){return this._goodsId}}},start:function start(){this.node.on("click",this.onBtnClick,this)},initGoods:function initGoods(e,t){if(this._showType=t,this._pageType=1,null!=e){switch(this._goodsCfg=null,t){case yx.SHOPTYPE.FANGSHI:this._goodsCfg=yx.cfgMgr.getOneRecord("ShopListConfig",{ID:e.goodsID,Type:e.shopType,Layer:e.layer});break;case yx.SHOPTYPE.XIANFANG:this._goodsCfg=yx.cfgMgr.getOneRecord("XianFangListConfig",{ID:e.goodsID,Type:e.xianFangType,Layer:e.layer});break;case yx.SHOPTYPE.HUOLANG:this._goodsCfg=yx.cfgMgr.getOneRecord("HuoLangConfig",{ID:e.goodsID,Type:e.huoLangType,Layer:e.layer})}if(this._goodsCfg)if(this._itemCfg=yx.cfgMgr.getOneRecord("ItemConfig",this._goodsCfg.Reward[0].id),this._itemCfg){this._goodsId=e.goodsID,this._remain=e.remainCount;var n=yx.cfgMgr.getOneRecord("ItemConfig",this._goodsCfg.Cost[0].id);n&&yx.resUtil.LoadSpriteByType(n.Icon,yx.ResType.ITEM,this.cyIconSp),this.numLabel.string=this._goodsCfg.Cost[0].count,yx.resUtil.LoadSpriteByType(this._itemCfg.Icon,yx.ResType.ITEM,this.goodsIconSp),this.nameLabel.string=this._itemCfg.Name;var i=yx.textDict.QualityColor.getQualityColor(this._itemCfg.PinZhi);this.nameLabel.node.color=yx.colorUtil.toCCColor(i),this._refreshRemain(),this.itemNode.active=!0}else this.itemNode.active=!1;else this.itemNode.active=!1}else this.itemNode.active=!1},initRecharge:function initRecharge(e){this._pageType=2,null!=e?(this._payItemCfg=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:e.ID}),this._payItemCfg?(this._itemCfg=yx.cfgMgr.getOneRecord("ItemConfig",this._payItemCfg.TypeValue[0].id),this._itemCfg?(this._goodsId=e.ID,this.cyIconSp.spriteFrame=null,this.statusSp.spriteFrame=null,this.numLabel.string="￥"+this._payItemCfg.RMB,yx.resUtil.LoadSpriteByType(this._itemCfg.Icon,yx.ResType.ITEM,this.goodsIconSp),this.nameLabel.string=this._payItemCfg.Name,this.itemNode.active=!0):this.itemNode.active=!1):this.itemNode.active=!1):this.itemNode.active=!1},_refreshRemain:function _refreshRemain(){yx.bagMgr.checkHasLearn(this._itemCfg)?yx.resUtil.LoadSprite("fangshi/iocn-123",this.statusSp):yx.bagMgr.checkHasOwn(this._itemCfg)||0==this._remain?yx.resUtil.LoadSprite(i,this.statusSp):this.statusSp.spriteFrame=null},changeRemain:function changeRemain(e){this._remain=e,this._refreshRemain()},onBtnClick:function onBtnClick(){if(yx.log("[GoodsItemWidget onBtnClick]"),1===this._pageType){if(yx.bagMgr.checkHasLearn(this._itemCfg))return void yx.ToastUtil.showListToast(this._itemCfg.Name+"已学习");if(yx.bagMgr.checkHasOwn(this._itemCfg))return void yx.ToastUtil.showListToast("该商品已售罄");if(0==this._remain)return void yx.ToastUtil.showListToast("该商品已售罄");var e={};e.remain=this._remain,e.goodsCfg=this._goodsCfg,e.showType=this._showType,yx.windowMgr.showWindow("goodsDetail",e)}else yx.reChargeMgr.reqReCharge(this._goodsId)},IsCanAddTutor:function IsCanAddTutor(){return!!this.itemNode.active&&!yx.bagMgr.checkHasLearn(this._itemCfg)&&!yx.bagMgr.checkHasOwn(this._itemCfg)&&0!=this._remain}}),cc._RF.pop()},{}],HeiShiItem:[function(e,t,n){cc._RF.push(t,"3cbd2n4M0FBLJjlxYrYEdKm","HeiShiItem"),cc.Class({extends:cc.Component,properties:{index:0,dragonAnimSmall:dragonBones.ArmatureDisplay},start:function start(){this.node.on("click",this.clickBtn,this)},init:function init(e){this._config=yx.cfgMgr.getRecordByKey("HeiShiItemConfig",{ID:e}),this._lastPlaySec=0},clickBtn:function clickBtn(){this._config&&(yx.log("HeishiItem click id=="+this._config.ID),yx.heiShiMgr.openBox(this._config.ID))},showOrHide:function showOrHide(e){this.node.active=e},playAnim:function playAnim(e){this._lastPlaySec!=e&&(this._lastPlaySec=e,yx.log("play anim index == "+this.index+"   EffectType =="+this._config.EffectType),1<=this._config.EffectType&&this._config.EffectType<=4&&yx.resUtil.loadDragonBones(this.dragonAnimSmall,"ui_effect/heishi/small","tishi01","tishi"+this._config.EffectType,null,1))}}),cc._RF.pop()},{}],HeiShiMgr:[function(e,t,n){cc._RF.push(t,"4c138sJJn5GjY0sl6MUXWn8","HeiShiMgr"),yx.HeiShiManager=function(){this._data=null},yx.HeiShiManager.prototype={constructor:yx.HeiShiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.HEI_SHI,this.onMessageHandle)},Info:function Info(){yx.log("HeiShiManager  Info");var e=new yx.proto.C2S_HeiShi;e.cmdType=yx.proto.HeiShiCmdType.Reconnect_Cmd,yx.network.sendMessage(yx.proto.CmdId.HEI_SHI,e)},enter:function enter(){yx.log("HeiShiManager  enter");var e=new yx.proto.C2S_HeiShi;e.cmdType=yx.proto.HeiShiCmdType.EnterHeiShi_Cmd,yx.network.sendMessage(yx.proto.CmdId.HEI_SHI,e)},openBox:function openBox(e){yx.log("HeiShiManager  openBox  =="+e);var t=new yx.proto.C2S_HeiShi;t.cmdType=yx.proto.HeiShiCmdType.SelectShop_Cmd,t.selectItemID=e,yx.network.sendMessage(yx.proto.CmdId.HEI_SHI,t)},onMessageHandle:function onMessageHandle(e,t){if(yx.log("onMessageHandle-----"),null!=e&&0<e.length)yx.log("[HeiShiManager onMessageHandle] error:"+e);else{var n=yx.proto.S2C_HeiShi.decode(t);if(yx.heiShiMgr.setData(n),n.cmdType==yx.proto.HeiShiCmdType.Reconnect_Cmd)yx.eventDispatch.dispatchMsg(yx.EventType.HEISHI_REFRESH);else if(n.cmdType==yx.proto.HeiShiCmdType.EnterHeiShi_Cmd)yx.eventDispatch.dispatchMsg(yx.EventType.HEISHI_REFRESH);else if(n.cmdType==yx.proto.HeiShiCmdType.SelectShop_Cmd){var i={};if(i.reward=n.reward,i.reward){yx.log("args.reward.length=="+i.reward.length);for(var o=0;o<i.reward.length;o++){var r=i.reward[o];yx.log("element id="+r.id),yx.log("element count="+r.count)}}else yx.log("reward is null");i.selectItemID=n.selectItemID,yx.windowMgr.showWindow("heishiRewardPanel",i),yx.heiShiMgr.Info()}}},setData:function setData(e){this._data={},null!=e.heiShiConsume&&(this._data.heiShiConsume=e.heiShiConsume,yx.log("heiShiConsume.avaliableLevel"+e.heiShiConsume.avaliableLevel),yx.log("heiShiConsume.avaliableCount"+e.heiShiConsume.avaliableCount)),null!=e.gameState&&(this._data.gameState=e.gameState,yx.log("gameState"+e.gameState)),null!=e.countDown&&(this._data.countDown=e.countDown,yx.log("countDown"+e.countDown)),null!=e.heiShiList&&(this._data.heiShiList=e.heiShiList)},getData:function getData(){return this._data},IsPalying:function IsPalying(){return this._data.gameState==yx.proto.HeiShiGameState.Select},IsLevelActive:function IsLevelActive(){return null!=this._data.heiShiConsume&&null!=this._data.heiShiConsume.avaliableLevel&&this._data.heiShiConsume.avaliableLevel},getLeftTimes:function getLeftTimes(){return null==this._data.heiShiConsume||null==this._data.heiShiConsume.avaliableCount?0:this._data.heiShiConsume.avaliableCount},getCost:function getCost(){return null==this._data.heiShiConsume||null==this._data.heiShiConsume.resource?[]:this._data.heiShiConsume.resource},getListItem:function getListItem(){return null==this._data.heiShiList?[]:this._data.heiShiList},getEndTime:function getEndTime(){return null==this._data.countDown?0:this._data.countDown}},yx.heiShiMgr=new yx.HeiShiManager,t.exports=yx.heiShiMgr,cc._RF.pop()},{}],HeiShiRewardPanel:[function(e,t,n){cc._RF.push(t,"ee888mAAadKO57vUwFrhsZC","HeiShiRewardPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{normalGroup:cc.Node,titleLabel:cc.Label,iconSp:cc.Sprite,descLabel:cc.RichText,rewardLabel:cc.Label,getBtn:cc.Button,rewardBtnDesc:cc.Label,extraGroup:cc.Node,titleLabel2:cc.Label,iconSp2:cc.Sprite,descLabel2:cc.RichText,rewardLabel2:cc.Label,getBtn2:cc.Button,rewardBtnDesc2:cc.Label,extraNode:cc.Node,openBoxAnim:dragonBones.ArmatureDisplay,dragonAnim:dragonBones.ArmatureDisplay,dragonAnimExt:dragonBones.ArmatureDisplay},_onInit:function _onInit(e){this._args=e,this.getBtn.node.on("click",this.onGetReward,this),this.getBtn2.node.on("click",this.onGetReward2,this)},_onShow:function _onShow(){this.normalGroup.active=!1,this.extraGroup.active=!1,this.openBoxAnim.playAnimation("newAnimation",1),this.scheduleOnce(this._refresh.bind(this),2)},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){if(this._args){var e=yx.cfgMgr.getRecordByKey("HeiShiItemConfig",{ID:this._args.selectItemID});if(e&&(this.titleLabel.string=e.Name,this.descLabel.string=e.DefDesc,null!=e.Icon&&yx.resUtil.LoadSpriteFromResConfigById(e.Icon,this.iconSp),this.titleLabel2.string=e.Name,this.descLabel2.string=e.DefDesc,null!=e.Icon&&yx.resUtil.LoadSpriteFromResConfigById(e.Icon,this.iconSp2)),null==this._args.reward)return yx.log("this._args.reward is null"),this.normalGroup.active=!1,void(this.extraGroup.active=!1);if(2==this._args.reward.length){this.normalGroup.active=!1,this.extraGroup.active=!0;var t=0,n=1;this._args.reward[0].type!=yx.CyType.LINGSHI&&(t=1,n=0),this.rewardLabel2.string="价值"+this._args.reward[t].count+"灵石",this.rewardBtnDesc2.string="收下奖励";var i={};i.content=""+this._args.reward[n].count,i.ID=this._args.reward[n].id,yx.ItemRichTextWidget.CreateItemSlot(i,this.extraNode,"reward",null)}else 1==this._args.reward.length?(this.normalGroup.active=!0,this.extraGroup.active=!1,this.rewardLabel.string="价值"+this._args.reward[0].count+"灵石"):(yx.log("reward error count = "+this._args.reward.length),this.normalGroup.active=!0,this.extraGroup.active=!1,this.rewardLabel.string="价值0灵石"),this.rewardBtnDesc.string="收下奖励"}},onGetReward:function onGetReward(){yx.windowMgr.goBack()},onGetReward2:function onGetReward2(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],HeiShiWindow:[function(e,t,n){cc._RF.push(t,"41277/NHAtOhJXmjFQxLf+t","HeiShiWindow");var i=e("BaseWindow"),o=e("HeiShiItem");cc.Class({extends:i,properties:{lingshiLabel:cc.Label,openGroup:cc.Node,desc:cc.RichText,intoBtn:cc.Button,intoBtnDesc:cc.Label,conditionDesc:cc.RichText,playGroup:cc.Node,boxGroup:cc.Node,progress:cc.ProgressBar,progresstime:cc.RichText,progressdesc:cc.RichText},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.HEISHI_REFRESH,this.onRefreshContent,this),this.intoBtn.node.on("click",this.onBtnEnterClick,this),this._btnItemList=[];for(var e=0;e<12;e++){var t=this.boxGroup.getChildByName("box"+(e+1)).getComponent(o);this._btnItemList[e]=t}},_onShow:function _onShow(){yx.heiShiMgr.Info()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refreshOpenPage:function _refreshOpenPage(){if(this.desc.string="　　<color=#745937>嘿嘿嘿，这位道友，要不要来点刺激的？\r\n\r\n　　我这里有几个储物袋，道友只要花少许灵石就能</color><color=#ff6565>挑一个</color><color=#745937>，我会按照市价</color><color=#ff6565>收购</color><color=#745937>里面的东西。至于是赔还是赚，就看道友的眼光了。\r\n\r\n　　名额有限，道友可要珍惜机会。另外，道友只有</color><color=#ff6565>30</color><color=#745937>秒时间探查，并且选了就不能反悔。</color>",yx.heiShiMgr.IsLevelActive())if(0<yx.heiShiMgr.getLeftTimes()){var e=yx.heiShiMgr.getCost(),t=yx.bagMgr.GetItemName(e[0].id),n="入场({rewardValue}{rewardName})";n=n.format({rewardValue:e[0].count,rewardName:t}),this.intoBtnDesc.string=n,this.intoBtn.node.active=!0;var i="<color=#745937>今日剩余：</color><color=#52b33a>{count}次</color>";i=i.format({count:yx.heiShiMgr.getLeftTimes()}),this.conditionDesc.string=i}else this.intoBtn.node.active=!1,this.conditionDesc.string="<color=#745937>每人限定三次，道友改日再来吧</color>\n<color=#52b33a>每日0点重置入场次数</color>";else this.intoBtn.node.active=!1,this.conditionDesc.string="<color=#745937>道友还是不要凑热闹了</color>\n<color=#52b33a>(一品炼丹\\锻器师方可进入)</color>"},_refreshPlayPage:function _refreshPlayPage(){this._list=yx.heiShiMgr.getListItem();for(var e=0;e<this._list.length;e++)this._btnItemList[e].init(this._list[e]),this._btnItemList[e].showOrHide(!0);if(this._list.length<12)for(var t=this._list.length;t<12;t++)this._btnItemList[t].showOrHide(!1);this._effectList={};for(var n=0;n<this._list.length;n++){var i=this._list[n];yx.log("element.id==="+i);var o=yx.cfgMgr.getRecordByKey("HeiShiItemConfig",{ID:i});1==o.EffectType?(this._effectList[n]=[],this._effectList[n][0]=0+Math.ceil(5*Math.random()),this._effectList[n][1]=5+Math.ceil(5*Math.random()),this._effectList[n][2]=10+Math.ceil(5*Math.random()),this._effectList[n][3]=15+Math.ceil(5*Math.random()),this._effectList[n][4]=20+Math.ceil(5*Math.random()),this._effectList[n][5]=25+Math.ceil(5*Math.random())):2==o.EffectType?(this._effectList[n]=[],this._effectList[n][0]=0+Math.ceil(15*Math.random()),this._effectList[n][1]=15+Math.ceil(15*Math.random())):3==o.EffectType||4==o.EffectType?(this._effectList[n]=[],this._effectList[n][0]=0+Math.ceil(30*Math.random())):this._effectList[n]=null}this.progressdesc.string="炼丹/锻器等级越高\n越容易探查到高品质宝物",this._update=!1;var r=yx.heiShiMgr.getEndTime()-yx.timeUtil.getServerTime();if(0<r){this._update=!0;var a="<color=#ffffff>剩余探查时间：</color><color=#ffeae1>{time}</color><color=#ffffff>秒</color>";a=a.format({time:parseInt(r/1e3)}),this.progresstime.string=a,this.progress.progress=r/3e4,this.progress.node.active=!0}else this.progresstime.string="<color=#ffffff>探查已经结束，道友请选择一个</color>",this.progress.progress=0,this.progress.node.active=!1},update:function update(){if(this._update){var e=yx.heiShiMgr.getEndTime()-yx.timeUtil.getServerTime();if(0<e){var t="<color=#ffffff>剩余探查时间：</color><color=#ffeae1>{time}</color><color=#ffffff>秒</color>";t=t.format({time:parseInt(e/1e3)}),this.progresstime.string=t,this.progress.progress=e/3e4;for(var n=0;n<this._btnItemList.length;n++){var i=this._effectList[n];if(null!=i)for(var o=0;o<i.length;o++){var r=i[o];Math.ceil(e/1e3)==r&&this._btnItemList[n].playAnim(r)}}}else this._refreshPlayPage()}},_refresh:function _refresh(){this.lingshiLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGSHI),yx.heiShiMgr.IsPalying()?(this.playGroup.active=!0,this.openGroup.active=!1,this._refreshPlayPage()):(this.playGroup.active=!1,this.openGroup.active=!0,this._refreshOpenPage())},onBtnEnterClick:function onBtnEnterClick(){var e=yx.heiShiMgr.getCost(),t=yx.bagMgr.GetItemName(e[0].id);yx.log("costData[0].id="+e[0].id),yx.bagMgr.GetItemOwnCount(e[0].type,e[0].id)<e[0].count?yx.ToastUtil.showListToast(t+"不足"):yx.heiShiMgr.enter()},onRefreshContent:function onRefreshContent(){this._refresh()},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",12)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",HeiShiItem:"HeiShiItem"}],HelpPanel:[function(e,t,n){cc._RF.push(t,"95a4aIxxz9Kbq7N22qxZPfF","HelpPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{richText:cc.RichText},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onInit:function _onInit(){},_onShow:function _onShow(e){yx.CodeHelper.CallInNextTick(this._refresh.bind(this,e))},_refresh:function _refresh(e){var t=yx.cfgMgr.getRecordByKey("FuncOpenConfig",{ID:e});if(t&&t.HelpID){var n=yx.cfgMgr.getOneRecord("HelpConfig",{ID:t.HelpID});n&&(this.richText.string=n.Text.join("\n"))}else{var i=yx.cfgMgr.getOneRecord("HelpConfig",{ID:e});i&&(this.richText.string=i.Text.join("\n"))}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],HttpRequest:[function(e,t,n){cc._RF.push(t,"01cc15Q/RlID5uClc1ro368","HttpRequest"),t.exports=yx.http={httpPost:function httpPost(e,t,n){var i=new XMLHttpRequest;yx.log("httppost: url:"+e+" data:"+t),i._tempUrl=e,i.ontimeout=function(e){n(!1,"timeout")},i.onerror=function(e){yx.log("request.onerror, e="+e),n(!1,"neterror")},i.onreadystatechange=function(){yx.log("request.readyState="+i.readyState+", request.status="+i.status),4==i.readyState&&(200<=i.status&&i.status<=207?n(!0,i.response):n(!1,"status error:"+i.status))},i.open("POST",i._tempUrl,!0),i.setRequestHeader("Content-Type","application/json"),i.timeout=6e3,i.send(t)},httpGet:function httpGet(e,t){var n=new XMLHttpRequest;n._tempUrl=e,n.ontimeout=function(e){t(!1,"timeout")},n.onerror=function(e){yx.log("request.onerror, e="+e),t(!1,"neterror")},n.onreadystatechange=function(){yx.log("request.readyState="+n.readyState+", request.status="+n.status),4==n.readyState&&(200<=n.status&&n.status<=207?t(!0,n):t(!1,"status error:"+n.status))},this._sendReq(n)},_sendReq:function _sendReq(e){try{e.open("GET",e._tempUrl,!0),cc.sys.isNative&&e.setRequestHeader("Accept-Encoding","gzip,deflate"),e.setRequestHeader("Access-Control-Allow-Origin","*"),e.timeout=6e3,e.send()}catch(e){yx.log("sendReq, error="+e)}}},cc._RF.pop()},{}],HuoLangMgr:[function(e,t,n){cc._RF.push(t,"ee020J6HKJHdqdgHBiWwAjD","HuoLangMgr"),yx.HuoLangManager=function(){this._shopData={}},yx.HuoLangManager.prototype={constructor:yx.HuoLangManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.HUO_LANG_SHOP_LIST,this.onMessageShopList),yx.network.addHandler(yx.proto.CmdId.PURCHASE_HUO_LANG_GOODS,this.onMessagePurchaseGoods)},initShopList:function initShopList(e){var t=!0,n=!(this._shopData={}),i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._shopData[a.huoLangType]||(this._shopData[a.huoLangType]={}),this._shopData[a.huoLangType][a.layer]||(this._shopData[a.huoLangType][a.layer]=new Map),this._shopData[a.huoLangType][a.layer].set(a.goodsID,a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}},getGoodsList:function getGoodsList(e,t){return this._shopData[e]&&this._shopData[e][t]?Array.from(this._shopData[e][t].values()):new Array},changeGoods:function changeGoods(e){this._shopData[e.huoLangType]&&this._shopData[e.huoLangType][e.layer]&&this._shopData[e.huoLangType][e.layer].has(e.goodsID)&&this._shopData[e.huoLangType][e.layer].set(e.goodsID,e)},reqShopList:function reqShopList(){var e=new yx.proto.S2C_GetHuoLangList;yx.network.sendMessage(yx.proto.CmdId.HUO_LANG_SHOP_LIST,e)},reqPurchaseGoods:function reqPurchaseGoods(e,t,n,i){var o=new yx.proto.C2S_PurchaseHuoLangGoods;o.huoLangType=e,o.layer=t,o.goodsID=n,o.count=i,yx.network.sendMessage(yx.proto.CmdId.PURCHASE_HUO_LANG_GOODS,o)},onMessageShopList:function onMessageShopList(e,t){if(null!=e&&0<e.length)yx.log("[HuoLangManager onMessageShopList] error:"+e);else{var n=yx.proto.S2C_GetHuoLangList.decode(t);yx.huolangMgr.initShopList(n.huoLangInfo),yx.eventDispatch.dispatchMsg(yx.EventType.HUO_LANG_SHOP_LIST,n)}},onMessagePurchaseGoods:function onMessagePurchaseGoods(e,t){if(null!=e&&0<e.length)yx.log("[HuoLangManager onMessagePurchaseGoods] error:"+e);else{var n=yx.proto.S2C_PurchaseHuoLangGoods.decode(t);yx.huolangMgr.changeGoods(n.huoLangInfo),yx.eventDispatch.dispatchMsg(yx.EventType.PURCHASE_HUO_LANG_GOODS,n)}}},yx.huolangMgr=new yx.HuoLangManager,t.exports=yx.huolangMgr,cc._RF.pop()},{}],HuoLangWindow:[function(e,t,n){cc._RF.push(t,"3f483IW/gpJn68w56xZrI2+","HuoLangWindow");var i=e("BaseWindow"),o=e("GoodsItemWidget"),r=e("FangShiScrollItem"),a=e("AttrGroupWidget"),s=[yx.proto.HuoLangType.XianYuLou,yx.proto.HuoLangType.GongDeLou,yx.proto.HuoLangType.XianDanLou];cc.Class({extends:i,properties:{attrGroupWidget:a,xianfangScrollItemPrefab:cc.Prefab,titleLabel:cc.Label,switchTC:cc.ToggleContainer,scrollView:cc.ScrollView,scrollContent:cc.Node,prevBtn:cc.Button,zhaoshiBtn:cc.Button,nextBtn:cc.Button,nextHintLabel:cc.Label,drownArrow:cc.Node,timeHintLabel:cc.Label,_curType:Number},_onInit:function _onInit(e){this.attrGroupWidget.initItems([yx.CyType.GONGDE,yx.CyType.SHENYU]),this.attrGroupWidget.showItems([yx.CyType.GONGDE,yx.CyType.SHENYU]),this.zhaoshiBtn.node.active=!1,this.prevBtn.node.on("click",this.onPrevBtnClick,this),this.nextBtn.node.on("click",this.onNextBtnClick,this),this.scrollView.node.on("scrolling",this.onScrolling,this),yx.eventDispatch.addListener(yx.EventType.HUO_LANG_SHOP_LIST,this.onEventFangShiList,this),yx.eventDispatch.addListener(yx.EventType.PURCHASE_HUO_LANG_GOODS,this.onEventGoodsChange,this),this._initSwitchTC(),this._curType=null!=e?e:s[0],this._curLevels={},this._curLevels[yx.proto.HuoLangType.XianYuLou]=1,this._curLevels[yx.proto.HuoLangType.GongDeLou]=1,this._curLevels[yx.proto.HuoLangType.XianDanLou]=1,this._shopCfg=null,this._nextLevelCfg=null,this._changeTypeAndLevel(this._curType,this._curLevels[this._curType])},_setCheckToggle:function _setCheckToggle(){var e=this.switchTC.node.getChildByName("toggle"+(s.indexOf(this._curType)+1));e&&e.getComponent(cc.Toggle).check()},_onShow:function _onShow(e){this._curType=yx.proto.HuoLangType.XianYuLou,null!=e&&(this._curType=e),this._setCheckToggle(),this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]),yx.huolangMgr.reqShopList()},_initSwitchTC:function _initSwitchTC(){this.switchTC.checkEvents.length=0,this.switchTC.checkEvents.push(yx.CodeHelper.NewClickEvent(this,"onSwitchTCClick"))},_changeTypeAndLevel:function _changeTypeAndLevel(e,t){this._curType=e,this._curLevels[this._curType]=t,this._shopCfg=yx.cfgMgr.getOneRecord("HuoLangBaseConfig",{Type:this._curType,Layer:this._curLevels[this._curType]}),this._nextLevelCfg=yx.cfgMgr.getOneRecord("HuoLangBaseConfig",{Type:this._curType,Layer:this._curLevels[this._curType]+1})},_refreshGoods:function _refreshGoods(t,e){var n=this.scrollContent.getComponentsInChildren(o).find(function(e){return e.goodsId==t});n&&n.changeRemain(e)},_refreshScroll:function _refreshScroll(){var e=yx.huolangMgr.getGoodsList(this._curType,this._curLevels[this._curType]);this.scrollContent.removeAllChildren(!0),e?e.length<9&&(e.length=9):e=new Array(9);for(var t=Math.ceil(e.length/3),n=0;n<t;n++){var i=cc.instantiate(this.xianfangScrollItemPrefab),o=i.getComponent(r);o&&(o.initGoodsList(e[3*n],e[3*n+1],e[3*n+2],yx.SHOPTYPE.HUOLANG),this.scrollContent.addChild(i))}},_refreshShop:function _refreshShop(){if(this._shopCfg){if(this.timeHintLabel.node.active=!0,this.titleLabel.string=this._shopCfg.LayerName,this.prevBtn.node.active=1<this._curLevels[this._curType],this.nextBtn.node.active=!1,this.nextHintLabel.string="",this._nextLevelCfg){var e=yx.huolangMgr.getGoodsList(this._curType,this._curLevels[this._curType]+1);if(this.nextBtn.node.active=0<e.length,0==this.nextBtn.node.active){var t=yx.cfgMgr.getOneRecord("ChapterMapConfig",{ID:this._nextLevelCfg.Limit});t&&(this.nextHintLabel.string="达到"+t.name+"\n方可上楼")}}this._refreshScroll()}},_refresh:function _refresh(){this._refreshShop(),this.scheduleOnce(this.onScrolling,.1)},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTC.toggleItems.indexOf(e);if(0<=t){var n=s[t];null!=n&&n!=this._curType&&(this._changeTypeAndLevel(n,this._curLevels[n]),this._refresh())}},onPrevBtnClick:function onPrevBtnClick(){1<this._curLevels[this._curType]&&(this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]-1),this._refresh())},onZhaoShiBtnClick:function onZhaoShiBtnClick(){var e={};e.cfg=this._shopCfg,yx.windowMgr.showWindow("zhaodianshi",e)},onNextBtnClick:function onNextBtnClick(){var e=yx.cfgMgr.getOneRecord("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()}),t=1;e&&(t=e.ChapterId),this._nextLevelCfg&&t>=this._nextLevelCfg.Limit?(this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]+1),this._refresh()):yx.ToastUtil.showListToast("等级不足")},onEventFangShiList:function onEventFangShiList(){this.isShown()&&this._refresh()},onEventGoodsChange:function onEventGoodsChange(e){if(this.isShown()&&e&&e.huoLangInfo){var t=e.huoLangInfo.huoLangType,n=e.huoLangInfo.layer;this._curType==t&&this._curLevels[this._curType]==n&&this._refreshGoods(e.huoLangInfo.goodsID,e.huoLangInfo.remainCount);var i=yx.cfgMgr.getOneRecord("HuoLangConfig",{ID:e.huoLangInfo.goodsID,Type:e.huoLangInfo.huoLangType,Layer:e.huoLangInfo.layer});if(i&&i.Reward){var o=i.Reward[0],r=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:o.id});if(r){var a=yx.colorUtil.AddColorString(r.Name+"x"+e.count,yx.textDict.QualityColor.getQualityColor(r.PinZhi));yx.ToastUtil.showListToast("获得"+a)}}}},onScrolling:function onScrolling(){this.scrollView.getScrollOffset().y>this.scrollContent.height-this.scrollView.node.height-10?this.drownArrow.active=!1:this.drownArrow.active=!0}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",FangShiScrollItem:"FangShiScrollItem",GoodsItemWidget:"GoodsItemWidget"}],ItemDetailPanel:[function(e,t,n){cc._RF.push(t,"d3c559y6fVCWKFY2W4cWmn7","ItemDetailPanel");var i=e("BaseWindow"),o=e("BattleActivityWindow"),r=e("NumberWidget");cc.Class({extends:i,properties:{titleLabel:cc.Label,iconSp:cc.Sprite,contentLabel:cc.Label,levelLabel:cc.Label,closeBtn:cc.Button,useBtn:cc.Button,sellBtn:cc.Button,numberWidget:r,_num:Number,_itemInfo:null,_itemMsg:null},_onInit:function _onInit(e){null!=e&&null!=e.id&&null!=e.num?(this._uid=e.id,this._num=e.num,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.useBtn.node.on("click",this.onUseBtnClick,this),this.sellBtn.node.on("click",this.onSellBtnClick,this),this._itemMsg=yx.bagMgr.getItemById(this._uid),this._itemInfo=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._itemMsg.itemId}),null!=this._itemInfo?(this.levelLabel.string=yx.textDict.ItemPinZhi.getQualityText(this._itemInfo.PinZhi),this.useBtn.interactable=this._itemInfo.UseType&&0!==this._itemInfo.UseType,this.sellBtn.interactable=this._itemInfo.SellMoney&&0<this._itemInfo.SellMoney.length,yx.log("[ItemDetailPanel _onInit] itemId:"+this._itemMsg.itemId)):yx.error("[ItemDetail get iteminfo faild] id:"+this._itemMsg.itemId)):yx.error("[ItemDetail oninit error]")},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){var e={amount:-1};e.itemId=this._itemInfo.ID,e.clickCallBack=function(){},yx.ItemWidget.CreateItemSlot(e,this.iconSp.node,"reward"+this._itemInfo.ID),this.titleLabel.string=this._itemInfo.Name;var t=yx.textDict.QualityColor.getQualityColor(this._itemInfo.PinZhi);this.titleLabel.node.color=yx.colorUtil.toCCColor(t),yx.CodeHelper.addOutlineByPinZhi(this.titleLabel.node,this._itemInfo.PinZhi),this.contentLabel.string=this._itemInfo.DefDesc,14==this._itemInfo.UseType?this.numberWidget.init(1,1):this.numberWidget.init(1,this._num)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onUseBtnClick:function onUseBtnClick(){if(yx.log("[ItemDetailPanel onUseBtnClick]"),this._itemInfo&&this._itemInfo.UseType&&41===this._itemInfo.UseType)return yx.playerMgr.isOpenShenShiRuTi()?(yx.windowMgr.goBack(),void yx.windowMgr.showWindow("xiSui")):void yx.ToastUtil.showListToast("习得”神识入体“后，方可内视丹药状态，进行洗髓");if(this._itemInfo&&this._itemInfo.UseType&&13===this._itemInfo.UseType)return yx.windowMgr.goBack(),void yx.windowMgr.showWindow("changNamePanel",this._itemMsg);if(this._itemInfo&&this._itemInfo.UseType&&14===this._itemInfo.UseType)return yx.windowMgr.goBack(),void yx.windowMgr.showWindow("changeZhongZu",this._itemInfo);if(this._itemInfo&&this._itemInfo.UseType&&52===this._itemInfo.UseType){if(yx.windowMgr.goBack(),!yx.CodeHelper.checkFuncOpen(34))return;yx.windowMgr.showWindow("skin",{tab:yx.proto.WearType.Skin})}else if(this._itemInfo&&this._itemInfo.UseType&&53===this._itemInfo.UseType){if(yx.windowMgr.goBack(),!yx.CodeHelper.checkFuncOpen(34))return;yx.windowMgr.showWindow("skin",{tab:yx.proto.WearType.Title})}else if(this._itemInfo&&this._itemInfo.UseType&&54===this._itemInfo.UseType){if(yx.windowMgr.goBack(),!yx.CodeHelper.checkFuncOpen(34))return;yx.windowMgr.showWindow("skin",{tab:yx.proto.WearType.Fudi})}else if(this._itemInfo&&this._itemInfo.UseType&&55===this._itemInfo.UseType){if(yx.windowMgr.goBack(),!yx.CodeHelper.checkFuncOpen(34))return;yx.windowMgr.showWindow("skin",{tab:yx.proto.WearType.FaXiang})}else{if(this._itemInfo.Type&&this._itemInfo.Type===yx.ItemType.CANGBAOTU)return yx.CodeHelper.checkUseLimit(this._itemInfo.ID)?(yx.windowMgr.goBack(),void yx.windowMgr.showWindow("battleActivityWindow",{tab:o.TabType.MIJING})):void yx.windowMgr.goBack();yx.windowMgr.goBack(),yx.bagMgr.reqUseItem(this._itemMsg.itemId,this.numberWidget.curNum)}},onSellBtnClick:function onSellBtnClick(){var e=this._itemInfo.SellMoney[0].count;e=e||0;var t=yx.textDict.QualityColor.getQualityColor(this._itemInfo.PinZhi),n=this._itemInfo.Name,i=this.numberWidget.curNum,o="出售<color={itemColor}>{itemName}x{itemNum}</color>可获得<color=#2D94C9>{lingShiNum}灵石</color>，确定要出售吗？".format({itemColor:t,itemName:n,itemNum:i,lingShiNum:e*i});yx.windowMgr.goBack(),yx.TextConfirm.ShowConfirm(o,this.onSellBtnComfirm.bind(this,this._itemMsg.id,this._itemMsg.itemId,this.numberWidget.curNum))},onSellBtnComfirm:function onSellBtnComfirm(e,t,n){yx.bagMgr.reqSellItem(e,t,n)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",BattleActivityWindow:"BattleActivityWindow",NumberWidget:"NumberWidget"}],ItemDetailShowPanel:[function(e,t,n){cc._RF.push(t,"74919T4Rk5LzrXRV9sqjEod","ItemDetailShowPanel");var i=e("BaseWindow"),o=cc.Class({extends:i,properties:{simpleTitleLabel:cc.Label,simpleIconSp:cc.Sprite,simpleContentLabel:cc.Label,simpleCloseBtn:cc.Button,buyTitleLabel:cc.Label,buyIconSp:cc.Sprite,buyContentLabel:cc.Label,buyLevelLabel:cc.Label,buyCloseBtn:cc.Button,buyCostLabel:cc.Label,buyCostSp:cc.Sprite,buyBuyBtn:cc.Button,levelLabel:cc.Label,simpleNode:cc.Node,buyNode:cc.Node},statics:{SHOW_TYPE_SIMPLE:1,SHOW_TYPE_BUY:2},_onInit:function _onInit(e){null!=(this._args=e)&&null!=e.ID?(this.simpleCloseBtn.node.on("click",this.onCloseBtnClick,this),this.buyCloseBtn.node.on("click",this.onCloseBtnClick,this),this.simpleNode.active=!1,this.buyNode.active=!1):yx.error("[ItemDetailShowPanel oninit error]")},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){if(this._args.showType==o.SHOW_TYPE_BUY)this.simpleNode.active=!1,this.buyNode.active=!0,this._xianNiangStoreCfgInfo=yx.cfgMgr.getRecordByKey("XianNiangStoreConfig",{ID:this._args.ID}),this._xianNiangStoreCfgInfo&&(this._itemCfgInfo=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._xianNiangStoreCfgInfo.Reward[0].id}),this._itemCfgInfo&&(this.buyContentLabel.string=this._itemCfgInfo.DefDesc,this._setSprite(this._itemCfgInfo.ID,this.buyIconSp),this.buyLevelLabel.string=yx.textDict.ChineseNum[this._itemCfgInfo.PinZhi]+"阶"),this.buyTitleLabel.string=this._xianNiangStoreCfgInfo.Name1,this.buyCostLabel.string=this._xianNiangStoreCfgInfo.Cost[0].count,this.buyBuyBtn.node.on("click",this.onBuyBtnClick,this),1==this._xianNiangStoreCfgInfo.Cost[0].id?yx.resUtil.LoadSpriteByType("item_1",yx.ResType.ITEM,this.buyCostSp):2==this._xianNiangStoreCfgInfo.Cost[0].id&&yx.resUtil.LoadSpriteByType("item_2",yx.ResType.ITEM,this.buyCostSp));else if(this._args.showType==o.SHOW_TYPE_SIMPLE&&(this._itemCfgInfo=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._args.ID}),this.simpleNode.active=!0,this.buyNode.active=!1,this._itemCfgInfo)){var e=yx.textDict.QualityColor.getQualityColor(this._itemCfgInfo.PinZhi);this.simpleTitleLabel.node.color=yx.colorUtil.toCCColor(e),yx.CodeHelper.addOutlineByPinZhi(this.simpleTitleLabel.node,this._itemCfgInfo.PinZhi),this.simpleTitleLabel.string=this._itemCfgInfo.Name,this.levelLabel.string=yx.textDict.ItemPinZhi.getQualityText(this._itemCfgInfo.PinZhi),this.simpleContentLabel.string=this._itemCfgInfo.DefDesc,this._setSprite(this._itemCfgInfo.ID,this.simpleIconSp)}},_setSprite:function _setSprite(e,t){var n={amount:-1};n.itemId=e,n.clickCallBack=function(){},yx.ItemWidget.CreateItemSlot(n,t.node,"reward"+e)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onBuyBtnClick:function onBuyBtnClick(){this._args.buyCallback&&this._args.buyCallback(this._xianNiangStoreCfgInfo)}});yx.ItemDetailShowPanel=t.exports=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],ItemQuickBuyPanel:[function(e,t,n){cc._RF.push(t,"963a67MqWRK6qF95tjuLKw7","ItemQuickBuyPanel");var i=e("BaseWindow"),o="shenHunChuQiao",r="shenHunShiYi",a="shenYouTaiXu",s="shenHunWudao",c="taiGongTiaoYu",l="xianGongLing",u={shenHunChuQiao:{quickId:10000064,UseMax:1},shenHunShiYi:{quickId:10000065,UseMax:1},shenYouTaiXu:{quickId:10000066,UseMax:1},shenHunWudao:{quickId:10000067,UseMax:1},tiaoZhanLingPai:{quickId:10000615},chuanGongLingPai:{quickId:10000614},biWuTiaoZhanPai:{quickId:20000405,isXianFang:!0},taiGongTiaoYu:{quickId:-1,UseMax:1,itemId:10236},xianGongLing:{quickId:-1,UseMax:1,itemId:10233},shenShiRuTi:{quickId:10000021,UseMax:1},miFaBaoZang:{quickId:10000619,UseMax:1}},d=cc.Class({extends:i,statics:{QUICKBUY_CHUQIAO:o,QUICKBUY_SHIYI:r,QUICKBUY_TAIXU:a,QUICKBUY_WUDAO:s,QUICKBUY_TIAOZHAN:"tiaoZhanLingPai",QUICKBUY_CHUANGONG:"chuanGongLingPai",QUICKBUY_BIWU:"biWuTiaoZhanPai",QUICKBUY_CHUIDIAO:c,QUICKBUY_XIANGONG:l,QUICKBUY_SHENSHI:"shenShiRuTi",SHENGYOU_LIST:u,QUICKBUY_MIFA:"miFaBaoZang"},properties:{titleLabel:cc.Label,iconSp:cc.Sprite,contentLabel:cc.Label,closeBtn:cc.Button,buyBtn:cc.Button,useBtn:cc.Button,goGetBtn:cc.Button,costSp:cc.Sprite,costNum:cc.Label,hadActiveNode:cc.Node},_onInit:function _onInit(e){this.buyBtn.node.active=!1,this.costSp.node.active=!1,this.useBtn.node.active=!1,this.goGetBtn.node.active=!1,this.hadActiveNode.active=!1,this.args=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.buyBtn.node.on("click",this.onBuyBtnClick,this),this.useBtn.node.on("click",this.onUseBtnClick,this),this.goGetBtn.node.on("click",this.onGoGetBtnClick,this)},_onShow:function _onShow(){this._refresh()},_refreshSpecial:function _refreshSpecial(){this.goGetBtn.node.active=!0,this.costSp.node.active=!1;var e=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this.curContent.itemId});if(e){this.titleLabel.string=e.Name,this.contentLabel.string=e.DefDesc;var t={amount:-1};t.itemId=e.ID,t.clickCallBack=function(){},yx.ItemWidget.CreateItemSlot(t,this.iconSp.node,"reward"+e.ID),this.curContent&&this.curContent.UseMax&&1===this.curContent.UseMax&&0<yx.bagMgr.GetItemOwnCount(e.type,this.curContent.itemId)&&(this.goGetBtn.node.active=!1,this.useBtn.node.active=!0)}},_refresh:function _refresh(){if(this.curBookType=this.args.bookType,this.curContent=u[this.curBookType],this.curContent)if(this.curBookType!==c&&this.curBookType!==l){if(this._goodsCfg=null,this.curContent.isXianFang?this._goodsCfg=yx.cfgMgr.getOneRecord("XianFangListConfig",{QuickId:this.curContent.quickId}):this._goodsCfg=yx.cfgMgr.getOneRecord("ShopListConfig",{QuickId:this.curContent.quickId}),this._goodsCfg){var e=this._goodsCfg.Cost[0],t=e.id;this._costItemCfg=yx.cfgMgr.getOneRecord("ItemConfig",{ID:t}),this._costItemCfg&&(this.costNum.string=e.count,yx.resUtil.LoadSpriteByType(this._costItemCfg.Icon,yx.ResType.ITEM,this.costSp));var n=yx.cfgMgr.getOneRecord("ItemConfig",{ID:this._goodsCfg.Reward[0].id});if(n){this.contentLabel.string=n.DefDesc,this.titleLabel.string=n.Name;var i={amount:-1};i.itemId=n.ID,i.clickCallBack=function(){},yx.ItemWidget.CreateItemSlot(i,this.iconSp.node,"reward"+n.ID)}}if(this.buyBtn.node.active=!0,this.costSp.node.active=!0,this.curContent&&this.curContent.UseMax&&1===this.curContent.UseMax){var o=this._goodsCfg.Reward[0].id,r=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:o});r&&(0<yx.playerMgr.getItemUseCount(o)?(this.buyBtn.node.active=!1,this.costSp.node.active=!1,this.goGetBtn.node.active=!1,this.useBtn.node.active=!1,this.hadActiveNode.active=!0):0<yx.bagMgr.GetItemOwnCount(r.type,o)&&(this.buyBtn.node.active=!1,this.costSp.node.active=!1,this.goGetBtn.node.active=!1,this.useBtn.node.active=!0))}}else this._refreshSpecial()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onGoGetBtnClick:function onGoGetBtnClick(){switch(this.curBookType){case c:case l:yx.windowMgr.showWindow("activity",{tabType:yx.proto.ActivityType.Resource})}},onUseBtnClick:function onUseBtnClick(){if(yx.log("onUseBtnClick"),this.curBookType===c||this.curBookType===l)return yx.windowMgr.goBack(),void yx.bagMgr.reqUseItem(this.curContent.itemId,1);switch(yx.windowMgr.goBack(),yx.bagMgr.reqUseItem(this._goodsCfg.Reward[0].id,1),this.curBookType){case o:case r:case a:yx.shenYouMgr.reqGetShenYouInfo();break;case s:yx.caveMgr.reqDongfuShuge(yx.ShuGeItemType.WUDAO)}},onBuyBtnClick:function onBuyBtnClick(){if(this.curContent&&this.curContent.UseMax&&1===this.curContent.UseMax){var e=this._goodsCfg.Reward[0].id,t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e});if(t){if(0<yx.bagMgr.GetItemOwnCount(t.type,e))return void yx.ToastUtil.showListToast("已经购买了");if(0<yx.playerMgr.getItemUseCount(e))return void yx.ToastUtil.showListToast("已经习得")}}yx.playerMgr.getCurrency(this._costItemCfg.ID)>=this._goodsCfg.Cost[0].count?(yx.windowMgr.goBack(),this.curContent.isXianFang?yx.xianfangMgr.reqPurchaseGoods(this._goodsCfg.Type,this._goodsCfg.Layer,this._goodsCfg.ID,1):yx.fangshiMgr.reqPurchaseGoods(this._goodsCfg.Type,this._goodsCfg.Layer,this._goodsCfg.ID,1)):yx.ToastUtil.showListToast(this._costItemCfg.Name+"不足")}});yx.ItemQuickBuyPanel=t.exports=d,cc._RF.pop()},{BaseWindow:"BaseWindow"}],ItemRichTextWidget:[function(e,t,n){cc._RF.push(t,"2fe29tQxC9I4pCCYRJ0+BOq","ItemRichTextWidget");var c="prefabs/widgets/ItemRichTextWidget",l=cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,iconSprite:cc.Sprite,contentRichText:cc.RichText,countLabel:cc.Label},statics:{_itemPrefab:null,CreateItemSlot:function CreateItemSlot(o,e,r,a){var s=new cc.Node(r);e.addChild(s),yx.resUtil.LoadRes(c,function(e,t){if(e)yx.warn(c+" is not exist!");else{var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(l);i&&s&&s.isValid?(i.init(o,a),s.addChild(n),s.setContentSize(n.getContentSize())):yx.warn("ItemRichTextWidget instantiate error!")}})}},init:function init(e,t){this._init||(this.node.on("click",this.onBtnClick,this),this.contentRichText.node.active=!1,this.countLabel&&(this.countLabel.node.active=!1)),e.fontSize&&(this.contentRichText.fontSize=e.fontSize),this._cb=t,this.node.setContentSize(this.bgSprite.node.getContentSize()),this._init=!0,this.refresh(e)},refresh:function refresh(e){var t=!1;if(this._itemInfo&&e&&e.ID==this._itemInfo.ID&&(t=!0),this._itemInfo=e,this._itemInfo){if(this.itemCfg=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._itemInfo.ID}),this.itemCfg&&!t){if(this._itemInfo.Icon=this.itemCfg.Icon,this._itemInfo.Type=this.itemCfg.Type,null!=this._itemInfo.Icon)if("NaN"!=parseFloat(this._itemInfo.Icon).toString()){var n=yx.cfgMgr.getRecordByKey("ResConfig",{ID:this._itemInfo.Icon});n&&yx.resUtil.LoadSpriteByType(n.Head,yx.ResType.FISH,this.iconSprite)}else 0<this._itemInfo.Icon.length&&(this._itemInfo.Type==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(this._itemInfo.Icon,yx.ResType.EQUIP,this.iconSprite):yx.resUtil.LoadSpriteByType(this._itemInfo.Icon,yx.ResType.ITEM,this.iconSprite));this._showPinJie(this.itemCfg.PinZhi)}this.contentRichText.node.active=!0,this.contentRichText.string=e.content,e.count&&(this.countLabel.node.active=!0,this.countLabel.string=e.count)}},_showPinJie:function _showPinJie(e){if(e){var t=yx.bagMgr.getPinZhiBg(e);yx.resUtil.LoadSprite(t,this.bgSprite)}},onBtnClick:function onBtnClick(){if(null!=this._itemInfo)if(this._cb)this._cb(this.itemCfg);else{var e={};e.ID=this.itemCfg.ID,e.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",e)}},setBtnClickCb:function setBtnClickCb(e){this._cb=e}});yx.ItemRichTextWidget=t.exports=l,cc._RF.pop()},{}],ItemSelectPanel:[function(e,t,n){cc._RF.push(t,"1d8c1QGwqRLLq4D7Rp5azjn","ItemSelectPanel");var i=e("BaseWindow"),o=e("NumberWidget");cc.Class({extends:i,properties:{itemLayout:cc.Layout,useBtn:cc.Button,numberWidget:o,itemScrollView:cc.ScrollView},_onInit:function _onInit(e){this._itemInfo=e,this.useBtn.node.on("click",this.useBtnClick,this),this.numberWidget.init(1,this._itemInfo.amount);var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:this._itemInfo.itemId});if(t&&46===t.UseType){var n=t.UseArg;for(var i in n){var o=yx.cfgMgr.getOneRecord("ItemConfig",{ID:n[i].id}),r=n[i].count;o&&yx.ItemSelectWidget.CreateItemSlot(o,this.itemLayout.node,"selectItemSlot",0==i,r)}}this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.itemScrollView.scrollToOffset(cc.v2(0,0),1.5)}.bind(this))))},useBtnClick:function useBtnClick(){this.itemLayout.node.selectItemId?(yx.windowMgr.goBack(),yx.bagMgr.reqUseItem(this._itemInfo.itemId,this.numberWidget.getCurNum(),this.itemLayout.node.selectItemId)):yx.ToastUtil.showListToast("请选择道具")},closeBtnClick:function closeBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",NumberWidget:"NumberWidget"}],ItemSelectWidget:[function(e,t,n){cc._RF.push(t,"a1112BDg7JE3Z6Ngoe6AQx6","ItemSelectWidget");var u="prefabs/widgets/ItemSelectWidget",i=e("ItemWidget"),d=cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,itemWidget:i,selectBtn:cc.Button,selectCheckNode:cc.Node},statics:{CreateItemSlot:function CreateItemSlot(o,r,a,s,c){var l=new cc.Node(a);return r.addChild(l),yx.resUtil.LoadRes(u,function(e,t){if(e)yx.warn(u+" is not exist!");else{var n=cc.instantiate(t);null!=a&&(n.name=a);var i=n.getComponent(d);i&&l&&l.isValid?(i.init(o,r,s,c),l.addChild(n),l.setContentSize(n.getContentSize())):yx.warn("ItemSelectWidget instantiate error!")}}),l}},init:function init(e,t,n,i){this._itemCfg=e,this._itemLayoutNode=t,this.setCheckItem(n);var o={};o.itemId=e.ID,o.amount=i,o.clickCallBack=this._onItemClick,this.itemWidget.init(o),this.nameLabel.string=this._itemCfg.Name,this.selectBtn.node.on("click",this.selectBtnClick,this)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},setCheckItem:function setCheckItem(e){(this.selectCheckNode.active=e)&&(this._itemLayoutNode.selectItemId=this._itemCfg.ID)},selectBtnClick:function selectBtnClick(){var e=this.node.parent.parent.getComponentsInChildren(d);for(var t in e)e[t].setCheckItem(e[t]===this)}});yx.ItemSelectWidget=t.exports=d,cc._RF.pop()},{ItemWidget:"ItemWidget"}],ItemUsePanel:[function(e,t,n){cc._RF.push(t,"797c8cip/tCjo99lICGDrs6","ItemUsePanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{titleLabel:cc.Label,iconSp:cc.Sprite,contentLabel:cc.Label,amountLabel:cc.Label,closeBtn:cc.Button,btn1:cc.Button,btn2:cc.Button,_num:Number,_itemCfg:null,_itemMsg:null},_onInit:function _onInit(e){null!=e?(this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.btn1.node.on("click",this.onUseBtnClick,this),this.btn2.node.on("click",this.onAllUseBtnClick,this),this._itemMsg=e.itemInfo,this._duJieRatio=e.duJieRatio,this._itemCfg=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._itemMsg.itemId}),null!=this._itemCfg?yx.log("[ItemUsePanel _onInit] itemId:"+this._itemMsg.itemId):yx.error("[ItemUsePanel get iteminfo faild] id:"+this._itemMsg.itemId)):yx.error("[ItemUsePanel oninit error]")},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){yx.resUtil.LoadSpriteByType(this._itemCfg.Icon,yx.ResType.ITEM,this.iconSp),this.titleLabel.string=this._itemCfg.Name,this.contentLabel.string=this._itemCfg.DefDesc,this.amountLabel.string=this._itemMsg.amount},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onUseBtnClick:function onUseBtnClick(){yx.log("[ItemUsePanel onUseBtnClick]"),yx.windowMgr.goBack();var e=yx.bagMgr.getDJDansByPinZhiGte(this._itemCfg.PinZhi);0<e.length?yx.bagMgr.reqUseItem(e[0].itemId,1):yx.ToastUtil.showListToast(this._itemCfg.Name+"不足")},onAllUseBtnClick:function onAllUseBtnClick(){yx.log("[ItemUsePanel onAllUseBtnClick]"),yx.windowMgr.goBack();var e=parseInt((100-this._duJieRatio)/5),t=0,n=yx.bagMgr.getDJDansByPinZhiGte(this._itemCfg.PinZhi);if(n&&n.length<=0)yx.ToastUtil.showListToast(this._itemCfg.Name+"不足");else for(var i in n){var o=n[i];if(t+=o.amount,yx.bagMgr.reqUseItem(o.itemId,o.amount),e<=t)break}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ItemWidget:[function(e,t,n){cc._RF.push(t,"65024BF7WFD9bQ0FSvlW/UO","ItemWidget");var u="prefabs/widgets/ItemWidget",d=cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,iconSprite:cc.Sprite,numLabel:cc.Label,betterSp:cc.Node,starSpriteFrame:cc.SpriteFrame,_itemInfo:null},statics:{_itemPrefab:null,CreateEmptySlot:function CreateEmptySlot(e,t,n){return d.CreateItemSlot(null,e,t,n)},CreateItemSlot:function CreateItemSlot(o,e,r,a,s,c){var l=new cc.Node(r);return e.addChild(l),yx.resUtil.LoadRes(u,function(e,t){if(e)yx.warn(u+" is not exist!");else{var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(d);i&&l&&l.isValid?(i.init(o,a,c),l.addChild(n),l.setContentSize(n.getContentSize()),s&&(n.name=s)):yx.warn("ItemWidget instantiate error!")}}),l}},frameInit:function frameInit(e){this.init(e.info,e.isShowPinJie,e.isShowBetter)},init:function init(e,t,n){if(this._isShowPinJie=!0,null!=n&&(this._isShowBetter=n),e&&e.clickCallBack&&(this._cb=e.clickCallBack),this.node.off("click",this.onBtnClick,this),this.node.on("click",this.onBtnClick,this),this.node.setContentSize(this.bgSprite.node.getContentSize()),this._itemInfo=e||null,null==this._itemInfo||null==this._itemInfo.itemId||null==this._itemInfo.amount)this._setSlotEmpty();else{var i=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:this._itemInfo.itemId});null==i?this._setSlotEmpty():(this._itemInfo.Icon=i.Icon,this._itemInfo.Type=i.Type,this._itemInfo.Name=i.Name,this._itemInfo.PinZhi=i.PinZhi,this._itemInfo.UseType=i.UseType,this._itemInfo.SubType=i.SubType,this._setSlot(this._itemInfo.Icon,this._itemInfo.Type,e.amount,this._itemInfo.PinZhi))}},_setSlotEmpty:function _setSlotEmpty(){this.iconSprite.node.active=!1,this.numLabel.node.active=!1,this.betterSp.active=!1,yx.resUtil.LoadSprite("common/iocn-20",this.bgSprite)},_setSlot:function _setSlot(e,t,n,i){if(this.iconSprite.node.active=!0,this.numLabel.node.active=!0,null!=e)if("NaN"!=parseFloat(e).toString()){var o=yx.cfgMgr.getRecordByKey("ResConfig",{ID:e});o?yx.resUtil.LoadSpriteByType(o.Head,yx.ResType.FISH,this.iconSprite):this.iconSprite.spriteFrame=null}else 0<e.length&&(t==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(e,yx.ResType.EQUIP,this.iconSprite):yx.resUtil.LoadSpriteByType(e,yx.ResType.ITEM,this.iconSprite));this._showPinJie(i),this._showBetterTip(),-1===(this.numLabel.string=n)&&(this.numLabel.node.active=!1)},getItemInfo:function getItemInfo(){return this._itemInfo},changeAmount:function changeAmount(e){this._itemInfo.amount=e,this.numLabel.string=this._itemInfo.amount},getAmount:function getAmount(){return this._itemInfo?this._itemInfo.amount:0},onBtnClick:function onBtnClick(){if(null!=this._itemInfo){if(this._cb)return this._cb(this._itemInfo);if(yx.log("[ItemWidget onBtnClick] itemType:"+this._itemInfo.Type),46!==this._itemInfo.UseType)switch(this._itemInfo.Type){case yx.ItemType.EQUIP:var e={};e.id=this._itemInfo.id,e.wear=!1,yx.windowMgr.showWindow("equipDetail",e);break;default:var t={};t.id=this._itemInfo.id,t.num=this._itemInfo.amount,yx.windowMgr.showWindow("itemDetail",t)}else yx.windowMgr.showWindow("itemSelectPanel",this._itemInfo)}},_showPinJie:function _showPinJie(e){if(this._isShowPinJie&&e){9===e&&yx.log();0;var t=yx.bagMgr.getPinZhiBg(e);yx.resUtil.LoadSprite(t,this.bgSprite)}},_showBetterTip:function _showBetterTip(){if(this._isShowBetter&&null!=this._itemInfo&&(this.betterSp.active=!1,0==this._itemInfo.wear&&this._itemInfo.Type==yx.ItemType.EQUIP)){var e=yx.bagMgr.getEquipment(this._itemInfo.SubType);if(e){var t=this._itemInfo.attr,n=e.attr;t&&n&&this.getSumValue(t)>this.getSumValue(n)&&(this.betterSp.active=!0)}else this.betterSp.active=!0}},getSumValue:function getSumValue(e){return e.reduce(function(e,t){return e+t.value},0)}});yx.ItemWidget=t.exports=d,cc._RF.pop()},{}],JiYuanMgr:[function(e,t,n){cc._RF.push(t,"46942uT7oJECbohEUsMVOPL","JiYuanMgr"),yx.JiYuanManager=function(){this._eventList=null,this._qiYuEventList=null},yx.JiYuanManager.prototype={constructor:yx.JiYuanManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.GET_JI_YUAN,this.onMessageJiYuanInfo),yx.network.addHandler(yx.proto.CmdId.JI_YUAN,this.onMessageJiYuanAction),yx.network.addHandler(yx.proto.CmdId.GET_QI_YUA,this.onMessageQiYuInfo),this._eventList=null},QiYuInfo:function QiYuInfo(){yx.log("[JiYuanManager] QiYuInfo ");var e=new yx.proto.C2S_GetJiYuan;yx.network.sendMessage(yx.proto.CmdId.GET_QI_YUA,e)},Info:function Info(){yx.log("[JiYuanManager] Info ");var e=new yx.proto.C2S_GetJiYuan;yx.network.sendMessage(yx.proto.CmdId.GET_JI_YUAN,e)},DoAction:function DoAction(e,t){yx.log("[JiYuanManager] DoAction ");var n=new yx.proto.C2S_JiYuan;n.info=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.JI_YUAN,n)},onMessageQiYuInfo:function onMessageQiYuInfo(e,t){if(yx.log("onMessageQiYuInfo-----"),null!=e&&0<e.length)yx.log("[JiYuanManager onMessageQiYuInfo] error:"+e);else{var n=yx.proto.S2C_GetJiYuan.decode(t);yx.JiYuanMgr.updateQiYuEventList(n);var i=yx.JiYuanMgr.getQiYuEventList();i&&0<i.length?yx.eventDispatch.dispatchMsg(yx.EventType.QIYU_OPEN_WINDOW):yx.ToastUtil.showListToast("当前没有奇遇")}},onMessageJiYuanInfo:function onMessageJiYuanInfo(e,t){if(yx.log("onMessageJiYuanInfo-----"),null!=e&&0<e.length)yx.log("[JiYuanManager onMessageJiYuanInfo] error:"+e);else{var n=yx.proto.S2C_GetJiYuan.decode(t);yx.JiYuanMgr.updateEventList(n),yx.eventDispatch.dispatchMsg(yx.EventType.JIYUAN_INFO_REFRESH)}},onMessageJiYuanAction:function onMessageJiYuanAction(e,t){if(yx.log("onMessageJiYuanAction-----"),null!=e&&0<e.length)yx.log("[JiYuanManager onMessageJiYuanAction] error:"+e);else{var n=yx.proto.S2C_JiYuan.decode(t),i={};i.rewards=n.resource,i.costs=n.cost,i.haogan=n.intimacy,i.info=n.info,i.index=n.index,i.result=n.result,i.jieShi=n.jieShi;for(var o=0;o<i.rewards.length;o++)i.rewards[o];for(var r=0;r<i.costs.length;r++)i.costs[r];i.info.type==yx.proto.JiYuanType.QiYu?yx.eventDispatch.dispatchMsg(yx.EventType.QIYU_DOACTION_REFRESH,i):yx.eventDispatch.dispatchMsg(yx.EventType.JIYUAN_DOACTION_REFRESH,i)}},updateQiYuEventList:function updateQiYuEventList(e){yx.log("updateQiYuEventList");var t=e.infos;this._qiYuEventList=t;for(var n=0;n<t.length;n++)t[n]},updateEventList:function updateEventList(e){yx.log("updateEventList");var t=e.infos;this._eventList=t;for(var n=0;n<t.length;n++)t[n]},getQiYuEventList:function getQiYuEventList(){return this._qiYuEventList},getEventList:function getEventList(){return this._eventList}},yx.JiYuanMgr=new yx.JiYuanManager,t.exports=yx.JiYuanMgr,cc._RF.pop()},{}],JiYuanWindow:[function(e,t,n){cc._RF.push(t,"7e74343Ij1Fo7wN6UodAebs","JiYuanWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{bg1:cc.Sprite,bg2:cc.Sprite,bg3:cc.Sprite,bg4:cc.Sprite,titleLabel:cc.Label,npcIconSp:cc.Sprite,npcNameLabel:cc.Label,menpaiNameLabel:cc.Label,descRichText:cc.RichText,btnGroup:cc.Node,btn1:cc.Button,btn2:cc.Button,btn3:cc.Button,resultGroup:cc.Node,resultDesc1:cc.Label,resultDesc2:cc.Label,resultNothing:cc.Label,resultReward:cc.Node,pageLabel:cc.Label,leftBtn:cc.Button,rightBtn:cc.Button,middleGroup:cc.Node,bottomGroup:cc.Node,emptyGroup:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.JIYUAN_INFO_REFRESH,this.onRefresh,this),yx.eventDispatch.addListener(yx.EventType.JIYUAN_DOACTION_REFRESH,this.onActionRefresh,this),this._bgArr=[this.bg1,this.bg2,this.bg3,this.bg4],this.leftBtn.node.on("click",this.onLeftBtnClick,this),this.rightBtn.node.on("click",this.onRightBtnClick,this),this.btn1.node.on("click",this.onBtn1Click,this),this.btn2.node.on("click",this.onBtn2Click,this),this.btn3.node.on("click",this.onBtn3Click,this)},_onShow:function _onShow(){this.middleGroup.active=!1,this.bottomGroup.active=!1,this.emptyGroup.active=!0,this.titleLabel.string="",yx.JiYuanMgr.Info()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this._eventList=yx.JiYuanMgr.getEventList(),this._maxPage=this._eventList.length,this._curPage=1,this._finishList={},this._refreshPageContent()},_changeBg:function _changeBg(e){for(var t=0;t<this._bgArr.length;t++){this._bgArr[t].node.active=t+1==e}},_sameUpdate:function _sameUpdate(e,t,n){this.titleLabel.string=t.Name,this.descRichText.string=t.EventDesc,this.npcNameLabel.string=n.Name;var i=yx.menPaiMgr.getMenPaiConfig(n.MenPaiID);this.menpaiNameLabel.string="",i&&(this.menpaiNameLabel.string=i.DefName),null!=n.Icon&&yx.resUtil.LoadSpriteFromResConfig(n.Icon,yx.ResType.NPC,this.npcIconSp),this._changeBg(e.type);var o=this._finishList[e.uid];o?(this.btnGroup.active=!1,this.resultGroup.active=!0,yx.log("finishData=="+o),0==o.index?this.descRichText.string=t.TalkID1:1==o.index?this.descRichText.string=t.TalkID2:2==o.index&&(this.descRichText.string=t.TalkID3),o.info.type==yx.proto.JiYuanType.DuBo&&2!=o.index&&(o.rewards&&0<o.rewards.length?this.descRichText.string=t.TalkID1:this.descRichText.string=t.TalkID2),this._updateResultDesc(o)):(this.btn1.node.active=!1,this.btn2.node.active=!1,this.btn3.node.active=!1,this.btnGroup.active=!0,this.resultGroup.active=!1,yx.log("1111111111111"),""!=t.OptionDesc1&&(this.btn1.node.active=!0,this.btn1.node.getChildByName("Label").getComponent(cc.Label).string=t.OptionDesc1),""!=t.OptionDesc2&&(this.btn2.node.active=!0,this.btn2.node.getChildByName("Label").getComponent(cc.Label).string=t.OptionDesc2),""!=t.OptionDesc3&&(this.btn3.node.active=!0,this.btn3.node.getChildByName("Label").getComponent(cc.Label).string=t.OptionDesc3))},_updateResultDesc:function _updateResultDesc(e){this.resultDesc1.string="",this.resultDesc2.string="",this.resultNothing.string="",this.resultReward.active=!1;var t="",n="",i="";if(this._npcConfig&&(i=this._npcConfig.Name),e.haogan&&0<e.haogan)t=(t="与{npcName}好感度增加{add}").format({npcName:i,add:e.haogan});else if(e.jieShi)t=(t="与{npcName}结识").format({npcName:i});else if(e.rewards&&0<e.rewards.length)if(0==e.rewards[0].type)t=yx.bagMgr.GetItemName(e.rewards[0].id)+"增加了"+e.rewards[0].count;else{var o=yx.bagMgr.GetItemName(e.rewards[0].id);t=(t="你获得了{rewardName}*{add}").format({rewardName:o,add:e.rewards[0].count}),this.resultReward.active=!0;var r={};r.amount=e.rewards[0].count,r.itemId=e.rewards[0].id,r.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(r,this.resultReward,"reward")}if(e.costs&&0<e.costs.length){var a=yx.bagMgr.GetItemName(e.costs[0].id),s="你失去了{cost}{costsName}";s=s.format({costsName:a,cost:e.costs[0].count}),e.info.type==yx.proto.JiYuanType.DuBo&&e.rewards&&0<e.rewards.length&&(s=""),""==t?t=s:n=s}""==t&&""==n&&(this.resultNothing.string="没有发现任何事情"),this.resultDesc1.string=t,this.resultDesc2.string=n},_refreshPageContent:function _refreshPageContent(){if(0==this._maxPage)return this.middleGroup.active=!1,this.bottomGroup.active=!1,this.emptyGroup.active=!0,void(this.titleLabel.string="");this.middleGroup.active=!0,this.bottomGroup.active=!0,this.emptyGroup.active=!1,this._refreshPageBtns();var e=this._eventList[this._curPage-1],t=null;if(this._npcConfig=null,e.type==yx.proto.JiYuanType.DaoLv){if(!(t=yx.cfgMgr.getRecordByKey("DaoLvEventConfig",{ID:e.id})))return;yx.log("111eventData.npcID=="+e.npcID);var n=yx.cfgMgr.getRecordByKey("DaoLvListConfig",{ID:e.npcID});if(!n)return;this._npcConfig=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:n.NpcID}),this._sameUpdate(e,t,this._npcConfig)}else if(e.type==yx.proto.JiYuanType.GuDing){if(!(t=yx.cfgMgr.getRecordByKey("GuDingEventConfig",{ID:e.id})))return;this._npcConfig=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:t.NpcID}),this._sameUpdate(e,t,this._npcConfig)}else if(e.type==yx.proto.JiYuanType.DuBo){if(!(t=yx.cfgMgr.getRecordByKey("DuBoEventConfig",{ID:e.id})))return;this._npcConfig=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:t.NpcID}),this._sameUpdate(e,t,this._npcConfig)}else if(e.type==yx.proto.JiYuanType.MenPai){if(!(t=yx.cfgMgr.getRecordByKey("MenPaiEventConfig",{ID:e.id})))return;yx.log("222eventData.npcID=="+e.npcID),this._npcConfig=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:e.npcID}),this._sameUpdate(e,t,this._npcConfig)}},_refreshPageBtns:function _refreshPageBtns(){this._curPage<=1?this.leftBtn.interactable=!1:this.leftBtn.interactable=!0,this._curPage>=this._maxPage?this.rightBtn.interactable=!1:this.rightBtn.interactable=!0,this.pageLabel.string=this._curPage+"/"+this._maxPage},onLeftBtnClick:function onLeftBtnClick(){this._curPage=this._curPage-1,this._refreshPageContent()},onRightBtnClick:function onRightBtnClick(){this._curPage=this._curPage+1,this._refreshPageContent()},onBtn1Click:function onBtn1Click(){var e=this._eventList[this._curPage-1];yx.JiYuanMgr.DoAction(e,0)},onBtn2Click:function onBtn2Click(){var e=this._eventList[this._curPage-1];yx.JiYuanMgr.DoAction(e,1)},onBtn3Click:function onBtn3Click(){var e=this._eventList[this._curPage-1];yx.JiYuanMgr.DoAction(e,2)},onActionRefresh:function onActionRefresh(e){for(var t=0;t<this._eventList.length;t++){var n=this._eventList[t];n.uid==e.info.uid&&(yx.log("args.index=="+e.index),yx.log("element.type=="+n.type),yx.log("element.id=="+n.id),yx.log("element.uid=="+n.uid),this._finishList[n.uid]=e)}this._refreshPageContent()},onRefresh:function onRefresh(){this._refresh()},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",46)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],JingJiWindow:[function(e,t,n){cc._RF.push(t,"57af7CVtbVBCKPyVMAFGtlR","JingJiWindow");var i=e("BaseWindow"),o=e("ItemWidget"),r=e("TimeProBarWidget"),a=e("BiWuItem"),s=e("DouFaItem"),c=[1,2],l=99990032;cc.Class({extends:i,properties:{homeTimeProBarWidget:r,switchTC:cc.ToggleContainer,biWuPageNode:cc.Node,rankBtn:cc.Button,addBtn:cc.Button,costNumLabel:cc.Label,rewardItemWidget:[o],myRankTipRiText:cc.RichText,biWuItems:[a],douFaPageNode:cc.Node,redFirstNode:cc.Node,blueFirstNode:cc.Node,unJoinNode:cc.Node,joinBtn:cc.Button,tipRichText:cc.RichText,hadJoinNode:cc.Node,douFaItems:[s],zhenYingLabel:cc.Label,jiFenLabel:cc.Label,cuiLianShengLabel:cc.Label,maxLianShengLabel:cc.Label,canJoinNumRiText:cc.RichText,guiZeBtn:cc.Button,canZhanBtn:cc.Button,paiHangBtn:cc.Button,duiHuanBtn:cc.Button,logRiText:cc.RichText},_onInit:function _onInit(){this._curPage=c[0],this.rankBtn.node.on("click",this.rankBtnClick,this),this.addBtn.node.on("click",this.addBtnClick,this),this._initSwitchTC(),yx.eventDispatch.addListener(yx.EventType.BIWU_GETRANKINFO,this.onEventGetRankInfo,this),yx.eventDispatch.addListener(yx.EventType.BIWU_MATCHINGINFO,this.onEventMatchingInfo,this),yx.eventDispatch.addListener(yx.EventType.BIWU_FIGHT,this.onEventFight,this),yx.eventDispatch.addListener(yx.EventType.DOUFA_GETINFO,this.onEventDouFaGetInfo,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this)},_onShow:function _onShow(){this._refresh()},rankBtnClick:function rankBtnClick(){yx.biWuMgr.reqBiWu(yx.proto.BiWuCmdType.GetRankInfo_Cmd)},addBtnClick:function addBtnClick(){yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_BIWU})},onEventDouFaGetInfo:function onEventDouFaGetInfo(){for(var e in this.douFaItems)this.douFaItems[e].refresh({})},onEventGetRankInfo:function onEventGetRankInfo(e){yx.windowMgr.showWindow("biWuRank",e)},onBiWuItemClick:function onBiWuItemClick(e){yx.bagMgr.GetItemOwnCount(1,l)<=0?yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_BIWU}):yx.biWuMgr.reqBiWu(yx.proto.BiWuCmdType.Fight_Cmd,e.id)},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onEventMatchingInfo:function onEventMatchingInfo(e){for(var t in this.myRankTipRiText.string="第<color=#FFD066>{rankNum}</c>名".format({rankNum:e.selfRankIndex}),this.costNumLabel.string=yx.bagMgr.GetItemOwnCount(1,l),this.biWuItems)this.biWuItems[t].refresh(e.biWuInfo[t],this.onBiWuItemClick.bind(this));var n=e.reward;for(var i in this.rewardItemWidget)n[i]?(this.rewardItemWidget[i].node.active=!0,this.rewardItemWidget[i].init({itemId:n[i].id,amount:n[i].count,clickCallBack:this.onItemClick})):this.rewardItemWidget[i].node.active=!1},onEventFight:function onEventFight(e){if(e.biWuInfo){var t=e.biWuInfo[0];yx.FightPanel.ShowFightResult("jingji",t.nickName,e.result,!1,this._onPkEnd.bind(this,e),this)}},_onPkEnd:function _onPkEnd(e,t){t&&yx.biWuMgr.reqBiWu(yx.proto.BiWuCmdType.MatchingInfo_Cmd),yx.windowMgr.showWindow("biWuResult",{isWin:t,resp:e})},_initSwitchTC:function _initSwitchTC(){this.switchTC.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="JingJiWindow",e.handler="onSwitchTCClick",this.switchTC.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTC.toggleItems.indexOf(e);if(0<=t){var n=c[t];null!=n&&n!=this._curPage&&(this._curPage=n,this._refresh())}},_refresh:function _refresh(){1===this._curPage?(this.biWuPageNode.active=!0,this.douFaPageNode.active=!1,yx.biWuMgr.reqBiWu(yx.proto.BiWuCmdType.MatchingInfo_Cmd)):(this.biWuPageNode.active=!1,this.douFaPageNode.active=!0)},onEventItemChange:function onEventItemChange(e){if(this.isShown()&&e.add&&0<e.add.length)for(var t in e.add){var n=e.add[t];l===n.itemId&&(this.costNumLabel.string=yx.bagMgr.GetItemOwnCount(1,l))}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",BiWuItem:"BiWuItem",DouFaItem:"DouFaItem",ItemWidget:"ItemWidget",TimeProBarWidget:"TimeProBarWidget"}],JueXuePanel:[function(e,t,n){cc._RF.push(t,"af0deitAWRCkZLonJJ80QDC","JueXuePanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{gatoBtnNode:cc.Node,desc1:cc.RichText,desc2:cc.RichText,bookContent:cc.RichText},_onInit:function _onInit(){this.gatoBtnNode.on("click",this._gotoBtnClick,this);var e=yx.cfgMgr.getAllConfig("JueCanConfig")[0];this.desc1.string=e.Desc1,this.desc2.string=e.Desc2;for(var t=e.ItemList,n="",i=0;i<t.length;i++){var o=t[i],r=yx.bagMgr.GetItemName(o);n=2==i?n+"《"+r+"》\n":n+"《"+r+"》 "}this.bookContent.string=n},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_gotoBtnClick:function _gotoBtnClick(){yx.CodeHelper.checkFuncOpen(47)&&yx.windowMgr.showWindow("fangshi",{type:yx.proto.ShopType.XianYuGe,scrollIndex:2})}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],KuiTanTianJiWindow:[function(e,t,n){cc._RF.push(t,"06184u2qTRJWJqeI3NTGSxf","KuiTanTianJiWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{title1Label:cc.Label,title2Label:cc.Label,desc1RT:cc.RichText,desc2RT:cc.RichText,leftTimeLabel:cc.Label},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.FENGSHEN_CONFIG,this.onEventConfigRefresh,this);var e=yx.cfgMgr.getAllConfig("FengShenBangBaseConfig");e&&e[0]&&(this.title1Label.string=e[0].Name1,this.title2Label.string=e[0].Name2,this.desc1RT.string=e[0].Desc1.join("\n"),this.desc2RT.string=e[0].Desc2.join("\n"))},_onShow:function _onShow(){},refreshLeftTime:function refreshLeftTime(){var e=yx.FengShenMgr.getActivityData(yx.FengShenMgr.fengShenActivityId);e&&(this._endTime=e.endTime,this.unschedule(this._leftTimeCallback),this.schedule(this._leftTimeCallback,1,cc.macro.REPEAT_FOREVER,.1))},onEventConfigRefresh:function onEventConfigRefresh(){},leftTimeCallback:function leftTimeCallback(){var e=yx.timeUtil.getServerTime(),t=parseInt(this._endTime-e)/1e3;this.leftTimeLabel.string=yx.timeUtil.seconds2DayHourMinSecondChina(t),t<=0&&(this.leftTimeLabel.string="0天0时0分0秒",this.unschedule(this._leftTimeCallback))},onHelpBtnClick:function onHelpBtnClick(){}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],LiLianItemTipPanel:[function(e,t,n){cc._RF.push(t,"9a0c44lSQJJ75GaOQ/recCf","LiLianItemTipPanel");var i=e("BaseWindow"),r={UNDO:1,DOING:2,DONE:3},o=cc.Class({extends:i,statics:{SHOWTYPE:r},properties:{contentTextLabel:cc.RichText},_onInit:function _onInit(e){switch(e.showType){case r.UNDO:var t=e.mapID,n=t-1;if(t){var i=yx.cfgMgr.getRecordByKey("ChapterMapConfig",{ID:t}),o=yx.cfgMgr.getRecordByKey("ChapterMapConfig",{ID:n});this.contentTextLabel.string="击败<color = #00C800>{preMapName}</color>所有BOSS可进入<color = #00C800>{curMapName}</color>".format({preMapName:o.name,curMapName:i.name})}break;case r.DOING:this.contentTextLabel.string="<color = #00C800>正在游历中</color>";break;case r.DONE:this.contentTextLabel.string="<color = #00C800>已通关</color>"}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}});yx.LiLianItemTipPanel=t.exports=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],LiLianItem:[function(e,t,n){cc._RF.push(t,"3e190ftoYlNVr2spJtHLGS+","LiLianItem"),cc.Class({extends:cc.Component,properties:{btn:cc.Button,levelLabel:cc.Label,nameLabel:cc.Label,_mapId:0},getMapId:function getMapId(){return this._mapId},getMapCId:function getMapCId(){return this._mapCId},init:function init(){if(!this.isInited){this.textGreyColor=yx.colorUtil.toCCColor(yx.colorUtil.TextGreyDark),this.textWriteColor=yx.colorUtil.toCCColor(yx.colorUtil.TextWhite),this.isInited=!0,this.btn.node.on("click",this._btnClick,this),this.btnGreySpNode=new cc.Node;var e=this.btnGreySpNode.addComponent(cc.Sprite);e.spriteFrame=this.btn.node.getComponent(cc.Sprite).spriteFrame,this.btn.node.addChild(this.btnGreySpNode),e.setState(cc.Sprite.State.GRAY),this.btnGreySpNode.active=!1}this.btn.node.name="lilianItemBtn_"+this._mapId;var t=this.node.name,n=parseInt(t.split("_")[1]);900<yx.battleMgr.getCurGjCID()?(n+=20,yx.resUtil.LoadSprite("lilian/iocn-526",this.btn.getComponent(cc.Sprite)),this.levelLabel.node.color=this.textGreyColor,this.nameLabel.node.color=this.textGreyColor):(yx.resUtil.LoadSprite("lilian/panel-66",this.btn.getComponent(cc.Sprite)),this.levelLabel.node.color=this.textWriteColor,this.nameLabel.node.color=this.textWriteColor),this.levelLabel.string=n,this.chapterMapCfg=yx.cfgMgr.getRecordByKey("ChapterMapConfig",{ID:n}),this.nameLabel.string=this.chapterMapCfg.name,this._mapId=this.chapterMapCfg.ID,this._mapCId=this.chapterMapCfg.CID},show:function show(e){this.node.active=e},setIsCurMap:function setIsCurMap(e){this.isCurMap=e},_btnClick:function _btnClick(){yx.battleMgr.getCurGjCID()>this._mapCId?this.isCurMap?yx.windowMgr.showWindow("liLianItemTip",{showType:yx.LiLianItemTipPanel.SHOWTYPE.DOING}):yx.windowMgr.showWindow("liLianItemTip",{showType:yx.LiLianItemTipPanel.SHOWTYPE.DONE}):yx.battleMgr.getCurGjCID()==this._mapCId?yx.battleMgr.getCurTiaoZhanBossSuc()?(yx.battleMgr.reqNextChapter(),yx.windowMgr.backToWindow("mainBattleWindow"),yx.eventDispatch.dispatchMsg(yx.EventType.GJ_SHOW_BATTLE)):yx.windowMgr.showWindow("liLianItemTip",{mapID:this._mapId,showType:yx.LiLianItemTipPanel.SHOWTYPE.UNDO}):yx.battleMgr.getCurGjCID()<=this._mapCId&&yx.windowMgr.showWindow("liLianItemTip",{mapID:this._mapId,showType:yx.LiLianItemTipPanel.SHOWTYPE.UNDO})},setGrey:function setGrey(e){(this.btnGreySpNode.active=e)&&(this.levelLabel.node.color=this.textWriteColor,this.nameLabel.node.color=this.textWriteColor)}}),cc._RF.pop()},{}],LiLianWindow:[function(e,t,n){cc._RF.push(t,"1d65fRC5gZLEJz7s2wiNVgz","LiLianWindow");var i=e("BaseWindow"),o=e("LiLianItem"),r=e("AttrGroupWidget"),a=cc.Class({extends:i,properties:{attrGroupWidget:r,liLianPageNode:cc.Node,liLianMapScrollview:cc.ScrollView,liLianMapArrowTipEffR:cc.Node,liLianMapArrowTipEffL:cc.Node,liLianMapContent:cc.Node,liLianCurMapEffect:cc.Node,liLianNewMapEffect:cc.Node,liLianGuideEffect:cc.Node,mapSp:cc.Sprite,goTianShangMapBtn:cc.Button,goPoSuiMapBtn:cc.Button,goTianShangMapBtnEffNode:cc.Node},_onInit:function _onInit(){this.liLianMapArrowTipEffR.active=!1,this.liLianMapArrowTipEffL.active=!1,this.liLianPageNode.active=!0,this.attrGroupWidget.initItems([yx.CyType.SHIWU,yx.CyType.LINGSHI]),this.attrGroupWidget.showItems([yx.CyType.SHIWU]),yx.eventDispatch.addListener(yx.EventType.GJ_ENTER,this.onEventEnterGj,this),yx.eventDispatch.addListener(yx.EventType.QIYU_OPEN_WINDOW,this.onOpenQiYuWindow,this),yx.eventDispatch.addListener(yx.EventType.REFRESH_TASK_TO_LILIAN,this.onEventRefreshTaskToLilian,this),yx.eventDispatch.addListener(yx.EventType.GJ_NEXT_CHAPTER,this.onEventNextMap,this),this.liLianMapScrollview.node.on("scrolling",this.onMapScrolling,this),this.goTianShangMapBtn.node.on("click",this.ongoTianShangMapBtnClick,this),this.goPoSuiMapBtn.node.on("click",this.ongoTianShangMapBtnClick,this)},_initLiLianMapitem:function _initLiLianMapitem(){this.lilianItems={};for(var e=this.liLianMapContent.getComponentsInChildren(o),t=0;t<e.length;t++){var n=e[t];n.init(),this.lilianItems[n.getMapId()]=n}},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){yx.CodeHelper.CallInNextTick(this._refreshLiLian.bind(this))},onEventNextMap:function onEventNextMap(){var e=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()});if(yx.battleMgr.getCurTiaoZhanBossSuc()&&2==e.NextMap&&yx.playerMgr.getCurGameWorld()===yx.proto.WorldType.Ground){if(1!=yx.cfgMgr.getOneRecord("SystemConfig",{id:102}).int_value)return void yx.ToastUtil.showListToast("暂未开放");yx.windowMgr.goHome(),yx.windowMgr.showWindow("changeWorldPanel",yx.proto.WorldType.Sky),yx.playerMgr.changeWorld(yx.proto.WorldType.Sky)}yx.battleMgr.reqEnterGjInfo()},ongoTianShangMapBtnClick:function ongoTianShangMapBtnClick(){var e=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()});e&&(yx.battleMgr.getCurTiaoZhanBossSuc()&&2==e.NextMap?yx.battleMgr.reqNextChapter():yx.battleMgr.getCurTiaoZhanBossSuc()&&3==e.NextMap&&yx.ToastUtil.showListToast("暂未开放"))},_refreshLiLian:function _refreshLiLian(){this._initLiLianMapitem();var e=yx.cfgMgr.getAllConfig("ChapterMapConfig"),t=yx.battleMgr.getCurGjCID(),n=null,i=null,o=1;if(e)for(var r=0;r<e.length;r++)if(t>e[r].CID&&(e[r+1]&&t<=e[r+1].CID||!e[r+1])){o=e[r].ID,n=this.lilianItems[o],i=this.lilianItems[o+1];break}var a=!1;if(i){var s=yx.cfgMgr.getRecordByKey("ChapterMapConfig",{ID:o+1});if(s){var c=s.CID;yx.battleMgr.getCurGjCID()==c&&yx.battleMgr.getCurTiaoZhanBossSuc()&&(a=!0)}}for(var l in this.lilianItems){var u=this.lilianItems[l];u.setIsCurMap(!1),u.setGrey(o+1<=l)}a?(i.node.insertChild(this.liLianNewMapEffect,10),this.liLianNewMapEffect.setPosition(cc.v2(0,16)),this.liLianNewMapEffect.getComponent(cc.Animation).play(),i.node.insertChild(this.liLianGuideEffect,10)):(this.liLianPageNode.insertChild(this.liLianNewMapEffect,0),this.liLianNewMapEffect.setPosition(cc.v2(0,0)),this.liLianPageNode.insertChild(this.liLianGuideEffect,0)),this.liLianGuideEffect.setPosition(cc.v2(0,0)),a?(this.liLianPageNode.insertChild(this.liLianCurMapEffect,0),this.liLianCurMapEffect.setPosition(cc.v2(0,0))):n&&(n.setIsCurMap(!0),n.node.insertChild(this.liLianCurMapEffect,0),this.liLianCurMapEffect.setPosition(cc.v2(0,110)));var d=a?i:n;if(d){var h=d.node.x;h=h<yx.windowWidth/2?0:h-yx.windowWidth/2,this.liLianMapScrollview.scrollToOffset(cc.v2(h,0),1.5)}if(900<yx.battleMgr.getCurGjCID())yx.resUtil.LoadSprite("lilian/map-2",this.mapSp),this.goPoSuiMapBtn.node.active=!0,this.goTianShangMapBtn.node.active=!1;else{yx.resUtil.LoadSprite("lilian/map-1",this.mapSp);var g=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()});this.goTianShangMapBtnEffNode.active=yx.battleMgr.getCurTiaoZhanBossSuc()&&2==g.NextMap,this.goPoSuiMapBtn.node.active=!1,this.goTianShangMapBtn.node.active=!0}},onEventEnterGj:function onEventEnterGj(){this.isShown()&&this._refreshLiLian()},onOpenQiYuWindow:function onOpenQiYuWindow(){yx.CodeHelper.checkFuncOpen(24)&&yx.windowMgr.showWindow("qiYuWindow")},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",23)},onEventRefreshTaskToLilian:function onEventRefreshTaskToLilian(){yx.resUtil.playEffect("TaskFinishEffect",this.node,!1,0,300)},onMapScrolling:function onMapScrolling(){var e=Math.abs(this.liLianMapScrollview.getScrollOffset().x);e>this.liLianMapContent.width-this.liLianMapScrollview.node.width-10?this.liLianMapArrowTipEffR.active=!1:this.liLianMapArrowTipEffR.active=!0,this.liLianMapArrowTipEffL.active=!(e<10)}});yx.LiLianWindow=t.exports=a,cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",LiLianItem:"LiLianItem"}],LiXianPanel:[function(e,t,n){cc._RF.push(t,"da833EFitFNubdfzqk85NLY","LiXianPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskBtn:cc.Button,xiulianAddLabel:cc.Label,lingqiAddLabel:cc.Label,weiwangAddLabel:cc.Label,zhengqiAddLabel:cc.Label,xieqiAddLabel:cc.Label,gongxianAddLabel:cc.Label,lingshiAddLabel:cc.Label,shiwuAddLabel:cc.Label,yuntieAddLabel:cc.Label,mucaiAddLabel:cc.Label,itemMucaiLabel:cc.Label,itemYunTieLabel:cc.Label,itemLingShiLabel:cc.Label,itemYaoCaoLabel:cc.Label,itemKuangShiLabel:cc.Label,itemZhuangBeiLabel:cc.Label,itemDuJieDanLabel:cc.Label,liXianTimeLabel:cc.Label,liXianTimeTip:cc.Label,goToVipBtn:cc.Button},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskBtn.node.on("click",this.onCloseBtnClick,this),this.goToVipBtn.node.on("click",this.onGoToVipBtnClick,this),this.liXianTimeLabel.string=yx.timeUtil.seconds2hourMinSecondChina(yx.playerMgr.getLiXianGJOfflineTime()/1e3);var e=yx.cfgMgr.getRecordByKey("SystemConfig",{id:117});if(e){var t=e.str_value[yx.playerMgr.isVipForever()?2:yx.playerMgr.isVipMonth()?1:0];this.liXianTimeTip.string="(最多获得{maxHour}小时离线收益)".format({maxHour:yx.timeUtil.minutes2Hour(t)})}this.goToVipBtn.node.active=!yx.playerMgr.isVipForever()&&yx.serverMgr.IsAuditPassed()&&yx.CodeHelper.checkFuncOpenShow(56)},_onShow:function _onShow(){this._refresh(),yx.playerMgr.clearLiXian(),yx.playerMgr.clearLiXianGJ()},_refresh:function _refresh(){var e=yx.playerMgr.getLiXian()||{};this.xiulianAddLabel.string=e[yx.CyType.XIUWEI]||0,this.lingqiAddLabel.string=e[yx.CyType.LINGQI]||0,this.weiwangAddLabel.string=e[yx.CyType.WEIWANG]||0,this.zhengqiAddLabel.string=e[yx.CyType.ZHENGQI]||0,this.xieqiAddLabel.string=e[yx.CyType.XIEQI]||0,this.gongxianAddLabel.string=e[yx.CyType.GONGXIAN]||0,this.lingshiAddLabel.string=e[yx.CyType.LINGSHI]||0,this.shiwuAddLabel.string=e[yx.CyType.SHIWU]||0,this.yuntieAddLabel.string=e[yx.CyType.YUNTIE]||0,this.mucaiAddLabel.string=e[yx.CyType.MUCAI]||0;var t=this.getGjStatics();this.itemMucaiLabel.string=t.muCaiCount,this.itemYunTieLabel.string=t.yunTieCount,this.itemLingShiLabel.string=t.lingShiCount,this.itemYaoCaoLabel.string=t.yaoCaoCount,this.itemDuJieDanLabel.string=t.duJieDanCount,this.itemKuangShiLabel.string=t.kuangShiCount,this.itemZhuangBeiLabel.string=t.zhuangBeiCount},getGjStatics:function getGjStatics(){var e=yx.playerMgr.getLiXianGJ();yx.log("getGjStatics:"+JSON.stringify(e));var t={zhuangBeiCount:0,kuangShiCount:0,yaoCaoCount:0,duJieDanCount:0,lingShiCount:0,muCaiCount:0,yunTieCount:0};if(e)for(var n in e){var i=e[n].itemId,o=e[n].amount;if(1002!=i)if(1003!=i)if(1005!=i){var r=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:i});r&&(2==r.Type?t.zhuangBeiCount+=o:10==r.Type?t.kuangShiCount+=o:9==r.Type?t.yaoCaoCount+=o:12==r.Type&&(t.duJieDanCount+=o))}else t.yunTieCount+=o;else t.muCaiCount=+o;else t.lingShiCount+=o}return t},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onGoToVipBtnClick:function onGoToVipBtnClick(){yx.CodeHelper.checkFuncOpen(56)&&yx.windowMgr.showWindow("vipWindow")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],LianLuItem:[function(e,t,n){cc._RF.push(t,"7065fUGIkRMpZwXdbXwREeD","LianLuItem");var r="prefabs/widgets/LianLuItem",s=cc.Class({extends:cc.Component,properties:{rootNode:cc.Node,lianLuSp:cc.Sprite},statics:{_itemPrefab:null,_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i){var o=cc.instantiate(i),r=new cc.Node(n);t.addChild(r),null!=n&&(o.name=n);var a=o.getComponent(s);a&&r&&r.isValid?(a.init(e),r.addChild(o,2),r.setContentSize(o.getContentSize())):yx.warn("ItemWidget instantiate error!")},CreateItemSlot:function CreateItemSlot(n,i,o){s._itemPrefab?s._createItemWithPrefab(n,i,o,s._itemPrefab):yx.resUtil.LoadRes(r,function(e,t){e?yx.warn(r+" is not exist!"):(s._itemPrefab=t,s._createItemWithPrefab(n,i,o,s._itemPrefab))})}},init:function init(e){e.Icon&&yx.resUtil.LoadSpriteByType(e.Icon,yx.ResType.DANLU,this.lianLuSp)}});yx.LianLuItem=t.exports=s,cc._RF.pop()},{}],LianZhiItem:[function(e,t,n){cc._RF.push(t,"1c50akSB1tBkrktxewDgqi0","LianZhiItem");var s="prefabs/widgets/LianZhiItem",o={BAR:1,TUJIAN:2},l=cc.Class({extends:cc.Component,properties:{contentLabel:cc.Label,barLayout:cc.Layout,tuJianLayout:cc.Layout},statics:{SHOW_TYPE:o,_itemPrefab:null,CreateItem:function CreateItem(n,i,o,r,a){if(l._itemPrefab=null,l._itemPrefab)return l._createItemWithPrefab(n,i,o,l._itemPrefab,r,a);yx.resUtil.LoadRes(s,function(e,t){if(!e)return l._itemPrefab=t,l._createItemWithPrefab(n,i,o,l._itemPrefab,r,a);yx.warn(s+" is not exist!")})},_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i,o,r){var a=cc.instantiate(i),s=new cc.Node(n);s.setAnchorPoint(.5,1),t.addChild(s),null!=n&&(a.name=n);var c=a.getComponent(l);return c&&s&&s.isValid?(s.addChild(a),c.init(e,o,r),s.setContentSize(a.getContentSize())):yx.warn("LianZhiItem instantiate error!"),c}},init:function init(e,t,n){switch(this._cb=t,this._tuJianDelayArr=[],this.contentLabel.string=e.title,e.showType){case o.BAR:for(var i=0;i<e.items.length;i++)n&&e.items[i].num<=0||n&&e.items[i].isEatFull||yx.LianZhiSelectItem.CreateItem(e.items[i],this.barLayout.node,"LianZhiSelectItem"+i,t);this.node.setContentSize(cc.size(this.node.getContentSize().width,this.node.getContentSize().height+50*Math.ceil(e.items.length/2)));break;case o.TUJIAN:this._tuJianDelayArr=e.items.slice(0,e.items.length),this.node.setContentSize(cc.size(this.node.getContentSize().width,this.node.getContentSize().height+140*Math.ceil(e.items.length/4)))}},update:function update(){this._tuJianDelayArr[0]&&(yx.TuJianItemWidget.CreateItem(this._tuJianDelayArr[0],this.tuJianLayout.node,"TuJianSelectItem",this._cb),this._tuJianDelayArr.splice(0,1))}});yx.LianZhiItem=t.exports=l,cc._RF.pop()},{}],LianZhiPanel:[function(e,t,n){cc._RF.push(t,"b15ffVyaeNIA5E56Oy+v6Az","LianZhiPanel");var x={UN_LIANZHI:1,ON_LIANZHI:2},i=e("NumberWidget"),o=e("TimeProBarWidget"),r=e("ItemRichTextWidget"),a=e("BaseWindow"),s=cc.Class({extends:a,statics:{LIANZHI_STATE:x},properties:{homeTitleLable:cc.Label,homePageNode:cc.Node,homeSelectBtn:cc.Button,homeCloseBtn:cc.Button,homeLeftBtn:cc.Button,homeRightBtn:cc.Button,homeSelectItemSp:cc.Sprite,homeUnSelectLabel:cc.Label,hadUseLabel:cc.Label,hadUseNode:cc.Node,homeSuccessRatioLabel:cc.Label,homeNumberWidget:i,homeOnLianZhiNode:cc.Node,homeUnLianZhiNode:cc.Node,homeTimeProBarWidget:o,homeShuXingRichText:cc.RichText,homeLianZhiNeedNode:cc.Node,homeItemWidget1:r,homeItemWidget2:r,homeItemWidget3:r,homeLianZhiFinishNode:cc.Node,homeFinishItemWidget:r,homeFinishFailLabel:cc.Label,homeLianZhiNeedLabel:cc.Label,homeFinishRichText:cc.RichText,homeRunningNode:cc.Node,homeFinishNode:cc.Node,homeLingQuZhiBtn:cc.Button,homeLingQuZhiLabel:cc.Label,homeFinishTipRichText:cc.RichText,homeDefaultDesrLabel:cc.Label,homeBeginTiaoZhiBtn:cc.Button,homeEndTiaoZhiBtn:cc.Button,homeTuJianBtn:cc.Button,homeScrollView:cc.ScrollView,homeScrollViewBlockNode:cc.Node,homeLayout:cc.Layout,homePreBtn:cc.Button,homeNextBtn:cc.Button,homeAutoChooseToggle:cc.Toggle,homeLianLuName:cc.Label,selectDanFangNode:cc.Node,stuCloseBtn:cc.Button,stuLayout:cc.Layout,stuHideStuffBtn:cc.Button,stuHideMarkNode:cc.Node,stuHideChemarkTipLabel:cc.Label,tuJianPageNode:cc.Node,tuJianLayout:cc.Layout,tuJianCloseBtn:cc.Button,danFangItemPrefab:cc.Prefab,danSelectItemPrefab:cc.Prefab,tuJianItemPrefab:cc.Prefab,lianLuItemPrefab:cc.Prefab,pipeiLabel:cc.Label},_onInit:function _onInit(e){this.curBuildType=e.buildType,this.homePageNode.active=!0,this.selectDanFangNode.active=!1,this.tuJianPageNode.active=!1,this.homeLianZhiNeedNode.active=!0,this.homeLianZhiFinishNode.active=!1,this.homeRunningNode.active=!1,this.homeFinishNode.active=!1,this.homeLianLuName.node.parent.active=!1,this.homeSuccessRatioLabel.node.active=!1,this.homeItemWidgetArr=[],this.homeItemWidgetArr.push(this.homeItemWidget1),this.homeItemWidgetArr.push(this.homeItemWidget2),this.homeItemWidgetArr.push(this.homeItemWidget3),this.homeSelectBtn.node.on("click",this._onHomeSelectBtnClick,this),this.homeCloseBtn.node.on("click",this.onHomeCloseBtnClick,this),this.homeBeginTiaoZhiBtn.node.on("click",this._onHomeBeginTiaoZhiBtnClick,this),this.homeEndTiaoZhiBtn.node.on("click",this._onHomeEndTiaoZhiBtnClick,this),this.homeTuJianBtn.node.on("click",this._onHomeTuJianBtnClick,this),this.homeScrollViewBlockNode.on("click",this._onScrollViewBlockClick,this),this.stuCloseBtn.node.on("click",this._onStuCloseBtnClick,this),this.tuJianCloseBtn.node.on("click",this._onTuJianCloseBtnClick,this),this.homePreBtn.node.on("click",this._onHomePreBtnClick,this),this.homeNextBtn.node.on("click",this._onHomeNextBtnClick,this),this.homeLingQuZhiBtn.node.on("click",this._onHomeLingQuZhiBtnClick,this),this.homeAutoChooseToggle.node.on("click",this._onHomeAutoChooseToggleClick,this),this.stuHideStuffBtn.node.on("click",this._onStuHideStuffBtnClick,this),yx.LianZhiItem._itemPrefab=this.danFangItemPrefab,yx.LianZhiSelectItem._itemPrefab=this.danSelectItemPrefab,yx.TuJianItemWidget._itemPrefab=this.tuJianItemPrefab,yx.LianLuItem._itemPrefab=this.lianLuItemPrefab,this._initScrollview(),this.curBuildType==yx.CaveBuildType.DANFANG?(yx.eventDispatch.addListener(yx.EventType.REFRESH_CAVE_LIAN_DANFANG,this._refresh,this),this.homeLianZhiNeedLabel.string="炼丹所需材料",this.homeDefaultDesrLabel.string="　　修真之人通过各种秘法烧炼丹药，用来服食，以化为自身的灵气修为。\n　　而上品的丹药令人身安、命延，辅助渡劫、飞升。",this.stuHideChemarkTipLabel.string="隐藏材料不足（和已经吃满的）的丹方",this.pipeiLabel.string="丹炉匹配"):this.curBuildType==yx.CaveBuildType.QISHI&&(yx.eventDispatch.addListener(yx.EventType.REFRESH_CAVE_LIAN_QISHI,this._refresh,this),this.homeLianZhiNeedLabel.string="炼器所需材料",this.homeDefaultDesrLabel.string="　　修真之人通过各种秘法炼制新的武器和法宝，或者把原来的武器和法宝功能增强，赋予新的神通。\n　　而上品的武器法宝于修真有益，在战斗时更是提升显著。",this.stuHideChemarkTipLabel.string="隐藏材料不足的图纸",this.pipeiLabel.string="器鼎匹配"),this.homeShuXingRichText.string="",yx.BadgeMgr.addBadge(this.homeLingQuZhiBtn.node,60,15),yx.BadgeMgr.showBadge(this.homeLingQuZhiBtn.node,!0),this._delayArr=[],this._lastDelayTime=0},_onShow:function _onShow(){yx.caveMgr.reqMakeRoom(this.curBuildType)},_onHide:function _onHide(){this.homeTimeProBarWidget.unSchedule(),yx.eventDispatch.removeListenersByTarget(this)},_refresh:function _refresh(){if(yx.caveMgr.getCaveLianZhiData()&&yx.caveMgr.getCaveLianZhiData()[this.curBuildType])if(this.lianZhiData=yx.caveMgr.getCaveLianZhiData()[this.curBuildType],this.lianZhiData){if(this.curBuildType==yx.CaveBuildType.QISHI){this.homeNumberWidget.node.active=!1;var e=yx.cfgMgr.getRecordByKey("LianQiLevelConfig",{Level:this.lianZhiData.level});e&&(this.homeTitleLable.string=e.Name);var t=yx.localStorage.Load(yx.LSKey.AUTO_ADAPT_QI);null===t&&(t=!0),this.homeAutoChooseToggle.isChecked=t;var n=yx.localStorage.Load(yx.LSKey.AUTO_HIDE_QI);null===n&&(n=!1),this.stuHideMarkNode.active=n}else{var i=yx.cfgMgr.getRecordByKey("LianYaoLevelConfig",{Level:this.lianZhiData.level});i&&(this.homeTitleLable.string=i.Name);var o=yx.localStorage.Load(yx.LSKey.AUTO_ADAPT_DAN);null===o&&(o=!0),this.homeAutoChooseToggle.isChecked=o;var r=yx.localStorage.Load(yx.LSKey.AUTO_HIDE_DAN);null===r&&(r=!1),this.stuHideMarkNode.active=r}if(this._updateDanLu(),this._updateDanFangOrTuzhi(),this.homeShuXingRichText.string="",this.lianZhiData.curState==x.ON_LIANZHI){this.homeOnLianZhiNode.active=!0,this.homeUnLianZhiNode.active=!1,this._checkLianZhiFinish();var a="炼制丹药中";this.curBuildType==yx.CaveBuildType.QISHI&&(a="锻造器件中"),this.homeTimeProBarWidget.updateAndBegin("LianZhiPanel",this.lianZhiData,a,this._lianZhiPregressCallBack.bind(this))}else this.lianZhiData.curState==x.UN_LIANZHI&&(this.homeOnLianZhiNode.active=!1,this.homeUnLianZhiNode.active=!0,this.homeLianZhiNeedNode.active=!0,this.homeLianZhiFinishNode.active=!1,this.homeTimeProBarWidget.unSchedule());var s=null;if(this.lianZhiData.curSelectFormulaId){var c=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:this.lianZhiData.curSelectFormulaId});if(c){var l=this._calcuMaxValueCanLianZhi(c)||1,u=1;this.lianZhiData.curState==x.ON_LIANZHI&&(u=this.lianZhiData.makeCount),l=10<=l?10:l,this.homeNumberWidget.init(u,l,this._itemsContent.bind(this),this)}this.homeUnSelectLabel.node.active=!1,s=c}else this.homeNumberWidget.init(1,10,this._itemsContent.bind(this),this);if(s){var d=s.ItemID,h=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:d});if(null!=h.Icon&&0<h.Icon.length&&(h.Type==yx.ItemType.EQUIP?yx.resUtil.LoadSpriteByType(h.Icon,yx.ResType.EQUIP,this.homeSelectItemSp):yx.resUtil.LoadSpriteByType(h.Icon,yx.ResType.ITEM,this.homeSelectItemSp)),this.curBuildType==yx.CaveBuildType.QISHI)if(2==h.UseType&&0!=h.UseMax){var g=yx.playerMgr.getItemUseCount(d);this.hadUseNode.active=!0,this.hadUseLabel.string=g+" / "+h.UseMax}else this.hadUseNode.active=!1;else if(this.curBuildType==yx.CaveBuildType.DANFANG)if(0!=h.UseMax){this.hadUseNode.active=!0,this.hadUseLabel.string="";var p=yx.playerMgr.getDanYaoUseCount(d);this.hadUseLabel.string=p+" / "+h.UseMax}else this.hadUseNode.active=!1;if(this._setSuccessRation(),this._itemsContent(),0==h.SubType)this.homeShuXingRichText.string=h.DefDesc;else{var y=h.AttrID,f=yx.cfgMgr.getRecordByKey("EquipConfig",{ID:y}).attrpower,m="";for(var v in f)m+=yx.textDict.Attr[f[v].type]+"  "+f[v].value[0]+"~"+f[v].value[1]+"\n";this.homeShuXingRichText.string=m}}else this.hadUseNode.active=!1;this.homeScrollViewBlockNode.active=this.homeAutoChooseToggle.isChecked,this.lianZhiData&&this.lianZhiData.curState===x.ON_LIANZHI&&(this.homeScrollViewBlockNode.active=!0)}else yx.warn("炼制数据为null")},_itemsContent:function _itemsContent(){if(this.lianZhiData.curSelectFormulaId){var e=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:this.lianZhiData.curSelectFormulaId});if(e)for(var t=e[this._getCostName()],n=0;n<this.homeItemWidgetArr.length;n++)if(t[n]){var i=t[n].id,o=0;if(yx.cfgMgr.getRecordByKey("ItemConfig",{ID:i}).Type==yx.ItemType.EQUIP_PINZHI){if(0!=(o=yx.bagMgr.getItemNumNoWearByItemIds(e.Cost[0].id)))for(var r=e.Cost[n].id,a=0;a<r.length;a++){var s=r[a];if(0<yx.bagMgr.getItemNumNoWear(s)){i=s;break}}}else o=yx.bagMgr.getItemNumNoWear(i);var c=t[n].count*this.homeNumberWidget.getCurNum(),l=this._setColor(o,c,o+"")+yx.colorUtil.AddColorString("/"+c,yx.colorUtil.TextWhite);this.homeItemWidgetArr[n].node.active=!0,this.homeItemWidgetArr[n].init({ID:i,content:l},this._homeItemWidgetCallback.bind(this))}else this.homeItemWidgetArr[n].node.active=!1}},_setSuccessRation:function _setSuccessRation(){if(this.lianZhiData.curSelectFormulaId){var e=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:this.lianZhiData.curSelectFormulaId});if(e){var t=e.PinZhi,n=this._getCurSelectLuPinZhi();if(n){this.homeSuccessRatioLabel.node.active=!0;var i=this._calcuSuccessRatio(n,t);this.homeSuccessRatioLabel.string="成功率:"+i+"%"}}}},_calcuSuccessRatio:function _calcuSuccessRatio(e,t){var n=t-e;n=n<0?0:n;var i=yx.cfgMgr.getRecordByKey(this._getFormulaRateConfigName(),{ID:n});return i?parseInt(i.Rate)/100:"0"},_updateDanLu:function _updateDanLu(){if(!this.initDanLu){this.initDanLu=!0,this.homeLayout.node.removeAllChildren(!0);var e=this.lianZhiData.machine.length;if(!(e<=0)){yx.LianLuItem.CreateItemSlot({},this.homeLayout.node,"LianLu0");var t="LianQiLuConfig";this.curBuildType==yx.CaveBuildType.DANFANG&&(t="LianYaoLuConfig");for(var n=0;n<e;n++){var i=yx.cfgMgr.getRecordByKey(t,{PinZhi:this.lianZhiData.machine[n]});if(i){var o=yx.cfgMgr.getRecordByKey("ResConfig",{ID:i.Icon});o&&yx.LianLuItem.CreateItemSlot({Icon:o.Head},this.homeLayout.node,"LianLu"+(n+1))}}yx.LianLuItem.CreateItemSlot({},this.homeLayout.node,"LianLu"+(e+1)),this.lianZhiData&&this.lianZhiData.curState==yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI?this._setCurLu(this.lianZhiData.curMakeMachinePinZhi):this.homeAutoChooseToggle.isChecked&&this.lianZhiData.curSelectFormulaId?this._autoSelectLu():this.homeScrollView.scrollToOffset(cc.v2(0,0),.1)}}},_setCurLu:function _setCurLu(e){if(e){var t=e-1;t<0||this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.homeScrollView.scrollToOffset(cc.v2(159*t,0),.1)}.bind(this))))}},_autoSelectLu:function _autoSelectLu(){if(this.lianZhiData&&this.lianZhiData.machine&&this.homeAutoChooseToggle.isChecked){var e=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:this.lianZhiData.curSelectFormulaId});if(e){for(var t=e.PinZhi,n=0,i=0,o=0;o<this.lianZhiData.machine.length;o++){var r=this._calcuSuccessRatio(this.lianZhiData.machine[o],t);n<r&&(n=r,i=o)}this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.homeScrollView.scrollToOffset(cc.v2(159*i,0),.1)}.bind(this))))}}},_initScrollview:function _initScrollview(){this.minDisNodeData=null,this.homeScrollView.node.on("scrolling",function(e){if(!(this.homeLayout.node.childrenCount<=0)){var t=this.homeLayout.node.children;this.minDisNodeData=this._getMinDisNodeData(this.homeScrollView.node,t),this._setNodeByDistance(this.minDisNodeData.minDis,this.minDisNodeData.minNode);var n=this.homeLayout.node.getChildByName("LianLu"+(this.minDisNodeData.index-1)),i=this._getDistance(n,this.homeScrollView.node);this._setNodeByDistance(i.minDis,n);var o=this.homeLayout.node.getChildByName("LianLu"+(this.minDisNodeData.index+1)),r=this._getDistance(o,this.homeScrollView.node);this._setNodeByDistance(r.minDis,o),this._setLianLuName()}},this),this.homeScrollView.node.on("touchend",function(e){if(!(this.homeLayout.node.childrenCount<=0)){var t=this._calcuCurMoveOffset();t&&this.homeScrollView.scrollToOffset(t,1.5)}},this),this.homeScrollView.node.on("touchcancel",function(e){if(!(this.homeLayout.node.childrenCount<=0)){var t=this._calcuCurMoveOffset();t&&this.homeScrollView.scrollToOffset(t,1.5)}},this)},_getCurSelectLuPinZhi:function _getCurSelectLuPinZhi(){if(this.minDisNodeData&&this.minDisNodeData.index&&this.lianZhiData&&this.lianZhiData.machine){var e=this.minDisNodeData.index,t=this.lianZhiData.machine;return e&&t&&t[e-1]?t[e-1]:void 0}},_setLianLuName:function _setLianLuName(){if(this.minDisNodeData&&this.minDisNodeData.index&&this.lianZhiData&&this.lianZhiData.machine){var e=this.minDisNodeData.index,t=this.lianZhiData.machine;if(e&&t&&t[e-1]){var n=t[e-1],i=this.curBuildType==yx.CaveBuildType.QISHI?"{pinZhi}品器鼎":"{pinZhi}品丹炉";10<=n&&(i=this.curBuildType==yx.CaveBuildType.QISHI?"{pinZhi}品神器鼎":"{pinZhi}品神丹炉",n-=9),this.homeLianLuName.node.parent.active=!0;var o=i.format({pinZhi:yx.textDict.ChineseNum[n]});this.homeLianLuName.string!=o&&this._setSuccessRation(),this.homeLianLuName.string=o}}},_onHomePreBtnClick:function _onHomePreBtnClick(){if(!(this.homeLayout.node.childrenCount<=0||this.homeAutoChooseToggle.isChecked)){var e=this.minDisNodeData.index-2;if(e<0)return null;this.homeScrollView.scrollToOffset(cc.v2(159*e,0),1.5)}},_onHomeNextBtnClick:function _onHomeNextBtnClick(){if(!(this.homeLayout.node.childrenCount<=0||this.homeAutoChooseToggle.isChecked)){var e=this.minDisNodeData.index;if(e>this.homeLayout.node.childrenCount-3)return null;this.homeScrollView.scrollToOffset(cc.v2(159*e,0),1.5)}},_calcuCurMoveOffset:function _calcuCurMoveOffset(){if(!(this.homeLayout.node.childrenCount<=0)&&this.minDisNodeData){var e=this.minDisNodeData.index-1;return e<=0&&0<=this.minDisNodeData.minOriginDis||e>=this.homeLayout.node.childrenCount-3&&this.minDisNodeData.minOriginDis<=0?null:cc.v2(159*e,0)}},_setNodeByDistance:function _setNodeByDistance(e,t){if(t){var n=(160-e)/100;n<=.8&&(n=.8),t.setScale(.7*n)}},_getDistance:function _getDistance(e,t){if(e&&t){var n=e.convertToWorldSpaceAR(cc.v2(0,0)),i=t.convertToWorldSpaceAR(cc.v2(0,0));return{minDis:Math.abs(n.x-i.x),minOriginDis:n.x-i.x}}},_getMinDisNodeData:function _getMinDisNodeData(e,t){if(e&&t){var n=1e8,i=-1,o=null,r=1e8;for(var a in t)if(0!=a&&a!=t.length-1){var s=this._getDistance(t[a],e);s.minDis<n&&(n=s.minDis,r=s.minOriginDis,i=parseInt(a),o=t[a])}return{index:i,minNode:o,minDis:n,minOriginDis:r}}},_homeItemWidgetCallback:function _homeItemWidgetCallback(e){var t={};t.ID=e.ID,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_setColor:function _setColor(e,t,n){return t<=e?yx.colorUtil.AddColorString(n,yx.colorUtil.TextGreen):yx.colorUtil.AddColorString(n,yx.colorUtil.TextRed)},_updateDanFangOrTuzhi:function _updateDanFangOrTuzhi(){for(var e=this.lianZhiData.instructions,t={},n=0;n<e.length;n++){var i=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:e[n]});if(i){var o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:i.ItemID});if(o){var r=i.PinZhi,a=r,s=this.curBuildType===yx.CaveBuildType.DANFANG?"{pinZhi}品丹方":"{pinZhi}品方图纸";10<=r&&(s=this.curBuildType===yx.CaveBuildType.DANFANG?"仙{pinZhi}品丹方":"仙{pinZhi}品方图纸",a=r-9);var c={};c.id=i.ID,c.name=o.Name,c.showNum=this.curBuildType===yx.CaveBuildType.DANFANG,c.num=this._calcuMaxValueCanLianZhi(i),c.isEatFull=this.curBuildType===yx.CaveBuildType.DANFANG&&yx.playerMgr.checkDanYaoIsEatFull(i.ItemID),t[r]||(t[r]={},t[r].title=s.format({pinZhi:yx.textDict.ChineseNum[a]}),t[r].showType=yx.LianZhiItem.SHOW_TYPE.BAR,t[r].items=[]),t[r].items.push(c)}}}this.danfangOrTuzhis=t},_calcuMaxValueCanLianZhi:function _calcuMaxValueCanLianZhi(e){for(var t=e[this._getCostName()],n=[],i=0;i<t.length;i++){var o,r=t[i].count,a=t[i].id;o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:a}).Type==yx.ItemType.EQUIP_PINZHI?yx.bagMgr.getItemNumNoWearByItemIds(e.Cost[0].id):yx.bagMgr.getItemNumNoWear(a);var s=Math.floor(o/r);n.push(s)}return Math.min.apply(Math,n)},_onHomeSelectBtnClick:function _onHomeSelectBtnClick(){this.lianZhiData&&this.lianZhiData.curState==yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI?yx.ToastUtil.showListToast("正在炼制中"):(this.selectDanFangNode.active=!0,this._showFormula(this.danfangOrTuzhis))},_showFormula:function _showFormula(e){for(var t in this.stuLayout.node.removeAllChildren(!0),e)yx.LianZhiItem.CreateItem(e[t],this.stuLayout.node,"danfang"+t,this.onSelectStuffItem.bind(this),this.stuHideMarkNode.active)},_onScrollViewBlockClick:function _onScrollViewBlockClick(){this.lianZhiData&&this.lianZhiData.curState==yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI&&yx.ToastUtil.showListToast("正在炼制中")},_onHomeTuJianBtnClick:function _onHomeTuJianBtnClick(){if(this.lianZhiData&&this.lianZhiData.curState==yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI)yx.ToastUtil.showListToast("正在炼制中");else{this.tuJianPageNode.active=!0,this.tuJianLayout.node.removeAllChildren(!0);var e=null;if(this.curBuildType==yx.CaveBuildType.DANFANG)e=yx.cfgMgr.getAllConfig("LianYaoFormulaConfig");else{e=[];for(var t=yx.cfgMgr.getAllConfig("LianQiFormulaConfig"),n=0;n<t.length;n++){var i=t[n];1==i.IsShow&&e.push(i)}}if(e){for(var o=this.lianZhiData.instructions,r={},a=0;a<e.length;a++){var s=e[a],c=s.PinZhi,l=c,u={};if(u.id=s.ID,u.itemId=s.ItemID,u.own=!1,o)for(var d=0;d<o.length;d++)o[d]==s.ID&&(u.own=!0);u.sortTop=s.SortTop,u.pinzhi=c;var h=this.curBuildType===yx.CaveBuildType.DANFANG?"{pinZhi}品丹方":"{pinZhi}品图纸";10<=c&&(h=this.curBuildType===yx.CaveBuildType.DANFANG?"仙{pinZhi}品丹方":"仙{pinZhi}品图纸",l=c-9),r[c]||(r[c]={},r[c].title=h.format({pinZhi:yx.textDict.ChineseNum[l]}),r[c].showType=yx.LianZhiItem.SHOW_TYPE.TUJIAN,r[c].items=[]),r[c].items.push(u)}for(var g in this._delayArr=[],r){r[g].items.sort(this.sort);var p={};p.nodeName="tujian"+g,p.cfg=r[g],this._delayArr.push(p)}}}},_onStuCloseBtnClick:function _onStuCloseBtnClick(){this.selectDanFangNode.active=!1},_onTuJianCloseBtnClick:function _onTuJianCloseBtnClick(){this.tuJianPageNode.active=!1},onHomeCloseBtnClick:function onHomeCloseBtnClick(){yx.windowMgr.goBack()},_onHomeBeginTiaoZhiBtnClick:function _onHomeBeginTiaoZhiBtnClick(){if(this.lianZhiData)if(this.lianZhiData.curSelectFormulaId){var e=!1,t=this.lianZhiData.instructions;if(t)for(var n=0;n<t.length;n++)if(t[n]==this.lianZhiData.curSelectFormulaId){e=!0;break}if(e){var i=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:this.lianZhiData.curSelectFormulaId});if(i&&this._calcuMaxValueCanLianZhi(i)<=0)return void yx.ToastUtil.showListToast("材料不足");var o=this._getCurSelectLuPinZhi();o&&yx.caveMgr.reqMakeTreasure(this.curBuildType,this.lianZhiData.curSelectFormulaId,o,this.homeNumberWidget.getCurNum())}else yx.ToastUtil.showListToast("未拥有此配方")}else this.curBuildType==yx.CaveBuildType.DANFANG?yx.ToastUtil.showListToast("请先选择丹方"):yx.ToastUtil.showListToast("请先选择图纸")},_getCostName:function _getCostName(){var e="Cost";return this.curBuildType==yx.CaveBuildType.QISHI&&(e="ShowCost"),e},_getFormulaConfigName:function _getFormulaConfigName(){var e="LianQiFormulaConfig";return this.curBuildType==yx.CaveBuildType.DANFANG&&(e="LianYaoFormulaConfig"),e},_getFormulaRateConfigName:function _getFormulaRateConfigName(){var e="LianQiRateConfig";return this.curBuildType==yx.CaveBuildType.DANFANG&&(e="LianYaoRateConfig"),e},_onHomeLingQuZhiBtnClick:function _onHomeLingQuZhiBtnClick(){yx.caveMgr.reqTakeTreasure(this.curBuildType)},_onHomeAutoChooseToggleClick:function _onHomeAutoChooseToggleClick(){if(this.lianZhiData){if(this.lianZhiData&&this.lianZhiData.curState==yx.LianZhiPanel.LIANZHI_STATE.ON_LIANZHI)return this.homeAutoChooseToggle.isChecked=!this.homeAutoChooseToggle.isChecked,void yx.ToastUtil.showListToast("正在炼制中");this.curBuildType==yx.CaveBuildType.QISHI?yx.localStorage.Save(yx.LSKey.AUTO_ADAPT_QI,this.homeAutoChooseToggle.isChecked):yx.localStorage.Save(yx.LSKey.AUTO_ADAPT_DAN,this.homeAutoChooseToggle.isChecked),this.homeScrollViewBlockNode.active=this.homeAutoChooseToggle.isChecked,this._autoSelectLu()}},_onStuHideStuffBtnClick:function _onStuHideStuffBtnClick(){this.lianZhiData&&(this.stuHideMarkNode.active=!this.stuHideMarkNode.active,this.curBuildType==yx.CaveBuildType.QISHI?yx.localStorage.Save(yx.LSKey.AUTO_HIDE_QI,this.stuHideMarkNode.active):yx.localStorage.Save(yx.LSKey.AUTO_HIDE_DAN,this.stuHideMarkNode.active),this._showFormula(this.danfangOrTuzhis))},_onHomeEndTiaoZhiBtnClick:function _onHomeEndTiaoZhiBtnClick(){var e={content:"强制终止会导致炼制失败，并且会失去所有的炼制材料。确认要终止吗？"},t=new cc.Component.EventHandler;t.target=this.node,t.component="LianZhiPanel",t.handler="_onEndTiaoZhiConfirmBtnClick",e.confirmCallback=t,yx.windowMgr.showWindow("textConfirm",e)},_onEndTiaoZhiConfirmBtnClick:function _onEndTiaoZhiConfirmBtnClick(){this.lianZhiData&&yx.caveMgr.reqStopMake(this.curBuildType)},sort:function sort(e,t){return e.sortTop<t.sortTop?-1:e.sortTop==t.sortTop?0:1},onTuJianStuffItem:function onTuJianStuffItem(e){this.tuJianPageNode.active=!1,this.lianZhiData.curSelectFormulaId=e.id,this._autoSelectLu(),this._refresh()},_lianZhiPregressCallBack:function _lianZhiPregressCallBack(e,t){yx.log("_lianZhiPregressCallBack进度定时器的回调"),--t.curTime,e.refresh(t.curTime,t.maxTime),t.curTime<=0&&(yx.ToastUtil.showSimpleToast("炼制完毕",yx.windowMgr.getCurWindowOrPanel()),e.unSchedule(),yx.caveMgr.reqMakeRoom(this.curBuildType))},_checkLianZhiFinish:function _checkLianZhiFinish(){if(this.lianZhiData.curTime<=0){this.homeLianZhiNeedNode.active=!1,this.homeLianZhiFinishNode.active=!0,this.homeRunningNode.active=!1,this.homeFinishNode.active=!0;var e=yx.cfgMgr.getRecordByKey(this._getFormulaConfigName(),{ID:this.lianZhiData.curSelectFormulaId}),t=0;if(this.lianZhiData.reward&&0<this.lianZhiData.reward.length&&(t=this.lianZhiData.reward[0].count),e){var n=yx.colorUtil.AddColorString(t,yx.colorUtil.TextWhite);this.homeFinishItemWidget.init({ID:e.ItemID,content:n},this._homeItemWidgetCallback.bind(this))}this.curBuildType==yx.CaveBuildType.QISHI?this.homeFinishRichText.string="炼器成功"+this.lianZhiData.succCount+"次，失败"+(this.lianZhiData.makeCount-this.lianZhiData.succCount)+"次":this.homeFinishRichText.string="炼丹成功"+this.lianZhiData.succCount+"次，失败"+(this.lianZhiData.makeCount-this.lianZhiData.succCount)+"次",t<=0?(this.homeFinishItemWidget.node.active=!1,this.homeFinishFailLabel.node.active=!0,this.homeLingQuZhiLabel.string="确  定",yx.BadgeMgr.showBadge(this.homeLingQuZhiBtn.node,!1)):(this.homeFinishItemWidget.node.active=!0,this.homeFinishFailLabel.node.active=!1,this.homeLingQuZhiLabel.string="领  取",yx.BadgeMgr.showBadge(this.homeLingQuZhiBtn.node,!0))}else this.homeLianZhiNeedNode.active=!0,this.homeLianZhiFinishNode.active=!1,this.homeRunningNode.active=!0,this.homeFinishNode.active=!1},onSelectStuffItem:function onSelectStuffItem(e){this.selectDanFangNode.active=!1,this.lianZhiData.curSelectFormulaId=e.id,this._autoSelectLu(),this._refresh()},onHelpBtnClick:function onHelpBtnClick(){this.curBuildType==yx.CaveBuildType.DANFANG?yx.windowMgr.showWindow("helpPanel",6):yx.windowMgr.showWindow("helpPanel",7)},update:function update(){this.isShown()&&(this._lastDelayTime++,this._delayArr[0]&&2<this._lastDelayTime&&(this._lastDelayTime=0,yx.LianZhiItem.CreateItem(this._delayArr[0].cfg,this.tuJianLayout.node,this._delayArr[0].nodeName,this.onTuJianStuffItem.bind(this),null),this._delayArr.splice(0,1)))}});yx.LianZhiPanel=t.exports=s,cc._RF.pop()},{BaseWindow:"BaseWindow",ItemRichTextWidget:"ItemRichTextWidget",NumberWidget:"NumberWidget",TimeProBarWidget:"TimeProBarWidget"}],LianZhiSelectItem:[function(e,t,n){cc._RF.push(t,"3967ciYEz5N+pv9uaMRqvjm","LianZhiSelectItem");var a="prefabs/widgets/LianZhiSelectItem",c=cc.Class({extends:cc.Component,properties:{contentRichText:cc.RichText,danItemBtn:cc.Button},statics:{_itemPrefab:null,CreateItem:function CreateItem(n,i,o,r){if(c._itemPrefab)return c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.resUtil.LoadRes(a,function(e,t){if(!e)return c._itemPrefab=t,c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.warn(a+" is not exist!")})},_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i,o){null!=e&&yx.log("[丹方LianZhiSelectItem CreateItem] info:"+e);var r=cc.instantiate(i),a=new cc.Node(n);t.addChild(a),null!=n&&(r.name=n);var s=r.getComponent(c);return s&&a&&a.isValid?(s.init(e,o),a.addChild(r),a.setContentSize(r.getContentSize())):yx.warn("LianZhiSelectItem instantiate error!"),s}},init:function init(e,t){this._info=e,this._cb=t,this.contentRichText.string=this._getContentStr(e.showNum,e.name,e.num),this.danItemBtn.node.on("click",this._onDanItemBtnClick,this),this.danItemBtn.node.name="lianzhi_"+e.id},_getContentStr:function _getContentStr(e,t,n){return e?yx.colorUtil.AddColorString(t+"(",yx.colorUtil.TextDarkGreen)+yx.colorUtil.AddColorString(n+"",yx.colorUtil.TextGreen)+yx.colorUtil.AddColorString(")",yx.colorUtil.TextDarkGreen):yx.colorUtil.AddColorString(t,yx.colorUtil.TextDarkGreen)},_onDanItemBtnClick:function _onDanItemBtnClick(){yx.log("_onDanItemBtnClick"),this._cb&&this._cb(this._info)}});yx.LianZhiSelectItem=t.exports=c,cc._RF.pop()},{}],LingMaiMgr:[function(e,t,n){cc._RF.push(t,"42960vubW1PL4adcPb9HRNW","LingMaiMgr"),yx.LingMaiManager=function(){this.jingMaiLevel=0,this.qiLingDatas={}},yx.LingMaiManager.prototype={constructor:yx.LingMaiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.LingMai,this.onMessageLingMaiInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.QI_LING_ACTIVITY,this.onMessageQiLingAct.bind(this)),this._taskMap=null},reqInfo:function reqInfo(e,t,n){yx.log("[LingMaiManager] reqInfo ");var i=new yx.proto.C2S_LingMai;i.lingMaiType=e,i.cmdType=t,i.qiLingType=n,yx.network.sendMessage(yx.proto.CmdId.LingMai,i)},reqTaskInfo:function reqTaskInfo(){var e=new yx.proto.C2S_PlayerTask;e.cmdTyp=yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.QI_LING_ACTIVITY,e)},TaskReward:function TaskReward(e,t){var n=new yx.proto.C2S_PlayerTask;n.cmdTyp=yx.proto.PlayerTaskCmdType.Received_Cmd,n.id=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.QI_LING_ACTIVITY,n)},onMessageLingMaiInfo:function onMessageLingMaiInfo(e,t){if(null!=e&&0<e.length)yx.log("[LingMaiManager onMessageLingMaiInfo] error:"+e);else{var n=yx.proto.S2C_LingMai.decode(t);if(n){if(n.cmdType==yx.proto.LingMaiCmdType.MiFaBaoZang_Cmd){var i=[];for(var o in n.rewards){var r=n.rewards[o];i.push({id:r.id,itemId:r.id,amount:r.count})}return void yx.DropShowPanel.ShowDropPanel(i,function(){})}if(n.lingMaiType==yx.proto.LingMaiType.JingMai)switch(this.jingMaiLevel=n.level,n.cmdType){case yx.proto.LingMaiCmdType.GetLingMai_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.JINGMAI_GET_MESSAGE,n);break;case yx.proto.LingMaiCmdType.Upgrade_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.JINGMAI_UPGRATE,n);break;case yx.proto.LingMaiCmdType.OneClickUpgrade_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.JINGMAI_ONEKEY_UPGRATE,n)}else if(n.lingMaiType==yx.proto.LingMaiType.QiLing){for(var a in n.qiLing){var s=n.qiLing[a];this.qiLingDatas[s.type]=s.level}switch(n.cmdType){case yx.proto.LingMaiCmdType.GetQiLing_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.QILING_GET_MESSAGE,n);break;case yx.proto.LingMaiCmdType.UpgradeQiLing_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.QILING_UPGRATE,n)}}}}},getJingMaiLevel:function getJingMaiLevel(){return this.jingMaiLevel||0},getQiLingLevel:function getQiLingLevel(e){return this.qiLingDatas[e]||0},onMessageQiLingAct:function onMessageQiLingAct(e,t){if(!(null!=e&&0<e.length)){var n=yx.proto.S2C_PlayerTask.decode(t);if(n.cmdTyp===yx.proto.PlayerTaskCmdType.Received_Cmd||n.cmdTyp===yx.proto.PlayerTaskCmdType.UpdatePlayerTask_Cmd)for(var i=0;i<n.taskInfo.length;i++){var o=n.taskInfo[i];o.taskState==yx.proto.TaskStateType.Received&&yx.lingMaiMgr.toastReward(o)}else n.cmdTyp===yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd&&(this._taskMap=null);yx.lingMaiMgr.updateTaskList(n)}},toastReward:function toastReward(e){var t=yx.cfgMgr.getOneRecord("QiLinGiftConfig",{ID:e.index});if(t){var n=t.Reward;if(n&&0<n.length)for(var i=0;i<n.length;i++){var o=n[i],r=yx.bagMgr.GetItemName(o.id)+"<color=#ffd066>+"+o.count+"</color>";yx.ToastUtil.showListToast(r)}}},updateTaskList:function updateTaskList(e){null==this._taskMap&&(this._taskMap={});for(var t=e.taskInfo,n=0;n<t.length;n++){var i=t[n];null==this._taskMap[i.id]&&(this._taskMap[i.id]={}),this._taskMap[i.id][i.index]=i,yx.lingMaiMgr.qiLingActivityId=i.id}yx.eventDispatch.dispatchMsg(yx.EventType.QILING_ACTIVITY)},getTaskInfo:function getTaskInfo(e,t){return this._taskMap&&this._taskMap[e]&&this._taskMap[e][t]?this._taskMap[e][t]:null}},yx.lingMaiMgr=new yx.LingMaiManager,t.exports=yx.lingMaiMgr,cc._RF.pop()},{}],LingMaiWindow:[function(e,t,n){cc._RF.push(t,"44d9eGTohlNi5gW8QeacYUP","LingMaiWindow");var i=e("BaseWindow"),a="<color=#FF0000>{ownNum}/{needNum}</color>",s="<color=#00C800>{ownNum}/{needNum}</color>",I="<color=#00C800}>{name}+{value}</color>";cc.Class({extends:i,properties:{propertyRowPrefab:cc.Prefab,qiLingPageNode:cc.Node,jingMaiPageNode:cc.Node,qiLingBtn:cc.Button,jingMaiBtn:cc.Button,qiLingUpNode:cc.Node,qlMiFaBtn:cc.Button,qlMiFaEffNode:cc.Node,qlLiBaoBtn:cc.Button,qlCostLabel:cc.RichText,qlLevelLabel:cc.Label,qlCostNode:cc.Node,qlBtnsNode:cc.Node,qlFullNode:cc.Node,qlPropertyLayoutNode:cc.Node,qlQiangHuaBtn:cc.Button,qlQiangHuaOneKeyBtn:cc.Button,qlStopQiangHuaBtn:cc.Button,jmYiJingBtn:cc.Button,jmYiJingOneKeyBtn:cc.Button,jmStopYiJingBtn:cc.Button,jmCostLabel:cc.RichText,_jmZhuziNodes:[cc.Node],_jmZhuziEffNodes:[cc.Node],_jmLineNodes:[cc.Node],jmPropertyLayoutNode:cc.Node,jmLevelLabel:cc.Label,jmCostNode:cc.Node,jmBtnsNode:cc.Node,jmFullNode:cc.Node},_onInit:function _onInit(){this.initPublic(),this.initJingMai(),this.initQiLing(),this.initRedot()},initRedot:function initRedot(){yx.BadgeMgr.addBadge(this.qlLiBaoBtn.node,30,30),yx.BadgeMgr.addBadge(this.qlQiangHuaBtn.node,80,25),yx.BadgeMgr.addBadge(this.qlQiangHuaOneKeyBtn.node,80,25),yx.BadgeMgr.addBadge(this.jmYiJingBtn.node,80,25),yx.BadgeMgr.addBadge(this.jmYiJingOneKeyBtn.node,80,25),yx.BadgeMgr.addBadge(this.qiLingBtn.node,30,30),yx.BadgeMgr.addBadge(this.jingMaiBtn.node,30,30)},onEventRefreshBadge:function onEventRefreshBadge(){yx.BadgeMgr.showBadge(this.qlLiBaoBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuQiLingGift)),yx.BadgeMgr.showBadge(this.qlQiangHuaBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuQiLingLevel)),yx.BadgeMgr.showBadge(this.qlQiangHuaOneKeyBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuQiLingLevel)),yx.BadgeMgr.showBadge(this.qiLingBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuQiLing)),yx.BadgeMgr.showBadge(this.jingMaiBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuJingMai)),yx.BadgeMgr.showBadge(this.jmYiJingBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuJingMai)),yx.BadgeMgr.showBadge(this.jmYiJingOneKeyBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuJingMai))},initPublic:function initPublic(){this.curPageType=1,this.jingMaiBtn.node.on("click",this._pageBtnClick.bind(this,2),this),this.qiLingBtn.node.on("click",this._pageBtnClick.bind(this,1),this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_USE_INFO,this.onEventItemUseNumInfo,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this)},initQiLing:function initQiLing(){this.selectType=yx.proto.QiLingType.KuangXiong,this.qlMiFaEffNode.active=0<yx.playerMgr.getItemUseCount(10155),this.qlMiFaBtn.node.on("click",this.qlMiFaBtnClick.bind(this),this),this.qlLiBaoBtn.node.on("click",this.qlLiBaoBtnClick.bind(this),this),cc.Canvas.instance._oneKeyQlQiangHuaSchedule=this.oneKeyQlQiangHuaSchedule.bind(this),this.qlStopQiangHuaBtn.node.active=!1,this.qlQiangHuaBtn.node.on("click",this.qlQiangHuaBtnClick.bind(this),this),this.qlQiangHuaOneKeyBtn.node.on("click",this.qlYiJingQiangHuaBtnClick.bind(this),this),this.qlStopQiangHuaBtn.node.on("click",this.qlStopQiangHuaBtnClick.bind(this),this),yx.eventDispatch.addListener(yx.EventType.QILING_GET_MESSAGE,this.onEventQiLingGetMessage,this),yx.eventDispatch.addListener(yx.EventType.QILING_UPGRATE,this.onEventQiLingUpdateMessage,this),this._qiLingBtns={};for(var e=yx.proto.QiLingType.KuangXiong;e<=yx.proto.QiLingType.SuanNi;e++)this._qiLingBtns[e]=this.qiLingUpNode.getChildByName("QiLingType{type}Btn".format({type:e})),this._qiLingBtns[e].on("click",this.qiLingBtnsClick.bind(this,e),this),this._qiLingBtns[e].checkMarkNode=this._qiLingBtns[e].getChildByName("checkMark");this.refreshQiLingInfo(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType),this.refreshQiLingProperty(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType)},initJingMai:function initJingMai(){cc.Canvas.instance._oneKeyYiJingSchedule=this.oneKeyYiJingSchedule.bind(this),this.jmStopYiJingBtn.node.active=!1,this.jmYiJingBtn.node.on("click",this.jmYiJingBtnClick.bind(this),this),this.jmYiJingOneKeyBtn.node.on("click",this.jmYiJingOneKeyBtnClick.bind(this),this),this.jmStopYiJingBtn.node.on("click",this.jmStopYiJingBtnClick.bind(this),this),yx.eventDispatch.addListener(yx.EventType.JINGMAI_GET_MESSAGE,this.onEventJingMaiGetMessage,this),yx.eventDispatch.addListener(yx.EventType.JINGMAI_UPGRATE,this.onEventJingMaiUpgrateMessage,this),yx.eventDispatch.addListener(yx.EventType.JINGMAI_ONEKEY_UPGRATE,this.onEventJingMaiGetMessage,this),this.initZhuZiNodes(),this.initLineNodes()},_onShow:function _onShow(){this._pageBtnClick(this.curPageType),this.onEventRefreshBadge()},_onHide:function _onHide(){this.jmStopYiJingBtnClick()},qiLingBtnsClick:function qiLingBtnsClick(e){for(var t=yx.proto.QiLingType.KuangXiong;t<=yx.proto.QiLingType.SuanNi;t++)this._qiLingBtns[t].checkMarkNode.active=!1;this._qiLingBtns[e].checkMarkNode.active=!0,this.selectType=e,this.refreshQiLingInfo(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType),this.refreshQiLingProperty(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType)},qlMiFaBtnClick:function qlMiFaBtnClick(){if(yx.playerMgr.getItemUseCount(10155)){var e=yx.bagMgr.getItemNumByItemType(yx.ItemType.CANGBAOTU);if(e<=0)yx.ToastUtil.showListToast("您没有藏宝图");else{var t={};t.content="您的包裹有藏宝图{n}张\n是否使用秘法宝藏快速挖取？".format({n:e});var n=new cc.Component.EventHandler;n.target=this.node,n.component="LingMaiWindow",n.handler="onMiFaConfirmBtnClick",t.confirmCallback=n,yx.windowMgr.showWindow("textConfirm",t)}}else yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_MIFA})},onMiFaConfirmBtnClick:function onMiFaConfirmBtnClick(){yx.lingMaiMgr.reqInfo(null,yx.proto.LingMaiCmdType.MiFaBaoZang_Cmd)},qlLiBaoBtnClick:function qlLiBaoBtnClick(){yx.windowMgr.showWindow("qiLingActivityPanel")},onEventQiLingGetMessage:function onEventQiLingGetMessage(){this.qlMiFaEffNode.active=0<yx.playerMgr.getItemUseCount(10155),this.refreshQiLingInfo(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType),this.refreshQiLingProperty(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType)},onEventQiLingUpdateMessage:function onEventQiLingUpdateMessage(){this.refreshQiLingInfo(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType,!0),this.refreshQiLingProperty(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType,!0)},refreshQiLingInfo:function refreshQiLingInfo(e,t){var n=yx.cfgMgr.getOneRecord("QiLinLevelConfig",{Level:e,Type:t});if(n){var i=n.Cost,o=yx.bagMgr.GetItemOwnCount(i[0].type,i[0].id),r=i[0].count;this.qlCostLabel.string=r<=o?s.format({ownNum:o,needNum:r}):a.format({ownNum:o,needNum:r}),this.qlLevelLabel.string=n.Name+"Lv."+n.Level,yx.cfgMgr.getOneRecord("QiLinLevelConfig",{Level:e+1,Type:t})?(this.qlCostNode.active=!0,this.qlBtnsNode.active=!0,this.qlFullNode.active=!1):(this.qlStopQiangHuaBtnClick(),this.qlCostNode.active=!1,this.qlBtnsNode.active=!1,this.qlFullNode.active=!0)}},refreshQiLingProperty:function refreshQiLingProperty(e,t,n){var i=yx.cfgMgr.getOneRecord("QiLinLevelConfig",{Level:e,Type:t}),o=yx.cfgMgr.getOneRecord("QiLinLevelConfig",{Level:e+1,Type:t}),r=yx.cfgMgr.getOneRecord("QiLinLevelConfig",{Level:e-1,Type:t});if(i){this.qlPropertyLayoutNode.removeAllChildren(!0);var a=null,s=null,c=null;i&&(a=i.Attr),o&&(c=o.Attr),r&&(s=r.Attr);var l={};if(a)for(var u in a){var d=a[u];l[d.type]={},l[d.type].curValue=d.value,l[d.type].nextValue=0,l[d.type].preValue=0}if(c)for(var h in c){var g=c[h];l[g.type]||(l[g.type]={}),l[g.type].curValue||(l[g.type].curValue=0),l[g.type].preValue||(l[g.type].preValue=0),l[g.type].nextValue=g.value}if(s)for(var p in s){var y=s[p];l[y.type]||(l[y.type]={}),l[y.type].curValue||(l[y.type].curValue=0),l[y.type].nextValue||(l[y.type].nextValue=0),l[y.type].preValue=y.value}for(var f in l){var m=l[f],v=yx.textDict.Attr[f],x=cc.instantiate(this.propertyRowPrefab);if(x.getChildByName("Title1Label").getComponent(cc.Label).string=v,x.getChildByName("Value1Label").getComponent(cc.Label).string=m.curValue,x.getChildByName("Title2Label").getComponent(cc.Label).string=v,x.getChildByName("Value2Label").getComponent(cc.Label).string=m.nextValue,this.qlPropertyLayoutNode.addChild(x),n){var w=m.curValue-m.preValue;if(0<w){var C=I.format({name:yx.textDict.SecAttrName[f],value:yx.playerMgr.attr2secAttr(f,w)});yx.ToastUtil.showListToast(C)}}}}else yx.ToastUtil.showListToast("已经达到最大值")},qlQiangHuaBtnClick:function qlQiangHuaBtnClick(){var e=yx.cfgMgr.getOneRecord("QiLinLevelConfig",{Level:yx.lingMaiMgr.getQiLingLevel(this.selectType),Type:this.selectType});if(e){var t=e.Cost;if(yx.bagMgr.GetItemOwnCount(t[0].type,t[0].id)<t[0].count)return yx.ToastUtil.showListToast("道具不足"),void this.qlStopQiangHuaBtnClick();yx.lingMaiMgr.reqInfo(yx.proto.LingMaiType.QiLing,yx.proto.LingMaiCmdType.UpgradeQiLing_Cmd,this.selectType)}else this.qlStopQiangHuaBtnClick()},qlYiJingQiangHuaBtnClick:function qlYiJingQiangHuaBtnClick(){this.qlStopQiangHuaBtn.node.active=!0,cc.Canvas.instance.unschedule(cc.Canvas.instance._oneKeyQlQiangHuaSchedule),cc.Canvas.instance.schedule(cc.Canvas.instance._oneKeyQlQiangHuaSchedule,.3,cc.macro.REPEAT_FOREVER,0)},qlStopQiangHuaBtnClick:function qlStopQiangHuaBtnClick(){this.qlStopQiangHuaBtn.node.active=!1,cc.Canvas.instance.unschedule(cc.Canvas.instance._oneKeyQlQiangHuaSchedule)},oneKeyQlQiangHuaSchedule:function oneKeyQlQiangHuaSchedule(){this.qlQiangHuaBtnClick()},initZhuZiNodes:function initZhuZiNodes(){for(var e=this.jingMaiPageNode.getChildByName("UpNode").getChildByName("longBg"),t=1;t<=8;t++)this._jmZhuziNodes[t]=e.getChildByName("zhu"+t),this._jmZhuziEffNodes[t]=e.getChildByName("zhuEff"+t),this._jmZhuziNodes[t].getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),this._jmZhuziEffNodes[t].active=!1},initLineNodes:function initLineNodes(){for(var e=this.jingMaiPageNode.getChildByName("UpNode").getChildByName("longBg"),t=2;t<=8;t++)this._jmLineNodes[t]=e.getChildByName("line"+t),this._jmLineNodes[t].getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY)},onEventJingMaiUpgrateMessage:function onEventJingMaiUpgrateMessage(e){this.refreshZhuLine(e.level,!0),this.refreshJingMaiInfo(e.level,!0),this.refreshJingMaiProperty(e.level,!0)},onEventJingMaiGetMessage:function onEventJingMaiGetMessage(e){this.refreshZhuLine(e.level),this.refreshJingMaiInfo(e.level),this.refreshJingMaiProperty(e.level)},jmYiJingBtnClick:function jmYiJingBtnClick(){var e=yx.cfgMgr.getOneRecord("JingMaiConfig",{level:yx.lingMaiMgr.getJingMaiLevel()});if(e){var t=e.Cost;if(yx.bagMgr.GetItemOwnCount(t[0].type,t[0].id)<t[0].count)return yx.ToastUtil.showListToast("经脉丹不足"),void this.jmStopYiJingBtnClick();yx.lingMaiMgr.reqInfo(yx.proto.LingMaiType.JingMai,yx.proto.LingMaiCmdType.Upgrade_Cmd)}else this.jmStopYiJingBtnClick()},jmYiJingOneKeyBtnClick:function jmYiJingOneKeyBtnClick(){this.jmStopYiJingBtn.node.active=!0,cc.Canvas.instance.unschedule(cc.Canvas.instance._oneKeyYiJingSchedule),cc.Canvas.instance.schedule(cc.Canvas.instance._oneKeyYiJingSchedule,.3,cc.macro.REPEAT_FOREVER,0)},jmStopYiJingBtnClick:function jmStopYiJingBtnClick(){this.jmStopYiJingBtn.node.active=!1,cc.Canvas.instance.unschedule(cc.Canvas.instance._oneKeyYiJingSchedule)},oneKeyYiJingSchedule:function oneKeyYiJingSchedule(){this.jmYiJingBtnClick()},refreshJingMaiInfo:function refreshJingMaiInfo(e){var t=yx.cfgMgr.getOneRecord("JingMaiConfig",{level:e});if(t){var n=t.Cost,i=yx.bagMgr.GetItemOwnCount(n[0].type,n[0].id),o=n[0].count;this.jmCostLabel.string=o<=i?s.format({ownNum:i,needNum:o}):a.format({ownNum:i,needNum:o}),this.jmLevelLabel.string=t.name,yx.cfgMgr.getOneRecord("JingMaiConfig",{level:e+1})?(this.jmCostNode.active=!0,this.jmBtnsNode.active=!0,this.jmFullNode.active=!1):(this.jmStopYiJingBtnClick(),this.jmCostNode.active=!1,this.jmBtnsNode.active=!1,this.jmFullNode.active=!0)}},refreshZhuLine:function refreshZhuLine(e,t){var n=yx.cfgMgr.getOneRecord("JingMaiConfig",{level:e});if(n){var i=n.level,o=i%8;0<i&&0==o&&(o=8);for(var r=0;r<=8;r++){var a=this._jmZhuziNodes[r],s=this._jmZhuziEffNodes[r],c=this._jmLineNodes[r];r<=o?(a&&a.getComponent(cc.Sprite).setState(cc.Sprite.State.NORMAL),c&&c.getComponent(cc.Sprite).setState(cc.Sprite.State.NORMAL)):(a&&a.getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),c&&c.getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY)),t&&r==o&&s&&(s.active=!0,s.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation",1))}}else yx.ToastUtil.showListToast("已经达到最大值")},refreshJingMaiProperty:function refreshJingMaiProperty(e,t){var n=yx.cfgMgr.getOneRecord("JingMaiConfig",{level:e}),i=yx.cfgMgr.getOneRecord("JingMaiConfig",{level:e+1}),o=yx.cfgMgr.getOneRecord("JingMaiConfig",{level:e-1});if(n){this.jmPropertyLayoutNode.removeAllChildren(!0);var r=null,a=null,s=null;n&&(r=n.Attr),i&&(s=i.Attr),o&&(a=o.Attr);var c={};if(r)for(var l in r){var u=r[l];c[u.type]={},c[u.type].curValue=u.value,c[u.type].nextValue=0,c[u.type].preValue=0}if(s)for(var d in s){var h=s[d];c[h.type]||(c[h.type]={}),c[h.type].curValue||(c[h.type].curValue=0),c[h.type].preValue||(c[h.type].preValue=0),c[h.type].nextValue=h.value}if(a)for(var g in a){var p=a[g];c[p.type]||(c[p.type]={}),c[p.type].curValue||(c[p.type].curValue=0),c[p.type].nextValue||(c[p.type].nextValue=0),c[p.type].preValue=p.value}for(var y in c){var f=c[y],m=yx.textDict.Attr[y],v=cc.instantiate(this.propertyRowPrefab);if(v.getChildByName("Title1Label").getComponent(cc.Label).string=m,v.getChildByName("Value1Label").getComponent(cc.Label).string=f.curValue,v.getChildByName("Title2Label").getComponent(cc.Label).string=m,v.getChildByName("Value2Label").getComponent(cc.Label).string=f.nextValue,this.jmPropertyLayoutNode.addChild(v),t){var x=f.curValue-f.preValue;if(0<x){var w=I.format({name:yx.textDict.SecAttrName[y],value:yx.playerMgr.attr2secAttr(y,x)});yx.ToastUtil.showListToast(w)}}}}else yx.ToastUtil.showListToast("已经达到最大值")},_pageBtnClick:function _pageBtnClick(e){switch(e){case 1:if(!yx.CodeHelper.checkFuncOpen(77))return;yx.lingMaiMgr.reqInfo(yx.proto.LingMaiType.QiLing,yx.proto.LingMaiCmdType.GetQiLing_Cmd),this._resetPageBtnCheck(),this.curPageType=e,this.qiLingBtn.node.getChildByName("checkMark").active=!0,this.qiLingPageNode.active=!0,this.jingMaiPageNode.active=!1;break;case 2:if(!yx.CodeHelper.checkFuncOpen(78))return;yx.lingMaiMgr.reqInfo(yx.proto.LingMaiType.JingMai,yx.proto.LingMaiCmdType.GetLingMai_Cmd),this._resetPageBtnCheck(),this.curPageType=e,this.jingMaiBtn.node.getChildByName("checkMark").active=!0,this.qiLingPageNode.active=!1,this.jingMaiPageNode.active=!0}},_resetPageBtnCheck:function _resetPageBtnCheck(){this.qiLingBtn.node.getChildByName("checkMark").active=!1,this.jingMaiBtn.node.getChildByName("checkMark").active=!1},onEventItemUseNumInfo:function onEventItemUseNumInfo(){this.qlMiFaEffNode.active=0<yx.playerMgr.getItemUseCount(10155)},onEventItemChange:function onEventItemChange(e){if(this.isShown()){var t=e.add.concat(e.sub);if(0<t.length)for(var n in t){var i=t[n];10293===i.itemId?this.refreshQiLingInfo(yx.lingMaiMgr.getQiLingLevel(this.selectType),this.selectType):99990135===i.itemId&&this.refreshJingMaiInfo(yx.lingMaiMgr.getJingMaiLevel())}}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ListToastWidget:[function(e,t,n){cc._RF.push(t,"683ddDrh8hH/LIq5DQNwKP0","ListToastWidget"),cc.Class({extends:cc.Component,properties:{initX:{default:0,type:cc.Float},initY:{default:0,type:cc.Float},moveSpeedY:{default:80,type:cc.Float},perY:{default:40,type:cc.Float},hideSpeed:{default:1e3,type:cc.Float},maxStopTime:{default:1.5,type:cc.Float},maxLine:{default:4,type:cc.Float}},onLoad:function onLoad(){},init:function init(){this.node.x=this.initX,this.node.y=this.initY,this.node.opacity=255,this.isDoMoveUp=!0,this.isDoHide=!1,this.needToMoveY=this.initY,this.curStopTime=0,this.maxY=this.initY+(this.maxLine+1)*this.perY},start:function start(){},update:function update(e){this.isDoMoveUp||(this.curStopTime+=e),this.curStopTime>=this.maxStopTime&&yx.ToastUtil.isCurActionListFirst(this.node)&&(this.isDoHide=!0),this.isDoMoveUp&&(this.curStopTime=0,this.node.y+=this.moveSpeedY*e),this.isDoMoveUp&&this.node.y>=this.needToMoveY&&(this.curStopTime=0,this.node.y=this.needToMoveY,this.isDoMoveUp=!1),this.node.y>this.maxY-this.perY&&(this.isDoHide=!0),this.isDoHide&&(this.node.opacity-=this.hideSpeed*e,this.node.opacity<=0&&(this.node.opacity=0,yx.ToastUtil.removeCurActionNode(this.node)))},setIsDoMoveUp:function setIsDoMoveUp(e){this.isDoMoveUp=e},setIsDoHide:function setIsDoHide(e){this.isDoHide=e},continueMoveUp:function continueMoveUp(){this.needToMoveY+=this.perY,this.setIsDoMoveUp(!0),this.needToMoveY>this.maxY&&(this.needToMoveY=this.maxY+this.perY,this.setIsDoMoveUp(!1))},setContent:function setContent(e){e&&(this.contentRichText||(this.contentRichText=this.node.getChildByName("content").getComponent(cc.RichText)),this.contentRichText.string=e)},setBgSpriteFrame:function setBgSpriteFrame(e){e&&(this.bgSprite||(this.bgSprite=this.node.getComponent(cc.Sprite)),this.bgSprite.spriteFrame=e)}}),cc._RF.pop()},{}],LoadingWindow:[function(e,t,n){cc._RF.push(t,"15d55NgUfZOHagDxtwxLKm1","LoadingWindow");var i=e("BaseWindow"),o=cc.Class({extends:i,properties:{progressGroup:cc.Node,textLabel:cc.Label,loadingLabel:cc.Label,loadPBar:cc.ProgressBar,loadingRefreshRiText:cc.RichText},statics:{ShowPanel:function ShowPanel(e){var t={};t.beforeCb=e,yx.windowMgr.showWindow("loading",t)}},_onInit:function _onInit(e){e&&e.beforeCb&&(this._beforeCb=e.beforeCb),this._initLoadingText(),this._initLoadingRefreshTip()},_initLoadingRefreshTip:function _initLoadingRefreshTip(){this.loadingRefreshRiText.cacheEnable=!1,this.loadingRefreshRiText._loadingRefresh=this._loadingRefresh.bind(this),this.loadingRefreshRiText.string=""},_loadingRefresh:function _loadingRefresh(){yx.log("_loadingRefresh"),this._retryCb&&this._retryCb(this),this.hideRetryText()},_initLoadingText:function _initLoadingText(){var e=0,t="";this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t="···".slice(0,e),e=3<++e?0:e,this.loadingLabel.string="加载中"+t}.bind(this)),cc.delayTime(1))))},_onShow:function _onShow(e){e&&e.beforeCb&&(this._beforeCb=e.beforeCb),this._beforeCb&&this._beforeCb(this)},_onHide:function _onHide(){},setProgressValue:function setProgressValue(e){(e>this.loadPBar.progress||0==e)&&(this.loadPBar.progress=e),this.textLabel.string=(100*this.loadPBar.progress).toFixed(2)+"%"},getProgressValue:function getProgressValue(){return this.loadPBar.progress},showRetryText:function showRetryText(e){yx.log("[LoadingWindow showRetryText]"),e&&(this.loadingRefreshRiText.string="<outline color=#345a5d><u>< color=#00C800 click='_loadingRefresh'>若长时间加载不成功，请点击刷新界面</outline></u></outline>",this._retryCb=e)},hideRetryText:function hideRetryText(){this.loadingRefreshRiText.string="",this._retryCb=null}});t.exports=yx.LoadingWindow=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],LocalStorage:[function(e,t,n){cc._RF.push(t,"7ac12PHtG5MR4EO63F0iWps","LocalStorage"),yx.LocalStorage=function(){},yx.LocalStorage.prototype={constructor:yx.LocalStorage,Load:function Load(e){var t=cc.sys.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return null}},Save:function Save(e,t){var n=JSON.stringify(t);cc.sys.localStorage.setItem(e,n)}},yx.localStorage=new yx.LocalStorage,t.exports=yx.localStorage,cc._RF.pop()},{}],LogUtil:[function(e,t,n){cc._RF.push(t,"44d73dRn/ZIAZZe3D/VdZHw","LogUtil");var i="console",o={logType:i,setLogType:function setLogType(e){this.logType=e},setConsole:function setConsole(){this.logType=i},setCClog:function setCClog(){this.logType="cc"},print:function print(){var e=null;switch(Array.prototype.splice.call(arguments,0,1)[0]){case"debug":e="cc"===this.logType&&cc.log||this.logType===i&&console.debug;break;case"log":e="cc"===this.logType&&cc.log||this.logType===i&&console.log;break;case"warn":e="cc"===this.logType&&cc.warn||this.logType===i&&console.warn;break;case"error":e="cc"===this.logType&&cc.error||this.logType===i&&console.error}e&&e.apply(e,arguments)},debug:function debug(){},log:function log(){Array.prototype.splice.call(arguments,0,0,"log"),this.print.apply(this,arguments)},warn:function warn(){Array.prototype.splice.call(arguments,0,0,"warn"),this.print.apply(this,arguments)},error:function error(){Array.prototype.splice.call(arguments,0,0,"error"),this.print.apply(this,arguments)},report:function report(e,t){wx&&wx.aldSendEvent&&wx.aldSendEvent(e+"_"+t)}};yx.debug=o.debug.bind(o),yx.log=o.log.bind(o),yx.warn=o.warn.bind(o),yx.error=o.error.bind(o),yx.report=o.report.bind(o),t.exports=yx.logUtil=o,cc._RF.pop()},{}],LoginWindow:[function(e,t,n){cc._RF.push(t,"7a20fCKVPZPcai2orBybL+0","LoginWindow");var o="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)},i=e("SdkConfig"),r=e("BaseWindow"),a=e("ServerInfoWidget"),s=0;cc.Class({extends:r,properties:{gongGaoBtn:cc.Button,usernameGroup:cc.Node,loginStatusGroup:cc.Node,curServerWidget:a,usernameEditBox:cc.EditBox,loginStatusLabel:cc.Label,versionLabel:cc.Label,channelLabel:cc.Label,logoSp:cc.Sprite,newestServerNode:cc.Node,newestServerNameLable:cc.Label,clearCachesBtn:cc.Button},_onInit:function _onInit(){if(this.logoSp.spriteFrame=null,this.versionLabel.string=yx.GameVersion,this.channelLabel.string=yx.sdkLayer.getChannelName(),this._preloading=!1,this._logining=!1,yx.log("LoginWindow _onInit"),this.gongGaoBtn.node.on("click",this.gongGaoBtnClick,this),this.clearCachesBtn.node.on("click",this.clearCachesBtnClick,this),this.usernameEditBox.node.on("editing-did-ended",this.onLoginBtnClick,this),this.clearCachesBtn.node.active=null!=wxDownloader,yx.eventDispatch.addListener(yx.EventType.GET_PLAYER_INFO,this.onEventGetPlayerInfo,this),yx.eventDispatch.addListener(yx.EventType.LOAD_CONFIG,this.onEventLoadConfig,this),yx.eventDispatch.addListener(yx.EventType.LOGIN_GET_SERVER_LIST,this.onEventServerListChg,this),yx.eventDispatch.addListener(yx.EventType.LOGIN_EVENT,this.onEventLoginEvent,this),yx.eventDispatch.addListener(yx.EventType.SWITCH_UPDATE,this.onEventReqDataComplete,this),this.curServerWidget.init(null),this.curServerWidget.node.on("click",this.onServerBtnClick,this),this.curServerWidget.node.active=!1,!yx.sdkLayer.isNoSdk())return this.loginStatusGroup.active=!1,void(this.usernameGroup.active=!1);this.loginStatusGroup.active=!1,this.usernameGroup.active=!0;var e=yx.localStorage.Load(yx.LSKey.USERNAME);e&&(this.usernameEditBox.string=e,yx.serverMgr.setUserName(this.usernameEditBox.string)),this.newestServerNode.active=!1,this.newestServerNameLable.string=""},_onShow:function _onShow(){yx.resUtil.LoadSpriteByType(yx.sdkLayer.getLogo(),yx.ResType.LOGO,this.logoSp),yx.SoundMgr.PlayBgMusic("idle"),yx.sdkLayer.getAutoLogin()&&yx.sdkLayer.login(),yx.sdkLayer.isNoSdk()&&(this.loginStatusLabel.string="未登录，请点击登录",""!=this.usernameEditBox.string&&this.onLoginBtnClick())},_onHide:function _onHide(){},onEnterGameClick:function onEnterGameClick(){if(1!=this._logining)if(yx.sdkLayer.isNoSdk()&&0==this.usernameEditBox.string.length)yx.ToastUtil.showListToast("请输入用户名",this.node);else{var e=yx.serverMgr.getCurServerInfo();e&&e.status==yx.ServerType.MAINTAIN?yx.ToastUtil.showListToast("服务器维护中",this.node):null!=e&&0<e.host.length?(this._logining=!0,yx.network.connectServer(e.host,e.port),yx.network.setCanShowReconnect(!0),yx.eventDispatch.dispatchMsg(yx.EventType.RECONNECT_CHECK),yx.report("Login-Window","Enter-Game-connect")):yx.sdkLayer.login()}},onLoginBtnClick:function onLoginBtnClick(){if(yx.log("onLoginBtnClick"),yx.sdkLayer.isNoSdk()){if(yx.sdkLayer.isLogin()&&yx.sdkLayer.onLogout(),!(0<this.usernameEditBox.string.length))return void yx.ToastUtil.showListToast("请输入用户名",this.node);yx.serverMgr.setUserName(this.usernameEditBox.string),yx.localStorage.Save(yx.LSKey.USERNAME,this.usernameEditBox.string)}yx.sdkLayer.isLogin()?yx.warn("[LoginWindow onLoginBtnClick] islogin"):yx.sdkLayer.login()},onServerBtnClick:function onServerBtnClick(){yx.log("onServerBtnClick");var e=i.config[i.currSdkName],t=i.serverListUrl[e.env],n={};n.version=yx.GameVersion,n.channel=yx.sdkLayer.getChannelName(),n.openId=yx.serverMgr.getOpenId(),n.subChannel=yx.sdkLayer.getSubChannel(),yx.http.httpPost(t,JSON.stringify(n),this.respServerList.bind(this))},respServerList:function respServerList(e,t){if(e){yx.log("[LoginWindow respServerList] len:"+t.length+" result:"+t);var n=void 0;try{n=JSON.parse(t),yx.serverMgr.setServerList(n),yx.windowMgr.showWindow("serverlist")}catch(e){yx.error("[LoginWindow respServerList] error:",e)}}else yx.warn("GetServerList http err:",t)},onGaoShiBtnClick:function onGaoShiBtnClick(){yx.log("onGaoShiBtnClick")},_setLastProgress:function _setLastProgress(e){s<e&&(s=e)},_thirdPreload:function _thirdPreload(){yx.log("wxdownloader LoginWindow _thirdPreload");var u=new Array;0<yx.playerMgr.getAvatarId()&&u.push({path:yx.resUtil.GetAvatarResPath(yx.playerMgr.getAvatarId()),type:"dir"});var d=yx.cfgMgr.getAllConfig("FuncOpenConfig");if(d){var e=function(){var n=["lixian","bag"];for(var e in yx.sdkLayer.isOwnShowShare()&&n.push("fenXiang"),yx.sdkLayer.isOwnShouCang()&&n.push("wxShouCang"),d){var t=d[e];t&&1===t.conditionkind&&t.conditionnum<=yx.playerMgr.getDuJieLevel()+1&&t.WindowName&&t.WindowName.forEach(function(e){n.push(e)})}if(n.length<=0)return{v:void 0};n=n.filter(function(e,t){return n.indexOf(e)===t}),yx.log("开始预加载preload:"+n);var i=yx.windowMgr.getPreloadPrefab(n);if(yx.log("预加载个数:"+i.length),i&&0<i.length){var o=!0,r=!1,a=void 0;try{for(var s,c=i[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l={path:s.value,type:"file"};u.push(l)}}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}}}();if("object"===(void 0===e?"undefined":o(e)))return e.v}var t=yx.playerMgr.getSceneId(),n=yx.cfgMgr.getOneRecord("BackDropConfig",{ID:t});n&&u.push({path:yx.resUtil.GetResPath(yx.ResType.SCENE_BG,n.BG),type:"file"});var i=this;i._timeS=Date.now(),yx.resUtil.PreLoadResArray(u,function(e,t){i._setLastProgress(.2+e/t*.7),i._loadingWindow.setProgressValue(s)},function(e,t){var n=(Date.now()-i._timeS)/1e3;yx.log("[LoginWindow _thirdPreload] loadres complete duration:"+n+"s"),yx.log("[LoginWindow _thirdPreload] loadres succ:"+t+" error:"+e),0<e?i._loadingWindow.showRetryText(i._thirdPreload.bind(i)):(i._setLastProgress(.2+.7+.08*Math.random()),i._loadingWindow.setProgressValue(s),i._reqDataBeforeLoadScene())})},_secondPreload:function _secondPreload(){yx.log("wxdownloader LoginWindow _secondPreload"),yx.playerMgr.reqPlayerMsg()},_preloadBeforeMainScene:function _preloadBeforeMainScene(e){yx.log("wxdownloader LoginWindow _preloadBeforeMainScene"),this._loadingWindow=e;var t=new Array;t.push({path:"config",type:"dir"});var i=this;i._timeS=Date.now(),i._loadingWindow.setProgressValue(0),yx.resUtil.PreLoadResArray(t,function(e,t){i._setLastProgress(e/t*.2),i._loadingWindow.setProgressValue(s)},function(e,t){var n=(Date.now()-i._timeS)/1e3;yx.log("[LoginWindow _preloadBeforeMainScene] loadres complete duration:"+n+"s"),yx.log("[LoginWindow _preloadBeforeMainScene] loadres succ:"+t+" error:"+e),0<e?(yx.log("[LoginWindow _preloadBeforeMainScene] 有错误，重新来"),i._loadingWindow.showRetryText(i._preloadBeforeMainScene.bind(i))):(i._setLastProgress(.2),i._loadingWindow.setProgressValue(s),yx.cfgMgr.init(function(e){1==e?i._secondPreload():(yx.error("[LoginWindow _preloadBeforeMainScene] init config error"),i._loadingWindow.showRetryText(i._preloadBeforeMainScene.bind(i)))}))})},_reqDataBeforeLoadScene:function _reqDataBeforeLoadScene(){yx.warn("[LoginWindow _reqDataBeforeLoadScene] time:"+yx.timeUtil.getNowTimeString()),this._preloading=!0,yx.playerMgr.dataInit()},onEventReqDataComplete:function onEventReqDataComplete(){0!=this._preloading&&(yx.log("[LoginWindow onEventReqDataComplete]"),null!=this._loadingWindow&&this._loadingWindow.setProgressValue(1),this._loadScene(),this._preloading=!1)},_loadScene:function _loadScene(){this._loadingWindow=null,yx.sceneMgr.loadScene("main",function(e){yx.log("onEnterGameClick load scene succ:"+e),e&&yx.SoundMgr.PlayBgMusic("idle")})},onEventGetPlayerInfo:function onEventGetPlayerInfo(e){1==e?this._thirdPreload():this._loadingWindow.showRetryText(this._secondPreload.bind(self)),this._logining=!1},onEventServerListChg:function onEventServerListChg(){this.curServerWidget.init(yx.serverMgr.getCurServerInfo());var e=yx.serverMgr.getLastLogin(),t=yx.serverMgr.getCurServerInfo();if(e&&0<e.length||t&&t.status==yx.ServerType.MAINTAIN||"default0"==yx.sdkLayer.getChannelName()){this.curServerWidget.node.active=!0;var n=yx.serverMgr.getRecommondServerInfo();n&&(this.newestServerNode.active=!0,this.newestServerNameLable.string=n.name)}},onEventLoginEvent:function onEventLoginEvent(e){if(1==this.loginStatusGroup.active&&(this.loginStatusLabel.string=e?"已登录":"未登录，请点击登录"),"default0"!=yx.sdkLayer.getChannelName()&&e){var t=yx.serverMgr.getLastLogin();if(!t||0==t.length){var n=yx.serverMgr.getCurServerInfo();if(n&&n.status!=yx.ServerType.MAINTAIN)return yx.report("Login-Window","Enter-Game-try-auto"),void this.onEnterGameClick()}}yx.log("------显示公告-----"),""!=yx.serverMgr.getBulletin()&&yx.windowMgr.showWindowAuto("gongGao")},gongGaoBtnClick:function gongGaoBtnClick(){yx.windowMgr.showWindow("gongGao")},clearCachesBtnClick:function clearCachesBtnClick(){yx.TextConfirm.ShowConfirm("你确定要清理缓存吗？",this.clearCachesBtnConfirm.bind(this))},clearCachesBtnConfirm:function clearCachesBtnConfirm(){cc.log("clearCachesBtnConfirm"),null!=wxDownloader&&wxDownloader.cleanAllAssets()},onEventLoadConfig:function onEventLoadConfig(){yx.LoadingWindow.ShowPanel(this._preloadBeforeMainScene.bind(this))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",SdkConfig:"SdkConfig",ServerInfoWidget:"ServerInfoWidget"}],LongPressWidget:[function(e,t,n){cc._RF.push(t,"697f0CWw3JGqZ5Qu7TczfWx","LongPressWidget"),cc.Class({extends:cc.Component,properties:{},onLoad:function onLoad(){this.isPress=!1,this.time=0,this.delayPressTime=1,this.isScheduling=!1,this.node.on("touchstart",this.onTouchstart,this),this.node.on("touchcancel",this.onTouchcancel,this),this.node.on("touchend",this.onTouchend,this)},_reset:function _reset(){this.isPress=!1,this.time=0,this.callBack&&(this.unschedule(this.callBack),this.isScheduling=!1)},onTouchstart:function onTouchstart(){this.isPress=!0},onTouchcancel:function onTouchcancel(){this.isScheduling||this.callBack&&this.callBack(),this._reset()},onTouchend:function onTouchend(){this.isScheduling||this.callBack&&this.callBack(),this._reset()},setCallBack:function setCallBack(e){this.callBack=e},update:function update(e){this.isPress&&(this.time+=e,this.time>=this.delayPressTime&&this.callBack&&!this.isScheduling&&(this.isScheduling=!0,this.schedule(this.callBack,.05,cc.macro.REPEAT_FOREVER,.1)))}}),cc._RF.pop()},{}],LongWangWindow:[function(e,t,n){cc._RF.push(t,"12cb5yvy9dK/blSvUwNJ1YU","LongWangWindow");var i=e("BaseWindow"),o=[1,2];cc.Class({extends:i,properties:{switchTc:cc.ToggleContainer,baoWuItemLayout:cc.Layout,longZhuItemLayout:cc.Layout,baoWuPageNode:cc.Node,longZhuPageNode:cc.Node},_onInit:function _onInit(){this.curPageType=1,this.baoWuPageNode.active=!1,this.longZhuPageNode.active=!1,yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE,this.onEventItemExChange,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.UPDATE_EXCHANGE,this.onEventUpdateChange,this),this._initSwitchTC()},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},onEventItemChange:function onEventItemChange(){this.isShown()&&this._refresh()},onEventItemExChange:function onEventItemExChange(e){if(this.isShown()){var t=e.id,n=yx.cfgMgr.getOneRecord("ExchangeConfig",{ID:t});if(n){var i=n.GetReward[0].id,o=yx.cfgMgr.getOneRecord("ItemConfig",{ID:i});o&&yx.ToastUtil.showListToast("获取"+o.Name+"x"+n.GetReward[0].count)}this._refresh()}},onEventUpdateChange:function onEventUpdateChange(){this.isShown()&&this._refresh()},_initSwitchTC:function _initSwitchTC(){this.switchTc.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="LongWangWindow",e.handler="onSwitchTCClick",this.switchTc.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){var t=this.switchTc.toggleItems.indexOf(e);this.curPageType=o[t],this._refresh()},_refresh:function _refresh(){1===this.curPageType?(this.baoWuPageNode.active=!0,this.longZhuPageNode.active=!1,this._refreshBaoWu()):(this.baoWuPageNode.active=!1,this.longZhuPageNode.active=!0,this._refreshLongZhu())},_refreshBaoWu:function _refreshBaoWu(){var e=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:2,Page:1});e&&(e.sort(this._sortTop),this._refreshLayout(e,this.baoWuItemLayout.node))},_refreshLongZhu:function _refreshLongZhu(){var e=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:2,Page:2});e&&(e.sort(this._sortTop),this._refreshLayout(e,this.longZhuItemLayout.node))},_refreshLayout:function _refreshLayout(e,t){for(var n=0;n<e.length;n++){var i=e[n],o="LongZhuDuiHuanWidget_"+n,r=t.getChildByName(o);if(r){var a=r.getComponentInChildren(yx.DuiHuanWidget);if(a){a.refresh(i);continue}}yx.DuiHuanWidget.CreateItemSlot(i,t,o,720,135,!0)}},_sortTop:function _sortTop(e,t){return e.Top<t.Top?-1:e.Top==t.Top?0:1}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],MailInfoPanel:[function(e,t,n){cc._RF.push(t,"c1b2cNGD29Oy51H1YvP3fl/","MailInfoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,lingquBtn:cc.Button,deleteBtn:cc.Button,content:cc.RichText,rewardGroup:cc.Node,scrollContent:cc.Node,yilingquSp:cc.Node},_onInit:function _onInit(e){this._data=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.lingquBtn.node.on("click",this.onLingQuClick,this),this.deleteBtn.node.on("click",this.onDeleteBtnClick,this),this.yilingquSp.active=!1},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){if(this.content.string="<color=#345A5C>"+this._data.content+"</color>",this.scrollContent.removeAllChildren(!0),this._data.reward&&0<this._data.reward.length){this.rewardGroup.active=!0;for(var e=0;e<this._data.reward.length;e++){var t=this._data.reward[e],n={};n.amount=t.count,n.itemId=t.id,n.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(n,this.scrollContent,"reward")}this._data.received?(this.deleteBtn.node.active=!0,this.lingquBtn.node.active=!1,this.yilingquSp.active=!0):(this.deleteBtn.node.active=!1,this.lingquBtn.node.active=!0)}else this.rewardGroup.active=!1,this.deleteBtn.node.active=!0,this.lingquBtn.node.active=!1},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onLingQuClick:function onLingQuClick(){yx.windowMgr.goBack(),yx.mailMgr.doAction(yx.proto.MailOptType.RECEIVE,this._data.id)},onDeleteBtnClick:function onDeleteBtnClick(){yx.windowMgr.goBack(),yx.mailMgr.doAction(yx.proto.MailOptType.DELETE,this._data.id)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],MailItem:[function(e,t,n){cc._RF.push(t,"05bd0vMFyNAoZ4pBEYuje3m","MailItem"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,readSp:cc.Sprite,readSp2:cc.Sprite,noreadSp:cc.Sprite,noreadSp2:cc.Sprite,rewardSp:cc.Sprite,title:cc.Label,desc:cc.Label},init:function init(e){if(this._data=e,this.itemNode.getComponent(cc.Button).node.on("click",this.onOepnInfoClick,this),e.read){this.readSp.node.active=!0,this.readSp2.node.active=!0,this.noreadSp.node.active=!1,this.noreadSp2.node.active=!1;for(var t=this.itemNode.getComponentsInChildren(cc.Sprite),n=0;n<t.length;n++)t[n].setState(cc.Sprite.State.GRAY);this.title.string=e.title,this.desc.string=e.content,this.title.node.color=new cc.Color(128,128,128),this.desc.node.color=new cc.Color(128,128,128)}else{this.readSp.node.active=!1,this.readSp2.node.active=!1,this.noreadSp.node.active=!0,this.noreadSp2.node.active=!0;for(var i=this.itemNode.getComponentsInChildren(cc.Sprite),o=0;o<i.length;o++)i[o].setState(cc.Sprite.State.NORMAL);this.title.string=e.title,this.desc.string=e.content,this.title.node.color=new cc.Color(177,102,71),this.desc.node.color=new cc.Color(52,90,92)}e.reward&&0<e.reward.length?this.rewardSp.node.active=!0:this.rewardSp.node.active=!1},onOepnInfoClick:function onOepnInfoClick(){yx.windowMgr.showWindow("mailInfo",this._data),yx.mailMgr.doAction(yx.proto.MailOptType.READ,this._data.id)}}),cc._RF.pop()},{}],MailMgr:[function(e,t,n){cc._RF.push(t,"44f56n5xpRAwayl6dpkxuAb","MailMgr"),yx.MailManager=function(){this._mailList=[],this._chatList=[],this._lastSendTime=0,this._fankuiTime=0},yx.MailManager.prototype={constructor:yx.MailManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.MAIL_LIST,this.onMessageMailList),yx.network.addHandler(yx.proto.CmdId.MAIL_OPT,this.onMessageAction),yx.network.addHandler(yx.proto.CmdId.MAIL_PUSH,this.onMessagePush),yx.network.addHandler(yx.proto.CmdId.FeedBack,this.onMessageFeedBack),yx.network.addHandler(yx.proto.CmdId.MSG_PUSH,this.onMessageChatPush),yx.network.addHandler(yx.proto.CmdId.SEND_MSG,this.onMessageSendChat)},reqMailList:function reqMailList(){var e=new yx.proto.C2S_MailList;yx.network.sendMessage(yx.proto.CmdId.MAIL_LIST,e)},doAction:function doAction(e,t){var n=new yx.proto.C2S_MailOperate;n.type=e,n.id=t,yx.network.sendMessage(yx.proto.CmdId.MAIL_OPT,n)},submitFeedBack:function submitFeedBack(e){var t=new yx.proto.C2S_FeedBack;t.content=e,yx.network.sendMessage(yx.proto.CmdId.FeedBack,t)},sendChatMsg:function sendChatMsg(e,t){var n=new yx.proto.C2S_SendMsg;n.type=e,n.msg=t,yx.network.sendMessage(yx.proto.CmdId.SEND_MSG,n)},onMessageMailList:function onMessageMailList(e,t){if(yx.log("onMessageMailList-----"),null!=e&&0<e.length)yx.log("[MailManager onMessageMailList] error:"+e);else{var n=yx.proto.S2C_MailList.decode(t);yx.mailMgr.updateMailList(n.mails),yx.eventDispatch.dispatchMsg(yx.EventType.MAIL_REFRESH)}},onMessageAction:function onMessageAction(e,t){if(yx.log("onMessageAction-----"),null!=e&&0<e.length)yx.log("[MailManager onMessageAction] error:"+e);else{var n=yx.proto.S2C_MailOperate.decode(t);yx.mailMgr.updateMailList(n.mails),n.type==yx.proto.MailOptType.RECEIVE?yx.ToastUtil.showListToast("领取成功"):n.type==yx.proto.MailOptType.DELETE&&yx.ToastUtil.showListToast("删除成功"),yx.eventDispatch.dispatchMsg(yx.EventType.MAIL_REFRESH)}},onMessagePush:function onMessagePush(e,t){yx.log("onMessagePush-----"),null!=e&&0<e.length?yx.log("[MailManager onMessagePush] error:"+e):yx.proto.S2C_NewMail.decode(t).nCount},onMessageFeedBack:function onMessageFeedBack(e,t){yx.log("MailManager onMessageFeedBack-----"),null!=e&&0<e.length?yx.log("[MailManager onMessageFeedBack] error:"+e):yx.proto.S2C_FeedBack.decode(t)&&yx.ToastUtil.showListToast("感谢您的反馈")},onMessageChatPush:function onMessageChatPush(e,t){if(yx.log("MailManager onMessageChatPush-----"),null!=e&&0<e.length)yx.log("[MailManager onMessageChatPush] error:"+e);else{var n=yx.proto.S2C_MsgPush.decode(t);yx.mailMgr.updateChatList(n)}},onMessageSendChat:function onMessageSendChat(e,t){yx.log("MailManager onMessageSendChat-----"),null!=e&&0<e.length?yx.log("[MailManager onMessageSendChat] error:"+e):(yx.proto.S2C_SendMsg.decode(t),yx.log("[MailManager onMessageSendChat] succ"))},updateMailList:function updateMailList(e){this._mailList=[];var t=e;if(t&&0<t.length)for(var n=0;n<t.length;n++){var i=t[n],o={};o.id=i.id,o.title=i.title,o.content=i.content,o.reward=JSON.parse(i.reward),o.received=i.received,o.read=i.read,this._mailList[n]=o,yx.log("received== "+o.received)}this._mailList.sort(function(e,t){var n=e.read;return n==t.read?t.id-e.id:n?1:-1})},getMailList:function getMailList(){return this._mailList},updateChatList:function updateChatList(e){if(e.talkMsg&&0<e.talkMsg.length){for(var t=0;t<e.talkMsg.length;t++){var n=e.talkMsg[t];this._chatList.splice(0,0,n)}if(100<this._chatList.length){var i=this._chatList.length-100;this._chatList.splice(0,i)}yx.eventDispatch.dispatchMsg(yx.EventType.Chat_Refresh)}},getChatList:function getChatList(){return this._chatList},setLastSendTime:function setLastSendTime(){this._lastSendTime=yx.timeUtil.getServerTime()},getLastSendTime:function getLastSendTime(){return this._lastSendTime},setLastFankuiTime:function setLastFankuiTime(){this._fankuiTime=yx.timeUtil.getServerTime()},getLastFankuiTime:function getLastFankuiTime(){return this._fankuiTime},resetLogin:function resetLogin(){this._chatList=[]}},yx.mailMgr=new yx.MailManager,t.exports=yx.mailMgr,cc._RF.pop()},{}],MailWindow:[function(e,t,n){cc._RF.push(t,"ff47eqkpqhMTrnpV9/UG9nX","MailWindow");var i=e("BaseWindow"),o=e("MailItem");cc.Class({extends:i,properties:{scrollContent:cc.Node,mailItemPrefab:cc.Prefab,deleteAllBtn:cc.Button,getAllBtn:cc.Button,noMailNode:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.MAIL_REFRESH,this.onRefreshList,this),this.deleteAllBtn.node.on("click",this.onDeleteAllBtnClick,this),this.getAllBtn.node.on("click",this.onGetAllBtnClick,this)},_onShow:function _onShow(){yx.mailMgr.reqMailList()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){var e=yx.mailMgr.getMailList();this._itemList=new Array;var i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.mailItemPrefab),n=t.getComponent(o);n&&(n.init(e),i.scrollContent.addChild(t),i._itemList.push(n))}),0<this._itemList.length?this.noMailNode.active=!1:this.noMailNode.active=!0},onGetAllBtnClick:function onGetAllBtnClick(){this._itemList.length<=0||yx.mailMgr.doAction(yx.proto.MailOptType.RECEIVE,-1)},onDeleteAllBtnClick:function onDeleteAllBtnClick(){yx.windowMgr.showWindow("yiJianFanKuiPanel")},onRefreshList:function onRefreshList(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",MailItem:"MailItem"}],MainBattleWindow:[function(e,t,n){cc._RF.push(t,"bcd76cPW4NIQLIJTSC7WlvF","MainBattleWindow");var i=e("BaseWindow"),o=e("FuBenWindow"),r=e("ItemWidget"),a=e("BattleActivityWindow"),p="<color = #345A5C>每10秒消耗食物：</color> {foodNum}<color = #FF0000>（食物不足不能获得挂机收益）</color>",s=cc.Class({extends:i,properties:{btCostRiText:cc.RichText,btDropItemWidgets:[r],btGjRewardLayout:cc.Layout,quickBtBtn:cc.Button,bossBtBtn:cc.Button,bossSkipBtn:cc.Button,goNextMapBtn:cc.Button,bossCannotPkBtn:cc.Button,goFeiShengBtn:cc.Button,goPoSuiBtn:cc.Button,btMyPb:cc.ProgressBar,btEnemyPb:cc.ProgressBar,btRoleNode:cc.Node,btLoadRoleFaXiangNode:cc.Node,btLoadRoleNode:cc.Node,byEnemyRoleNode:cc.Node,btEnemyDrogon:dragonBones.ArmatureDisplay,btDamageNumLabel:cc.Label,btRoundLabel:cc.Label,btDamageNode:cc.Node,btDamageShanBiNode:cc.Node,btFoodDrogon:dragonBones.ArmatureDisplay,btBossComingDrogon:dragonBones.ArmatureDisplay,btSearchMonsterDrogon:dragonBones.ArmatureDisplay,btFailDrogon:dragonBones.ArmatureDisplay,btMapBtn:cc.Button,btMapNameLabel:cc.Label,btQiYuBtn:cc.Button,btQiYuEffNode:cc.Node,btQiYuBGActiveNode:cc.Node,btFeiShengBtn:cc.Button,btPoSuiBtn:cc.Button,btActivityBtn:cc.Button,btFuBenBtn:cc.Button,btBagBtn:cc.Button,huolangBtn:cc.Button,btBagFullLabel:cc.Label,btShenHunShiYiBtn:cc.Button,btShenHunShiYiEff:cc.Node,btBgSprite:cc.Sprite,btNormalPuGongDrogon:dragonBones.ArmatureDisplay,btBossPuGongDrogon:dragonBones.ArmatureDisplay,btDieDrogon:dragonBones.ArmatureDisplay,btEnemyShadowSprite:cc.Sprite,btPlayerShadowSprite:cc.Sprite,btFightScale1Btn:cc.Button,btFightScale2Btn:cc.Button,btFightScale3Btn:cc.Button,fightScaleNode:cc.Node,rewardBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.dispatchMsg(yx.EventType.GJ_WINDOW_INIT),this.initBattle(),this.onEventRefreshBadge()},_onDeInit:function _onDeInit(){},_onHide:function _onHide(){},_onShow:function _onShow(){this._avatarId!=yx.playerMgr.getAvatarId()&&0!=yx.playerMgr.getAvatarId()&&(this._avatarId=yx.playerMgr.getAvatarId(),this.loadBattlePlayer()),this.byEnemyRoleNode.stopAllActions(),this.btRoleNode.stopAllActions(),this.btEnemyShadowSprite.node.stopAllActions(),this.btEnemyPb.node.stopAllActions(),this.btPlayerShadowSprite.node.stopAllActions(),this.btMyPb.node.stopAllActions(),this.btLoadRoleNode.stopAllActions(),this.btEnemyDrogon.node.stopAllActions(),this.battleInfo&&(this.battleInfo._enemyHp<=0?(this.byEnemyRoleNode.opacity=0,this.btEnemyShadowSprite.node.opacity=0,this.btEnemyPb.node.opacity=0,this.btSearchMonsterDrogon.node.active||(this.btSearchMonsterDrogon.node.active=!0,this.btSearchMonsterDrogon.playAnimation("newAnimation",-1))):(this.resultMsg&&(this.btEnemyPb.progress=this.battleInfo._enemyHp/this.resultMsg.init2.hp),this.byEnemyRoleNode.opacity=255,this.btEnemyShadowSprite.node.opacity=255,this.btEnemyPb.node.opacity=255),this.battleInfo._myHp<=0?(this.btRoleNode.opacity=0,this.btPlayerShadowSprite.node.opacity=0,this.btMyPb.node.opacity=0,this.btSearchMonsterDrogon.node.active||(this.btSearchMonsterDrogon.node.active=!0,this.btSearchMonsterDrogon.playAnimation("newAnimation",-1))):(this.resultMsg&&(this.btMyPb.progress=this.battleInfo._myHp/this.resultMsg.init1.hp),this.btRoleNode.opacity=255,this.btPlayerShadowSprite.node.opacity=255,this.btMyPb.node.opacity=255)),this.resetAvator()},resetAvator:function resetAvator(){this.btRoleNode.position=this.orginPlayerPosition,this.btRoleNode.rotation=0,this.btLoadRoleNode.color=this.normalColor,this.byEnemyRoleNode.position=this.orginEnemyPosition,this.byEnemyRoleNode.rotation=0,this.btEnemyDrogon.node.color=this.normalColor},onEventCurrencyChange:function onEventCurrencyChange(){if(this.curChapterConfig){var e=yx.playerMgr.getCurrency(yx.CyType.SHIWU),t=this.curChapterConfig.Cost[0].count,n=t<=e?yx.colorUtil.TextGreen:yx.colorUtil.TextRed,i=yx.colorUtil.AddColorString(e+"/"+t,n);this.btCostRiText.string=p.format({foodNum:i}),e<t?(this.btFoodDrogon.node.active=!0,this.btFoodDrogon.playAnimation("newAnimation",-1)):this.btFoodDrogon.node.active=!1}},update:function update(){this.btPlayerShadowSprite.node.x=this.btRoleNode.x,this.btEnemyShadowSprite.node.x=this.byEnemyRoleNode.x,this.btMyPb.node.x=this.btRoleNode.x,this.btEnemyPb.node.x=this.byEnemyRoleNode.x},onEventLevelUp:function onEventLevelUp(){this._avatarId!=yx.playerMgr.getAvatarId()&&0!=yx.playerMgr.getAvatarId()&&(this._avatarId=yx.playerMgr.getAvatarId(),this.loadBattlePlayer()),this.refreshBossCanNotPkBtn()},refreshBossCanNotPkBtn:function refreshBossCanNotPkBtn(){if(this.curChapterConfig){this.bossCannotPkBtn.node.active=yx.playerMgr.getDuJieLevel()<this.curChapterConfig.LevelLimit;var e=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this.curChapterConfig.LevelLimit});e&&(this.bossCannotPkBtn.node.getChildByName("Text").getComponent(cc.Label).string=e.Name+"可挑战")}},setFightScale:function setFightScale(e){this.fightScale=e,this.initActions(e),this.btBossPuGongDrogon.timeScale=1/e,this.btDieDrogon.timeScale=1/e,this.btBossPuGongDrogon.timeScale=1/e,this.resultMsg&&this.battleInfo&&this.battleInfo._roundList&&0<this.battleInfo._roundList.length&&cc.Canvas.instance.refreshFightRound&&(cc.Canvas.instance.unschedule(cc.Canvas.instance.refreshFightRound),cc.Canvas.instance.schedule(cc.Canvas.instance.refreshFightRound,1.4*e,cc.macro.REPEAT_FOREVER,1.4*e))},initBattle:function initBattle(){this.node.active=!0,this._avatarId=0,this._faxiang=0,this.btPoSuiBtn.node.active=!1,this.btFeiShengBtn.node.active=!1,this.fightScaleNode.active=!1,this.normalFightScale=1,this.bossFightScale=1,this.clickFightScaleBtnTime=Date.now(),yx.eventDispatch.addListener(yx.EventType.LEVEL_UP,this.onEventLevelUp,this),this.curRound=1,this.maxRound=30,this.btRoundLabel.node.active=!1,this.btRoundLabel.string=Math.ceil(this.curRound/2)+":"+this.maxRound,this.orginPlayerPosition=this.btRoleNode.position,this.orginEnemyPosition=this.byEnemyRoleNode.position,this.hitColor=new cc.Color(255,0,0,178),this.normalColor=new cc.Color(255,255,255,255),this.setFightScale(this.normalFightScale),this.btFightScale1Btn.node.active=!0,this.btFightScale2Btn.node.active=!1,this.btFightScale3Btn.node.active=!1,this.btNormalPuGongDrogon.node.active=!1,this.btBossPuGongDrogon.node.active=!1,this.btDieDrogon.node.active=!1,this.btFoodDrogon.node.active=!1,this.btBossComingDrogon.node.active=!1,this.btSearchMonsterDrogon.node.active=!1,this.btFailDrogon.node.active=!1,this.goNextMapBtn.node.active=!1,this.bossCannotPkBtn.node.active=!1,this.goFeiShengBtn.node.active=!1,this.goPoSuiBtn.node.active=!1,this.btQiYuEffNode.active=!1,this.btQiYuBGActiveNode.active=!1,this.btShenHunShiYiEff.active=!1,this.bossSkipBtn.node.active=!1,yx.BadgeMgr.addBadge(this.btActivityBtn.node,30,30),yx.BadgeMgr.addBadge(this.btFuBenBtn.node,30,30),yx.BadgeMgr.addBadge(this.btFeiShengBtn.node,30,30),yx.BadgeMgr.addBadge(this.btQiYuBtn.node,14,30),yx.BadgeMgr.addBadge(this.rewardBtn.node,30,30),this.btMapBtn.node.on("click",this.onBtMapBtnClick,this),this.rewardBtn.node.on("click",this.onRewardBtnClick,this),this.btFightScale1Btn.node.on("click",this.onFightScaleBtnClick.bind(this,1),this),this.btFightScale2Btn.node.on("click",this.onFightScaleBtnClick.bind(this,2),this),this.btFightScale3Btn.node.on("click",this.onFightScaleBtnClick.bind(this,3),this),this.btQiYuBtn.node.on("click",this.onBtQiYuBtnClick,this),this.btFeiShengBtn.node.on("click",this.onBtFeiShengBtnClick,this),this.btPoSuiBtn.node.on("click",this.onBtPoSuiBtnClick,this),this.btActivityBtn.node.on("click",this.onbtActivityBtnClick,this),this.btFuBenBtn.node.on("click",this.onbtFuBenBtnClick,this),this.btShenHunShiYiBtn.node.on("click",this.onShenHunShiYiBtnClick,this),this.btBagBtn.node.on("click",this.onBagBtnClick,this),this.huolangBtn.node.on("click",this.onhuolangBtnClick,this),this.bossBtBtn.node.on("click",this.onBossBtBtnClick,this),this.goNextMapBtn.node.on("click",this.onGoNextBtnClick,this),this.bossSkipBtn.node.on("click",this.onBossSkipBtnClick,this),this.goFeiShengBtn.node.on("click",this.onBtFeiShengBtnClick,this),this.goPoSuiBtn.node.on("click",this.onBtPoSuiBtnClick,this),this.quickBtBtn.node.on("click",this.onQuickBtBtnClick,this),this.btFoodDrogon.node.active=!1,this.btBossComingDrogon.node.active=!1,this.btSearchMonsterDrogon.node.active=!1,this.bossBtBtn.node.getChildByName("BackgroundGrey").getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),this.byEnemyRoleNode.active=!1,this.byEnemyRoleNode.opacity=255,this.btSearchTime=2;var e=yx.cfgMgr.getOneRecord("SystemConfig",{id:116});e&&e.int_value&&(this.btSearchTime+=e.int_value),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.GJ_ENTER,this.onEventEnterGj,this),yx.eventDispatch.addListener(yx.EventType.GJ_PK_BOSS,this.onEventPKBoss,this),yx.eventDispatch.addListener(yx.EventType.GJ_NEXT_CHAPTER,this.onEventNextMap,this),yx.eventDispatch.addListener(yx.EventType.BAG_REFRESH_SLOT,this.onEventBagRefresh,this),yx.eventDispatch.addListener(yx.EventType.QIYU_OPEN_WINDOW,this.onOpenQiYuWindow,this),yx.eventDispatch.addListener(yx.EventType.GJ_QUICK_BATTLE,this.onEventQuickBattle,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.eventDispatch.addListener(yx.EventType.SHENGYOU_ERFRESH_INFO,this.onEventShenYouInfo,this),yx.eventDispatch.addListener(yx.EventType.SHENGYOU_SET_AUTOSELL,this.onEventShengYouSetAutosell,this),yx.eventDispatch.addListener(yx.EventType.CHUANGXIANZHEN_INFO,this.onEventChuangXianInfo,this),yx.eventDispatch.addListener(yx.EventType.LOAD_CONFIG,this.onEventLogin,this),yx.eventDispatch.addListener(yx.EventType.CHUANGXIANZHEN_FLYOVER,this.onEventChuangXianFlyOver,this),yx.CodeHelper.checkFuncOpen(64,!1)&&yx.battleMgr.reqEnterGjInfo(),this.loadBattlePlayer(),this.btBossComingDrogon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this),this.btFoodDrogon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this),this.btSearchMonsterDrogon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this),cc.Canvas.instance.refreshFightRound=this._refreshFightRound.bind(this),cc.Canvas.instance.btBossBtnLeftTimeSchedule=this._btBossBtnLeftTimeSchedule.bind(this),yx.shenYouMgr.reqGetShenYouInfo(),yx.chuangXianZhenMgr.reqChuangXian(yx.proto.FlyCmdType.GetFlyUp_Cmd)},onFightScaleBtnClick:function onFightScaleBtnClick(e){if(Date.now()-this.clickFightScaleBtnTime<=1400)yx.ToastUtil.showListToast("您点得太快了");else{switch(this.clickFightScaleBtnTime=Date.now(),this.btFightScale1Btn.node.active=!1,this.btFightScale2Btn.node.active=!1,this.btFightScale3Btn.node.active=!1,e){case 3:this.btFightScale1Btn.node.active=!0,this.bossFightScale=1;break;case 2:yx.playerMgr.isVip()?(this.btFightScale3Btn.node.active=!0,this.bossFightScale=.33):(this.btFightScale1Btn.node.active=!0,this.bossFightScale=1);break;default:this.btFightScale2Btn.node.active=!0,this.bossFightScale=.5}this.setFightScale(this.bossFightScale)}},onBtMapBtnClick:function onBtMapBtnClick(){yx.CodeHelper.checkFuncOpen(65)&&yx.windowMgr.showWindow("liLianWindow",{tab:1})},onRewardBtnClick:function onRewardBtnClick(){yx.windowMgr.showWindow("tongGuanRewardPanel")},onGoNextBtnClick:function onGoNextBtnClick(){yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()+1})?yx.CodeHelper.checkFuncOpen(65)&&yx.windowMgr.showWindow("liLianWindow",{tab:1}):yx.ToastUtil.showListToast("功能暂未开启")},onBossSkipBtnClick:function onBossSkipBtnClick(){this.battleInfo._isPkNormal||this.battleInfo&&this.battleInfo._roundList&&0<this.battleInfo._roundList.length&&(this.battleInfo._roundList=null,this.btRoleNode.stopAllActions(),this.byEnemyRoleNode.stopAllActions(),this.bossSkipBtn.node.active=!1,this.resetAvator(),this._playBattleAction("die",!this.battleInfo._isWin),this._onFightEnd())},onBagBtnClick:function onBagBtnClick(){yx.windowMgr.showWindow("bag")},onhuolangBtnClick:function onhuolangBtnClick(){yx.windowMgr.showWindow("huoLangWindow")},onBossBtBtnClick:function onBossBtBtnClick(){if(this.bossBtBtn.isFight)yx.ToastUtil.showListToast("正在战斗中");else if(yx.battleMgr.getCurTiaoZhanBossSuc())yx.ToastUtil.showListToast("本关boss已挑战成功");else if(yx.playerMgr.getDuJieLevel()<this.curChapterConfig.LevelLimit){var e=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this.curChapterConfig.LevelLimit});e&&yx.ToastUtil.showListToast(e.Name+"可挑战")}else yx.battleMgr.reqPkBoss(),this.bossBtBtn.isFight=!0},onQuickBtBtnClick:function onQuickBtBtnClick(){yx.CodeHelper.checkFuncOpen(67)&&yx.windowMgr.showWindow("quickBattlePanel")},onBtQiYuBtnClick:function onBtQiYuBtnClick(){yx.CodeHelper.checkFuncOpen(24)&&yx.JiYuanMgr.QiYuInfo()},onOpenQiYuWindow:function onOpenQiYuWindow(){yx.CodeHelper.checkFuncOpen(24)&&yx.windowMgr.showWindow("qiYuWindow")},onEventQuickBattle:function onEventQuickBattle(e){yx.windowMgr.showWindow("quickBtResult",e.drop)},onBtPoSuiBtnClick:function onBtPoSuiBtnClick(){this.curChapterConfig&&(yx.battleMgr.getCurTiaoZhanBossSuc()&&3==this.curChapterConfig.NextMap&&yx.CodeHelper.checkFuncOpen(62,!1)?yx.ToastUtil.showListToast("暂未开放"):yx.windowMgr.showWindow("xianJieMenPanel"))},onBtFeiShengBtnClick:function onBtFeiShengBtnClick(){this.curChapterConfig&&(yx.battleMgr.getCurTiaoZhanBossSuc()&&2==this.curChapterConfig.NextMap&&yx.CodeHelper.checkFuncOpen(62,!1)?yx.windowMgr.showWindow("chuangXianWindow"):yx.windowMgr.showWindow("xianJieMenPanel"))},onbtActivityBtnClick:function onbtActivityBtnClick(){yx.CodeHelper.checkFuncOpen(92)&&yx.windowMgr.showWindow("battleActivityWindow",{tab:a.TabType.CHUIDIAO})},onbtFuBenBtnClick:function onbtFuBenBtnClick(){yx.CodeHelper.checkFuncOpen(91)&&yx.windowMgr.showWindow("fuBenWindow",{tab:o.TabType.DIGONG})},onShenHunShiYiBtnClick:function onShenHunShiYiBtnClick(){this.shenYouData&&(this.shenYouData.autoSell?yx.windowMgr.showWindow("shenHunShiYiPanel"):yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_SHIYI}))},onEventEnterGj:function onEventEnterGj(){if(this.bossBtBtn.isFight=!1,this.refreshMapSceneInfo(),!this.isGajiBegining){this.isGajiBegining=!0,this.fightScaleNode.active=!1,this.isCurLoadBoss=!1,this.bossSkipBtn.node.active=!1,this.curRound=1,this.btRoundLabel.node.active=!0,this.btRoundLabel.string=Math.ceil(this.curRound/2)+":"+this.maxRound,this.loadBattleEnemy(),this.loadBattlePlayer();var e=this,t=4000001;e.curChapterConfig&&(t=e.curChapterConfig.MonsterId),e.resultMsg=yx.FightHelper.getFightResult(t||4000001),e.setBattleInfo();var n=cc.sequence(cc.delayTime(.6),cc.callFunc(function(){e._refreshFighting()}));n.setTag(yx.ActionTag.BATTLE_FIRST_FIGHT),cc.Canvas.instance.node.runAction(n)}},onEventPKBoss:function onEventPKBoss(e){this.btBossComingDrogon.node.active=!0,this.btBossComingDrogon.node.opacity=255,this.btBossComingDrogon.playAnimation("newAnimation",1),this.byEnemyRoleNode.active=!1,this.byEnemyRoleNode.opacity=0,this.bossSkipBtn.node.active=!1,this.curRound=1,this.btRoundLabel.node.active=!0,this.btRoundLabel.string=Math.ceil(this.curRound/2)+":"+this.maxRound,this.isCurLoadBoss=!0,this.isCurLoadBoss=!0,cc.Canvas.instance.unschedule(cc.Canvas.instance.refreshFightRound),cc.Canvas.instance.node.stopActionByTag(yx.ActionTag.BATTLE_FIRST_FIGHT),cc.Canvas.instance.node.stopActionByTag(yx.ActionTag.BATTLE_END_FIGHT),cc.Canvas.instance.node.stopActionByTag(yx.ActionTag.RECONNECT_BOSSBTN_ACTION),this.attackTimeEvent&&clearTimeout(this.attackTimeEvent),this.byEnemyRoleNode.stopAllActions(),this.btRoleNode.stopAllActions(),this.byEnemyRoleNode.position=this.orginEnemyPosition,this.byEnemyRoleNode.rotation=0,this.byEnemyRoleNode.color=this.normalColor,this.btRoleNode.position=this.orginPlayerPosition,this.btRoleNode.rotation=0,this.btRoleNode.color=this.normalColor,this.btPlayerShadowSprite.node.stopActionByTag(yx.ActionTag.NORMAL_FADEOUT),this.btEnemyShadowSprite.node.stopActionByTag(yx.ActionTag.NORMAL_FADEOUT),this.btEnemyPb.node.stopActionByTag(yx.ActionTag.NORMAL_FADEOUT),this.btMyPb.node.stopActionByTag(yx.ActionTag.NORMAL_FADEOUT);var t=this;t.loadBattleEnemy(),t._resetDrogon(),t.btSearchMonsterDrogon.node.active=!1,this.resultMsg=null,t.fightScaleNode.active=!0,t.setFightScale(this.bossFightScale),t.resultMsg=e.fightResult,t.setBattleInfo(),cc.Canvas.instance.node.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){t._refreshFighting()})))},onEventNextMap:function onEventNextMap(){yx.battleMgr.reqEnterGjInfo()},onEventBagRefresh:function onEventBagRefresh(){},refreshMapSceneInfo:function refreshMapSceneInfo(){if(yx.playerMgr.IsFlyUp()?(this.btPoSuiBtn.node.active=!0,this.btFeiShengBtn.node.active=!1,this.huolangBtn.node.active=!0):(this.btPoSuiBtn.node.active=!1,this.btFeiShengBtn.node.active=!0,this.huolangBtn.node.active=!1),this.goNextMapBtn.node.active=yx.battleMgr.getCurTiaoZhanBossSuc(),this.bossBtBtn.node.active=!yx.battleMgr.getCurTiaoZhanBossSuc(),this.goFeiShengBtn.node.active=!1,this.goPoSuiBtn.node.active=!1,this.bossCannotPkBtn.node.active=!1,this.curChapterConfig=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()}),yx.battleMgr.getCurTiaoZhanBossSuc()&&2==this.curChapterConfig.NextMap?(yx.playerMgr.IsFlyUp()?(this.goFeiShengBtn.node.active=!1,this.goNextMapBtn.node.active=!0):(this.goFeiShengBtn.node.active=!0,this.goNextMapBtn.node.active=!1),this.bossBtBtn.node.active=!1):yx.battleMgr.getCurTiaoZhanBossSuc()&&3==this.curChapterConfig.NextMap&&(this.goPoSuiBtn.node.active=!0,this.goNextMapBtn.node.active=!1,this.bossBtBtn.node.active=!1),this.curChapterConfig){var e=this.curChapterConfig.ChapterId,t=yx.cfgMgr.getRecordByKey("ChapterMapConfig",{ID:e});t&&yx.resUtil.LoadSpriteByType(t.Map,yx.ResType.BATTLE_BG,this.btBgSprite);var n=yx.playerMgr.getCurrency(yx.CyType.SHIWU),i=this.curChapterConfig.Cost[0].count,o=i<=n?yx.colorUtil.TextGreen:yx.colorUtil.TextRed,r=yx.colorUtil.AddColorString(n+"/"+i,o);this.btCostRiText.string=p.format({foodNum:r}),n<i?(this.btFoodDrogon.node.active=!0,this.btFoodDrogon.playAnimation("newAnimation",-1)):this.btFoodDrogon.node.active=!1,this.btMapNameLabel.string=this.curChapterConfig.Name,this.btGjRewardLayout.node.removeAllChildren(!0);var a=this.curChapterConfig.ShowResouceRewead;for(var s in a){var c=a[s];yx.BattleGuaJiRewordWidget.CreateItemSlotAync(yx.BattleGuaJiRewordWidget.prefabPath,c,this.btGjRewardLayout.node,"battleGj")}for(var l=this.curChapterConfig.ShowReward,u=0;u<this.btDropItemWidgets.length;u++){var d=this.btDropItemWidgets[u],h=null,g=l[u];g?((h={}).itemId=g.id,h.amount=-1,h.clickCallBack=this._onItemClick,d.node.active=!0,d.init(h,!0,!0)):d.node.active=!1}this.refreshBossCanNotPkBtn()}},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},loadBattlePlayer:function loadBattlePlayer(){var t=yx.playerMgr.getZhongZu(),e=yx.cfgMgr.getAllConfig("ShadowConfig");e&&e.forEach(function(e){t&&1===e.Type&&-1!=e.ZhongZu.indexOf(t)&&e.PKGName}),yx.resUtil.loadRoleAvatar(this.btLoadRoleNode,yx.playerMgr.getAvatarId(),"battle"),yx.resUtil.loadRoleAvatar(this.btLoadRoleFaXiangNode,yx.playerMgr.getFaXiang(),"battle",null),this.btPlayerShadowSprite.node.scale=this.btLoadRoleNode.scale;var n=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:yx.playerMgr.getAvatarId()});n&&1==n.Flip?this.btLoadRoleNode.scaleX=-1*Math.abs(this.btLoadRoleNode.scaleX):this.btLoadRoleNode.scaleX=+Math.abs(this.btLoadRoleNode.scaleX),n&&(this.btMyPb.node.y=this.btRoleNode.y+n.Height*this.btLoadRoleNode.scaleY)},cloneAction:function cloneAction(e){var t=e.clone();return t.setTag(e.tag),t},loadBattleEnemy:function loadBattleEnemy(){this.resetAvator();var e=cc.fadeIn(.5*this.fightScale);e.setTag(yx.ActionTag.NORMAL_FADEIN),this.btPlayerShadowSprite.node.runAction(e),this.btMyPb.node.runAction(this.cloneAction(e)),this.byEnemyRoleNode.active=!0,this.byEnemyRoleNode.runAction(this.cloneAction(e)),this.btEnemyShadowSprite.node.runAction(this.cloneAction(e)),this.btEnemyPb.node.runAction(this.cloneAction(e));var t="colorAction/guaiwu1";this.isCurLoadBoss&&(t="colorAction/boss1");var n=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()});if(n){var i=this.isCurLoadBoss?n.BossMonsterId:n.MonsterId,o=yx.cfgMgr.getOneRecord("MonsterAttrConfig",{ID:i});if(o&&o.AvatarId){var r=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:o.AvatarId});r&&(t="colorAction/"+r.Avatar,r.Avatar,this.btEnemyPb.node.y=this.byEnemyRoleNode.y+r.Height)}}var a=this.isCurLoadBoss?200:100;this.btEnemyPb.node.width=a,this.btEnemyPb.totalLength=a,this.btEnemyPb.barSprite.node.x=-a/2,this.btEnemyPb.progress=1,yx.resUtil.loadDragonBones(this.btEnemyDrogon,t,"MovieClip","newAnimation",null,null,this.loadCompleteCallback.bind(this))},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},loadCompleteCallback:function loadCompleteCallback(){},onDragonActionAnimComplete:function onDragonActionAnimComplete(e){if(e){var t=e.armature.display._ccNode;t&&("BossComDrogon"==t.name?t.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){t.active=!1}))):"myDrogon"==t.name||t.name)}},_resetDrogon:function _resetDrogon(){this.btRoleNode.active=!0,this.btRoleNode.opacity=255,this.byEnemyRoleNode.active=!0,this.byEnemyRoleNode.opacity=255,this.btMyPb.progress=1,this.btEnemyPb.progress=1},setBattleInfo:function setBattleInfo(){this.resultMsg&&(this.btMyPb.progress=1,this.btEnemyPb.progress=1,this.battleInfo={},this.battleInfo._myHp=this.resultMsg.init1.hp,this.battleInfo._enemyHp=this.resultMsg.init2.hp,this.battleInfo._isWin=this.resultMsg.win,this.battleInfo._roundList=this.resultMsg.fightInfo.slice(0,60),this.battleInfo._isPkNormal=this.resultMsg.isPkNormal)},_refreshFighting:function _refreshFighting(){this.resultMsg&&(cc.Canvas.instance.unschedule(cc.Canvas.instance.refreshFightRound),cc.Canvas.instance.schedule(cc.Canvas.instance.refreshFightRound,1.4*this.fightScale,cc.macro.REPEAT_FOREVER,1.4*this.fightScale))},_refreshFightRound:function _refreshFightRound(){if(this.btRoundLabel.string=Math.ceil(this.curRound/2)+":"+this.maxRound,this.resetAvator(),this.btRoleNode.stopAllActions(),this.byEnemyRoleNode.stopAllActions(),this.isCurLoadBoss&&this.curChapterConfig&&0!=this.curChapterConfig.Skip&&this.curRound>=2*this.curChapterConfig.Skip&&(this.bossSkipBtn.node.active=!0),null!=this.battleInfo._roundList&&0!=this.battleInfo._roundList.length){1<this.battleInfo._roundList.length&&this.curRound++;var e=this.battleInfo._roundList.shift();(this._currRoundMsg=e).hurt;var t=e.attack==yx.playerMgr.getPid();this._playBattleAction("attack",t)}else this._onFightEnd()},_refreshHpBar:function _refreshHpBar(e,t){t?(this.battleInfo._myHp-=e.hurt,this.btMyPb.progress=this.battleInfo._myHp/this.resultMsg.init1.hp):(this.battleInfo._enemyHp-=e.hurt,this.btEnemyPb.progress=this.battleInfo._enemyHp/this.resultMsg.init2.hp)},_refreshBehit:function _refreshBehit(e,t){var n=t?"die":"hit";this._playBattleAction(n,e)},_refreshDamageLabel:function _refreshDamageLabel(e,t){t?this.btDamageNode.setPosition(this.btRoleNode.getPosition()):this.btDamageNode.setPosition(this.byEnemyRoleNode.getPosition()),this.btDamageNode.y+=100,0===e.hurt?(this.btDamageShanBiNode.active=!0,this.btDamageNumLabel.node.active=!1):(this.btDamageShanBiNode.active=!1,this.btDamageNumLabel.node.active=!0,this.btDamageNumLabel.string="/"+e.hurt),this.btDamageNode.stopActionByTag(yx.ActionTag.DEMAGE_ACTION);var n=cc.scaleTo(0,1,1),i=cc.fadeIn(0),o=cc.scaleTo(.08*this.fightScale,3.5,3.5),r=cc.scaleTo(.13*this.fightScale,1,1),a=cc.moveBy(.8*this.fightScale,cc.v2(0,50)),s=cc.fadeOut(.8*this.fightScale),c=cc.sequence(cc.spawn(n,i),o,r,cc.delayTime(.3*this.fightScale),cc.spawn(a,s));c.setTag(yx.ActionTag.DEMAGE_ACTION),this.btDamageNode.runAction(c)},_playBattleAction:function _playBattleAction(e,t){var n=this,i=t?this.btRoleNode:this.byEnemyRoleNode,o=t?"player":"enemy";if(i&&this.actions&&this.actions[o]&&this.actions[o][e]){var r=this.actions[o][e].action.clone();r.setTag(this.actions[o][e].tag),i.runAction(r),"attack"==e&&(this.attackTimeEvent=setTimeout(function(){n.attackEvent()},100*this.fightScale))}},attackEvent:function attackEvent(){var e=this._currRoundMsg.attack==yx.playerMgr.getPid();this._refreshHpBar(this._currRoundMsg,!e);var t=e&&this.battleInfo._enemyHp<=0||!e&&this.battleInfo._myHp<=0;this._refreshBehit(!e,t),this._refreshDamageLabel(this._currRoundMsg,!e),this._refreshHitEff(!e)},_refreshHitEff:function _refreshHitEff(e){e?this.isCurLoadBoss?(this.btBossPuGongDrogon.node.position=cc.v2(this.btRoleNode.position.x+45,this.btRoleNode.position.y+30),this.btBossPuGongDrogon.node.scaleX=1,this.btBossPuGongDrogon.node.active=!0,this.btBossPuGongDrogon.playAnimation("newAnimation",1)):(this.btNormalPuGongDrogon.node.position=cc.v2(this.btRoleNode.position.x+90,this.btRoleNode.position.y+30),this.btNormalPuGongDrogon.node.scaleX=-1,this.btNormalPuGongDrogon.node.active=!0,this.btNormalPuGongDrogon.playAnimation("newAnimation",1)):(this.btNormalPuGongDrogon.node.position=cc.v2(this.byEnemyRoleNode.position.x-90,this.byEnemyRoleNode.position.y+30),this.btNormalPuGongDrogon.node.scaleX=1,this.btNormalPuGongDrogon.node.active=!0,this.btNormalPuGongDrogon.playAnimation("newAnimation",1))},initActions:function initActions(e){var n=this,t=Math.abs(this.orginEnemyPosition.x-this.orginPlayerPosition.x)-100,i=cc.fadeOut(.5*e),o=cc.sequence(cc.moveBy(.1*e,t,0),cc.spawn(cc.rotateTo(.1*e,13),cc.moveBy(.1*e,44,-3)),cc.callFunc(function(){}),cc.spawn(cc.rotateTo(.1*e,-4),cc.moveBy(.1*e,-56,33)),cc.spawn(cc.moveTo(.1*e,this.orginPlayerPosition.x,this.orginPlayerPosition.y),cc.rotateTo(.1*e,0)),cc.callFunc(function(){})),r=cc.tintTo(.1*e,this.hitColor.getR(),this.hitColor.getG(),this.hitColor.getB(),this.hitColor.getA()),a=cc.tintTo(.1*e,this.normalColor.getR(),this.normalColor.getG(),this.normalColor.getB(),this.normalColor.getA()),s=cc.sequence(cc.spawn(cc.callFunc(function(){var e=r.clone();e.setTag(yx.ActionTag.RED_TINTTO_ACTION),n.btLoadRoleNode.runAction(e)}),cc.moveBy(.1*e,-10,0)),cc.spawn(cc.callFunc(function(){var e=a.clone();e.setTag(yx.ActionTag.NORMAL_TINTTO_ACTION),n.btLoadRoleNode.runAction(e)}),cc.moveBy(.1*e,10,0)),cc.callFunc(function(){})),c=cc.sequence(cc.fadeOut(.5*e),cc.callFunc(function(){yx.log("player dieAction end ");var e=i.clone();e.setTag(yx.ActionTag.NORMAL_FADEOUT),n.btPlayerShadowSprite.node.runAction(e);var t=i.clone();e.setTag(yx.ActionTag.NORMAL_FADEOUT),n.btMyPb.node.runAction(t),n.btSearchMonsterDrogon.node.active=!0,n.btSearchMonsterDrogon.playAnimation("newAnimation",-1),n.btDieDrogon.node.active=!0,n.btDieDrogon.playAnimation("newAnimation",1),n.btDieDrogon.node.position=n.orginPlayerPosition})),l=cc.sequence(cc.moveBy(.1*e,-t,0),cc.spawn(cc.rotateTo(.1*e,17),cc.moveBy(.1*e,0,38)),cc.callFunc(function(){}),cc.spawn(cc.rotateTo(.1*e,0),cc.moveBy(.1*e,0,-38)),cc.spawn(cc.moveTo(.1*e,this.orginEnemyPosition.x,this.orginEnemyPosition.y),cc.rotateTo(.1*e,0)),cc.callFunc(function(){})),u=cc.sequence(cc.spawn(cc.callFunc(function(){var e=r.clone();e.setTag(yx.ActionTag.RED_TINTTO_ACTION),n.btEnemyDrogon.node.runAction(e)}),cc.moveBy(.1*e,10,0)),cc.spawn(cc.callFunc(function(){var e=a.clone();e.setTag(yx.ActionTag.NORMAL_TINTTO_ACTION),n.btEnemyDrogon.node.runAction(e)}),cc.moveBy(.1*e,-10,0)),cc.callFunc(function(){})),d=cc.sequence(cc.spawn(cc.fadeOut(.5*e),cc.callFunc(function(){var e=i.clone();e.setTag(yx.ActionTag.NORMAL_FADEOUT),n.btEnemyShadowSprite.node.runAction(e);var t=i.clone();e.setTag(yx.ActionTag.NORMAL_FADEOUT),n.btEnemyPb.node.runAction(t)})),cc.callFunc(function(){n.btSearchMonsterDrogon.node.active=!0,n.btSearchMonsterDrogon.playAnimation("newAnimation",-1),n.btDieDrogon.node.active=!0,n.btDieDrogon.playAnimation("newAnimation",1),n.btDieDrogon.node.position=n.orginEnemyPosition}));this.actions={player:{attack:{action:o,tag:yx.ActionTag.BATTLE_PLAYER_ATTACK},hit:{action:s,tag:yx.ActionTag.BATTLE_PLAYER_HIT},die:{action:c,tag:yx.ActionTag.BATTLE_PLAYER_DIE}},enemy:{attack:{action:l,tag:yx.ActionTag.BATTLE_ENEMY_ATTACK},hit:{action:u,tag:yx.ActionTag.BATTLE_ENEMY_HIT},die:{action:d,tag:yx.ActionTag.BATTLE_ENEMY_DIE}}}},_onFightEnd:function _onFightEnd(){this.btRoundLabel.node.active=!1,this.bossSkipBtn.node.active=!1;var t=this;if(this.battleInfo._roundList=null,cc.Canvas.instance.unschedule(cc.Canvas.instance.refreshFightRound),this.battleInfo._isPkNormal)yx.battleMgr.reqGJReward();else{if(this.battleInfo._isWin){var e=this.resultMsg.drop;yx.windowMgr.showWindow("bossPkResult",e),yx.battleMgr.reqEnterGjInfo()}else this.btFailDrogon.node.active=!0,this.btFailDrogon.playAnimation("shibai",1);cc.Canvas.instance.btBossBtnTime=5,this.bossBtBtn.interactable=!1,this.bossBtBtn.node.getChildByName("BackgroundGrey").active=!0,cc.Canvas.instance.unschedule(cc.Canvas.instance.btBossBtnLeftTimeSchedule),cc.Canvas.instance.schedule(cc.Canvas.instance.btBossBtnLeftTimeSchedule,1,cc.macro.REPEAT_FOREVER,.1)}t.fightScaleNode.active=!1;var n=cc.sequence(cc.delayTime(t.btSearchTime),cc.callFunc(function(){t.setFightScale(t.normalFightScale),t.btRoundLabel.node.active=!0,t.curRound=1,t.btRoundLabel.string=t.curRound+":"+t.maxRound,t.btSearchMonsterDrogon.node.active=!1,t.isCurLoadBoss=!1,t.loadBattleEnemy(),t._resetDrogon();var e=4000001;t.curChapterConfig&&(e=t.curChapterConfig.MonsterId),t.resultMsg=yx.FightHelper.getFightResult(e||4000001),t.setBattleInfo()}),cc.delayTime(.6),cc.callFunc(function(){t._refreshFighting()}));n.setTag(yx.ActionTag.BATTLE_END_FIGHT),cc.Canvas.instance.node.runAction(n)},_btBossBtnLeftTimeSchedule:function _btBossBtnLeftTimeSchedule(){if(cc.Canvas.instance.btBossBtnTime<0)return this.bossBtBtn.isFight=!1,this.bossBtBtn.interactable=!0,this.bossBtBtn.node.getChildByName("BackgroundGrey").active=!1,this.bossBtBtn.node.getChildByName("Text").getComponent(cc.Label).string="挑战BOSS",void cc.Canvas.instance.unschedule(cc.Canvas.instance.btBossBtnLeftTimeSchedule);this.bossBtBtn.node.getChildByName("Text").getComponent(cc.Label).string=yx.timeUtil.seconds2hourMinSecond(cc.Canvas.instance.btBossBtnTime),cc.Canvas.instance.btBossBtnTime--},onEventRefreshBadge:function onEventRefreshBadge(){this.btQiYuEffNode.active=yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianQiYu),this.btQiYuBGActiveNode.active=yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianQiYu),yx.BadgeMgr.showBadge(this.btQiYuBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianQiYu)),yx.BadgeMgr.showBadge(this.btActivityBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianHuoDong)),yx.BadgeMgr.showBadge(this.btFuBenBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianFuBen)),yx.BadgeMgr.showBadge(this.rewardBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LiLianThroughMapReward))},onEventShenYouInfo:function onEventShenYouInfo(e){var t=(this.shenYouData=e).autoSellItem;this.btShenHunShiYiEff.active=t&&0<t.length},onEventChuangXianInfo:function onEventChuangXianInfo(e){if(e){var t=parseInt(e.mapID);e.canFlyUp&&1===t?yx.BadgeMgr.showBadge(this.btFeiShengBtn.node,!0):yx.BadgeMgr.showBadge(this.btFeiShengBtn.node,!1)}},onEventShengYouSetAutosell:function onEventShengYouSetAutosell(e){var t=e.pinzhi;this.btShenHunShiYiEff.active=t&&0<t.length},onEventChuangXianFlyOver:function onEventChuangXianFlyOver(){yx.CodeHelper.checkFuncOpen(64,!1)&&yx.battleMgr.reqEnterGjInfo()},onEventLogin:function onEventLogin(){yx.CodeHelper.checkFuncOpen(64,!1)&&yx.battleMgr.reqEnterGjInfo(),cc.Canvas.instance.node.stopActionByTag(yx.ActionTag.RECONNECT_BOSSBTN_ACTION);var e=this,t=cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.bossBtBtn.isFight=!1}));t.setTag(yx.ActionTag.RECONNECT_BOSSBTN_ACTION),cc.Canvas.instance.node.runAction(t)}});yx.MainBattleWindow=t.exports=s,cc._RF.pop()},{BaseWindow:"BaseWindow",BattleActivityWindow:"BattleActivityWindow",FuBenWindow:"FuBenWindow",ItemWidget:"ItemWidget"}],MainWindow:[function(e,t,n){cc._RF.push(t,"32bb3Ipa/ZLnZwdMZTCr0hx","MainWindow");var i=e("BaseWindow"),r=e("ChengZhangLiBaoItem");e("WindowInfoDict"),e("MainBattleWindow"),cc.Class({extends:i,properties:{headBtn:cc.Button,roleNameLabel:cc.Label,roleMenPaiLabel:cc.Label,roleLevelLabel:cc.Label,roleLevelNumLabel:cc.Label,lingshiValueLabel:cc.Label,weiwangValueLabel:cc.Label,lingyuValueLabel:cc.Label,xiulianValueLabel:cc.Label,lingYuInfoNode:cc.Node,weiWangInfoNode:cc.Node,bgSprite:cc.Sprite,sceneEffectBackGroup:cc.Node,sceneEffectFrontGroup:cc.Node,shadowSprite:cc.Sprite,faxiangNode:cc.Node,roleNode:cc.Node,roleEffectNode:cc.Node,roleTitleNode:cc.Node,roleTitleSp:cc.Sprite,qiPaoNode:cc.Node,bagBtn:cc.Button,huodongBtn:cc.Button,fangshiBtn:cc.Button,xianfangBtn:cc.Button,richangBtn:cc.Button,firstRechargeBtn:cc.Button,vipBtn:cc.Button,tianShangBtn:cc.Button,renJianBtn:cc.Button,fenXiangBtn:cc.Button,wxShouCangBtn:cc.Button,rankBtn:cc.Button,atrrRankBtn:cc.Button,qqQunBtn:cc.Button,taskBtn:cc.Button,taskIcon:cc.Button,cur_taskGroup:cc.Node,cur_taskDesc:cc.RichText,cur_taskReward1:cc.Node,cur_taskRewardSp1:cc.Sprite,cur_taskRewardLabel1:cc.Label,cur_taskReward2:cc.Node,cur_taskRewardSp2:cc.Sprite,cur_taskRewardLabel2:cc.Label,next_taskGroup:cc.Node,next_taskDesc:cc.RichText,next_taskReward1:cc.Node,next_taskRewardSp1:cc.Sprite,next_taskRewardLabel1:cc.Label,next_taskReward2:cc.Node,next_taskRewardSp2:cc.Sprite,next_taskRewardLabel2:cc.Label,taskMask:cc.Node,animYuanquan:sp.Skeleton,animSaoguang:sp.Skeleton,animBaoZha:sp.Skeleton,chengZhangLiBaoContent:cc.Node,chengZhangLiBaoItemPrefab:cc.Prefab,chengZhangOpenBtn:cc.Button,chengZhangCloseBtn:cc.Button,jiyuanBtn:cc.Button,newDuJieBtn:cc.Button,newDuJieBtnEffect:cc.Node,xiuweiLabel:cc.Label,xiaolvLabel:cc.Label,wuXingLabel:cc.Label,xiulianPbNode:cc.Node,xiulianProgressBar:cc.ProgressBar,xiulianBtn:cc.Button,tupoBtn:cc.Button,hintLabel:cc.Label,tupoBaoAnim:cc.Animation,xiulianTimeNode:cc.Node,xiulianTimeLabel:cc.Label,bottom:cc.Node,linggenBtn:cc.Button,gongfaBtn:cc.Button,xianMengBtn:cc.Button,menpaiBtn:cc.Button,dongfuBtn:cc.Button,goBattleBtn:cc.Button,skybottom:cc.Node,jingJiBtn:cc.Button,zongMenBtn:cc.Button,skyXiulianBtn:cc.Button,skyLilianBtn:cc.Button,faQiBtn:cc.Button,youLiBtn:cc.Button,bigEventBtn:cc.Button,chatBtn:cc.Button,chatName:cc.Label,chatContent:cc.Label,chatTag:cc.Node,homeNode:cc.Node},start:function start(){yx.log("[MainWindow start] loadres "),yx.windowMgr.setFirstWindow(this,"main"),yx.report("Main-window","start")},_onInit:function _onInit(){this.fenXiangBtn.node.active=!1,this.firstRechargeBtn.node.active=!1,this.qiPaoNode.active=!1,this.homeNode.active=!0,this.headBtn.node.on("click",this.onHeadBtnClick,this),this.bagBtn.node.on("click",this.onBagBtnClick,this),this.huodongBtn.node.on("click",this.onHuoDongBtnClick,this),this.fangshiBtn.node.on("click",this.onFangShiBtnClick,this),this.xianfangBtn.node.on("click",this.onXianFangBtnClick,this),this.richangBtn.node.on("click",this.onRiChangBtnClick,this),this.firstRechargeBtn.node.on("click",this.onFirstRechargeBtnClick,this),this.vipBtn.node.on("click",this.onVipBtnClick,this),this.tianShangBtn.node.on("click",this.onTianShangBtnClick,this),this.renJianBtn.node.on("click",this.onRenJianBtnClick,this),this.fenXiangBtn.node.on("click",this.onFenXiangBtnClick,this),this.wxShouCangBtn.node.on("click",this.onWxShouCangBtnClick,this),this.rankBtn.node.on("click",this.onRankBtnClick,this),this.atrrRankBtn.node.on("click",this.onAtrrRankBtnClick,this),this.qqQunBtn.node.on("click",this.onqqQunBtnClick,this),this.taskBtn.node.active=!1,this.taskBtn.node.on("click",this.onTaskBtnClick,this),this.taskIcon.node.on("click",this.onTaskBtnClick,this),this.jiyuanBtn.node.on("click",this.onJiYuanBtnClick,this),this.newDuJieBtn.node.on("click",this.onDuJieBtnClick,this),this.tupoBtn.node.on("click",this.onTuPoBtnClick,this),this.xiulianBtn.node.on("click",this.onXiuLianBtnClick,this),this.linggenBtn.node.on("click",this.onLingGenBtnClick,this),this.gongfaBtn.node.on("click",this.onGongFaBtnClick,this),this.xianMengBtn.node.on("click",this.onXianMengBtnClick,this),this.menpaiBtn.node.on("click",this.onMenPaiBtnClick,this),this.dongfuBtn.node.on("click",this.onDongFuBtnClick,this),this.zongMenBtn.node.on("click",this.onZongMenBtnClick,this),this.jingJiBtn.node.on("click",this.onJingJiBtnClick,this),this.faQiBtn.node.on("click",this.onFaQiBtnClick,this),this.youLiBtn.node.on("click",this.onYouLiBtnClick,this),this.skyLilianBtn.node.on("click",this.onGoBattleBtnClick,this),this.skyXiulianBtn.node.on("click",this.onSkyXiulianBtnClick,this),this.bigEventBtn.node.on("click",this.onBigEventBtnClick,this),this.tupoBaoAnim.on("finished",this.onTuPoBaoAnimFinished,this),this.chatBtn.node.on("click",this.onChatBtnClick,this),this.goBattleBtn.node.on("click",this.onGoBattleBtnClick,this),this.chengZhangOpenBtn.node.on("click",this.onChengZhangOpenBtnClick,this),this.chengZhangCloseBtn.node.on("click",this.onChengZhangCloseBtnClick,this),this.chengZhangOpenBtn.node.active=!1,this.chengZhangCloseBtn.node.active=!0,yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.LEVEL_UP,this.onEventLevelUp,this),yx.eventDispatch.addListener(yx.EventType.XIU_LIAN,this.onEventXiuLian,this),yx.eventDispatch.addListener(yx.EventType.FIRST_RECHARGE_INFO,this.onEventFirstRechargeInfo,this),yx.eventDispatch.addListener(yx.EventType.SHOUCANG_REVEIVED,this.onEventShouCangReveived,this),yx.eventDispatch.addListener(yx.EventType.GJ_SHOW_BATTLE,this.onEventShowBattle,this),yx.eventDispatch.addListener(yx.EventType.REFRESH_TASK_PANEL,this.onRefreshTaskPanel,this),yx.eventDispatch.addListener(yx.EventType.REFRESH_WORLD,this.onEventRefreshWorld,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.TASK_UPDATE,this.onEventTaskRefresh,this),yx.eventDispatch.addListener(yx.EventType.LOAD_CONFIG,this.onEventLogin,this),yx.eventDispatch.addListener(yx.EventType.Chat_Refresh,this.onChatRefreshList,this),yx.eventDispatch.addListener(yx.EventType.GJ_WINDOW_INIT,this.onEventShowBattleWindow,this),this._tupoAnimPlaying=!1,this._xiulianElapse=0,this._xiulianPbElapse=0,this._curTask_position=this.cur_taskGroup.getPosition(),this._taskMask_Width=this.taskMask.width,this.next_taskGroup.setPosition(this._curTask_position.x+this._taskMask_Width,this._curTask_position.y),this._sceneId=0,this._avatarId=0,this._roleTitle=0,this._roleEffect=0,this._faxiang=0,yx.BadgeMgr.addBadge(this.bagBtn.node,20,20),yx.BadgeMgr.addBadge(this.vipBtn.node,20,20),yx.BadgeMgr.addBadge(this.huodongBtn.node,20,20),yx.BadgeMgr.addBadge(this.richangBtn.node,20,20),yx.BadgeMgr.addBadge(this.jiyuanBtn.node,20,20),yx.BadgeMgr.addBadge(this.linggenBtn.node,20,70),yx.BadgeMgr.addBadge(this.menpaiBtn.node,20,70),yx.BadgeMgr.addBadge(this.dongfuBtn.node,20,70),yx.BadgeMgr.addBadge(this.firstRechargeBtn.node,20,20),yx.BadgeMgr.addBadge(this.gongfaBtn.node,20,70),yx.BadgeMgr.addBadge(this.xianMengBtn.node,20,70),yx.BadgeMgr.addBadge(this.zongMenBtn.node,20,70),yx.BadgeMgr.addBadge(this.chatTag,30,10),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.eventDispatch.addListener(yx.EventType.GONG_FA_CHANGE,this.onEventGongFaChange,this),yx.BadgeMgr.Info(),yx.eventDispatch.addListener(yx.EventType.MAIN_SHANG,this.onEventMainShang,this),yx.eventDispatch.addListener(yx.EventType.MAIN_XIA,this.onEventMainXia,this),yx.eventDispatch.addListener(yx.EventType.CHENGZHANGLIBAO_REFRESH,this.onEventChengZhangRefresh,this),yx.eventDispatch.addListener(yx.EventType.ACTIVITY_REFRESH,this.onEventActivityRefresh,this),this.vipBtn.node.active=yx.serverMgr.IsAuditPassed()&&yx.CodeHelper.checkFuncOpenShow(56),this.chengZhangLiBaoContent.active=yx.serverMgr.IsAuditPassed(),this.goBattleBtn.node.active=yx.serverMgr.IsAuditPassed(),this.qqQunBtn.node.active=yx.QQqunMgr.IsOpen(),yx.sdkLayer.isOwnShowShare()&&(this.fenXiangBtn.node.active=yx.serverMgr.IsAuditPassed()),yx.sdkLayer.sendExtraData(yx.SendExtraType.TYPE_ENTER_GAME),this.startBattleGetRewardSchedule(),this.startNameCertificationSchedule()},_onShow:function _onShow(){this._refresh(),this._showLiXian(),this._refreshBagBtnDot(),yx.taskMgr.getInitInfoSuccess()?this.onRefreshTaskPanel():yx.taskMgr.Info();var e=yx.taskMgr.getCurTask();e&&this.taskBtn.node.active&&this.homeNode.active&&(e.step&&0<e.step.length?yx.taskMgr.addTutor(this.taskBtn.node):yx.taskMgr.removeTutor()),yx.playerMgr.getNeedPopMsg()&&(yx.playerMgr.setNeedPopMsg(!1),yx.playerMgr.reqPopMsg())},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},update:function update(e){1==this.xiulianPbNode.active&&(this._xiulianPbElapse+=e,this.xiulianProgressBar.progress=this._xiulianPbElapse/5.2)},_showLiXian:function _showLiXian(){null==yx.playerMgr.getLiXian()&&null==yx.playerMgr.getLiXianGJ()||yx.windowMgr.showWindowAuto("lixian")},_refreshWxShouCangBtn:function _refreshWxShouCangBtn(){if(yx.sdkLayer.isOwnShouCang()){var e=yx.ActivityMgr.getWxShouCangInfo();if(e&&e.followState!==yx.proto.FollowStateType.Finished)return void(this.wxShouCangBtn.node.active=!0)}this.wxShouCangBtn.node.active=!1},_refreshShouChongBtn:function _refreshShouChongBtn(){if(yx.serverMgr.IsAuditPassed()&&yx.CodeHelper.checkFuncOpenShow(1012)&&yx.CodeHelper.checkFuncOpenDisplay(1012))if(yx.ActivityMgr.isFirstRechargeUnFinish()){if(this.firstRechargeBtn.node.active=!0,cc.Canvas.instance._firstRechargeTimeCallback){var e=yx.cfgMgr.getOneRecord("FirstRechargeConfig",{ID:1});if(e){var t=60*parseInt(e.Time),n=yx.timeUtil.getServerTime(),i=yx.ActivityMgr.getFirstRechargeInfo();if(i){var o=i.unlockTime,r=t-parseInt((n-o)/1e3);0<r&&r<=t&&(this.firstRechargeBtn.leftTime=r,this.firstRechargeBtn.timeLabel&&(this.firstRechargeBtn.timeLabel.string=yx.timeUtil.seconds2hourMinSecondChina(r)))}}}else if(this.firstRechargeBtn.tipBgNode=this.firstRechargeBtn.node.getChildByName("TipBg"),this.firstRechargeBtn.timeLabel=this.firstRechargeBtn.tipBgNode.getChildByName("TimeLabel").getComponent(cc.Label),this.firstRechargeBtn.tipBgNode.active=!0,yx.cfgMgr.getOneRecord("FirstRechargeConfig",{ID:1})){var a=yx.timeUtil.getServerTime(),s=yx.ActivityMgr.getFirstRechargeInfo();if(s){var c=s.unlockTime,l=1800-parseInt((a-c)/1e3);0<l&&l<=1800?(this.firstRechargeBtn.leftTime=l,this.firstRechargeBtn.timeLabel.string=yx.timeUtil.seconds2hourMinSecondChina(l),cc.Canvas.instance._firstRechargeTimeCallback=this._firstRechargeTimeCallback.bind(this),yx.log("开始首充调度"),cc.Canvas.instance.schedule(cc.Canvas.instance._firstRechargeTimeCallback,1,cc.macro.REPEAT_FOREVER,.1)):this.firstRechargeBtn.tipBgNode.active=!1}}}else this.firstRechargeBtn.node.active=!1},_firstRechargeTimeCallback:function _firstRechargeTimeCallback(){var e=yx.timeUtil.seconds2hourMinSecondChina(this.firstRechargeBtn.leftTime);this.firstRechargeBtn.leftTime--,this.firstRechargeBtn.leftTime<=0&&(this.firstRechargeBtn.tipBgNode.active=!1,cc.Canvas.instance.unschedule(cc.Canvas.instance._firstRechargeTimeCallback)),this.firstRechargeBtn.timeLabel.string=e},_refreshHead:function _refreshHead(){var e=this.headBtn.getComponent(cc.Sprite);yx.resUtil.LoadSpriteFromResConfig(yx.playerMgr.getHeadID(),yx.ResType.HEAD,e)},_refresh:function _refresh(){this.checkAtrrRankBtn(),this._refreshShouChongBtn(),this._refreshWxShouCangBtn(),this.roleNameLabel.string=yx.playerMgr.getName(),this.roleMenPaiLabel.string=yx.menPaiMgr.getMineMengPaiName(),this._refreshHead(),this._refreshLevel(),this._refreshXiuWei(),this._refreshCurrency(),this.onEventXiuLian(),this.onEventRefreshBadge(),this.refreshWorld(),this.onEventChengZhangRefresh(),this.onEventActivityRefresh(),this.chatBtn.node.active=yx.CodeHelper.checkFuncOpenDisplay(75),this.onChatRefreshList()},_getNextTalk:function _getNextTalk(e,t){return t[++e]?e:0},_showQiPao:function _showQiPao(){var e=this,t=!1;this.qiPaoNode.curLevel&&this.qiPaoNode.curLevel===yx.playerMgr.getDuJieLevel()?this.qiPaoNode.curLevel===yx.playerMgr.getDuJieLevel()&&this.qiPaoNode.isTimeOut&&(t=!0):(t=!0,this.qiPaoNode.talkIndex=0);var n=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:yx.playerMgr.getZhongZu(),Level:yx.playerMgr.getDuJieLevel()});if(n&&n.TalkID){if(t){var i=yx.cfgMgr.getOneRecord("TalkConfig",{ID:n.TalkID[this.qiPaoNode.talkIndex]});if(i){this.qiPaoNode.talkIndex=this._getNextTalk(this.qiPaoNode.talkIndex,n.TalkID),this.qiPaoNode.getChildByName("TipText").getComponent(cc.RichText).string=i.Text1;var o=this.qiPaoNode.getChildByName("Avatar").getComponent(cc.Sprite);i.PID&&yx.resUtil.LoadSpriteByIconName(i.PID,o),this.qiPaoNode.curLevel=yx.playerMgr.getDuJieLevel(),this.qiPaoNode.isTimeOut=!1,this.qiPaoNode.active=!0,this.qiPaoNode.stopAllActions(),this.qiPaoNode.runAction(cc.sequence(cc.spawn(cc.fadeIn(0),cc.moveBy(0,cc.v2(-87,-47)),cc.scaleTo(0,.2,.2)),cc.spawn(cc.moveBy(.33,cc.v2(87,47)),cc.scaleTo(.33,1.5,1.5)),cc.scaleTo(.21,1,1),cc.scaleTo(.17,1.2,1.2),cc.scaleTo(.21,1,1),cc.delayTime(4),cc.fadeOut(1),cc.callFunc(function(){e.qiPaoNode.active=!1})));var r=yx.cfgMgr.getOneRecord("SystemConfig",{id:89});this._resetQiPaoSchedule(r.int_value)}}}else cc.Canvas.instance.scheduleQiPaoCb&&(cc.Canvas.instance.unschedule(cc.Canvas.instance.scheduleQiPaoCb),cc.Canvas.instance.scheduleQiPaoCb=null)},_resetQiPaoSchedule:function _resetQiPaoSchedule(e){var t=0<arguments.length&&void 0!==e?e:180;yx.log("重置气泡调度时间"),cc.Canvas.instance.unschedule(cc.Canvas.instance.scheduleQiPaoCb),cc.Canvas.instance.scheduleQiPaoCb=function(){this.qiPaoNode.isTimeOut=!0,this._showQiPao()}.bind(this),cc.Canvas.instance.schedule(cc.Canvas.instance.scheduleQiPaoCb,t,cc.macro.REPEAT_FOREVER,t)},_refreshLevel:function _refreshLevel(){this._showQiPao(),this.roleLevelLabel.string=yx.playerMgr.dujieInfo.Name,this.roleLevelNumLabel.string="Lv."+yx.playerMgr.getDuJieLevel();var e=yx.playerMgr.getSecAttr(yx.proto.PropertyType.WuXing);0<e?(this.wuXingLabel.node.active=!0,this.wuXingLabel.string="(悟性增加"+e+"点修炼速度)"):this.wuXingLabel.node.active=!1,this.xiaolvLabel.string="("+yx.playerMgr.dujieInfo.MinExp+"~"+yx.playerMgr.dujieInfo.MaxExp+")/5秒",this.newDuJieBtn.node.active=10<=yx.playerMgr.getDuJieLevel(),this.xiulianBtn.node.active=!(10<=yx.playerMgr.getDuJieLevel()),this._refreshCharShow()},_refreshScene:function _refreshScene(){var e=yx.playerMgr.getSceneId();if(this._curWorld==yx.proto.WorldType.Sky&&(e=yx.playerMgr.getSkySceneId()),this._sceneId!=e&&0!=e){this._sceneId=e;var t=yx.cfgMgr.getOneRecord("BackDropConfig",{ID:this._sceneId});if(t){yx.resUtil.LoadSpriteByType(t.BG,yx.ResType.SCENE_BG,this.bgSprite),this.sceneEffectBackGroup.removeAllChildren(!0),this.sceneEffectFrontGroup.removeAllChildren(!0);var n=!0,i=!1,o=void 0;try{for(var r,a=t.Front[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;yx.resUtil.createSpineOrDragonEffect(this.sceneEffectFrontGroup,s)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}var c=!0,l=!1,u=void 0;try{for(var d,h=t.Back[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var g=d.value;yx.resUtil.createSpineOrDragonEffect(this.sceneEffectBackGroup,g)}}catch(e){l=!0,u=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw u}}}}},_refreshCharShow:function _refreshCharShow(){this._avatarId!=yx.playerMgr.getAvatarId()&&0!=yx.playerMgr.getAvatarId()&&(this._avatarId=yx.playerMgr.getAvatarId(),yx.resUtil.loadRoleAvatar(this.roleNode,this._avatarId,"main",this.shadowSprite)),this._refreshScene(),this._roleEffect!=yx.playerMgr.getRoleEffect()&&0!=yx.playerMgr.getRoleEffect()&&(this._roleEffect=yx.playerMgr.getRoleEffect(),yx.resUtil.loadRoleAvatar(this.roleEffectNode,this._roleEffect,"main",null)),this._faxiang!=yx.playerMgr.getFaXiang()&&0!=yx.playerMgr.getFaXiang()&&(this._faxiang=yx.playerMgr.getFaXiang(),yx.resUtil.loadRoleAvatar(this.faxiangNode,this._faxiang,"main",null)),this._roleTitle!=yx.playerMgr.getRoleTitle()&&0!=yx.playerMgr.getRoleTitle()&&(this._roleTitle=yx.playerMgr.getRoleTitle(),yx.resUtil.LoadSpriteByType(this._roleTitle,yx.ResType.CHENG_HAO,this.roleTitleSp));var e=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:yx.playerMgr.getAvatarId()});e&&(this.roleTitleSp.node.y=this.roleNode.y+e.Height*this.roleNode.scaleY)},_refreshCurrency:function _refreshCurrency(){this.lingshiValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGSHI),this.weiwangValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.WEIWANG),this.lingyuValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGYU),this.xiulianValueLabel.string=yx.timeUtil.getXiuLianYear()+"年"},_refreshXiuWei:function _refreshXiuWei(){var e=yx.playerMgr.getExp()>=yx.playerMgr.dujieInfo.Cost[0].count;this.xiuweiLabel.string=yx.playerMgr.getExp()+"/"+yx.playerMgr.dujieInfo.Cost[0].count;var t=yx.playerMgr.getDuJieLevel()<10,n=10<=yx.playerMgr.getDuJieLevel();this.xiuweiLabel.node.parent.getComponent(cc.Label).string=t?"突破需要修为：":"总修为：",this.tupoBtn.node.active=t&&e&&!this._tupoAnimPlaying,this.newDuJieBtnEffect.active=!t&&e,this.hintLabel.node.active=!n,this.xiulianPbNode.active=n||0<this._xiulianElapse,this.xiulianBtn.node.active=!n&&this._xiulianElapse<=0,t||(this.xiulianBtn.node.active=!1),this.xiulianTimeNode.active=0<this._xiulianElapse},_refreshXiuLianTime:function _refreshXiuLianTime(){0<this._xiulianElapse&&this._xiulianElapse--,this.xiulianTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(this._xiulianElapse),this._xiulianElapse<=0&&(this.unschedule(this._refreshXiuLianTime,this),this._refreshXiuWei())},onHeadBtnClick:function onHeadBtnClick(){yx.windowMgr.showWindow("setting")},onBagBtnClick:function onBagBtnClick(){yx.windowMgr.showWindow("bag")},onHuoDongBtnClick:function onHuoDongBtnClick(){yx.CodeHelper.checkFuncOpen(57)&&yx.windowMgr.showWindow("activity")},onFangShiBtnClick:function onFangShiBtnClick(){yx.CodeHelper.checkFuncOpen(47)&&yx.windowMgr.showWindow("fangshi",{type:yx.proto.ShopType.XianYuGe})},onXianFangBtnClick:function onXianFangBtnClick(){yx.windowMgr.showWindow("xianfang")},onRiChangBtnClick:function onRiChangBtnClick(){yx.CodeHelper.checkFuncOpen(27)&&yx.windowMgr.showWindow("richang")},onFirstRechargeBtnClick:function onFirstRechargeBtnClick(){yx.CodeHelper.checkFuncOpen(1012)&&yx.windowMgr.showWindow("shouChongPanel")},onVipBtnClick:function onVipBtnClick(){yx.CodeHelper.checkFuncOpen(56)&&yx.windowMgr.showWindow("vipWindow")},onJiYuanBtnClick:function onJiYuanBtnClick(){yx.CodeHelper.checkFuncOpen(46)&&yx.windowMgr.showWindow("jiyuan")},onDuJieBtnClick:function onDuJieBtnClick(){yx.CodeHelper.checkFuncOpen(1)&&(yx.playerMgr.getDuJieLevel()<10||(yx.playerMgr.getExp()>=yx.playerMgr.dujieInfo.Cost[0].count?yx.windowMgr.showWindow("dujie"):yx.ToastUtil.showListToast("修为不足")))},onTuPoBtnClick:function onTuPoBtnClick(){yx.playerMgr.getDuJieLevel()<10&&yx.playerMgr.reqDuJieLevelUp()},onXiuLianBtnClick:function onXiuLianBtnClick(){yx.playerMgr.getDuJieLevel()<10&&yx.playerMgr.reqPlayerXiuLian()},onLingGenBtnClick:function onLingGenBtnClick(){yx.CodeHelper.checkFuncOpen(13)&&yx.windowMgr.showWindow("wudao")},onGongFaBtnClick:function onGongFaBtnClick(){yx.CodeHelper.checkFuncOpen(14)&&yx.windowMgr.showWindow("gongfa",yx.proto.GongFaType.MenPai)},onXianMengBtnClick:function onXianMengBtnClick(){if(yx.CodeHelper.checkFuncOpen(82)){if(!yx.xianMengMgr.getXianMengData())return yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengInfo_Cmd,null,null),void yx.ToastUtil.showListToast("无仙盟数据");yx.xianMengMgr.getMyXianMengInfo()?yx.windowMgr.showWindow("xianMengWindow"):yx.windowMgr.showWindow("xianMengListPanel1")}},onMenPaiBtnClick:function onMenPaiBtnClick(){yx.CodeHelper.checkFuncOpen(15)&&yx.windowMgr.showWindow("menPai")},onDongFuBtnClick:function onDongFuBtnClick(){yx.CodeHelper.checkFuncOpen(21)&&yx.windowMgr.showWindow("dongfu")},onBigEventBtnClick:function onBigEventBtnClick(){yx.windowMgr.showWindow("xiulianlog")},onTuPoBaoAnimFinished:function onTuPoBaoAnimFinished(){this._tupoAnimPlaying=!1,this._refreshXiuWei()},onEventCurrencyChange:function onEventCurrencyChange(e){this.isShown()&&(e&&e[yx.CyType.XIUWEI]&&(this.homeNode.active&&yx.ToastUtil.showSimpleToast("修为提升："+e[yx.CyType.XIUWEI],this.node),this._xiulianPbElapse=0,this._refreshXiuWei()),this._refreshCurrency())},preloadOnLevelUp:function preloadOnLevelUp(){yx.log("preloadOnLevelUp");var e=yx.cfgMgr.getRecordList("FuncOpenConfig",{conditionkind:1,conditionnum:yx.playerMgr.getDuJieLevel()+1});if(e){var n=[];if(e.forEach(function(e){e.WindowName&&e.WindowName.forEach(function(e){n.push(e)})}),n.length<=0)return;n=n.filter(function(e,t){return n.indexOf(e)===t}),yx.log("开始预加载preload:"+n);var t=yx.windowMgr.getPreloadPrefab(n);if(yx.log("预加载个数:"+t.length),t&&0<t.length){var i=new Array,o=!0,r=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l={path:s.value,type:"file"};i.push(l)}}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}yx.resUtil.PreLoadResArray(i,function(e,t){},function(e,t){yx.log(yx.playerMgr.getDuJieLevel()+1+"级的开关已预加载")})}}},onBattleFuncOpen:function onBattleFuncOpen(){var e=yx.cfgMgr.getRecordByKey("FuncOpenConfig",{ID:64});if(!e)return!1;var t=e.conditionkind;yx.CodeHelper.getMyOwnConditionNumByType(t)==e.conditionnum&&yx.battleMgr.reqEnterGjInfo()},onEventLevelUp:function onEventLevelUp(e){if(yx.ActivityMgr.Info(),this.onBattleFuncOpen(),this.preloadOnLevelUp(),this._refreshShouChongBtn(),this.isShown()){this._refreshLevel(),this._refreshXiuWei();var t={};if(t.name=yx.playerMgr.getName(),t.year=yx.timeUtil.getXiuLianYear(),t.levelName=yx.playerMgr.dujieInfo.Name,e.type==yx.proto.LevelUpType.DU_JIE){if(e.succ){t.index=0,t.amount=0;var n=yx.cfgMgr.getOneRecord("DuJieConfig",{Level:yx.playerMgr.getDuJieLevel()-1});if(n){var i=yx.cfgMgr.getRecordByKey("DropConfig",n.RewardId);i&&(t.amount=i.drop_value[0].count)}yx.playerMgr.getDuJieLevel()<=10&&(this._tupoAnimPlaying=!0,this.tupoBtn.active=!1,this.tupoBaoAnim.play()),this._refreshHead()}else t.index=1;yx.DiarysUtil.addShowTextToRichText(null,"main",t)}yx.BadgeMgr.showBadge(this.gongfaBtn.node,yx.gongfaMgr.hasNewGongFa())}yx.sdkLayer.sendExtraData(yx.SendExtraType.TYPE_LEVEL_UP)},onEventXiuLian:function onEventXiuLian(){this.isShown()&&(this._xiulianElapse=yx.playerMgr.getXiuLianElapse(),0<this._xiulianElapse?(this.xiulianBtn.node.active=!1,this.xiulianTimeNode.active=!0,this.xiulianTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(this._xiulianElapse),this.xiulianPbNode.active=!0,this.schedule(this._refreshXiuLianTime,1)):this._refreshXiuLianTime())},onEventFirstRechargeInfo:function onEventFirstRechargeInfo(){this._refreshShouChongBtn(),this.onEventRefreshBadge()},onEventShowBattle:function onEventShowBattle(){},onEventShouCangReveived:function onEventShouCangReveived(){this._refreshWxShouCangBtn()},_resetTaskData:function _resetTaskData(e,t,n,i,o,r,a,s){var c=yx.cfgMgr.getOneRecord("TaskConfig",{ID:e.serverData.id}),l="";switch(this.animYuanquan.node.active=!1,this.animSaoguang.node.active=!1,e.serverData.state){case yx.proto.GuidanceStateType.Processing:if(1==c.IsCount)if(0<c.Count)l="<color=#FFD066>"+e.serverData.process1+"/"+c.Count+"</color>";else if(0<c.Value.length){var u=e.serverData.process1,d=c.Value[0];0==d&&(u=e.serverData.process2,d=c.Value[1]),l="<color=#FFD066>"+u+"/"+d+"</color>"}break;case yx.proto.GuidanceStateType.Finish:l="<color=#00C800>已完成</color>",this.animYuanquan.node.active=!0,this.animSaoguang.node.active=!0}t.string="<color=#ffffff>"+c.desc+"</color> "+l;var h=c.Reward[0];if(h){a.active=!0;var g=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:h.id});g.Type==yx.ItemType.FISH?yx.resUtil.LoadSpriteFromResConfig(g.Icon,yx.ResType.FISH,n):yx.resUtil.LoadSpriteByIconName(g.Icon,n),n.node.setScale(.5),i.string=h.count}else a.active=!1;var p=c.Reward[1];if(p){s.active=!0;var y=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:p.id});y.Type==yx.ItemType.FISH?yx.resUtil.LoadSpriteFromResConfig(y.Icon,yx.ResType.FISH,o):yx.resUtil.LoadSpriteByIconName(y.Icon,o),o.node.setScale(.5),o.node.active=!0,r.string=p.count}else s.active=!1},onRefreshTaskPanel:function onRefreshTaskPanel(e){e&&yx.log("change=="+e.change);var t=yx.taskMgr.getCurTask();if(t){if(this._curWorld,yx.proto.WorldType.Sky,this.taskBtn.node.active=yx.serverMgr.IsAuditPassed(),e&&e.change){this._resetTaskData(t,this.next_taskDesc,this.next_taskRewardSp1,this.next_taskRewardLabel1,this.next_taskRewardSp2,this.next_taskRewardLabel2,this.next_taskReward1,this.next_taskReward2);var n=cc.moveTo(.2,cc.v2(-this._taskMask_Width,this._curTask_position.y));this.cur_taskGroup.runAction(n);var i=cc.sequence(cc.delayTime(.05),cc.moveTo(.2,cc.v2(this._curTask_position.x,this._curTask_position.y)),cc.callFunc(this.moveEAnimFinish,this));this.next_taskGroup.runAction(i)}else this._resetTaskData(t,this.cur_taskDesc,this.cur_taskRewardSp1,this.cur_taskRewardLabel1,this.cur_taskRewardSp2,this.cur_taskRewardLabel2,this.cur_taskReward1,this.cur_taskReward2);this.isShown()&&this.homeNode.active&&(t.step&&0<t.step.length?yx.taskMgr.addTutor(this.taskBtn.node):yx.taskMgr.removeTutor())}else this.taskBtn.node.active=!1},moveEAnimFinish:function moveEAnimFinish(){var e=yx.taskMgr.getCurTask();this._resetTaskData(e,this.cur_taskDesc,this.cur_taskRewardSp1,this.cur_taskRewardLabel1,this.cur_taskRewardSp2,this.cur_taskRewardLabel2,this.cur_taskReward1,this.cur_taskReward2),this.cur_taskGroup.setPosition(this._curTask_position.x,this._curTask_position.y),this.next_taskGroup.setPosition(this._curTask_position.x+this._taskMask_Width,this._curTask_position.y)},onTaskBtnClick:function onTaskBtnClick(){yx.taskMgr.getCurTask().serverData.state==yx.proto.GuidanceStateType.Finish&&this.animBaoZha.setAnimation(0,"baozha",!1),yx.taskMgr.clickTaskItem()},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&(yx.BadgeMgr.showBadge(this.chatTag,yx.BadgeMgr.IsShow(yx.proto.RedDotType.Mail)),yx.BadgeMgr.showBadge(this.huodongBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.Activity)),yx.BadgeMgr.showBadge(this.richangBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.Daily)),yx.BadgeMgr.showBadge(this.jiyuanBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.JiYuan)),yx.BadgeMgr.showBadge(this.linggenBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.LingChi)),yx.BadgeMgr.showBadge(this.menpaiBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MenPai)),yx.BadgeMgr.showBadge(this.dongfuBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFu)),yx.BadgeMgr.showBadge(this.firstRechargeBtn.node,!0),yx.BadgeMgr.showBadge(this.gongfaBtn.node,yx.gongfaMgr.hasNewGongFa()),yx.BadgeMgr.showBadge(this.zongMenBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ZongMen)),yx.BadgeMgr.showBadge(this.vipBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MonthCardReward)),this._chengZhangLiBaoScrMap&&(this._chengZhangLiBaoScrMap[yx.SpecialActivity.MILING]&&this._chengZhangLiBaoScrMap[yx.SpecialActivity.MILING].onBadgeRefresh(),this._chengZhangLiBaoScrMap[yx.SpecialActivity.ZIYAUNLIBAO2]&&this._chengZhangLiBaoScrMap[yx.SpecialActivity.ZIYAUNLIBAO2].onBadgeRefresh(),this._chengZhangLiBaoScrMap[yx.SpecialActivity.XIANSHICOST]&&this._chengZhangLiBaoScrMap[yx.SpecialActivity.XIANSHICOST].onBadgeRefresh(),this._chengZhangLiBaoScrMap[yx.SpecialActivity.PERDAYCHONGZHI]&&this._chengZhangLiBaoScrMap[yx.SpecialActivity.PERDAYCHONGZHI].onBadgeRefresh()))},onEventGongFaChange:function onEventGongFaChange(e){e.operateType==yx.proto.GongFaCmdType.AddSkill&&yx.BadgeMgr.showBadge(this.gongfaBtn.node,yx.gongfaMgr.hasNewGongFa())},onEventRefreshWorld:function onEventRefreshWorld(){this.refreshWorld()},refreshWorld:function refreshWorld(){null==this._curWorld&&(this._curWorld=yx.playerMgr.getLastGameWorld(),yx.playerMgr.setCurGameWorld(this._curWorld));var e=this._curWorld==yx.proto.WorldType.Sky,t=yx.playerMgr.IsFlyUp();this.tianShangBtn.node.active=!e&&t,this.renJianBtn.node.active=e,this.lingYuInfoNode.active=e,this.weiWangInfoNode.active=!e,this._refreshCurrency();var n=yx.taskMgr.getCurTask();this.taskBtn.node.active=yx.serverMgr.IsAuditPassed()&&n,this.fangshiBtn.node.active=yx.serverMgr.IsAuditPassed()&&!e,this.xianfangBtn.node.active=yx.serverMgr.IsAuditPassed()&&e,this.bottom.active=!e,this.gongfaBtn.node.active=yx.serverMgr.IsAuditPassed(),this.skybottom.active=e,this._refreshScene()},onEventMainShang:function onEventMainShang(){this.roleNode.active=!1,this.faxiangNode.active=!1,this.roleEffectNode.active=!1,this.roleTitleNode.active=!1},onEventMainXia:function onEventMainXia(e){this._curWorld=e,yx.playerMgr.setCurGameWorld(this._curWorld),this.refreshWorld();var t=cc.sequence(cc.delayTime(.8),cc.callFunc(function(){this.roleNode.active=!0,this.faxiangNode.active=!0,this.roleEffectNode.active=!0,this.roleTitleNode.active=!0}.bind(this)));this.node.runAction(t),yx.playerMgr.changeWorld(e)},onTianShangBtnClick:function onTianShangBtnClick(){1==yx.cfgMgr.getOneRecord("SystemConfig",{id:102}).int_value?yx.windowMgr.showWindow("changeWorldPanel",yx.proto.WorldType.Sky):yx.ToastUtil.showListToast("暂未开放")},onRenJianBtnClick:function onRenJianBtnClick(){yx.windowMgr.showWindow("changeWorldPanel",yx.proto.WorldType.Ground)},onFenXiangBtnClick:function onFenXiangBtnClick(){yx.windowMgr.showWindow("fenXiang")},onWxShouCangBtnClick:function onWxShouCangBtnClick(){yx.windowMgr.showWindow("wxShouCang")},onRankBtnClick:function onRankBtnClick(){yx.CodeHelper.checkFuncOpen(61)&&yx.windowMgr.showWindow("rankPanel")},onAtrrRankBtnClick:function onAtrrRankBtnClick(){yx.windowMgr.showWindow("activity",{tabType:yx.proto.ActivityType.AttributeRank})},onqqQunBtnClick:function onqqQunBtnClick(){yx.windowMgr.showWindow("qqQunRewardPanel")},onZongMenBtnClick:function onZongMenBtnClick(){yx.CodeHelper.checkFuncOpen(94)&&(0!=yx.ZongMenMgr.getZongMenData().id?yx.windowMgr.showWindow("zongMen"):yx.windowMgr.showWindow("createZongMenPanel"))},onJingJiBtnClick:function onJingJiBtnClick(){},onFaQiBtnClick:function onFaQiBtnClick(){},onYouLiBtnClick:function onYouLiBtnClick(){},onSkyXiulianBtnClick:function onSkyXiulianBtnClick(){yx.CodeHelper.checkFuncOpen(96)&&yx.windowMgr.showWindow("xiuLianWindow")},onEventChengZhangRefresh:function onEventChengZhangRefresh(){this._chengZhangLiBaoScrMap||(this._chengZhangLiBaoScrMap={});var e=yx.ChengZhangLiBaoMgr.getLiBaoMap();for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(this._chengZhangLiBaoScrMap[n.id])this._chengZhangLiBaoScrMap[n.id].onUpdate();else{var i=cc.instantiate(this.chengZhangLiBaoItemPrefab),o=i.getComponent(r);o&&(o.init(n.id),this.chengZhangLiBaoContent.addChild(i),this._chengZhangLiBaoScrMap[n.id]=o,1001!=n.id&&1002!=n.id&&1003!=n.id&&1004!=n.id&&1005!=n.id&&1006!=n.id&&1007!=n.id&&1008!=n.id&&1009!=n.id&&1010!=n.id&&1011!=n.id||(i.active=yx.CodeHelper.checkFuncOpenShow(n.id)))}}},checkAtrrRankBtn:function checkAtrrRankBtn(){this.atrrRankBtn.node.active=yx.serverMgr.IsAuditPassed()&&yx.CodeHelper.checkFuncOpenShow(74)&&yx.CodeHelper.checkFuncOpenDisplay(74);var e=yx.ActivityMgr.getActivityType(yx.proto.ActivityType.AttributeRank);e?e.endTime<=yx.timeUtil.getServerTime()&&(this.atrrRankBtn.node.active=!1,yx.log("排行榜活动结束")):(this.atrrRankBtn.node.active=!1,yx.log("没有排行榜活动"))},onEventActivityRefresh:function onEventActivityRefresh(){var i=this;this.checkAtrrRankBtn(),this._chengZhangLiBaoScrMap||(this._chengZhangLiBaoScrMap={}),[yx.SpecialActivity.MILING,yx.SpecialActivity.SHIZHUANG,yx.SpecialActivity.XIANSHICOST,yx.SpecialActivity.JUEXUECANYE,yx.SpecialActivity.FENGSHENBANG,yx.SpecialActivity.PERDAYCHONGZHI].forEach(function(e){if(i._chengZhangLiBaoScrMap[e])i._chengZhangLiBaoScrMap[e].onUpdate();else{var t=cc.instantiate(i.chengZhangLiBaoItemPrefab),n=t.getComponent(r);n&&(n.init(e),i.chengZhangLiBaoContent.addChild(t),i._chengZhangLiBaoScrMap[e]=n)}})},onEventItemChange:function onEventItemChange(e){var t=!1;e&&(t=(t=(t=t||this._checkHasEquit(e.add))||this._checkHasEquit(e.sub))||this._checkHasEquit(e.wear)),t&&this._refreshBagBtnDot()},_checkHasEquit:function _checkHasEquit(e){for(var t in e){var n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e[t].itemId});if(n&&n.Type===yx.ItemType.EQUIP)return!0}return!1},_refreshBagBtnDot:function _refreshBagBtnDot(){yx.bagMgr.splitItemDataBySlot(yx.bagMgr.getItemList());var e=yx.bagMgr.getBestEquitItemInfo();0<Object.keys(e).length?yx.BadgeMgr.showBadge(this.bagBtn.node,!0):yx.BadgeMgr.showBadge(this.bagBtn.node,!1)},onGoBattleBtnClick:function onGoBattleBtnClick(){if(this._curWorld==yx.proto.WorldType.Sky){if(!yx.CodeHelper.checkFuncOpen(97))return}else if(!yx.CodeHelper.checkFuncOpen(64))return;yx.windowMgr.showWindow("mainBattleWindow")},onEventTaskRefresh:function onEventTaskRefresh(e){var t=yx.cfgMgr.getOneRecord("SystemConfig",{id:125});if(!yx.localStorage.Load(yx.LSKey.YIYUAN_TASK+":"+yx.playerMgr.getPid())&&e.guidanceInfo.id==t.int_value){if(!yx.CodeHelper.checkFuncOpen(1012))return;yx.windowMgr.showWindow("shouChongPanel")}},onEventLogin:function onEventLogin(){yx.log("mainwindow reqPlayerMsg"),yx.playerMgr.reqPlayerMsg()},onChatBtnClick:function onChatBtnClick(){yx.CodeHelper.checkFuncOpen(75)&&yx.windowMgr.showWindow("chatPanel")},onChatRefreshList:function onChatRefreshList(){var e=yx.mailMgr.getChatList();if(0<e.length){var t=e[0];this.chatName.string="【"+t.serverName+"】"+t.playerName,this.chatContent.string=t.msg}},startBattleGetRewardSchedule:function startBattleGetRewardSchedule(){cc.Canvas.instance._battleGetRewardSchedule||(cc.Canvas.instance._battleGetRewardSchedule=this.battleGetRewardSchedule.bind(this)),cc.Canvas.instance.unschedule(cc.Canvas.instance._battleGetRewardSchedule),cc.Canvas.instance.schedule(cc.Canvas.instance._battleGetRewardSchedule,7,cc.macro.REPEAT_FOREVER,3)},onEventShowBattleWindow:function onEventShowBattleWindow(){cc.Canvas.instance.unschedule(cc.Canvas.instance._battleGetRewardSchedule)},battleGetRewardSchedule:function battleGetRewardSchedule(){yx.battleMgr.reqGJReward()},onChengZhangOpenBtnClick:function onChengZhangOpenBtnClick(){this.chengZhangOpenBtn.node.active=!1,this.chengZhangCloseBtn.node.active=!0,this.chengZhangLiBaoContent.active=!0},onChengZhangCloseBtnClick:function onChengZhangCloseBtnClick(){this.chengZhangOpenBtn.node.active=!0,this.chengZhangCloseBtn.node.active=!1,this.chengZhangLiBaoContent.active=!1},startNameCertificationSchedule:function startNameCertificationSchedule(){0!=yx.playerMgr.getNameCertShowTime()&&(cc.Canvas.instance._nameCertificationSchedule||(cc.Canvas.instance._nameCertificationSchedule=this.nameCertificationSchedule.bind(this)),cc.Canvas.instance.unschedule(cc.Canvas.instance._nameCertificationSchedule),cc.Canvas.instance.schedule(cc.Canvas.instance._nameCertificationSchedule,1,cc.macro.REPEAT_FOREVER,3))},nameCertificationSchedule:function nameCertificationSchedule(){var e=yx.playerMgr.getNameCertShowTime();0!=e&&yx.timeUtil.getServerTime()>e&&(yx.playerMgr.setNameCertShowTime(0),cc.Canvas.instance.unschedule(cc.Canvas.instance._nameCertificationSchedule),yx.windowMgr.showWindow("nameCertificationPanel",!1))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ChengZhangLiBaoItem:"ChengZhangLiBaoItem",MainBattleWindow:"MainBattleWindow",WindowInfoDict:"WindowInfoDict"}],MenPaiChuangongPanel:[function(e,t,n){cc._RF.push(t,"07a843oJoZEAIkXYtjXSrJz","MenPaiChuangongPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,zhangmenZhiwei:cc.Label,zhangmenName:cc.Label,zhangmenIcon:cc.Sprite,chuangongDesc:cc.RichText,bottomGroup1:cc.Node,costIcon:cc.Sprite,costValue:cc.Label,chuangongBtn:cc.Button,bottomGroup2:cc.Node,costIcon1:cc.Sprite,costValue1:cc.Label,costValue2:cc.Label,costValue3:cc.Label,buy1Btn:cc.Button,buy2Btn:cc.Button,buy3Btn:cc.Button,buy2BtnDesc:cc.Label,buy3BtnDesc:cc.Label,bottomGroup3:cc.Node,leftCountDesc:cc.Label,chuangongBtn3:cc.Button},_onInit:function _onInit(e){this._endTime1=e.endTime1,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.chuangongBtn.node.on("click",this.onChuangongBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.buy1Btn.node.on("click",this.onChuangongBtnClick1,this),this.buy2Btn.node.on("click",this.onBuyBtn2Click,this),this.buy3Btn.node.on("click",this.onBuyBtn3Click,this),this.chuangongBtn3.node.on("click",this.onChuangongBtnClick3,this),this.costIcon.node.setScale(.7),this.costIcon1.node.setScale(.7),this.bottomGroup1.active=!1,this.bottomGroup2.active=!1,this.bottomGroup3.active=!1,yx.eventDispatch.addListener(yx.EventType.MENPAI_LIANGONGCOUNT_REFRESH,this.liangongCountRefresh,this)},_onShow:function _onShow(){yx.menPaiMgr.getLiangongCount()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this.bottomGroup1.active=!1,this.bottomGroup2.active=!1,this.bottomGroup3.active=!1;var e=yx.menPaiMgr.getMineMenPaiConfig(),t=yx.menPaiMgr.GetNpcZhangMenConifg(e),n=yx.menPaiMgr.DaiLiZhangMen();n?(this.zhangmenName.string=n.Name,this.zhangmenZhiwei.string=t.ZhiWuName,n.Icon&&yx.resUtil.LoadSpriteFromResConfig(n.Icon,yx.ResType.HEAD,this.zhangmenIcon)):t&&(this.zhangmenName.string=t.Name,this.zhangmenZhiwei.string=t.ZhiWuName,null!=t.Icon&&(yx.log("icon22==="+t.Icon),yx.resUtil.LoadSpriteFromResConfig(t.Icon,yx.ResType.NPC,this.zhangmenIcon)));var i=yx.cfgMgr.getRecordByKey("LianGongFangConfig",{ID:2}),o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:i.cost[0].id});o&&null!=o.Icon&&0<o.Icon.length&&(yx.resUtil.LoadSpriteByType(o.Icon,yx.ResType.ITEM,this.costIcon),yx.resUtil.LoadSpriteByType(o.Icon,yx.ResType.ITEM,this.costIcon1));var r="<color=#345A5C>作为族长，我可以给你护法传功，将百年道行隔体传功给你，使你功力大增（获得{bei}倍练功速度{nian}年）</color>",a=yx.timeUtil.minutes2year(i.time);r=r.format({bei:i.multiple,nian:a}),this.chuangongDesc.string=r,this.costValue.string=i.cost[0].count;var s=yx.cfgMgr.getOneRecord("ChuanGongBuyConfig",{ID:1}),c=yx.cfgMgr.getOneRecord("ChuanGongBuyConfig",{ID:2}),l=yx.menPaiMgr.getLiangongCountData(),u="剩余传功次数："+l.left;1e3<l.left&&(u="剩余传功次数：无限"),this.leftCountDesc.string=u,this.costValue1.string=i.cost[0].count,this.costValue2.string=s.Desc,this.costValue3.string=c.Desc,this.buy2BtnDesc.string=s.ButtName,this.buy3BtnDesc.string=c.ButtName;var d=yx.cfgMgr.getOneRecord("SystemConfig",{id:92});l.lian<d.int_value?this.bottomGroup1.active=!0:0<l.left?this.bottomGroup3.active=!0:this.bottomGroup2.active=!0},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_handleChuangong:function _handleChuangong(e){if(yx.timeUtil.getServerTime()<this._endTime1)return yx.ToastUtil.showListToast("传功中。。。"),!1;if(0!=yx.menPaiMgr.ZhangMenLianGongStartTime()&&yx.timeUtil.IsSameDay(yx.menPaiMgr.ZhangMenLianGongStartTime(),yx.timeUtil.getServerTime()))return yx.ToastUtil.showListToast("今日已经修炼过了。"),!1;var t=yx.menPaiMgr.getMineMenPaiConfig();if(!yx.menPaiMgr.IsDaiLiZhangMen()&&yx.menPaiMgr.currZhiWei()<t.XiuLianZhiwu&&!yx.playerMgr.isVip())return yx.ToastUtil.showListToast("内门弟子以上才可以修炼"),!1;if(e){var n=yx.cfgMgr.getRecordByKey("LianGongFangConfig",{ID:2}),i=yx.bagMgr.GetItemName(n.cost[0].id);if(yx.bagMgr.GetItemOwnCount(n.cost[0].type,n.cost[0].id)<n.cost[0].count)return yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_CHUANGONG}),yx.ToastUtil.showListToast("你所拥有的"+i+"不足"),!1}return!0},onChuangongBtnClick:function onChuangongBtnClick(){this._handleChuangong(!0)&&(yx.windowMgr.goBack(),yx.menPaiMgr.LianGong(2))},onChuangongBtnClick1:function onChuangongBtnClick1(){this._handleChuangong(!0)&&(yx.windowMgr.goBack(),yx.menPaiMgr.LianGong(2))},onChuangongBtnClick3:function onChuangongBtnClick3(){this._handleChuangong(!1)&&(yx.windowMgr.goBack(),yx.menPaiMgr.LianGong(2))},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onBuyBtn2Click:function onBuyBtn2Click(){var e=yx.cfgMgr.getOneRecord("ChuanGongBuyConfig",{ID:1});yx.reChargeMgr.reqReCharge(e.RechargId[0])},onBuyBtn3Click:function onBuyBtn3Click(){var e=yx.cfgMgr.getOneRecord("ChuanGongBuyConfig",{ID:2});yx.reChargeMgr.reqReCharge(e.RechargId[0])},liangongCountRefresh:function liangongCountRefresh(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],MenPaiDuiHuanPanel:[function(e,t,n){cc._RF.push(t,"b8f81xO7c9GjIF2N+rE3bSn","MenPaiDuiHuanPanel");var i,o,r,a=e("BaseWindow"),s=e("MenPaiDuiHuanScrollItem");cc.Class((i={extends:a,properties:{closeBtn:cc.Button,scrollContent:cc.Node,menPaiDuiHuanScrollItemPrefab:cc.Prefab,maskSp:cc.Button,danyaoTab:cc.Button,dandaoTab:cc.Button,qidaoTab:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE,this.onExchangeReFresh,this),yx.eventDispatch.addListener(yx.EventType.UPDATE_EXCHANGE,this.onEventUpdateChange,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.danyaoTab.node.on("click",this.onDanyaoTabClick,this),this.dandaoTab.node.on("click",this.onDandaoTabClick,this),this.qidaoTab.node.on("click",this.onQidaoTabClick,this),this._tabs=[this.danyaoTab,this.dandaoTab,this.qidaoTab],this._curTab=0;var e=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:1,Page:1}),t=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:1,Page:2}),n=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:1,Page:3});this._duihuanList=[e,t,n],this._itemArr=[],this._delayArr=[],this._lastDelayTime=0},update:function update(){},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onDanyaoTabClick:function onDanyaoTabClick(){0!=this._curTab&&(this._curTab=0,this._refreshTab())},onDandaoTabClick:function onDandaoTabClick(){1!=this._curTab&&(this._curTab=1,this._refreshTab())},onQidaoTabClick:function onQidaoTabClick(){2!=this._curTab&&(this._curTab=2,this._refreshTab())},_refreshTab:function _refreshTab(){for(var n=this,e=0;e<this._tabs.length;e++){var t=this._tabs[e];t.node.getChildByName("selected").active=!1,t.node.getChildByName("Background").active=!0}this._tabs[this._curTab].node.getChildByName("selected").active=!0,this._tabs[this._curTab].node.getChildByName("Background").active=!1,this._itemArr[this._curTab]||(this._itemArr[this._curTab]=[],this._duihuanList[this._curTab].forEach(function(e){var t={};t.tab=n._curTab,t.cfg=e,n._delayArr.push(t)}));for(var i=0;i<this._itemArr.length;i++){var o=this._itemArr[i];if(null!=o){var r=!1;i==this._curTab&&(r=!0);for(var a=0;a<o.length;a++)o[a].onShow(r)}}},_refresh:function _refresh(){this._refreshTab()},onExchangeReFresh:function onExchangeReFresh(){var e=!0,t=!1,n=void 0;try{for(var i,o=this._itemArr[this._curTab][Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.refreshExchange()}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}yx.ToastUtil.showListToast("兑换成功")},onEventUpdateChange:function onEventUpdateChange(){var e=!0,t=!1,n=void 0;try{for(var i,o=this._itemArr[this._curTab][Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.refreshExchange()}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},r=function(){if(this.isShown()&&(this._lastDelayTime++,this._delayArr[0]&&2<this._lastDelayTime)){this._lastDelayTime=0;var e=cc.instantiate(this.menPaiDuiHuanScrollItemPrefab),t=e.getComponent(s);t&&(t.init(this._delayArr[0].cfg),this.scrollContent.addChild(e),this._itemArr[this._delayArr[0].tab].push(t)),this._delayArr.splice(0,1)}},(o="update")in i?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,i)),cc._RF.pop()},{BaseWindow:"BaseWindow",MenPaiDuiHuanScrollItem:"MenPaiDuiHuanScrollItem"}],MenPaiDuiHuanScrollItem:[function(e,t,n){cc._RF.push(t,"be950Oe8zpEi5NzdFb5wWYe","MenPaiDuiHuanScrollItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{duihuanBtn:cc.Button,duihuanLabel:cc.Label,rewardNode:cc.Node,cailiaoNode1:cc.Node,cailiaoNode2:cc.Node,cailiaoNode3:cc.Node,hasLearn:cc.Node,hasOwn:cc.Node},init:function init(e){this.duihuanBtn.node.on("click",this.onDuihuanBtnClick,this),this._data=e,this._costNodes=[this.cailiaoNode1,this.cailiaoNode2,this.cailiaoNode3];var t={};t.content="<color=#345A5C>"+e.GetReward[0].count+"</color>",t.ID=e.GetReward[0].id,yx.ItemRichTextWidget.CreateItemSlot(t,this.rewardNode,"reward_1",null);for(var n=0;n<3;n++)if(n<e.Cost.length){var i=e.Cost[n],o={},r=i.id,a=yx.bagMgr.GetItemOwnCount(i.type,i.id);a<i.count?o.content="<color=#FF0000>"+a+"/"+i.count+"</color>":o.content="<color=#00C800>"+a+"/"+i.count+"</color>",o.ID=r,yx.ItemRichTextWidget.CreateItemSlot(o,this._costNodes[n],"cailiao_1",null)}else this._costNodes[n].active=!1;this.duihuanLabel.string=yx.menPaiMgr.getExchangeCount(this._data.ID)+"/"+this._data.DayNum,this._refreshStatus()},onDuihuanBtnClick:function onDuihuanBtnClick(){if(yx.log("兑换"),yx.menPaiMgr.getExchangeCount(this._data.ID)>=this._data.DayNum)yx.ToastUtil.showListToast("剩余兑换次数不足");else{for(var e=!0,t=0;t<this._data.Cost.length;t++)if(t<this._data.Cost.length){var n=this._data.Cost[t];if(yx.bagMgr.GetItemOwnCount(n.type,n.id)<n.count){e=!1;break}}e?yx.menPaiMgr.duiHuan(this._data.ID):yx.ToastUtil.showListToast("兑换材料不足")}},refreshExchange:function refreshExchange(){this.duihuanLabel.string=yx.menPaiMgr.getExchangeCount(this._data.ID)+"/"+this._data.DayNum;for(var e=0;e<3;e++){var t=this._costNodes[e].getComponentInChildren(yx.ItemRichTextWidget);if(t){var n=this._data.Cost[e],i={},o=n.id,r=yx.bagMgr.GetItemOwnCount(n.type,n.id);r<n.count?i.content="<color=#FF0000>"+r+"/"+n.count+"</color>":i.content="<color=#00C800>"+r+"/"+n.count+"</color>",i.ID=o,t.refresh(i)}}this._refreshStatus()},_refreshStatus:function _refreshStatus(){this.hasLearn.active=!1,this.hasOwn.active=!1,this.duihuanBtn.node.active=!1;var e=yx.cfgMgr.getOneRecord("ItemConfig",{ID:this._data.GetReward[0].id});yx.bagMgr.checkHasLearn(e)?this.hasLearn.active=!0:yx.bagMgr.checkHasOwn(e)?this.hasOwn.active=!0:this.duihuanBtn.node.active=!0},onShow:function onShow(e){this.node.active=e},_onUpdate:function _onUpdate(){var e={};e.content="<color=#345A5C>"+this._data.GetReward[0].count+"</color>",e.ID=this._data.GetReward[0].id;var t=this.rewardNode.getComponentInChildren(yx.ItemRichTextWidget);t?t.refresh(e):yx.ItemRichTextWidget.CreateItemSlot(e,this.rewardNode,"reward_1",null);for(var n=0;n<3;n++)if(n<this._data.Cost.length){var i=this._data.Cost[n],o={},r=i.id,a=yx.bagMgr.GetItemOwnCount(i.type,i.id);a<i.count?o.content="<color=#FF0000>"+a+"/"+i.count+"</color>":o.content="<color=#00C800>"+a+"/"+i.count+"</color>",o.ID=r;var s=this._costNodes[n].getComponentInChildren(yx.ItemRichTextWidget);s?s.refresh(o):yx.ItemRichTextWidget.CreateItemSlot(o,this._costNodes[n],"cailiao_"+n,null)}else this._costNodes[n].active=!1;this.duihuanLabel.string=yx.menPaiMgr.getExchangeCount(this._data.ID)+"/"+this._data.DayNum,this._refreshStatus()},_initItem:function _initItem(){this.duihuanBtn.node.on("click",this.onDuihuanBtnClick,this),this._costNodes=[this.cailiaoNode1,this.cailiaoNode2,this.cailiaoNode3]},_updateItem:function _updateItem(){}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],MenPaiMgr:[function(e,t,n){cc._RF.push(t,"07210BHy/dIbbtfC41Hck+0","MenPaiMgr"),yx.MenPaiManager=function(){this._mineMenPaiData={},this._firstRequestInfoFlag=!1,this._liangongCountData=null,this._joinMap={}},yx.MenPaiManager.prototype={constructor:yx.MenPaiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.JOIN_MENPAI,this.onMessageJoinMenPai),yx.network.addHandler(yx.proto.CmdId.QUIT_MENPAI,this.onMessageMenPaiExit),yx.network.addHandler(yx.proto.CmdId.MENPAI,this.onMessageMenPaiInfo),yx.network.addHandler(yx.proto.CmdId.MENPAI_START_TASK,this.onMessageDoTask),yx.network.addHandler(yx.proto.CmdId.MENPAI_PAY,this.onMessageMenPaiFenglu),yx.network.addHandler(yx.proto.CmdId.LIANGONG,this.onMessageLianGong),yx.network.addHandler(yx.proto.CmdId.MENPAI_CHALLENGE,this.onMessageTiaoZhan),yx.network.addHandler(yx.proto.CmdId.MENPAI_PROMOTION,this.onMessageTiShengZhiWei),yx.network.addHandler(yx.proto.CmdId.MENPAI_SAYHI,this.onMessageQingAn),yx.network.addHandler(yx.proto.CmdId.MENPAI_STUDY_SKILL,this.onMessageXueXiSkill),yx.network.addHandler(yx.proto.CmdId.MENPAI_STUDY,this.onMessageQieCuo),yx.network.addHandler(yx.proto.CmdId.LIANGONG_COUNT,this.onMessageGetLiangongCount),yx.network.addHandler(yx.proto.CmdId.LING_QUAN_PRACTICE,this.onMessageLQXiuLian),yx.eventDispatch.addListener(yx.EventType.RECHARGE_RESULT,this.rechargeResult,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_ZENGLI,this.onMessageZengLi,this)},Join:function Join(e){yx.log("[MenPaiManager] Join");var t=new yx.proto.C2S_JoinMenpai;t.star=e,yx.network.sendMessage(yx.proto.CmdId.JOIN_MENPAI,t)},Info:function Info(){yx.log("[MenPaiManager] Info");var e=new yx.proto.C2S_Menpai;yx.network.sendMessage(yx.proto.CmdId.MENPAI,e)},fengLu:function fengLu(){yx.log("[MenPaiManager] fengLu");var e=new yx.proto.C2S_MenpaiPay;yx.network.sendMessage(yx.proto.CmdId.MENPAI_PAY,e)},PK:function PK(e){yx.log("[MenPaiManager] PK");var t=new yx.proto.C2S_MenpaiChallenge;t.lingPai=e,yx.network.sendMessage(yx.proto.CmdId.MENPAI_CHALLENGE,t)},panJiao:function panJiao(){yx.log("[MenPaiManager] panJiao");var e=new yx.proto.C2S_QuitMenpai;yx.network.sendMessage(yx.proto.CmdId.QUIT_MENPAI,e)},qingAn:function qingAn(e){yx.log("[MenPaiManager] qingAn configId=="+e);var t=new yx.proto.C2S_MenpaiSayHi;t.id=e,yx.network.sendMessage(yx.proto.CmdId.MENPAI_SAYHI,t)},qieCuo:function qieCuo(e){yx.log("[MenPaiManager] qieCuo npcId=="+e);var t=new yx.proto.C2S_MenpaiStudy;t.npcId=e,yx.network.sendMessage(yx.proto.CmdId.MENPAI_STUDY,t)},xueXi:function xueXi(e){yx.log("[MenPaiManager] xueXi IndexId=="+e);var t=new yx.proto.C2S_MenpaiStudySkill;t.gongfaId=e,yx.network.sendMessage(yx.proto.CmdId.MENPAI_STUDY_SKILL,t)},tiShen:function tiShen(e){yx.log("[MenPaiManager] tiShen zhiwei=="+e);var t=new yx.proto.C2S_MenpaiPromotion;t.zhiwu=e,yx.network.sendMessage(yx.proto.CmdId.MENPAI_PROMOTION,t)},zengLi:function zengLi(e){yx.log("[MenPaiManager] zengLi npcId=="+e);var t=yx.cfgMgr.getRecordByKey("DaoLvListConfig",{NpcID:e});yx.log("[MenPaiManager] zengLi daoLvId=="+t.ID),yx.daoLvMgr.reqDaoLv(yx.proto.DaoLvCmdType.GifgGiving_Cmd,t.ID)},LianGong:function LianGong(e){yx.log("[MenPaiManager] LianGong id=="+e);var t=new yx.proto.C2S_Liangong;t.configId=e,yx.network.sendMessage(yx.proto.CmdId.LIANGONG,t)},RenWuDo:function RenWuDo(e){yx.log("[MenPaiManager] RenWuDo taskId=="+e);var t=new yx.proto.C2S_MenpaiStartTask;t.taskId=e,yx.network.sendMessage(yx.proto.CmdId.MENPAI_START_TASK,t)},duiHuan:function duiHuan(e){yx.log("[MenPaiManager] duiHuan exchangeID=="+e),yx.bagMgr.reqExchangeItem(e)},getLiangongCount:function getLiangongCount(){yx.log("[MenPaiManager] getLiangongCount");var e=new yx.proto.C2S_LianGongCount;yx.network.sendMessage(yx.proto.CmdId.LIANGONG_COUNT,e)},lqXiuLian:function lqXiuLian(){yx.log("[MenPaiManager] lqXiuLian");var e=new yx.proto.C2S_LingQuanPractice;yx.network.sendMessage(yx.proto.CmdId.LING_QUAN_PRACTICE,e)},onMessageJoinMenPai:function onMessageJoinMenPai(e){yx.log("onMessageJoinMenPai-----"),null!=e&&0<e.length?yx.log("[MenPaiMgr onMessageJoinMenPai] error:"+e):yx.menPaiMgr.Info()},onMessageMenPaiInfo:function onMessageMenPaiInfo(e,t){if(yx.log("onMessageMenPaiInfo-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageMenPaiInfo] error:"+e);else{var n=yx.proto.S2C_Menpai.decode(t);yx.menPaiMgr.setMineMenPaiData(n),yx.menPaiMgr.setFirstRequestInfoFlag(!0),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_INFO_REFRESH)}},onMessageMenPaiFenglu:function onMessageMenPaiFenglu(e,t){if(yx.log("onMessageMenPaiFenglu-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageMenPaiFenglu] error:"+e);else{var n=yx.proto.S2C_MenpaiPay.decode(t),i={};i.lastPayTime=n.payTime,yx.menPaiMgr.setMineMenPaiData(i),yx.ToastUtil.showListToast("领取成功"),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_FENGLU_REFRESH)}},onMessageMenPaiExit:function onMessageMenPaiExit(e){yx.log("onMessageMenPaiExit-----"),null!=e&&0<e.length?yx.log("[MenPaiMgr onMessageMenPaiExit] error:"+e):(yx.menPaiMgr.clearMineMenPaiData(),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_INFO_REFRESH),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_QUIT_REFRESH))},onMessageQingAn:function onMessageQingAn(e,t){if(yx.log("onMessageQingAn-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageQingAn] error:"+e);else{var n=yx.proto.S2C_MenpaiSayHi.decode(t),i={};i.lastSayHiTime=n.sayHiTime,yx.menPaiMgr.setMineMenPaiData(i);var o=yx.menPaiMgr.getMineMenPaiConfig(),r=yx.menPaiMgr.GetNpcZhangMenConifg(o);if(r){var a="<color=#FF5603>{palyerName}</color>恭恭敬敬得向{npcName}磕头请安，“师傅在上，徒儿给您请安了”。\n<color=#FF5603>{npcName}</color>微微点头示意起身。\n",s=n.drop;if(0<s.length)for(var c=0;c<s.length;c++){var l=s[c];a=a+yx.bagMgr.GetItemName(l.itemId)+"<color=#ffd066>+"+l.amount+"</color>,"}a=a.substring(0,a.length-1);var u=r.Name,d=yx.menPaiMgr.DaiLiZhangMen();d&&(u=d.Name),a=a.format({palyerName:yx.playerMgr.getName(),npcName:u}),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_ADD_DAIRY_LOG,{talkContent:a}),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_QINGAN_REFRESH)}}},onMessageXueXiSkill:function onMessageXueXiSkill(e){yx.log("onMessageXueXiSkill-----"),null!=e&&0<e.length?yx.log("[MenPaiMgr onMessageXueXiSkill] error:"+e):yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_SKILL_REFRESH)},onMessageTiShengZhiWei:function onMessageTiShengZhiWei(e,t){if(yx.log("onMessageTiShengZhiWei-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageTiShengZhiWei] error:"+e);else{var n=yx.proto.S2C_MenpaiPromotion.decode(t),i={};i.zhiwei=n.zhiwu,yx.menPaiMgr.setMineMenPaiData(i),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_ZHIWEI_REFRESH),yx.ToastUtil.showListToast("申请成功")}},onMessageLianGong:function onMessageLianGong(e,t){if(yx.log("onMessageLianGong-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageLianGong] error:"+e);else{var n=yx.proto.S2C_Liangong.decode(t);yx.menPaiMgr.setLiangongData(n.liangong),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_LIANGONG_REFRESH)}},onMessageDoTask:function onMessageDoTask(e,t){if(yx.log("onMessageDoTask-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageDoTask] error:"+e);else{var n=yx.proto.S2C_MenpaiStartTask.decode(t);yx.menPaiMgr.setMineMenPaiData(n),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_TASK_REFRESH)}},onMessageTiaoZhan:function onMessageTiaoZhan(e,t){if(yx.log("onMessageTiaoZhan-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageTiaoZhan] error:"+e);else{var n="",i=yx.menPaiMgr.DaiLiZhangMen();if(i)n=i.Name;else{var o=yx.menPaiMgr.getMineMenPaiConfig(),r=yx.menPaiMgr.GetNpcZhangMenConifg(o);r&&(n=r.Name)}var a=yx.proto.S2C_MenpaiChallenge.decode(t),s={};s.challengeEndTime=a.challengeEndTime,s.ticketEndTime=a.ticketEndTime,a.result&&a.result.win&&(s.zhangmenIcon=yx.playerMgr.getHeadID(),s.zhangmenId=yx.playerMgr.getPid(),s.zhangmenName=yx.playerMgr.getName()),yx.menPaiMgr.setMineMenPaiData(s),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_TIAOZHAN_REFRESH);var c={eason:"menpai_tiaozhan"};c.defendName=n,c.result=a.result,yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_PK_SHOW,c)}},onMessageQieCuo:function onMessageQieCuo(e,t){if(yx.log("onMessageQieCuo-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageQieCuo] error:"+e);else{var n=yx.proto.S2C_MenpaiStudy.decode(t);yx.log("resp.result.fightInfo.defense=="+n.result.init2.id);var i=n.result.win,o=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:n.result.npcId}),r="",a=yx.menPaiMgr.DaiLiZhangMen();o?(r=o.Name,1==o.ZhiWuID&&a&&(r=a.Name)):r=a.Name;var s="",c="",l="";if(i){l="\n",s="#FF5603",c=yx.playerMgr.getName();var u=n.result.drop;if(0<u.length){for(var d=0;d<u.length;d++){var h=u[d];l=l+yx.bagMgr.GetItemName(h.itemId)+"<color=#ffd066>+"+h.amount+"</color>,"}l=l.substring(0,l.length-1)}}else s="#FF5603",c=r;var g="听闻你道法高强，今日我来请求指点一下，若有失礼之处，还望多多包涵……\n<color=#FF5603>{npcName}</color>：以武论道，岂不快哉！\n<color={colorName}}>{winName}</color>：承让！承让！{rewardDesc}";g=g.format({npcName:r,colorName:s,winName:c,rewardDesc:l}),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_ADD_DAIRY_LOG,{talkContent:g});var p={eason:"menpai_qiecuo"};p.result=n.result,yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_PK_SHOW,p)}},onMessageZengLi:function onMessageZengLi(e){if(yx.log("onMessageZengLi"),null==e.result){var t=e.daoLvInfo[0].id;yx.log("daoLvId =="+t);var n=yx.cfgMgr.getRecordByKey("DaoLvListConfig",{ID:t}),i=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:n.NpcID}),o=yx.cfgMgr.getRecordByKey("TalkListConfig",{ID:i.ZengLiSuccTalkID});if(o){var r="<color=#FF5603>"+i.Name+":</color>"+o.Talk;yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_ADD_DAIRY_LOG,{talkContent:r})}}},onMessageGetLiangongCount:function onMessageGetLiangongCount(e,t){if(yx.log("onMessageGetLiangongCount-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageGetLiangongCount] error:"+e);else{var n=yx.proto.S2C_LianGongCount.decode(t);yx.menPaiMgr.setLiangongCountData(n),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_LIANGONGCOUNT_REFRESH)}},onMessageLQXiuLian:function onMessageLQXiuLian(e,t){if(yx.log("onMessageLQXiuLian-----"),null!=e&&0<e.length)yx.log("[MenPaiMgr onMessageLQXiuLian] error:"+e);else{var n=yx.proto.S2C_LingQuanPractice.decode(t);yx.menPaiMgr.setMineMenPaiData(n),yx.ToastUtil.showListToast("修为+"+n.addXiuWei),yx.eventDispatch.dispatchMsg(yx.EventType.MENPAI_LINGQUAN_REFRESH)}},getMenPaiListByStar:function getMenPaiListByStar(e){return yx.cfgMgr.getRecordList("MenPaiConfig",{Star:e})},getMenPaiConfig:function getMenPaiConfig(e){return yx.cfgMgr.getRecordByKey("MenPaiConfig",{ID:e})},getMineMenPaiConfig:function getMineMenPaiConfig(){return this.isOwnMenPai()?yx.cfgMgr.getRecordByKey("MenPaiConfig",{ID:this._mineMenPaiData.menpaiId}):null},setLiangongData:function setLiangongData(e){yx.log("data.id=="+e.id),1==e.id?(yx.log("data.liangongStartTime=="+e.start),yx.log("data.liangongEndTime=="+e.end),this._mineMenPaiData.liangongStartTime=e.start,this._mineMenPaiData.liangongEndTime=e.end):(yx.log("data.zhangmenliangongStartTime=="+e.start),yx.log("data.zhangmenliangongEndTime=="+e.end),this._mineMenPaiData.zhangmenliangongStartTime=e.start,this._mineMenPaiData.zhangmenliangongEndTime=e.end)},setMineMenPaiId:function setMineMenPaiId(e){if(null!=e){this._mineMenPaiData.menpaiId=e;var t=yx.cfgMgr.getRecordByKey("MenPaiConfig",{ID:e});if(t)return void(this._mineMenPaiData.menpaiName=t.DefName)}this._mineMenPaiData.menpaiName="散修"},getMineMengPaiName:function getMineMengPaiName(){return this._mineMenPaiData.menpaiName?this._mineMenPaiData.menpaiName:""},setMineMenPaiData:function setMineMenPaiData(e){if(e.hasOwnProperty("menpaiId")&&(yx.log("resp.menpaiId=="+e.menpaiId),this.setMineMenPaiId(e.menpaiId)),e.hasOwnProperty("zhangmenId")&&(yx.log("resp.zhangmenId=="+e.zhangmenId),this._mineMenPaiData.zhangmenId=e.zhangmenId),e.hasOwnProperty("zhangmenName")&&(yx.log("resp.zhangmenName=="+e.zhangmenName),this._mineMenPaiData.zhangmenName=e.zhangmenName),e.hasOwnProperty("liangong"))for(var t=0;t<e.liangong.length;t++){var n=e.liangong[t];this.setLiangongData(n)}if(e.hasOwnProperty("taskId")&&(yx.log("resp.taskId=="+e.taskId),this._mineMenPaiData.taskId=e.taskId),e.hasOwnProperty("taskStartTime")&&(yx.log("resp.taskStartTime=="+e.taskStartTime),this._mineMenPaiData.taskStartTime=e.taskStartTime),e.hasOwnProperty("lastPayTime")&&(yx.log("resp.lastPayTime=="+e.lastPayTime),this._mineMenPaiData.lastPayTime=e.lastPayTime),e.hasOwnProperty("lastSayHiTime")&&(yx.log("resp.lastSayHiTime=="+e.lastSayHiTime),this._mineMenPaiData.lastSayHiTime=e.lastSayHiTime),e.hasOwnProperty("zhiwei")&&(yx.log("resp.zhiwei=="+e.zhiwei),this._mineMenPaiData.zhiwei=e.zhiwei),e.hasOwnProperty("zhangmenIcon")&&(yx.log("resp.zhangmenIcon=="+e.zhangmenIcon),this._mineMenPaiData.zhangmenIcon=e.zhangmenIcon),e.hasOwnProperty("challengeEndTime")&&(yx.log("resp.challengeEndTime=="+e.challengeEndTime),this._mineMenPaiData.challengeEndTime=e.challengeEndTime),e.hasOwnProperty("ticketEndTime")&&(yx.log("resp.ticketEndTime=="+e.ticketEndTime),this._mineMenPaiData.ticketEndTime=e.ticketEndTime),e.hasOwnProperty("joinId"))for(var i=0;i<e.joinId.length;i++)this._joinMap[e.joinId[i]]=1;e.hasOwnProperty("lingQuanCount")&&(this._lingQuanCount=e.lingQuanCount),e.hasOwnProperty("lingQuanMaxCount")&&(this._lingQuanMaxCount=e.lingQuanMaxCount)},clearMineMenPaiData:function clearMineMenPaiData(){this._mineMenPaiData={}},getMineMenPaiData:function getMineMenPaiData(){return this._mineMenPaiData},isOwnMenPai:function isOwnMenPai(){return!(!this._mineMenPaiData.menpaiId||0==this._mineMenPaiData.menpaiId)},getGongXian:function getGongXian(){return yx.playerMgr.getCurrency(yx.CyType.GONGXIAN)},HasGetFenglu:function HasGetFenglu(){return!!yx.timeUtil.IsSameDay(this._mineMenPaiData.lastPayTime,yx.timeUtil.getServerTime())},DaiLiZhangMen:function DaiLiZhangMen(){return this._mineMenPaiData.zhangmenId&&0<this._mineMenPaiData.zhangmenId?{ID:this._mineMenPaiData.zhangmenId,Name:this._mineMenPaiData.zhangmenName,Icon:this._mineMenPaiData.zhangmenIcon}:null},IsDaiLiZhangMen:function IsDaiLiZhangMen(){return!!this._mineMenPaiData.zhangmenId&&this._mineMenPaiData.zhangmenId==yx.playerMgr.getPid()},HasQingAn:function HasQingAn(){return!!yx.timeUtil.IsSameDay(this._mineMenPaiData.lastSayHiTime,yx.timeUtil.getServerTime())},currZhiWei:function currZhiWei(){return this._mineMenPaiData.zhiwei},getExchangeCount:function getExchangeCount(e){return yx.playerMgr.getItemExchangeCount(e)},CurrRenWu:function CurrRenWu(){return this._mineMenPaiData.taskId},RenWuStartTime:function RenWuStartTime(){return this._mineMenPaiData.taskStartTime},LianGongStartTime:function LianGongStartTime(){return this._mineMenPaiData.liangongStartTime},LianGongEndTime:function LianGongEndTime(){return this._mineMenPaiData.liangongEndTime},ZhangMenLianGongStartTime:function ZhangMenLianGongStartTime(){return this._mineMenPaiData.zhangmenliangongStartTime},ZhangMenLianGongEndTime:function ZhangMenLianGongEndTime(){return this._mineMenPaiData.zhangmenliangongEndTime},PKEndTime:function PKEndTime(){return this._mineMenPaiData.challengeEndTime?this._mineMenPaiData.challengeEndTime:0},TiaoZhanLingEndTime:function TiaoZhanLingEndTime(){return this._mineMenPaiData.ticketEndTime?this._mineMenPaiData.ticketEndTime:0},GetNpcZhangMenConifg:function GetNpcZhangMenConifg(e){for(var t=e.Npc,n=0;n<t.length;n++){var i=t[n],o=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:i.ID});if(1==o.ZhiWuID)return o}return null},IsDaoLv:function IsDaoLv(e){return!!yx.cfgMgr.getRecordByKey("DaoLvListConfig",{NpcID:e})},setFirstRequestInfoFlag:function setFirstRequestInfoFlag(e){this._firstRequestInfoFlag=e},getFirstRequestInfoFlag:function getFirstRequestInfoFlag(){return this._firstRequestInfoFlag},setLiangongCountData:function setLiangongCountData(e){this._liangongCountData={},this._liangongCountData.left=e.left,this._liangongCountData.lian=e.lian},getLiangongCountData:function getLiangongCountData(){return this._liangongCountData},rechargeResult:function rechargeResult(e){var t=yx.cfgMgr.getOneRecord("ChuanGongBuyConfig",{ID:1}),n=yx.cfgMgr.getOneRecord("ChuanGongBuyConfig",{ID:2});e.id!==t.RechargId[0]&&e.id!==n.RechargId[0]||yx.menPaiMgr.getLiangongCount()},hasJoin:function hasJoin(e){return this._joinMap[e]},getLQXiuLianCount:function getLQXiuLianCount(){return this._lingQuanCount},getLQMaxXiuLianCount:function getLQMaxXiuLianCount(){return this._lingQuanMaxCount}},yx.menPaiMgr=new yx.MenPaiManager,t.exports=yx.menPaiMgr,cc._RF.pop()},{}],MenPaiQingAnPanel:[function(e,t,n){cc._RF.push(t,"77bbfoHrsdFKJm0utrHiMSw","MenPaiQingAnPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,qingAnBtn1:cc.Button,qingAnBtn2:cc.Button,qingAnBtn3:cc.Button,qingAnLabel1:cc.Label,qingAnLabel2:cc.Label,qingAnLabel3:cc.Label},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.qingAnBtn1.node.on("click",this.onQingAnBtn1Click,this),this.qingAnBtn2.node.on("click",this.onQingAnBtn2Click,this),this.qingAnBtn3.node.on("click",this.onQingAnBtn3Click,this);var e=yx.cfgMgr.getRecordByKey("MenPaiQingAnConfig",{ID:1});this.qingAnLabel1.string=e.Name;var t=yx.cfgMgr.getRecordByKey("MenPaiQingAnConfig",{ID:2});this.qingAnLabel2.string=t.Name;var n=yx.cfgMgr.getRecordByKey("MenPaiQingAnConfig",{ID:3});this.qingAnLabel3.string=n.Name},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){},qinganConfirmCallback:function qinganConfirmCallback(){for(var e=yx.cfgMgr.getRecordByKey("MenPaiQingAnConfig",{ID:this.selectId_}).Cost,t=0;t<e.length;t++){var n=e[t],i=n.id;if(0==n.type){var o=yx.cfgMgr.getOneRecord("ItemConfig",i);if(yx.playerMgr.getCurrency(i)<n.count)return void yx.ToastUtil.showListToast(o.Name+"不足")}else{var r=yx.bagMgr.getItemNum(i),a=yx.cfgMgr.getOneRecord("ItemConfig",i);if(r<n.count)return void yx.ToastUtil.showListToast(a.Name+"不足")}}yx.windowMgr.goBack(),yx.menPaiMgr.qingAn(this.selectId_)},_qinganHandle:function _qinganHandle(e){this.selectId_=e;var t=yx.cfgMgr.getRecordByKey("MenPaiQingAnConfig",{ID:e}),n=t.Cost,i=t.Desc1+"\n\n"+t.Desc2;if(0<n.length){i+="\n\n需要消耗：";for(var o=0;o<n.length;o++){var r=n[o],a=r.id,s=yx.cfgMgr.getOneRecord("ItemConfig",a);i=i+r.count+s.Name+","}i=i.substring(0,i.length-1)}yx.TextConfirm.ShowConfirm(i,this.qinganConfirmCallback.bind(this))},onQingAnBtn1Click:function onQingAnBtn1Click(){yx.menPaiMgr.HasQingAn()?yx.ToastUtil.showListToast("今天已经请安过了。"):this._qinganHandle(1)},onQingAnBtn2Click:function onQingAnBtn2Click(){yx.menPaiMgr.HasQingAn()?yx.ToastUtil.showListToast("今天已经请安过了。"):this._qinganHandle(2)},onQingAnBtn3Click:function onQingAnBtn3Click(){yx.menPaiMgr.HasQingAn()?yx.ToastUtil.showListToast("今天已经请安过了。"):this._qinganHandle(3)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],MenPaiSelectPanel:[function(e,t,n){cc._RF.push(t,"6c64bgC7hFFvpR0bVXGBIfM","MenPaiSelectPanel");var i=e("BaseWindow"),o=e("MenPaiSelectScrollItem");cc.Class({extends:i,properties:{closeBtn:cc.Button,randomJoinBtn:cc.Button,scrollContent:cc.Node,menPaiSelectItemPrefab:cc.Prefab},_onInit:function _onInit(e){yx.log("star=="+e.star),this._star=e.star,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.randomJoinBtn.node.on("click",this.onRandomJoinBtnClick,this),this._delayArr=[],this._lastDelayTime=0},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onRandomJoinBtnClick:function onRandomJoinBtnClick(){yx.log("随机加入"),yx.windowMgr.goBack(),yx.menPaiMgr.Join(this._star)},_refresh:function _refresh(){var t=this,e=yx.menPaiMgr.getMenPaiListByStar(this._star);this.scrollContent.removeAllChildren(!0),this._delayArr=[],e.forEach(function(e){t._delayArr.push(e)})},update:function update(){if(this.isShown()&&(this._lastDelayTime++,this._delayArr[0]&&2<this._lastDelayTime)){this._lastDelayTime=0;var e=cc.instantiate(this.menPaiSelectItemPrefab),t=e.getComponent(o);t&&(t.init(this._delayArr[0]),this.scrollContent.addChild(e)),this._delayArr.splice(0,1)}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",MenPaiSelectScrollItem:"MenPaiSelectScrollItem"}],MenPaiSelectScrollItem:[function(e,t,n){cc._RF.push(t,"a6e96/aOLFJpYJRm2M/XL1h","MenPaiSelectScrollItem"),cc.Class({extends:cc.Component,properties:{zhengSp:cc.Sprite,xieSp:cc.Sprite,lianqiSp:cc.Sprite,liandanSp:cc.Sprite,titleLabel:cc.Label,descRichText:cc.RichText,jinengNode:cc.Node,jinengLabel:cc.Label,dailizhangmenLabel1:cc.Label,dailizhangmenLabel:cc.Label,weijiaru:cc.Sprite,yijiaru:cc.Sprite,skillIcon:cc.Sprite},init:function init(e){if(yx.log("select"+e.ID),this.skillIcon.node.on("click",this.onSkillBtnClick,this),this.titleLabel.string=e.DefName,this.descRichText.string="<color=#345A5C>"+e.DefDesc+"</color>",0==e.Type?(this.zhengSp.node.active=!0,this.xieSp.node.active=!1):(this.zhengSp.node.active=!1,this.xieSp.node.active=!0),0<e.AddReward.length?80022==e.AddReward[0].id?(this.liandanSp.node.active=!1,this.lianqiSp.node.active=!0):(this.liandanSp.node.active=!0,this.lianqiSp.node.active=!1):(this.liandanSp.node.active=!1,this.lianqiSp.node.active=!1),this.jinengNode.active=!1,this.skillIcon.node.active=!1,this.skillIcon.node.scale=.5,0<e.GongFa.length)for(var t=0;t<e.GongFa.length;t++){var n=e.GongFa[t];if(n.ZhiWei==yx.MenPaiZhiWeiType.HUFU){this.jinengNode.active=!0,this.skillIcon.node.active=!0,this._skillConfig=yx.cfgMgr.getRecordByKey("SkillConfig",{ID:n.ID,Type:n.Type}),this._skillConfig&&(this.jinengLabel.string=this._skillConfig.Name,1==this._skillConfig.Type?yx.resUtil.LoadSpriteFromResConfig(this._skillConfig.Icon,yx.ResType.SKILL,this.skillIcon):yx.resUtil.LoadSpriteFromResConfig(this._skillConfig.Icon,yx.ResType.ITEM,this.skillIcon));break}}yx.menPaiMgr.hasJoin(e.ID)?(this.yijiaru.node.active=!0,this.weijiaru.node.active=!1):(this.yijiaru.node.active=!1,this.weijiaru.node.active=!0)},onSkillBtnClick:function onSkillBtnClick(){var e={};e.configData=this._skillConfig,e.skillIconNode=this.skillIcon.node,yx.windowMgr.showWindow("skillTipsPanel",e),yx.log("点击技能")}}),cc._RF.pop()},{}],MenPaiShouYePanel:[function(e,t,n){cc._RF.push(t,"17518vBAmBBYZlKQxtxWWv6","MenPaiShouYePanel");var i=e("BaseWindow"),r=e("MenPaiShouYeScrollItem");cc.Class({extends:i,properties:{closeBtn:cc.Button,scrollContent:cc.Node,menPaiShouYeScrollItemPrefab:cc.Prefab,maskSp:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.GONG_FA_CHANGE,this.onReFreshSkill,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this._itemList={}},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=yx.menPaiMgr.getMineMenPaiConfig().GongFa;this._itemList=new Array;var i=this,o=0;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.menPaiShouYeScrollItemPrefab),n=t.getComponent(r);n&&(n.init(e,o+1),i.scrollContent.addChild(t),i._itemList.push(n),o+=1)})},onReFreshSkill:function onReFreshSkill(){var e=!0,t=!1,n=void 0;try{for(var i,o=this._itemList[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.onReFreshSkill()}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",MenPaiShouYeScrollItem:"MenPaiShouYeScrollItem"}],MenPaiShouYeScrollItem:[function(e,t,n){cc._RF.push(t,"d8d056ZMXFJIoJNaK1ztT5p","MenPaiShouYeScrollItem"),cc.Class({extends:cc.Component,properties:{gongfaSpBg:cc.Sprite,gongfaSp:cc.Sprite,gongfaNameLabel:cc.Label,leixingLabel:cc.Label,yaoqiuLabel:cc.Label,xiulianBtn:cc.Button,yixiulianSp:cc.Sprite,maskBtn:cc.Button},init:function init(e,t){if(this.xiulianBtn.node.on("click",this.onXiulianBtnClick,this),this.maskBtn.node.on("click",this.onSkillIconBtnClick,this),this._skillConfig=yx.cfgMgr.getRecordByKey("SkillConfig",{ID:e.ID,Type:e.Type}),this._data=e,this.xiulianBtn.node.name="xiulianBtn_"+t,this._skillConfig){var n=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:e.ZhiWei});this.gongfaNameLabel.string=this._skillConfig.Name,this.leixingLabel.string=this._skillConfig.TypeName,this.yaoqiuLabel.string=n.ZhiWuName,1==this._skillConfig.Type?(this.gongfaSp.node.setScale(.8),this.gongfaSpBg.node.active=!1,yx.resUtil.LoadSpriteFromResConfig(this._skillConfig.Icon,yx.ResType.SKILL,this.gongfaSp)):(this.gongfaSpBg.node.active=!0,yx.resUtil.LoadSpriteFromResConfig(this._skillConfig.Icon,yx.ResType.ITEM,this.gongfaSp)),this.onReFreshSkill()}else this.node.active=!1},onReFreshSkill:function onReFreshSkill(){yx.log("onReFreshSkill   "+this._data.Type+"===="+this._data.ID),yx.gongfaMgr.hasLearn(this._data.Type,this._data.ID)?(this.yixiulianSp.node.active=!0,this.xiulianBtn.node.active=!1):(this.yixiulianSp.node.active=!1,this.xiulianBtn.node.active=!0)},onXiulianBtnClick:function onXiulianBtnClick(){yx.log("学习功法"),yx.menPaiMgr.currZhiWei()<this._data.ZhiWei?yx.ToastUtil.showListToast("请先提升门派职位"):yx.menPaiMgr.xueXi(this._skillConfig.Index)},onSkillIconBtnClick:function onSkillIconBtnClick(){var e={};e.configData=this._skillConfig,e.skillIconNode=this.gongfaSp.node,yx.windowMgr.showWindow("skillTipsPanel",e)}}),cc._RF.pop()},{}],MenPaiTaskScrollItem:[function(e,t,n){cc._RF.push(t,"40973p4JuFJBYDGmUwkjv8x","MenPaiTaskScrollItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{titleLabel:cc.Label,descRichText:cc.Label,conditionLabel:cc.Label,rewardLabel:cc.Label,startBtn:cc.Button,progressBar:cc.ProgressBar,timeLabel:cc.Label,descLabel:cc.Label,progressGroup:cc.Node},onStartTaskBtnClick:function onStartTaskBtnClick(){yx.log("开始任务"),yx.playerMgr.getDuJieLevel()<this._data.Level?yx.ToastUtil.showListToast("您的境界太低"):yx.menPaiMgr.RenWuDo(this._data.ID)},update:function update(){if(this._isUpdate){var e=Math.max(0,60*this._data.Time*1e3+yx.menPaiMgr.RenWuStartTime()-yx.timeUtil.getServerTime());this.progressBar.progress=e/(60*this._data.Time*1e3),this.timeLabel.string=yx.timeUtil.seconds2hourMinSecond(e/1e3)}},_refreshBadge:function _refreshBadge(){var e=!1;yx.menPaiMgr.CurrRenWu()<=0&&yx.playerMgr.getDuJieLevel()>=this._data.Level&&(e=!0),yx.BadgeMgr.showBadge(this.startBtn.node,e)},_onUpdate:function _onUpdate(){yx.playerMgr.getDuJieLevel()<this._data.Level?this.conditionLabel.node.color=new cc.Color(255,0,0):this.conditionLabel.node.color=new cc.Color(0,200,0);for(var e=yx.menPaiMgr.currZhiWei(),t="",n=0;n<this._data.BaseReward.length;n++){var i=this._data.BaseReward[n],o=yx.bagMgr.GetItemName(i.id),r=0,a=this._data["zhiwu"+e];if(a)for(var s=0;s<a.length;s++){var c=a[s];if(c.id==i.id){r=c.count;break}}t=t+o+"*"+i.count+"("+r+"),"}t=t.substring(0,t.length-1),this.rewardLabel.string=t,this.descLabel.string="任务中...",yx.menPaiMgr.CurrRenWu()==this._data.ID?(this.startBtn.node.active=!1,this.progressGroup.active=!0,this._isUpdate=!0):(this.startBtn.node.active=!0,this.progressGroup.active=!1,this._isUpdate=!1),this._refreshBadge()},_initItem:function _initItem(e,t){this.startBtn.node.name="taskBtn_"+t.ID,this.startBtn.node.on("click",this.onStartTaskBtnClick,this),this.titleLabel.string=t.DefName,this.descRichText.string=t.DefDesc;var n=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:t.Level});this.conditionLabel.string=n.Name,yx.BadgeMgr.addBadge(this.startBtn.node,60,15)},_updateItem:function _updateItem(e,t){this.startBtn.node.name="taskBtn_"+t.ID,this.titleLabel.string=t.DefName,this.descRichText.string=t.DefDesc;var n=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:t.Level});this.conditionLabel.string=n.Name}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],MenPaiTiaoZhanPanel:[function(e,t,n){cc._RF.push(t,"8c8612bqvRGE7SyMlOMzN70","MenPaiTiaoZhanPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,titleLabel:cc.Label,zhangmenName:cc.Label,zhangmenIcon:cc.Sprite,tiaozhanBtn:cc.Button,tiaozhanlingBtn:cc.Button,tiaozhanDesc:cc.RichText,tiaozhanZiGeRichText:cc.RichText,tiaozhanCostRichText:cc.RichText,tiaozhanCostSp:cc.Sprite,tiaozhanlingTimeLabel:cc.Label,tiaozhanCD:cc.Node,tiaozhanCDProgress:cc.ProgressBar,tiaozhanCDLabel:cc.Label},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.MENPAI_TIAOZHAN_REFRESH,this.onTiaoZhanRefresh,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.tiaozhanBtn.node.on("click",this.onTiaozhanBtnClick,this),this.tiaozhanlingBtn.node.on("click",this.onTiaozhanlingBtnBtnClick,this),this.tiaozhanCostSp.node.setScale(.5)},onEventItemChange:function onEventItemChange(e){if(this.isShown()&&e.add&&0<e.add.length)for(var t in e.add)99990007===e.add[t].itemId&&this._refresh()},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){var e=yx.cfgMgr.getRecordByKey("SystemConfig",{id:76}),t=yx.timeUtil.minutes2year(e.int_value),n="<color=#345A5C>修真炼道，强者为尊。妖族每{nian}年开启族长挑战，战胜上一任族长即可担任本派族长。</color>";n=n.format({nian:t}),this.tiaozhanDesc.string=n;var i=yx.cfgMgr.getRecordByKey("SystemConfig",{id:80}),o=yx.timeUtil.minutes2year(i.int_value),r=yx.menPaiMgr.getMineMenPaiConfig();this.titleLabel.string=r.DefName;var a=yx.bagMgr.GetItemName(r.PKZhangMenCost[0].id),s="<color=#345A5C>成为妖族护法\n消耗{costValue}{costName}\n使用族长挑战令，{nian2}年内在当前妖族挑战代理族长不限次数</color>";s=s.format({costValue:r.PKZhangMenCost[0].count,costName:a,nian2:o}),this.tiaozhanZiGeRichText.string=s;var c=yx.cfgMgr.getRecordByKey("SystemConfig",{id:79}).str_value,l=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:c[0].id});null!=l.Icon&&yx.resUtil.LoadSpriteByType(l.Icon,yx.ResType.ITEM,this.tiaozhanCostSp);var u="<color=#00c800>{own}</color><color=#ffffff>/{cost}</color>";u=u.format({cost:c[0].count,own:yx.bagMgr.GetItemOwnCount(c[0].type,c[0].id)}),this.tiaozhanCostRichText.string=u,yx.timeUtil.getServerTime()<yx.menPaiMgr.TiaoZhanLingEndTime()?(this.tiaozhanCostRichText.node.active=!1,this.tiaozhanCostSp.node.active=!1,this.tiaozhanlingTimeLabel.node.active=!0,this._update=!0):(this.tiaozhanCostRichText.node.active=!0,this.tiaozhanCostSp.node.active=!0,this.tiaozhanlingTimeLabel.node.active=!1,this._update=!1),yx.timeUtil.getServerTime()<yx.menPaiMgr.PKEndTime()?(this.tiaozhanCD.active=!0,this.tiaozhanCDLabel.string="",this._updateCD=!0):(this.tiaozhanCD.active=!1,this.tiaozhanCDLabel.string="",this._updateCD=!1);var d=yx.menPaiMgr.DaiLiZhangMen();if(d)this.zhangmenName.string=d.Name,d.Icon&&yx.resUtil.LoadSpriteFromResConfig(d.Icon,yx.ResType.HEAD,this.zhangmenIcon);else{var h=yx.menPaiMgr.GetNpcZhangMenConifg(r);h&&(this.zhangmenName.string=h.Name,null!=h.Icon&&(yx.log("icon22==="+h.Icon),yx.resUtil.LoadSpriteFromResConfig(h.Icon,yx.ResType.NPC,this.zhangmenIcon)))}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onTiaozhanBtnClick:function onTiaozhanBtnClick(){if(yx.log("挑战"),yx.menPaiMgr.IsDaiLiZhangMen())yx.ToastUtil.showListToast("你已经是族长了");else if(yx.timeUtil.getServerTime()<yx.menPaiMgr.PKEndTime()){var e=yx.cfgMgr.getRecordByKey("SystemConfig",{id:76}),t=yx.timeUtil.minutes2year(e.int_value);yx.ToastUtil.showListToast("每"+t+"年开启族长挑战")}else if(yx.menPaiMgr.currZhiWei()<yx.MenPaiZhiWeiType.HUFU)yx.ToastUtil.showListToast("护法以上才能挑战");else{var n=yx.menPaiMgr.getMineMenPaiConfig();if(yx.bagMgr.GetItemOwnCount(n.PKZhangMenCost[0].type,n.PKZhangMenCost[0].id)<n.PKZhangMenCost[0].count){var i=yx.bagMgr.GetItemName(n.PKZhangMenCost[0].id);yx.ToastUtil.showListToast(i+"不足")}else yx.windowMgr.goBack(),yx.menPaiMgr.PK(!1)}},onTiaozhanlingBtnBtnClick:function onTiaozhanlingBtnBtnClick(){if(yx.log("挑战令挑战"),yx.menPaiMgr.IsDaiLiZhangMen())yx.ToastUtil.showListToast("你已经是族长了");else if(yx.menPaiMgr.currZhiWei()!=yx.MenPaiZhiWeiType.HUFU)if(yx.timeUtil.getServerTime()<yx.menPaiMgr.PKEndTime()){var e=yx.cfgMgr.getRecordByKey("SystemConfig",{id:76}),t=yx.timeUtil.minutes2year(e.int_value);yx.ToastUtil.showListToast("每"+t+"年开启族长挑战")}else if(yx.timeUtil.getServerTime()<yx.menPaiMgr.TiaoZhanLingEndTime())yx.windowMgr.goBack(),yx.menPaiMgr.PK(!0);else{var n=yx.cfgMgr.getRecordByKey("SystemConfig",{id:79}).str_value;if(yx.bagMgr.GetItemOwnCount(n[0].type,n[0].id)<n[0].count)return yx.CodeHelper.checkFuncOpenShow(71)?void yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_TIAOZHAN}):void yx.ToastUtil.showListToast(yx.bagMgr.GetItemName(n[0].id)+"不足");yx.windowMgr.goBack(),yx.menPaiMgr.PK(!0)}else yx.ToastUtil.showListToast("你已经是护法了")},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},update:function update(){if(this._update)if(yx.timeUtil.getServerTime()<yx.menPaiMgr.TiaoZhanLingEndTime()){var e=yx.menPaiMgr.TiaoZhanLingEndTime()-yx.timeUtil.getServerTime();this.tiaozhanlingTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(e/1e3)}else this._refresh();if(this._updateCD)if(yx.timeUtil.getServerTime()<yx.menPaiMgr.PKEndTime()){var t=yx.menPaiMgr.PKEndTime()-yx.timeUtil.getServerTime();this.tiaozhanCDLabel.string=yx.timeUtil.seconds2hourMinSecond(t/1e3);var n=60*yx.cfgMgr.getRecordByKey("SystemConfig",{id:76}).int_value*1e3;this.tiaozhanCDProgress.progress=t/n}else this._refresh()},onTiaoZhanRefresh:function onTiaoZhanRefresh(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],MenPaiWindow:[function(e,t,n){cc._RF.push(t,"e88dbOx0LRH0YsKVAihAs02","MenPaiWindow");var i=e("BaseWindow"),N=(e("MenPaiTaskScrollItem"),e("ScrollViewRepeat")),u=0,d=0,h=0,g=0,O=cc.Enum({JIAOTAN:1,QINGAN:2,QIECUO:3,XUEXI:4,DUIHUAN:5,TISHENG:6,ZENGLI:7}),R=cc.Enum({TAB1:1,TAB2:2,TAB3:3,TAB4:4,TAB5:5});cc.Class({extends:i,properties:{selectMenPaiGroup:cc.Node,weiwangValueLabel:cc.Label,leftBtn:cc.Button,rightBtn:cc.Button,sureBtn:cc.Button,descRichText:cc.RichText,starGroup:cc.Node,_starNodeArray:null,_curStar:Number,menPaiGroup:cc.Node,gongxianValueLabel:cc.Label,lingshiValueLabel:cc.Label,weiwangValueLabel2:cc.Label,tabScrollview:cc.ScrollView,tabLayout:cc.Node,menpaiTabBtn:cc.Button,liangongfangTabBtn:cc.Button,lingquanTabBtn:cc.Button,renwuTabBtn:cc.Button,menpaixiangqingTabBtn:cc.Button,menpaiContent:cc.Node,liangongfangContent:cc.Node,renwuContent:cc.Node,menpaixiangqingContent:cc.Node,lingquanContent:cc.Node,attrNode:cc.Node,_curTab:Number,_tabArray:null,_tabContentArray:null,zhiweiBtn:cc.Button,fengluBtn:cc.Button,tiaozhanBtn:cc.Button,panjiao:cc.Button,jiaohuBtn1:cc.Button,jiaohuBtn2:cc.Button,jiaohuBtn3:cc.Button,jiaohuBtn4:cc.Button,jiaohuBtn5:cc.Button,headScrollContent:cc.Node,npcName:cc.Label,npcZhiWu:cc.Label,npcDesc:cc.Label,logRichText:cc.RichText,logScrollView:cc.ScrollView,zhengSp:cc.Sprite,xieSp:cc.Sprite,liandanSp:cc.Sprite,liandanDesc:cc.Label,lianqiSp:cc.Sprite,lianqiDesc:cc.Label,liangongDesc:cc.RichText,costRichText:cc.RichText,liangongBtn:cc.Button,liangongGroup:cc.Node,liangongProgressGroup:cc.Node,liangongProgress:cc.ProgressBar,liangongTime:cc.Label,zhangmenLiangongBtn:cc.Button,zhangmenLiangongProgressGroup:cc.Node,zhangmenLiangongProgress:cc.ProgressBar,zhangmenliangongTime:cc.Label,scrollView:cc.Node,scrollContent:cc.Node,menPaiTaskItemPrefab:cc.Prefab,renwuTitleLabel:cc.Label,menpaiNameLabel:cc.Label,menpaiDescRichText:cc.RichText,dailiGroup:cc.Node,dailiZhangmenSp:cc.Sprite,dailiZhangmenLabel:cc.Label,zuzhangSp:cc.Node,feizuzhangSp:cc.Node,shouyiRichText:cc.RichText,timesRichText:cc.RichText,lqcostRichText:cc.RichText,xianyuLabel:cc.Label,xiulianBtn:cc.Button,xiulianLabel:cc.Label,daijiAnim:dragonBones.ArmatureDisplay,xiulianAnim:dragonBones.ArmatureDisplay},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.MENPAI_ADD_DAIRY_LOG,this.onAddDairyLog,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_INFO_REFRESH,this.onInfoRefresh,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_TASK_REFRESH,this.onTaskReFreshTime,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_LIANGONG_REFRESH,this.onLianGongRefresh,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_LINGQUAN_REFRESH,this.onLingquanRefresh,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_PK_SHOW,this.onPKShow,this),yx.eventDispatch.addListener(yx.EventType.DAOLV_ERROR_TIP,this.onDaoLvEventErrorTip,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_TIAOZHAN_REFRESH,this.onTiaoZhanRefresh,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_QINGAN_REFRESH,this.onQingAnRefresh,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_FENGLU_REFRESH,this.onFengluRefresh,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.eventDispatch.addListener(yx.EventType.MENPAI_QUIT_REFRESH,this.onEventQuit,this),this.descRichText.string="<color=#ffffff>人间修真炼道之人，多如江之鲫，数不胜数。又以神州浩土之广阔，人间奇人异士之多，故修炼之道林林总总，俱不相同。</color>",this._starNodeArray=[];for(var e=0;e<9;e++){var t=this.starGroup.getChildByName("Star"+(e+1)+"Sp");this._starNodeArray[e]=t}this.leftBtn.node.on("click",this.onLeftBtnClick,this),this.rightBtn.node.on("click",this.onRightBtnClick,this),this.sureBtn.node.on("click",this.onSureBtnClick,this),this._tabArray=[this.menpaiTabBtn,this.liangongfangTabBtn,this.renwuTabBtn,this.menpaixiangqingTabBtn,this.lingquanTabBtn],this._tabContentArray=[this.menpaiContent,this.liangongfangContent,this.renwuContent,this.menpaixiangqingContent,this.lingquanContent],this.menpaiTabBtn.node.on("click",this.onMenpaiTabClick,this),this.liangongfangTabBtn.node.on("click",this.onLiangongfangTabClick,this),this.renwuTabBtn.node.on("click",this.onRenwuTabClick,this),this.menpaixiangqingTabBtn.node.on("click",this.onMenpaixiangqingTabClick,this),this.lingquanTabBtn.node.on("click",this.onLingquanTabClick,this),this.zhiweiBtn.node.on("click",this.onZhiWeiBtnClick,this),this.fengluBtn.node.on("click",this.onFengluBtnClick,this),this.tiaozhanBtn.node.on("click",this.onTiaozhanBtnClick,this),this.panjiao.node.on("click",this.onPanjiaoBtnClick,this),this.jiaohuBtn1.node.on("click",this.onJiaohuBtn1Click,this),this.jiaohuBtn2.node.on("click",this.onJiaohuBtn2Click,this),this.jiaohuBtn3.node.on("click",this.onJiaohuBtn3Click,this),this.jiaohuBtn4.node.on("click",this.onJiaohuBtn4Click,this),this.jiaohuBtn5.node.on("click",this.onJiaohuBtn5Click,this),this._jiaohuBtns=[this.jiaohuBtn1,this.jiaohuBtn2,this.jiaohuBtn3,this.jiaohuBtn4,this.jiaohuBtn5];for(var n=0;n<this._jiaohuBtns.length;n++){var i=this._jiaohuBtns[n];i.node.active=!1,yx.BadgeMgr.addBadge(i.node,17,130)}this.liangongBtn.node.on("click",this.onLiangongBtnClick,this),this.zhangmenLiangongBtn.node.on("click",this.onZhangmenLiangongBtnClick,this),this._isUpdate=!1,this._isUpdate1=!1,this._endTime=0,this._endTime1=0,this._liangGongTime=0,this._liangGongTime2=0,this.xiulianBtn.node.on("click",this.onXiuLianBtnClick,this),this.xiulianAnim.node.active=!1,yx.eventDispatch.addListener(yx.EventType.PURCHASE_GOODS,this.onEventGoodsChange,this),yx.BadgeMgr.addBadge(this.fengluBtn.node,30,30),yx.BadgeMgr.addBadge(this.liangongBtn.node,80,20),yx.BadgeMgr.addBadge(this.xiulianBtn.node,80,20),yx.BadgeMgr.addBadge(this.menpaiTabBtn.node,40,40),yx.BadgeMgr.addBadge(this.liangongfangTabBtn.node,40,40),yx.BadgeMgr.addBadge(this.lingquanTabBtn.node,40,40),yx.BadgeMgr.addBadge(this.renwuTabBtn.node,40,40),this.liangongfangTabBtn.node.active=yx.CodeHelper.checkFuncOpenDisplay(16)&&yx.serverMgr.IsAuditPassed(),this.lingquanTabBtn.node.active=yx.CodeHelper.checkFuncOpenDisplay(66)&&yx.serverMgr.IsAuditPassed();for(var o=0,r=0;r<this._tabArray.length;r++)this._tabArray[r].node.active&&(o+=1);o<=4&&this.tabScrollview.node.removeComponent(cc.ScrollView),yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"menpai")},onEventGoodsChange:function onEventGoodsChange(e){this.isShown()&&e&&e.shopInfo&&yx.ToastUtil.showListToast("购买成功")},_onShow:function _onShow(e){this._curTab=R.TAB1,e&&(this._curTab=e.tab,this._secondOpen=e.secondOpen),yx.menPaiMgr.Info()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},update:function update(){if(this.isShown()&&this._curTab==R.TAB2){if(this._isUpdate)if(yx.timeUtil.getServerTime()<this._endTime){var e=this._endTime-yx.timeUtil.getServerTime();0<=e&&(this.liangongProgress.progress=e/this._liangGongTime,this.liangongTime.string=yx.timeUtil.seconds2hourMinSecond(e/1e3))}else this._isUpdate=!1,this._refreshTabContent();if(this._isUpdate1)if(yx.timeUtil.getServerTime()<this._endTime1){var t=this._endTime1-yx.timeUtil.getServerTime();0<=t&&(this.zhangmenLiangongProgress.progress=t/this._liangGongTime2,this.zhangmenliangongTime.string=yx.timeUtil.seconds2hourMinSecond(t/1e3))}else this._isUpdate1=!1,this._refreshTabContent()}},_refreshStar:function _refreshStar(){for(var e=0;e<9;e++)this._curStar==e+1?this._starNodeArray[e].active=!0:this._starNodeArray[e].active=!1;this._curStar<=1?this.leftBtn.interactable=!1:this.leftBtn.interactable=!0,9<=this._curStar?this.rightBtn.interactable=!1:this.rightBtn.interactable=!0},_refreshTabContent:function _refreshTabContent(){for(var e=0;e<this._tabArray.length;e++)this._curTab==e+1?(this._tabArray[e].node.getChildByName("selected").active=!0,this._tabArray[e].node.getChildByName("Background").active=!1,this._tabContentArray[e].active=!0):(this._tabArray[e].node.getChildByName("selected").active=!1,this._tabArray[e].node.getChildByName("Background").active=!0,this._tabContentArray[e].active=!1);if(this._curTab==R.TAB1){this.attrNode.active=!0;var t=yx.menPaiMgr.getMineMenPaiConfig(),n=t.Npc;if(null==this._headIndexs){this._headIndexs=[];var i=0,o=this;o.headScrollContent.removeAllChildren(!0),n.forEach(function(e){if(0==i){var t=yx.menPaiMgr.DaiLiZhangMen(),n=null;t&&((n={}).Name=t.Name,n.Icon=t.Icon),yx.NpcRichTextWidget.CreateItemSlot(e,o.headScrollContent,"npc_"+e.ID,o._onSelectHeadItemCb.bind(o),o._onSelectHeadItemCb.bind(o),n)}else yx.NpcRichTextWidget.CreateItemSlot(e,o.headScrollContent,"npc_"+e.ID,o._onSelectHeadItemCb.bind(o));o._headIndexs[i]="npc_"+e.ID,i+=1})}else{for(var r=this.headScrollContent.getComponentsInChildren(yx.NpcRichTextWidget),a=0;a<r.length;a++){var s=r[a];if(s.getInfo().ID==n[0].ID){var c=yx.menPaiMgr.DaiLiZhangMen();if(c){var l={};l.Name=c.Name,l.Icon=c.Icon,s.onRefresh(l)}else s.onRefresh(null)}}var u=this;setTimeout(function(){var e=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:n[0].ID});u._onSelectHeadItemCb(e,"npc_"+n[0].ID)},0)}this.onFengluRefresh(),0==t.Type?(this.zhengSp.node.active=!0,this.xieSp.node.active=!1):(this.zhengSp.node.active=!1,this.xieSp.node.active=!0),0<t.AddReward.length?80022==t.AddReward[0].id?(this.liandanSp.node.active=!1,this.lianqiSp.node.active=!0,this.lianqiDesc.string="炼器+"+t.AddReward[0].count):(this.liandanSp.node.active=!0,this.lianqiSp.node.active=!1,this.liandanDesc.string="炼丹+"+t.AddReward[0].count):(this.liandanSp.node.active=!1,this.lianqiSp.node.active=!1)}else if(this._curTab==R.TAB2){var d=!(this.attrNode.active=!1),h=yx.cfgMgr.getRecordByKey("LianGongFangConfig",{ID:1}),g="<color=#edd49b>练功房打坐可以增加{bei}倍修炼速度{nian}年，身为族长可以修炼{nian2}年</c>",p=yx.timeUtil.minutes2year(h.time),y=2*p;g=g.format({bei:h.multiple,nian:p,nian2:y}),this.liangongDesc.string=g;var f=yx.bagMgr.GetItemName(h.cost[0].id),m=yx.bagMgr.GetItemOwnCount(h.cost[0].type,h.cost[0].id),v="{costName}：<color=#00c800>{lingshi}</color>/{cost}";m<h.cost[0].count&&(v="{costName}：<color=#ff0000>{lingshi}</color>/{cost}"),v=v.format({cost:h.cost[0].count,lingshi:m,costName:f}),this.costRichText.string=v,this._isUpdate=!1,this._isUpdate1=!1,this._endTime=yx.menPaiMgr.LianGongEndTime(),this._endTime1=yx.menPaiMgr.ZhangMenLianGongEndTime(),this.liangongDesc.node.active=!0,yx.timeUtil.getServerTime()<this._endTime?(this._isUpdate=!0,this.liangongGroup.active=!1,this.liangongProgressGroup.active=!0,this.liangongDesc.node.active=!1,this._liangGongTime=this._endTime-yx.menPaiMgr.LianGongStartTime(),d=!1):(this.liangongGroup.active=!0,this.liangongProgressGroup.active=!1),yx.timeUtil.getServerTime()<this._endTime1?(this._isUpdate1=!0,this.zhangmenLiangongBtn.node.active=!1,this.zhangmenLiangongProgressGroup.active=!0,this.liangongDesc.node.active=!1,this._liangGongTime2=this._endTime1-yx.menPaiMgr.ZhangMenLianGongStartTime()):(this.zhangmenLiangongBtn.node.active=!0,this.zhangmenLiangongProgressGroup.active=!1),0!=yx.menPaiMgr.LianGongStartTime()&&yx.timeUtil.IsSameDay(yx.menPaiMgr.LianGongStartTime(),yx.timeUtil.getServerTime())&&(d=!1),yx.BadgeMgr.showBadge(this.liangongBtn.node,d)}else if(this._curTab==R.TAB3){if(this.attrNode.active=!0,this._svr)this._svr.updateAllWithoutData();else{var x=yx.cfgMgr.getAllConfig("MenPaiTaskConfig");this._svr=this.scrollView.getComponent(N),this._svr.initialize(x,this.menPaiTaskItemPrefab)}var w=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:yx.menPaiMgr.currZhiWei()});this.renwuTitleLabel.string=w.ZhiWuName+"（括号内为当前职位加成）"}else if(this._curTab==R.TAB4){this.attrNode.active=!0;var C=yx.menPaiMgr.getMineMenPaiConfig();this.menpaiNameLabel.string=C.DefName,this.menpaiDescRichText.string="<color=#345A5C>"+C.DefDesc+"\n\n"+C.DefDesc1+"\n\n"+C.DefDesc2+"</color>";var I=yx.menPaiMgr.DaiLiZhangMen();I?(this.dailiGroup.active=!0,this.dailiZhangmenLabel.string="当前妖族族长:"+I.Name,I.Icon&&yx.resUtil.LoadSpriteFromResConfig(I.Icon,yx.ResType.HEAD,this.dailiZhangmenSp)):this.dailiGroup.active=!1}else if(this._curTab==R.TAB5){this.attrNode.active=!1,this.xiulianing=!1,this.feizuzhangSp.active=!1,this.zuzhangSp.active=!1,yx.menPaiMgr.IsDaiLiZhangMen()?this.zuzhangSp.active=!0:this.feizuzhangSp.active=!0;var b=yx.cfgMgr.getOneRecord("SystemConfig",{id:111}),_="<color=#ffffff>灵泉修炼可直接获得</color><color=#00ff00>"+b.str_value[0]/60+"小时</color><color=#ffffff>的修炼收益</color>\n";_=_+"<color=#ffffff>族长在灵泉修炼可直接获得</color><color=#00ff00>"+b.str_value[1]/60+"小时</color><color=#ffffff>的修炼收益</color>\n",this.shouyiRichText.string=_;var T=yx.menPaiMgr.getLQXiuLianCount(),S=yx.menPaiMgr.getLQMaxXiuLianCount(),k="<color=#ffffff>修炼</color><color=#00ff00>"+T+"/"+S+"</color><color=#ffffff>次</color>",L=0;if(!yx.playerMgr.isVip()&&0<(L=yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:9}).LingQuanAdd)){var M="<color=#FFD066>(月卡可再修炼"+L+"次)</color>";k+=yx.CodeHelper.checkFuncOpenShow(16)?M:""}if(yx.playerMgr.isVipMonth()&&!yx.playerMgr.isVipForever()){var B=yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:9});if(0<(L=yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:10}).LingQuanAdd-B.LingQuanAdd)){var D="<color=#FFD066>(终身卡可再修炼"+L+"次)</color>";k+=yx.CodeHelper.checkFuncOpenShow(16)?D:""}}this.timesRichText.string=k;var P=yx.cfgMgr.getOneRecord("LingQuanPriceConfig",{ID:T+1});P?0<P.Cost.length?this.lqcostRichText.string="<color=#00ff00>"+P.Cost[0].count+"</color><color=#ffffff>"+yx.bagMgr.GetItemName(P.Cost[0].id)+"</color>":this.lqcostRichText.string="<color=#ffffff>免费</color>":this.lqcostRichText.string="",yx.BadgeMgr.showBadge(this.xiulianBtn.node,T<S)}"qingan"==this._secondOpen?(this._handleJiaoHuBtn(O.QINGAN),this._secondOpen=""):"duihuan"==this._secondOpen&&(this._handleJiaoHuBtn(O.DUIHUAN),this._secondOpen="")},_onSelectHeadItemCb:function _onSelectHeadItemCb(e,t){yx.log("name==="+t),this._npcConfig=e,this.npcName.string=this._npcConfig.Name,this.npcZhiWu.string=this._npcConfig.ZhiWuName,this.npcDesc.string=this._npcConfig.DefDesc1+"\n"+this._npcConfig.DefDesc2+"\n"+this._npcConfig.DefDesc;var n=yx.menPaiMgr.DaiLiZhangMen();if(1==this._npcConfig.ZhiWuID&&n){this.npcName.string=n.Name;var i=yx.cfgMgr.getOneRecord("SystemConfig",{id:88});this.npcDesc.string=i.str_value}for(var o=0;o<this._headIndexs.length;o++){var r=this._headIndexs[o],a=this.headScrollContent.getChildByName(r).getChildByName(r);a&&(a.getChildByName("selected").active=!1)}var s=this.headScrollContent.getChildByName(t).getChildByName(t);s&&(s.getChildByName("selected").active=!0);var c=0;this._jiaohuDatas=[],this._jiaohuDatas[c]={type:O.JIAOTAN,desc:"交\n\n谈"},c+=1,e.IsQingAn&&yx.serverMgr.IsAuditPassed()&&(this._jiaohuDatas[c]={type:O.QINGAN,desc:"请\n\n安"},c+=1),e.IsQieCuo&&(this._jiaohuDatas[c]={type:O.QIECUO,desc:"切\n\n磋"},c+=1),e.IsXueXi&&(this._jiaohuDatas[c]={type:O.XUEXI,desc:"学\n习\n兽\n决"},c+=1),e.IsDuiHuan&&(this._jiaohuDatas[c]={type:O.DUIHUAN,desc:"兑\n\n换"},c+=1),e.IsTiShen&&(this._jiaohuDatas[c]={type:O.TISHENG,desc:"提\n升\n职\n位"},c+=1),yx.menPaiMgr.IsDaoLv(e.ID)&&(this._jiaohuDatas[c]={type:O.ZENGLI,desc:"赠\n礼"},c+=1);for(var l=0;l<this._jiaohuBtns.length;l++){var u=this._jiaohuBtns[l];u.node.active=!1,u.node.name=""}for(var d=0;d<this._jiaohuDatas.length;d++){var h=this._jiaohuDatas[d];this._jiaohuBtns[d].node.active=!0,this._jiaohuBtns[d].node.name="jiaohuBtn_"+h.type,this._jiaohuBtns[d].node.getChildByName("titleLabel").getComponent(cc.Label).string=h.desc,h.type==O.QINGAN&&(this._jiaohuBtns[d].node.active=yx.CodeHelper.checkFuncOpenShow(51))}this.onQingAnRefresh()},_refresh:function _refresh(){if(yx.menPaiMgr.isOwnMenPai())this.gongxianValueLabel.string=yx.menPaiMgr.getGongXian(),this.lingshiValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGSHI),this.weiwangValueLabel2.string=yx.playerMgr.getCurrency(yx.CyType.WEIWANG),this.xianyuLabel.string=yx.playerMgr.getCurrency(yx.CyType.SHENYU),this.selectMenPaiGroup.active=!1,this.menPaiGroup.active=!0,this._refreshTabContent();else{this.weiwangValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.WEIWANG),this.selectMenPaiGroup.active=!0,this.menPaiGroup.active=!1;for(var e=this._curStar=1;e<=9;e++){var t=yx.cfgMgr.getRecordByKey("MenpaiLevelConfig",{Star:e});t&&yx.playerMgr.getDuJieLevel()>=t.Level&&(this._curStar=e)}this._refreshStar()}this.onEventRefreshBadge()},onLeftBtnClick:function onLeftBtnClick(){this._curStar<=1||(--this._curStar,this._refreshStar())},onRightBtnClick:function onRightBtnClick(){9<=this._curStar||(this._curStar+=1,this._refreshStar())},onSureBtnClick:function onSureBtnClick(){var e=yx.cfgMgr.getRecordByKey("MenpaiLevelConfig",{Star:this._curStar});if(e){if(yx.playerMgr.getDuJieLevel()<e.Level){var t=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:e.Level}),n="尚未达到{name}";return n=n.format({name:t.Name}),void yx.ToastUtil.showListToast(n)}var i={};i.star=this._curStar,yx.windowMgr.showWindow("menPaiSelectPanel",i)}},onMenpaiTabClick:function onMenpaiTabClick(){this._curTab=R.TAB1,this._refreshTabContent()},onLiangongfangTabClick:function onLiangongfangTabClick(){yx.CodeHelper.checkFuncOpen(16)&&(this._curTab=R.TAB2,this._refreshTabContent())},onLingquanTabClick:function onLingquanTabClick(){yx.CodeHelper.checkFuncOpen(66)&&(this._curTab=R.TAB5,this._refreshTabContent())},onRenwuTabClick:function onRenwuTabClick(){yx.CodeHelper.checkFuncOpen(17)&&(this._curTab=R.TAB3,this._refreshTabContent())},onMenpaixiangqingTabClick:function onMenpaixiangqingTabClick(){this._curTab=R.TAB4,this._refreshTabContent()},onZhiWeiBtnClick:function onZhiWeiBtnClick(){yx.windowMgr.showWindow("menPaiZhiWeiPanel")},onFengluBtnClick:function onFengluBtnClick(){if(yx.CodeHelper.checkFuncOpen(18))if(yx.menPaiMgr.HasGetFenglu())yx.ToastUtil.showListToast("今日已领取俸禄");else{var e=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:yx.menPaiMgr.currZhiWei()}),t=yx.bagMgr.GetItemName(e.FengLuReward[0].id),n="<color=#345A5C>你当前的俸禄为:{rewardValue}{rewardName}，是否领取？</color>";n=n.format({rewardValue:e.FengLuReward[0].count,rewardName:t}),yx.TextConfirm.ShowConfirm(n,this.onGetFengluConfirmBtnClick.bind(this))}},onGetFengluConfirmBtnClick:function onGetFengluConfirmBtnClick(){yx.menPaiMgr.fengLu()},onTiaozhanBtnClick:function onTiaozhanBtnClick(){yx.CodeHelper.checkFuncOpen(19)&&yx.windowMgr.showWindow("menPaiTiaoZhanPanel")},onPanjiaoBtnClick:function onPanjiaoBtnClick(){if(yx.CodeHelper.checkFuncOpen(20)){var e=yx.menPaiMgr.getMineMenPaiConfig(),t=yx.cfgMgr.getRecordByKey("MenpaiLevelConfig",{Star:e.Star}),n=yx.bagMgr.GetItemName(t.ExitCost[0].id),i=0,o=0,r=t.ExitCost[0].count;yx.playerMgr.isVipMonth()&&(i=r*yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:9}).EscapWeiWang/1e4),yx.playerMgr.isVipForever()&&(o=r*yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:10}).EscapWeiWang/1e4);var a=r-i-o,s="<color=#345A5C>确定要退出{menpaiName}吗？退出妖族后将会扣除{weiwang}{costName}{reduceContent}，妖族贡献将被清零。</color>",c="";if(yx.playerMgr.isVip()){c="(基础"+r+"{monthContent}{foreverContent})";var l="";yx.playerMgr.isVipMonth()&&(l="-月卡"+i),c=c.format({monthContent:l});var u="";yx.playerMgr.isVipForever()&&(u="-终生卡"+o),c=c.format({foreverContent:u})}s=s.format({menpaiName:e.DefName,weiwang:a,costName:n,reduceContent:c}),yx.TextConfirm.ShowConfirm(s,this.onPanjiaoConfirmBtnClick.bind(this))}},onPanjiaoConfirmBtnClick:function onPanjiaoConfirmBtnClick(){var e=yx.menPaiMgr.getMineMenPaiConfig(),t=yx.cfgMgr.getRecordByKey("MenpaiLevelConfig",{Star:e.Star}),n=yx.bagMgr.GetItemOwnCount(t.ExitCost[0].type,t.ExitCost[0].id),i=yx.bagMgr.GetItemName(t.ExitCost[0].id);n<t.ExitCost[0].count?yx.ToastUtil.showListToast(i+"不足"):yx.menPaiMgr.panJiao()},onJiaohuBtn1Click:function onJiaohuBtn1Click(){this._handleJiaoHuBtn(this._jiaohuDatas[0].type)},onJiaohuBtn2Click:function onJiaohuBtn2Click(){this._handleJiaoHuBtn(this._jiaohuDatas[1].type)},onJiaohuBtn3Click:function onJiaohuBtn3Click(){this._handleJiaoHuBtn(this._jiaohuDatas[2].type)},onJiaohuBtn4Click:function onJiaohuBtn4Click(){this._handleJiaoHuBtn(this._jiaohuDatas[3].type)},onJiaohuBtn5Click:function onJiaohuBtn5Click(){this._handleJiaoHuBtn(this._jiaohuDatas[4].type)},_diaryShow:function _diaryShow(e){yx.DiarysUtil.addShowTextToRichText(this.logRichText,"menpai",e),this.logScrollView.scrollToBottom()},_handleJiaoHuBtn:function _handleJiaoHuBtn(e){switch(e){case O.JIAOTAN:if(yx.log("交谈..."),!this._npcConfig)return;if(yx.log("servertime=="+yx.timeUtil.getServerTime()),yx.log("firstTime=="+u),7e3<=yx.timeUtil.getServerTime()-u&&(u=yx.timeUtil.getServerTime(),d=0),yx.timeUtil.getServerTime()-u<=5e3)if((d+=1)<4){var t=yx.cfgMgr.getRecordByKey("TalkListConfig",{ID:this._npcConfig.TalkID});if(t){var n="<color=#FF5603>{npcName}</color>:{talk}",i=yx.menPaiMgr.DaiLiZhangMen(),o=this._npcConfig.Name;1==this._npcConfig.ZhiWuID&&i&&(o=i.Name);var r={index:0,str:n=n.format({npcName:o,talk:t.Talk})};this._diaryShow(r)}}else this._diaryShow({index:0,str:"对方似乎不想再与你交谈"});break;case O.QINGAN:if(yx.log("请安..."),!yx.CodeHelper.checkFuncOpen(51))return;if(yx.menPaiMgr.HasQingAn())return void yx.ToastUtil.showListToast("今天已经请安过了。");yx.windowMgr.showWindow("menPaiQingAnPanel");break;case O.QIECUO:if(yx.log("切磋..."),!this._npcConfig)return;if(20<=this._npcConfig.Level-yx.playerMgr.getDuJieLevel()){if(7e3<=yx.timeUtil.getServerTime()-h&&(h=yx.timeUtil.getServerTime(),g=0),yx.timeUtil.getServerTime()-h<=5e3)if((g+=1)<4){var a="<color=#FF5603>{palyerName}</color>：听闻你道法高强，今日我来请求指点一下，若有失礼之处，还望多多包涵……\n<color=#FF5603>{npcName}</color>：你境界太低，还不配做我的对手。",s=this._npcConfig.Name,c=yx.menPaiMgr.DaiLiZhangMen();1==this._npcConfig.ZhiWuID&&c&&(s=c.Name);var l={index:0,str:a=a.format({palyerName:yx.playerMgr.getName(),npcName:s})};this._diaryShow(l)}else this._diaryShow({index:0,str:"对方很不屑的离开了"});return}yx.menPaiMgr.qieCuo(this._npcConfig.ID);break;case O.XUEXI:if(!yx.CodeHelper.checkFuncOpen(52))return;yx.windowMgr.showWindow("menPaiShouYePanel");break;case O.DUIHUAN:yx.windowMgr.showWindow("menPaiDuiHuanPanel");break;case O.TISHENG:yx.windowMgr.showWindow("menPaiZhiWeiPanel");break;case O.ZENGLI:yx.log("赠礼"),yx.menPaiMgr.zengLi(this._npcConfig.ID);break;default:yx.warn("[MenPaiWindow jiaohuBtn] type is not exist "+e)}},onAddDairyLog:function onAddDairyLog(e){var t={index:0,str:e.talkContent};this._diaryShow(t)},onLiangongBtnClick:function onLiangongBtnClick(){if(yx.timeUtil.getServerTime()<this._endTime)yx.ToastUtil.showListToast("修炼中。。。");else if(0!=yx.menPaiMgr.LianGongStartTime()&&yx.timeUtil.IsSameDay(yx.menPaiMgr.LianGongStartTime(),yx.timeUtil.getServerTime()))yx.ToastUtil.showListToast("今日已经修炼过了。");else{var e=yx.menPaiMgr.getMineMenPaiConfig();if(!yx.menPaiMgr.IsDaiLiZhangMen()&&yx.menPaiMgr.currZhiWei()<e.XiuLianZhiwu&&!yx.playerMgr.isVip())yx.ToastUtil.showListToast("内门弟子以上才可以修炼");else{var t=yx.cfgMgr.getRecordByKey("LianGongFangConfig",{ID:1}),n=yx.bagMgr.GetItemName(t.cost[0].id);yx.bagMgr.GetItemOwnCount(t.cost[0].type,t.cost[0].id)<t.cost[0].count?yx.ToastUtil.showListToast(n+"不足"):yx.menPaiMgr.LianGong(1)}}},onZhangmenLiangongBtnClick:function onZhangmenLiangongBtnClick(){var e={};e.endTime1=this._endTime1,yx.windowMgr.showWindow("menPaiChuangongPanel",e)},onInfoRefresh:function onInfoRefresh(){this._refresh()},onEventCurrencyChange:function onEventCurrencyChange(){this.isShown()&&(this.gongxianValueLabel.string=yx.menPaiMgr.getGongXian(),this.lingshiValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGSHI),this.weiwangValueLabel2.string=yx.playerMgr.getCurrency(yx.CyType.WEIWANG),this.xianyuLabel.string=yx.playerMgr.getCurrency(yx.CyType.SHENYU))},onTaskReFreshTime:function onTaskReFreshTime(){this.isShown()&&this._curTab==R.TAB3&&this._svr.updateAllWithoutData()},onLianGongRefresh:function onLianGongRefresh(){this._curTab==R.TAB2&&this._refreshTabContent()},onLingquanRefresh:function onLingquanRefresh(){this._curTab==R.TAB5&&(this._refreshTabContent(),this.xiulianAnim.node.active=!0,this.xiulianAnim.playAnimation("newAnimation",1),this.xiulianing=!0,this.xiulianAnim.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.xiulianing=!1,this.xiulianAnim.node.active=!1}.bind(this)))))},onPKShow:function onPKShow(e){if("menpai_tiaozhan"==e.eason)yx.FightPanel.ShowFightResult(e.eason,e.defendName,e.result,!1,null,null);else if("menpai_qiecuo"==e.eason){var t="";this._npcConfig&&(t=this._npcConfig.Name);var n=yx.menPaiMgr.DaiLiZhangMen();1==this._npcConfig.ZhiWuID&&n&&(t=n.Name),yx.FightPanel.ShowFightResult(e.eason,t,e.result,!1,null,null)}},onDaoLvEventErrorTip:function onDaoLvEventErrorTip(e){if(this.isShown()&&e.result&&e.result.errorCode)switch(e.result.errorCode){case yx.proto.ErrorCodeType.DAO_LV_INTIMACY_MAX:this._showToastOrLog(e.result.type,"道侣亲密度达最大值");break;case yx.proto.ErrorCodeType.DAO_LV_ALREADY_IN_HOME:this._showToastOrLog(e.result.type,"该道侣已在洞府中");break;case yx.proto.ErrorCodeType.DAO_LV_INTIMACY_LOWER:this._showToastOrLog(e.result.type,"我们好友度尚浅");break;case yx.proto.ErrorCodeType.DAO_LV_ALREADY_NOT_IN_HOME:this._showToastOrLog(e.result.type,"该道侣不在洞府中");break;case yx.proto.ErrorCodeType.DAO_LV_SHUANG_XIU_MAX:this._showToastOrLog(e.result.type,"今日双休已达最大次数");break;case yx.proto.ErrorCodeType.DAO_LV_SHUANG_XIU_CHILL_DOWN:this._showToastOrLog(e.result.type,"双休时间未到");break;case yx.proto.ErrorCodeType.DAO_LV_ALREADY_SHUANG_XIU:this._showToastOrLog(e.result.type,"已经双休过");break;case yx.proto.ErrorCodeType.DAO_LV_SHUANG_XIU_COUNT_MAX:this._showToastOrLog(e.result.type,"双修人数达最大");break;case yx.proto.ErrorCodeType.DAO_LV_REFUSE_SHUANG_XIU:this._showToastOrLog(e.result.type,"该道侣拒绝与你双休");break;case yx.proto.ErrorCodeType.DAO_LV_CAN_NOT_GIFT_GIVING:this._showToastOrLog(e.result.type,"我不能接受你的礼物");break;case yx.proto.ErrorCodeType.NO_AVALIABLE_GIFT:this._showToastOrLog(e.result.type,"没有可以赠送的礼物");break;case yx.proto.ErrorCodeType.DAO_LV_STRAGE:this._showToastOrLog(e.result.type,"还未结识道侣")}},_showToastOrLog:function _showToastOrLog(e,t){if(e===yx.proto.ErrorTipsType.Console)yx.ToastUtil.showListToast(t);else{var n={index:0,str:t};this._diaryShow(n)}},onTiaoZhanRefresh:function onTiaoZhanRefresh(){this._refreshTabContent()},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",15)},onQingAnRefresh:function onQingAnRefresh(){for(var e=0;e<this._jiaohuDatas.length;e++)this._jiaohuDatas[e].type==O.QINGAN?yx.BadgeMgr.showBadge(this._jiaohuBtns[e].node,!yx.menPaiMgr.HasQingAn()):yx.BadgeMgr.showBadge(this._jiaohuBtns[e].node,!1)},onFengluRefresh:function onFengluRefresh(){yx.BadgeMgr.showBadge(this.fengluBtn.node,!yx.menPaiMgr.HasGetFenglu())},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&(yx.BadgeMgr.showBadge(this.menpaiTabBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MenPaiYaoZu)),yx.BadgeMgr.showBadge(this.liangongfangTabBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MenPaiPracticeRoom)),yx.BadgeMgr.showBadge(this.lingquanTabBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MenPaiLingQuan)),yx.BadgeMgr.showBadge(this.renwuTabBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MenPaiTask)))},onEventQuit:function onEventQuit(){this._headIndexs=null},onXiuLianBtnClick:function onXiuLianBtnClick(){if(this.xiulianing)yx.log("修炼中---");else{var e=yx.menPaiMgr.getMineMenPaiConfig();if(!yx.menPaiMgr.IsDaiLiZhangMen()&&yx.menPaiMgr.currZhiWei()<e.XiuLianZhiwu&&!yx.playerMgr.isVip())yx.ToastUtil.showListToast("内门弟子以上才可以修炼");else{var t=yx.menPaiMgr.getLQXiuLianCount();if(t>=yx.menPaiMgr.getLQMaxXiuLianCount())yx.ToastUtil.showListToast("次数不足");else{var n=yx.cfgMgr.getOneRecord("LingQuanPriceConfig",{ID:t+1});n&&0<n.Cost.length&&yx.bagMgr.GetItemOwnCount(n.Cost[0].type,n.Cost[0].id)<n.Cost[0].count?yx.ToastUtil.showListToast(yx.bagMgr.GetItemName(n.Cost[0].id)+"不足"):yx.menPaiMgr.lqXiuLian()}}}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",MenPaiTaskScrollItem:"MenPaiTaskScrollItem",ScrollViewRepeat:"ScrollViewRepeat"}],MenPaiZhiWeiPanel:[function(e,t,n){cc._RF.push(t,"b7f041iMNlI3459EqH+nAHa","MenPaiZhiWeiPanel");var i=e("BaseWindow"),o=e("MenPaiZhiWeiScrollItem");cc.Class({extends:i,properties:{closeBtn:cc.Button,scrollContent:cc.Node,menPaiZhiWeiScrollItemPrefab:cc.Prefab,maskSp:cc.Button,curZhiweiLabel:cc.Label},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.MENPAI_ZHIWEI_REFRESH,this.onRefreshZhiWei,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=[{ID:yx.MenPaiZhiWeiType.HUFU},{ID:yx.MenPaiZhiWeiType.GONGFENG},{ID:yx.MenPaiZhiWeiType.QINCHUANDIZI},{ID:yx.MenPaiZhiWeiType.NEIMENDIZI}],i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.menPaiZhiWeiScrollItemPrefab),n=t.getComponent(o);n&&(n.init(e),i.scrollContent.addChild(t))}),this.onRefreshZhiWei()},onRefreshZhiWei:function onRefreshZhiWei(){var e=yx.menPaiMgr.currZhiWei(),t=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:e});this.curZhiweiLabel.string=t.ZhiWuName}}),cc._RF.pop()},{BaseWindow:"BaseWindow",MenPaiZhiWeiScrollItem:"MenPaiZhiWeiScrollItem"}],MenPaiZhiWeiScrollItem:[function(e,t,n){cc._RF.push(t,"d1752tfT+lFyIpzsRFxasj1","MenPaiZhiWeiScrollItem"),e("../proto/protores"),cc.Class({extends:cc.Component,properties:{zhiweiLabel:cc.Label,shenqingBtn:cc.Button},init:function init(e){this._menPaiPostConfig=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:e.ID});var t="申请为{zhiwei}";t=t.format({zhiwei:this._menPaiPostConfig.ZhiWuName}),this.zhiweiLabel.string=t,this.shenqingBtn.node.name="zhiweiBtn_"+e.ID,this.shenqingBtn.node.on("click",this.onShenQingBtnClick,this)},onShenQingBtnClick:function onShenQingBtnClick(){if(yx.log("申请"),yx.menPaiMgr.currZhiWei()>=this._menPaiPostConfig.ZhiWu)yx.ToastUtil.showListToast("已成为"+this._menPaiPostConfig.ZhiWuName);else if(this._menPaiPostConfig.ZhiWu>yx.menPaiMgr.currZhiWei()+1){var e=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:yx.menPaiMgr.currZhiWei()+1});yx.ToastUtil.showListToast("需先升级为"+e.ZhiWuName)}else{var t=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:yx.menPaiMgr.currZhiWei()}),n=yx.bagMgr.GetItemName(t.Cost[0].id),i="<color=#345A5C>申请成为{zhiweiName}，需要消耗{costValue}点门派{costName}！\n是否确认申请？</color>";i=i.format({zhiweiName:this._menPaiPostConfig.ZhiWuName,costValue:t.Cost[0].count,costName:n}),yx.TextConfirm.ShowConfirm(i,this.onTishengClick.bind(this))}},onTishengClick:function onTishengClick(){var e=yx.cfgMgr.getRecordByKey("MenPaiPostConfig",{ZhiWu:yx.menPaiMgr.currZhiWei()}),t=yx.bagMgr.GetItemOwnCount(e.Cost[0].type,e.Cost[0].id),n=yx.bagMgr.GetItemName(e.Cost[0].id);t<e.Cost[0].count?yx.ToastUtil.showListToast(n+"不足"):yx.menPaiMgr.tiShen(yx.menPaiMgr.currZhiWei()+1)}}),cc._RF.pop()},{"../proto/protores":"protores"}],MiLingBuyLevelPanel:[function(e,t,n){cc._RF.push(t,"d096dyKUjZPWI5UJ3TUx7BG","MiLingBuyLevelPanel");var i=e("BaseWindow"),o=e("NumberWidget");cc.Class({extends:i,properties:{descRich:cc.RichText,descRich2:cc.RichText,costSp:cc.Sprite,costCount:cc.Label,scrollContent:cc.Node,buyBtn:cc.Button,numberWidget:o},_onInit:function _onInit(){this.buyBtn.node.on("click",this.buyBtnClick,this),yx.eventDispatch.addListener(yx.EventType.MILING_REFRESH,this.onEventRefresh,this);var e=yx.MiLingMgr.getBuyLevelCost(),t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});yx.resUtil.LoadSpriteByIconName(t.Icon,this.costSp),this._canBuyCount=yx.MiLingMgr.getMaxLevel()-yx.MiLingMgr.getLevel(),this.numberWidget.init(1,this._canBuyCount,this._numChange.bind(this),this)},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){var e="<color=#345A5C>购买</color><color=#00C800>{level}</color><color=#345A5C>级，升</color><color=#00C800>{level}</color><color=#345A5C>级</color>";e=e.format({level:this.numberWidget.getCurNum()}),this.descRich2.string=e;var t=yx.MiLingMgr.getBuyLevelCost();this.costCount.string=t.count*this.numberWidget.getCurNum();for(var n=this.numberWidget.getCurNum()+yx.MiLingMgr.getLevel(),i={},o=0,r=yx.cfgMgr.getAllConfig(yx.MiLingMgr.getRewardCfgName()),a=0;a<r.length;a++){var s=r[a];if(s.Level>yx.MiLingMgr.getLevel()&&n>=s.Level){var c=s.Reward[0];if(c&&(i[c.id]?i[c.id]=i[c.id]+c.count:(i[c.id]=c.count,o++)),yx.MiLingMgr.isVip()){var l=s.HighReward[0];l&&(i[l.id]?i[l.id]=i[l.id]+l.count:(i[l.id]=l.count,o++))}}}var u="<color=#345A5C>升至</color><color=#00C800>{level}</color><color=#345A5C>级，可立即解锁</color><color=#00C800>{count}</color><color=#345A5C>件奖励</color>";for(var d in u=u.format({level:n,count:o}),this.descRich.string=u,this.scrollContent.removeAllChildren(!0),i)if(i.hasOwnProperty(d)){var h=i[d],g={};g.amount=h,g.itemId=d,g.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(g,this.scrollContent,"reward"+d)}},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_numChange:function _numChange(){yx.log(this.numberWidget.getCurNum()),this._refresh()},buyBtnClick:function buyBtnClick(){yx.log("购买等级==="+this.numberWidget.getCurNum()),yx.MiLingMgr.reqBuyLevel(this.numberWidget.getCurNum())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onEventRefresh:function onEventRefresh(){this._canBuyCount=yx.MiLingMgr.getMaxLevel()-yx.MiLingMgr.getLevel(),0!=this._canBuyCount?(this.numberWidget.init(1,this._canBuyCount,this._numChange.bind(this),this),this._refresh()):yx.windowMgr.goBack()},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",NumberWidget:"NumberWidget"}],MiLingLockPanel:[function(e,t,n){cc._RF.push(t,"f4363tdVWdBl716QNM3fw6R","MiLingLockPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{descRich:cc.RichText,buyText:cc.Label,buyBtn:cc.Button,yilingquLabel:cc.Label,getBtn:cc.Button,scrollContent:cc.Node},_onInit:function _onInit(){this.buyBtn.node.on("click",this.buyBtnClick,this),this.getBtn.node.on("click",this.getBtnClick,this),yx.eventDispatch.addListener(yx.EventType.MILING_REFRESH,this.onEventRefresh,this)},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){var e=yx.MiLingMgr.getBuyVipRechargeId();this._rechargeId=e;var t=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:e}),n=yx.MiLingMgr.getBuyVipAddLevel();this.descRich.string="<color=#345A5C>解锁进阶赠礼，激活专属奖励，</color><color=#00C800>直升"+n+"级</color><color=#345A5C>众多大奖即可拥有</color>",this.buyText.string="￥"+t.RMB+"购买";for(var i=yx.MiLingMgr.getBuyVipExtraReward(),o=0;o<i.length;o++){var r=i[o],a={};a.amount=r.count,a.itemId=r.id,a.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(a,this.scrollContent,"reward"+r.id)}this.onEventRefresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},buyBtnClick:function buyBtnClick(){yx.reChargeMgr.reqReCharge(this._rechargeId)},getBtnClick:function getBtnClick(){yx.MiLingMgr.reqGetVIPReward()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onEventRefresh:function onEventRefresh(){this.yilingquLabel.node.active=!1,this.buyBtn.node.active=!1,this.getBtn.node.active=!1,yx.MiLingMgr.isVip()?yx.MiLingMgr.getAvaliableVipReward()?this.getBtn.node.active=!0:this.yilingquLabel.node.active=!0:this.buyBtn.node.active=!0}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],MiLingMgr:[function(e,t,n){cc._RF.push(t,"cfd331PAaNKubpGbo2Rg7qx","MiLingMgr");var i=10000001;yx.MiLingManager=function(){},yx.MiLingManager.prototype={constructor:yx.MiLingManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.MI_LING,this.onMessageHandle),this._endTime=0,this._level=0,this._exp=0,this._vip=!1,this._avaliableVipReward=!1,this._taskMap={},this._rewardMap={},this._reqInit=!1},reqGetInfo:function reqGetInfo(){yx.log("MiLingManager  reqGetInfo");var e=new yx.proto.C2S_MiLing;e.cmdType=yx.proto.MiLingCmdType.GetMiLingInfo_Cmd,yx.network.sendMessage(yx.proto.CmdId.MI_LING,e)},reqGetTaskReward:function reqGetTaskReward(e){yx.log("MiLingManager  reqGetTaskReward");var t=new yx.proto.C2S_MiLing;t.cmdType=yx.proto.MiLingCmdType.RewardTask_Cmd,t.activityID=i,t.rewardID=e,yx.network.sendMessage(yx.proto.CmdId.MI_LING,t)},reqGetMiLingReward:function reqGetMiLingReward(){var e=new yx.proto.C2S_MiLing;e.cmdType=yx.proto.MiLingCmdType.RewardMiLing_Cmd,yx.network.sendMessage(yx.proto.CmdId.MI_LING,e)},reqGetVIPReward:function reqGetVIPReward(){var e=new yx.proto.C2S_MiLing;e.cmdType=yx.proto.MiLingCmdType.RewardVip_Cmd,yx.network.sendMessage(yx.proto.CmdId.MI_LING,e)},reqBuyLevel:function reqBuyLevel(e){yx.log("MiLingManager  reqBuyLevel");var t=new yx.proto.C2S_MiLing;t.levelCount=e,t.cmdType=yx.proto.MiLingCmdType.PurChaseLevel_Cmd,yx.network.sendMessage(yx.proto.CmdId.MI_LING,t)},onMessageHandle:function onMessageHandle(e,t){if(yx.log("MiLingMgr onMessageHandle-----"),null!=e&&0<e.length)yx.log("[MiLingMgr onMessageHandle] error:"+e);else{var n=yx.proto.S2C_MiLing.decode(t);switch(yx.MiLingMgr.setData(n),n.cmdType){case yx.proto.MiLingCmdType.GetMiLingInfo_Cmd:yx.MiLingMgr.getReqInit()||yx.MiLingMgr.setReqInit(!0);break;case yx.proto.MiLingCmdType.UpdateMiLingInfo_Cmd:break;case yx.proto.MiLingCmdType.RewardTask_Cmd:var i=n.taskInfo[0],o=yx.cfgMgr.getOneRecord(yx.MiLingMgr.getTaskCfgName(),{ID:i.index}).Exp;yx.MiLingMgr.isVip()&&(o+=yx.MiLingMgr.getVIPAddExp()),yx.ToastUtil.showListToast("经验+"+o);break;case yx.proto.MiLingCmdType.RewardMiLing_Cmd:case yx.proto.MiLingCmdType.RewardVip_Cmd:yx.MiLingMgr.showRewardToast(n.rewards);break;case yx.proto.MiLingCmdType.PurChaseLevel_Cmd:yx.ToastUtil.showListToast("等级提升至"+yx.MiLingMgr.getLevel()+"级")}yx.eventDispatch.dispatchMsg(yx.EventType.MILING_REFRESH)}},showRewardToast:function showRewardToast(e){for(var t=0;t<e.length;t++){var n=e[t],i=yx.bagMgr.GetItemName(n.id)+"<color=#ffd066>+"+n.count+"</color>";yx.ToastUtil.showListToast(i)}},setData:function setData(e){if(e.hasOwnProperty("level")&&(this._level=e.level),e.hasOwnProperty("exp")&&(this._exp=e.exp),e.hasOwnProperty("vip")&&(this._vip=e.vip),e.hasOwnProperty("avaliableVipReward")&&(this._avaliableVipReward=e.avaliableVipReward),e.hasOwnProperty("taskInfo"))for(var t=0;t<e.taskInfo.length;t++){var n=e.taskInfo[t];this._taskMap[n.index]=n}if(e.hasOwnProperty("rewardInfo"))for(var i=0;i<e.rewardInfo.length;i++){var o=e.rewardInfo[i];this._rewardMap[o.index]=o}},getReqInit:function getReqInit(){return this._reqInit},setReqInit:function setReqInit(e){this._reqInit=e},getEndTime:function getEndTime(){if(0==this._endTime){var e=yx.ActivityMgr.getActivityData(i);e&&(this._endTime=e.endTime)}return this._endTime},getLevel:function getLevel(){return this._level},getExp:function getExp(){return this._exp},isVip:function isVip(){return this._vip},getAvaliableVipReward:function getAvaliableVipReward(){return this._avaliableVipReward},getTaskInfo:function getTaskInfo(e){return this._taskMap[e]},getRewardInfo:function getRewardInfo(e){return this._rewardMap[e]},getTaskCfgName:function getTaskCfgName(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).Form1}return null},getRewardCfgName:function getRewardCfgName(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).Form2}return null},getBuyVipExtraReward:function getBuyVipExtraReward(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).ActivationReward}return null},getBuyVipAddLevel:function getBuyVipAddLevel(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).AddLevel}return null},getBuyVipRechargeId:function getBuyVipRechargeId(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).RechargeId}return null},getBuyLevelCost:function getBuyLevelCost(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).BuyLevelCost[0]}return null},getVIPAddExp:function getVIPAddExp(){var e=yx.ActivityMgr.getActivityData(i);if(e){var t=e.fileName;return yx.cfgMgr.getOneRecord(t,{ID:i}).AddEXP}return null},getMaxLevel:function getMaxLevel(){var e=yx.MiLingMgr.getRewardCfgName();return yx.cfgMgr.getAllConfig(e).length-1},isHasReward:function isHasReward(){for(var e=yx.cfgMgr.getAllConfig(yx.MiLingMgr.getRewardCfgName()),t=0;t<e.length;t++){var n=e[t];if(1!=n.ID){var i=yx.MiLingMgr.getRewardInfo(n.ID);if(0<n.Reward.length&&(!i||!i.reward)&&yx.MiLingMgr.getLevel()>=n.Level)return!0;if(0<n.HighReward.length&&(!i||!i.vipReward)&&yx.MiLingMgr.getLevel()>=n.Level&&yx.MiLingMgr.isVip())return!0}}return!1},isAllReceived:function isAllReceived(){if(!yx.MiLingMgr.getRewardCfgName())return!0;for(var e=yx.cfgMgr.getAllConfig(yx.MiLingMgr.getRewardCfgName()),t=1;t<e.length;t++){var n=e[t],i=yx.MiLingMgr.getRewardInfo(n.ID);if(!i)return!1;if(i){if(0<n.Reward.length&&!i.reward)return!1;if(0<n.HighReward.length&&!i.vipReward)return!1}}return!(!yx.MiLingMgr.isVip()||yx.MiLingMgr.getAvaliableVipReward())}},yx.MiLingMgr=new yx.MiLingManager,t.exports=yx.MiLingMgr,cc._RF.pop()},{}],MiLingPanel:[function(e,t,n){cc._RF.push(t,"d8a52mj52tEIqdLk2FUJQpT","MiLingPanel");var c=cc.Enum({TASK:1,REWARD:2}),i=e("BaseWindow"),l=e("MiLingTaskScrollItem"),u=e("MiLingRewardScrollItem");cc.Class({extends:i,properties:{taskTab:cc.Button,rewardTab:cc.Button,timeRich:cc.RichText,libaoBtn:cc.Button,lvRich:cc.RichText,progressRich:cc.RichText,progress:cc.ProgressBar,buyBtn:cc.Button,lockBtn:cc.Button,taskGroup:cc.Node,rewardGroup:cc.Node,taskScrollContent:cc.Node,miLingTaskScrollItem:cc.Prefab,rewardScrollContent:cc.Node,miLingRewardScrollItem:cc.Prefab,kelingquEffect:cc.Node,lingquBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.MILING_REFRESH,this.onEventRefresh,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),this.taskTab.node.on("click",this.taskTabClick,this),this.rewardTab.node.on("click",this.rewardTabClick,this),this.libaoBtn.node.on("click",this.libaoBtnClick,this),this.buyBtn.node.on("click",this.buyBtnClick,this),this.lockBtn.node.on("click",this.lockBtnClick,this),this.lingquBtn.node.on("click",this.lingquBtnClick,this),this._curTab=c.TASK,this._delayArr=[],yx.BadgeMgr.addBadge(this.lingquBtn.node,70,20),yx.BadgeMgr.addBadge(this.taskTab.node,30,30),yx.BadgeMgr.addBadge(this.rewardTab.node,30,30)},_onShow:function _onShow(){yx.MiLingMgr.getReqInit()?(this._curTab=c.REWARD,this._refresh()):yx.MiLingMgr.reqGetInfo()},_commonRefresh:function _commonRefresh(){this.lvRich.string="<outline color=#5f4817 width=2><color=#ffffff>"+yx.MiLingMgr.getLevel()+"</color></outline>";var e=yx.cfgMgr.getOneRecord(yx.MiLingMgr.getRewardCfgName(),{Level:yx.MiLingMgr.getLevel()});this.progressRich.string="<outline color=#5f4817 width=2><color=#ffffff>"+yx.MiLingMgr.getExp()+"/"+e.Exp+"</color></outline>",this.progress.progress=yx.MiLingMgr.getExp()/e.Exp},_refresh:function _refresh(){this._commonRefresh(),this.taskGroup.active=!1,this.rewardGroup.active=!1,this.taskTab.node.getChildByName("selected").active=!1,this.taskTab.node.getChildByName("Background").active=!1,this.rewardTab.node.getChildByName("selected").active=!1,this.rewardTab.node.getChildByName("Background").active=!1;var n=this;switch(this._curTab){case c.TASK:this.taskTab.node.getChildByName("selected").active=!0,this.rewardTab.node.getChildByName("Background").active=!0,this.taskGroup.active=!0,this._itemTaskList||(this._itemTaskList=[],yx.cfgMgr.getAllConfig(yx.MiLingMgr.getTaskCfgName()).forEach(function(e){var t={};t.type=c.TASK,t.cfg=e,n._delayArr.push(t)}));for(var e=0;e<this._itemTaskList.length;e++)this._itemTaskList[e].onUpdate();break;case c.REWARD:this.rewardTab.node.getChildByName("selected").active=!0,this.taskTab.node.getChildByName("Background").active=!0,this.rewardGroup.active=!0,this._itemRewardList||(this._itemRewardList=[],yx.cfgMgr.getAllConfig(yx.MiLingMgr.getRewardCfgName()).forEach(function(e){var t={};t.type=c.REWARD,t.cfg=e,n._delayArr.push(t)}));for(var t=0;t<this._itemRewardList.length;t++)this._itemRewardList[t].onUpdate();yx.MiLingMgr.isHasReward()?(this.kelingquEffect.getComponent(cc.Animation).play().repeatCount=1/0,this.kelingquEffect.active=!0):(this.kelingquEffect.getComponent(cc.Animation).stop(),this.kelingquEffect.active=!1)}yx.MiLingMgr.isAllReceived()&&yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_REFRESH),this.onEventRefreshBadge()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},taskTabClick:function taskTabClick(){this._curTab!=c.TASK&&(this._curTab=c.TASK,this._refresh())},rewardTabClick:function rewardTabClick(){this._curTab!=c.REWARD&&(this._curTab=c.REWARD,this._refresh())},libaoBtnClick:function libaoBtnClick(){yx.windowMgr.showWindow("miLingLockPanel")},buyBtnClick:function buyBtnClick(){yx.MiLingMgr.getMaxLevel()!=yx.MiLingMgr.getLevel()?yx.windowMgr.showWindow("miLingBuyLevelPanel"):yx.ToastUtil.showListToast("已达最大等级")},lockBtnClick:function lockBtnClick(){yx.windowMgr.showWindow("miLingLockPanel")},lingquBtnClick:function lingquBtnClick(){yx.MiLingMgr.reqGetMiLingReward()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",17)},update:function update(){if(this.isShown()){if(this._delayArr[0]){if(this._delayArr[0].type==c.TASK){var e=cc.instantiate(this.miLingTaskScrollItem),t=e.getComponent(l);t&&(t.init(this._delayArr[0].cfg),t.onUpdate(),this.taskScrollContent.addChild(e),this._itemTaskList.push(t))}else if(this._delayArr[0].type==c.REWARD){var n=cc.instantiate(this.miLingRewardScrollItem),i=n.getComponent(u);i&&(i.init(this._delayArr[0].cfg),i.onUpdate(),this.rewardScrollContent.addChild(n),this._itemRewardList.push(i))}this._delayArr.splice(0,1)}var o=yx.timeUtil.getServerTime(),r=yx.MiLingMgr.getEndTime(),a="<outline color=#246094 width=2><color=#ffffff>活动剩余时间:</color><color=#FFD066>{time}</color></outline>";if(2592e3<Math.floor((r-o)/1e3))this.timeRich.string="";else if(o<r){var s=Math.floor((r-o)/1e3);a=a.format({time:yx.timeUtil.getDayHour(s)}),this.timeRich.string=a}else this.timeRich.string="<outline color=#246094 width=2><color=#ffffff>已结束</color></outline>"}},onEventRefresh:function onEventRefresh(){this._refresh()},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&(yx.BadgeMgr.showBadge(this.lingquBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MiLingReward)),yx.BadgeMgr.showBadge(this.rewardTab.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MiLingReward)),yx.BadgeMgr.showBadge(this.taskTab.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MiLingTask)))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",MiLingRewardScrollItem:"MiLingRewardScrollItem",MiLingTaskScrollItem:"MiLingTaskScrollItem"}],MiLingRewardScrollItem:[function(e,t,n){cc._RF.push(t,"b7f48oR6QxMe7qA+cj/Hoxz","MiLingRewardScrollItem"),cc.Class({extends:cc.Component,properties:{levelLabel:cc.Label,r1:cc.Node,r1_kelingqu:cc.Node,r1_yilingqu:cc.Node,r1_lock:cc.Node,r1_reward:cc.Node,r2:cc.Node,r2_kelingqu:cc.Node,r2_yilingqu:cc.Node,r2_lock:cc.Node,r2_reward:cc.Node},init:function init(e){if(this.r1_kelingqu.active=!1,this.r1_yilingqu.active=!1,this.r1_lock.active=!1,this._cfg=e,1!=this._cfg.ID){if(this.levelLabel.string=this._cfg.Level,0<this._cfg.Reward.length){this.r1.active=!0;var t={};t.amount=this._cfg.Reward[0].count,t.itemId=this._cfg.Reward[0].id,t.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(t,this.r1_reward,"reward"+this._cfg.Reward[0].id)}else this.r1.active=!1;if(0<this._cfg.HighReward.length){this.r2.active=!0;var n={};n.amount=this._cfg.HighReward[0].count,n.itemId=this._cfg.HighReward[0].id,n.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(n,this.r2_reward,"reward"+this._cfg.HighReward[0].id)}else this.r2.active=!1}else this.node.active=!1},onUpdate:function onUpdate(){var e=yx.MiLingMgr.getRewardInfo(this._cfg.ID);0<this._cfg.Reward.length&&(this.r1_kelingqu.active=!1,this.r1_yilingqu.active=!1,this.r1_lock.active=!1,e&&e.reward?this.r1_yilingqu.active=!0:yx.MiLingMgr.getLevel()>=this._cfg.Level?this.r1_kelingqu.active=!0:this.r1_lock.active=!0),0<this._cfg.HighReward.length&&(this.r2_kelingqu.active=!1,this.r2_yilingqu.active=!1,this.r2_lock.active=!1,e&&e.vipReward?this.r2_yilingqu.active=!0:yx.MiLingMgr.getLevel()>=this._cfg.Level&&yx.MiLingMgr.isVip()?this.r2_kelingqu.active=!0:this.r2_lock.active=!0)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{}],MiLingTaskScrollItem:[function(e,t,n){cc._RF.push(t,"d83cesfrPJOvqi9/VQymYsl","MiLingTaskScrollItem"),cc.Class({extends:cc.Component,properties:{descRich:cc.RichText,goBtn:cc.Button,lingquBtn:cc.Button,yiwangcheng:cc.Node,expRich:cc.RichText,tequanBg:cc.Sprite,tequanLabel:cc.Label},init:function init(e){this._cfg=e,this.goBtn.node.on("click",this.onGoBtnClick,this),this.lingquBtn.node.on("click",this.onLingquBtnClick,this),yx.BadgeMgr.addBadge(this.lingquBtn.node,50,20),yx.BadgeMgr.showBadge(this.lingquBtn.node,!0)},onGoBtnClick:function onGoBtnClick(){yx.richangMgr.goto(this._cfg.Type)},onLingquBtnClick:function onLingquBtnClick(){yx.MiLingMgr.reqGetTaskReward(this._cfg.ID)},onUpdate:function onUpdate(){var e=this._cfg.Exp;yx.MiLingMgr.isVip()&&(e+=yx.MiLingMgr.getVIPAddExp()),this.expRich.string="<outline color=#345A5C width=2><color=#ffffff>"+e+"</color></outline>",this.tequanLabel.string="进阶特权经验+"+yx.MiLingMgr.getVIPAddExp(),yx.MiLingMgr.isVip()?(this.tequanLabel.node.color=new cc.Color(237,212,155),this.tequanBg.setState(cc.Sprite.State.NORMAL)):(this.tequanLabel.node.color=new cc.Color(230,230,230),this.tequanBg.setState(cc.Sprite.State.GRAY));var t=yx.MiLingMgr.getTaskInfo(this._cfg.ID);switch(this.descRich.string="<color=#00C800>【每日】</color><color=#345A5C>"+this._cfg.TaskDesc+"("+t.processing+"/"+this._cfg.Count+")</color>",this.goBtn.node.active=!1,this.lingquBtn.node.active=!1,this.yiwangcheng.active=!1,t.taskState){case yx.proto.TaskStateType.Processing:this.goBtn.node.active=!0;break;case yx.proto.TaskStateType.Finish:this.lingquBtn.node.active=!0;break;case yx.proto.TaskStateType.Received:this.yiwangcheng.active=!0}}}),cc._RF.pop()},{}],NameCertificationPanel:[function(e,t,n){cc._RF.push(t,"8538fww+WBP6YGBZK0L3nBd","NameCertificationPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{nameEditBox:cc.EditBox,idEditBox:cc.EditBox,confirmBtn:cc.Button},_onInit:function _onInit(){this.confirmBtn.node.on("click",this.confirmBtnClick,this)},_onShow:function _onShow(e){this._afterLogin=e},confirmBtnClick:function confirmBtnClick(){this.nameEditBox.string.length<=0?yx.ToastUtil.showListToast("请输入姓名"):this.idEditBox.string.length<0?yx.ToastUtil.showListToast("请输入身份证号码"):yx.sdkLayer.nameCertification(this.nameEditBox.string,this.idEditBox.string,function(){yx.windowMgr.closeWindow("nameCertificationPanel"),this._afterLogin&&yx.sdkLayer.login()}.bind(this))}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],NetWork:[function(e,t,n){cc._RF.push(t,"6d989Mhsh5GwoVvxMYR3FdY","NetWork");var s=e("SocketWrapper");yx.NetWork=function(){this._currIp=null,this._currPort=null,this._timeoutId=null,this._retryTimes=0,this._currServerType=0,this._reconnectTimerId=null,this._waitingMsgId=-1,this._connected=!1,this._manualClose=!1},yx.NetWork.prototype={constructor:yx.NetWork,init:function init(){return this._msgHandlerMap=new Map,yx.serverMgr.init(),yx.playerMgr.init(),yx.bagMgr.init(),yx.mailMgr.init(),yx.wudaoMgr.init(),yx.gongfaMgr.init(),yx.caveMgr.init(),yx.fangshiMgr.init(),yx.xianfangMgr.init(),yx.chuiDiaoMgr.init(),yx.battleMgr.init(),yx.shengShouMgr.init(),yx.menPaiMgr.init(),yx.JiYuanMgr.init(),yx.daoLvMgr.init(),yx.heiShiMgr.init(),yx.shenYouMgr.init(),yx.ActivityMgr.init(),yx.xiSuiMgr.init(),yx.zhaodianshiMgr.init(),yx.richangMgr.init(),yx.reChargeMgr.init(),yx.taskMgr.init(),yx.BadgeMgr.init(),yx.chuangXianZhenMgr.init(),yx.SkinMgr.init(),yx.ZongMenMgr.init(),yx.shareMgr.init(),yx.ChengZhangLiBaoMgr.init(),yx.biWuMgr.init(),yx.YouLiMgr.init(),yx.MiLingMgr.init(),yx.RankMgr.init(),yx.QQqunMgr.init(),yx.FengShenMgr.init(),yx.PerDayChongZhiMgr.init(),yx.lingMaiMgr.init(),yx.DongTianMgr.init(),yx.diGongMgr.init(),yx.xianMengMgr.init(),yx.cangBaoTuMgr.init(),yx.FaQiMgr.init(),yx.baGuaMgr.init(),yx.huolangMgr.init(),yx.log("NetWork init"),!(this.canShowReconnect=!1)},isCanShowReconnect:function isCanShowReconnect(){return this.canShowReconnect},setCanShowReconnect:function setCanShowReconnect(e){this.canShowReconnect=e},connectServer:function connectServer(e,t){this._manualClose=!1,this._initSocket(e,t)},disConnect:function disConnect(){this._connected=!1,this._manualClose=!0,s.closeSocket()},isConnected:function isConnected(){return this._connected},reconnect:function reconnect(){yx.log("network reconnect "),this._manualClose=!1,this._initSocket(this._currIp,this._currPort)},isManualClose:function isManualClose(){return this._manualClose},_initSocket:function _initSocket(e,t){var n=this;s.isConnected()?(s.closeSocket(),null==this._timeoutId&&(this._timeoutId=setTimeout(function(){n._initSocket(e,t)},1e3))):(null!=this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this._connectTo(e,t))},_connectTo:function _connectTo(e,t){this._currIp=e,this._currPort=t,yx.log("_connectTo, ip="+e+", this._retryTimes="+this._retryTimes),s.socketConnection(e,t,this._socketEvtCb.bind(this))},_socketEvtCb:function _socketEvtCb(e,t){switch(e){case"onopen":yx.network._retryTimes=0,yx.network.sendForwardMessage();break;case"onmessage":0==yx.network._connected?yx.network.checkForwardMsg(t.data)?(yx.network._connected=!0,yx.eventDispatch.dispatchMsg(yx.EventType.SERVER_CONNECTED)):(yx.error("[NetWork socketevtcb] onmessage forward msg error"),yx.network.disConnect()):yx.network.recvMessage(t.data);break;case"onerror":break;case"onclose":yx.log("[NetWork onclose] ismanual:"+yx.network.isManualClose()),yx.report("Net-Work","socket-onclose"),yx.network._connected=!1,0<=this._waitingMsgId&&(yx.WaitingPanel.ClosePanel(),this._waitingMsgId=-1),yx.network.isManualClose()||yx.eventDispatch.dispatchMsg(yx.EventType.SERVER_DISCONNECT)}},addHandler:function addHandler(e,t){this._msgHandlerMap.has(e)?yx.error("[NetWork addHanler] cmdid:"+e+" Cmd:"+yx.proto.CmdId[e]+" duplicate"):this._msgHandlerMap.set(e,t)},sendTestData:function sendTestData(){var e=new yx.proto.S2C_Login;e.register=!0;var t=new yx.proto.S2C_MsgPack;t.cmd=1,t.data=e.constructor.encode(e).finish();var n=t.constructor.encode(t).finish();yx.network.recvMessage(n)},sendForwardMessage:function sendForwardMessage(){if(!s.isConnected())return yx.warn("[Network sendMessage] socket is not connected"),void yx.eventDispatch.dispatchMsg(yx.EventType.SERVER_DISCONNECT);var e=new yx.proto.C2S_ForwardToMsg;e.sid=yx.serverMgr.getCurServerInfo().id;var t=e.constructor.encode(e).finish(),n=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);yx.log("[Network sendForwardMessage] sid:"+e.sid+" time:"+yx.timeUtil.getNowTimeString()),s.sendMessage(n),yx.WaitingPanel.ShowPanel()},sendMessage:function sendMessage(e,t,n){var i=!(2<arguments.length&&void 0!==n)||n;if(null!=e)if(null!=t&&null!=t.constructor.encode)if(0!=yx.network._connected){var o=new yx.proto.C2S_MsgPack;o.cmd=e,o.data=t.constructor.encode(t).finish();var r=o.constructor.encode(o).finish();yx.log("[Network SendData] cmdid:"+e+" Cmd:"+yx.proto.CmdId[e]+" len:"+r.length+" time:"+yx.timeUtil.getNowTimeString());var a=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength);s.sendMessage(a),i&&0<=e&&(this._waitingMsgId=e,yx.WaitingPanel.ShowPanel())}else yx.warn("[Network sendMessage] socket is not connected");else yx.warn("[Network sendMessage] msgObj undefined or type is error");else yx.warn("[Network sendMessage] cmdId undefined")},checkForwardMsg:function checkForwardMsg(e){try{return yx.proto.S2C_ForwardToMsg.decode(new Uint8Array(e)),yx.WaitingPanel.ClosePanel(),!0}catch(e){yx.warn("[Network checkForwardMsg]",e)}return!1},recvMessage:function recvMessage(e){try{var t=yx.proto.S2C_MsgPack.decode(new Uint8Array(e));if(10==t.cmd||t.cmd,yx.log("[Network RecvData] cmdid:"+t.cmd+" Cmd:"+yx.proto.CmdId[t.cmd]+" len:"+e.byteLength+" time:"+yx.timeUtil.getNowTimeString()),0<=this._waitingMsgId&&t.cmd==this._waitingMsgId&&(yx.WaitingPanel.ClosePanel(),this._waitingMsgId=-1),this._msgHandlerMap.has(t.cmd)){var n="";null!=t.errorMsg&&(yx.warn("[Network] error cmdid:"+t.cmd+" type="+t.errorMsg.type+" logout="+t.errorMsg.logout+" msg="+t.errorMsg.msg),n=t.errorMsg.msg,t.errorMsg.type==yx.proto.ErrorMsgType.FLOATING?(yx.ToastUtil.showListToast(n),t.errorMsg.logout&&yx.sdkLayer.logout()):yx.TextConfirm.ShowConfirmAndClose(n,function(){t.msg.logout&&yx.sdkLayer.logout()},function(){t.msg.logout&&yx.sdkLayer.logout()}));var i=this._msgHandlerMap.get(t.cmd);i&&i(n,t.data)}}catch(t){yx.warn("[Network RecvData]",t),yx.log("[Network RecvData] org:",e)}}},yx.network=new yx.NetWork,t.exports=yx.network,cc._RF.pop()},{SocketWrapper:"SocketWrapper"}],NpcRichTextWidget:[function(e,t,n){cc._RF.push(t,"0a842BvgaRKcKoQOo+xvN5Q","NpcRichTextWidget");var u="prefabs/widgets/NpcRichTextWidget",d=cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,iconSprite:cc.Sprite,selectedSprite:cc.Sprite,contentRichText:cc.RichText},statics:{_itemPrefab:null,CreateItemSlot:function CreateItemSlot(o,e,r,a,s,c){var l=new cc.Node(r);e.addChild(l),yx.resUtil.LoadRes(u,function(e,t){if(e)yx.warn(u+" is not exist!");else{var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(d);i&&l&&l.isValid?(i.init(o,a,r,c),l.addChild(n),l.setContentSize(n.getContentSize()),s&&s(i.itemCfg,r)):yx.warn("NpcRichTextWidget instantiate error!")}})}},init:function init(e,t,n,i){this._cb=t,this.node.on("click",this.onBtnClick,this),this.node.setContentSize(this.bgSprite.node.getContentSize()),this._itemInfo=e,this._name=n,this._itemInfo&&(this.itemCfg=yx.cfgMgr.getRecordByKey("NpcListConfig",{ID:this._itemInfo.ID}),this.itemCfg&&(this._itemInfo.npcConfig=this.itemCfg,i?(this.contentRichText.string="<color=#ffd066>"+i.Name+"<color>\n<color=#ffffff>"+this.itemCfg.ZhiWuName+"<color>",null!=i.Icon&&yx.resUtil.LoadSpriteFromResConfig(i.Icon,yx.ResType.HEAD,this.iconSprite)):(this.contentRichText.string="<color=#ffd066>"+this.itemCfg.Name+"<color>\n<color=#ffffff>"+this.itemCfg.ZhiWuName+"<color>",null!=this.itemCfg.Icon&&(yx.log("icon22==="+this.itemCfg.Icon),yx.resUtil.LoadSpriteFromResConfig(this.itemCfg.Icon,yx.ResType.NPC,this.iconSprite)))),this.selectedSprite.node.active=!1)},onBtnClick:function onBtnClick(){null!=this._itemInfo&&this._cb&&this._cb(this.itemCfg,this._name)},onRefresh:function onRefresh(e){e?(this.contentRichText.string="<color=#ffd066>"+e.Name+"<color>\n<color=#ffffff>"+this.itemCfg.ZhiWuName+"<color>",null!=e.Icon&&yx.resUtil.LoadSpriteFromResConfig(e.Icon,yx.ResType.HEAD,this.iconSprite)):(this.contentRichText.string="<color=#ffd066>"+this.itemCfg.Name+"<color>\n<color=#ffffff>"+this.itemCfg.ZhiWuName+"<color>",null!=this.itemCfg.Icon&&(yx.log("icon22==="+this.itemCfg.Icon),yx.resUtil.LoadSpriteFromResConfig(this.itemCfg.Icon,yx.ResType.NPC,this.iconSprite)))},getInfo:function getInfo(){return this._itemInfo}});yx.NpcRichTextWidget=t.exports=d,cc._RF.pop()},{}],NumberWidget:[function(e,t,n){cc._RF.push(t,"f43edVvxtJCvpqPNN7peTtS","NumberWidget"),cc.Class({extends:cc.Component,properties:{numLabel:cc.Label,subBtn:cc.Button,numBtn:cc.Button,addBtn:cc.Button,maxBtn:cc.Button,_curNum:Number,_maxNum:Number,_numClickEnable:Boolean,_changedCallback:null,_callbackTarget:null,curNum:{get:function get(){return this._curNum}},maxNum:{get:function get(){return this._maxNum}}},onLoad:function onLoad(){this.subBtn.node.on("click",this.subBtnOnClick,this),this.numBtn.node.on("click",this.numBtnOnClick,this),this.addBtn.node.on("click",this.addBtnOnClick,this),this.maxBtn.node.on("click",this.maxBtnOnClick,this),this._numClickEnable=!0},init:function init(e,t,n,i){this._curNum=e,this._maxNum=t,this._changedCallback=n,this._callbackTarget=i,this._refreshNumLabel()},setNumberClickEnable:function setNumberClickEnable(e){this._numClickEnable=e},changeCurNum:function changeCurNum(e){this.curNum!=e&&(this._curNum=e,this._changedCallback&&this._callbackTarget&&this._changedCallback.call(this._callbackTarget,this.curNum))},_refreshNumLabel:function _refreshNumLabel(){this.numLabel.string=this.curNum+"/"+this._maxNum},addBtnOnClick:function addBtnOnClick(){this.curNum<this._maxNum&&(this.changeCurNum(this.curNum+1),this._refreshNumLabel())},subBtnOnClick:function subBtnOnClick(){1<this.curNum&&(this.changeCurNum(this.curNum-1),this._refreshNumLabel())},numBtnOnClick:function numBtnOnClick(){if(this._numClickEnable){var e=new cc.Component.EventHandler;e.target=this.node,e.component="NumberWidget",e.handler="numpadCallback";var t={};t.callback=e,yx.windowMgr.showWindow("numpad",t)}},numpadCallback:function numpadCallback(e){e=Math.min(e,this._maxNum),this.changeCurNum(e),this._refreshNumLabel()},maxBtnOnClick:function maxBtnOnClick(){if(this.curNum!=this._maxNum){var e=this._maxNum;this.changeCurNum(e),this._refreshNumLabel()}},getCurNum:function getCurNum(){return this._curNum}}),cc._RF.pop()},{}],NumpadPanel:[function(e,t,n){cc._RF.push(t,"7c89anopiBDhLuzK9g22bWd","NumpadPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{titleLabel:cc.Label,numberLabel:cc.Label,numBtnLayout:cc.Layout,confirmBtn:cc.Button,clearBtn:cc.Button,_callback:cc.Component.EventHandler},_onInit:function _onInit(e){this._callback=e.callback,this.confirmBtn.node.on("click",this.onConfirmBtnClick,this),this.clearBtn.node.on("click",this.onClearBtnClick,this),this.numberLabel.string="";for(var t=this.numBtnLayout.node.children,n=0;n<t.length;n++){var i=parseInt(t[n].name);isNaN(i)||this._setNumBtn(t[n],i)}},_setNumBtn:function _setNumBtn(e,t){var n=new cc.Component.EventHandler;n.target=this.node,n.component="NumpadPanel",n.handler="onNumBtnClick",n.customEventData=t,e.getComponent(cc.Button).clickEvents.length=0,e.getComponent(cc.Button).clickEvents.push(n),e.getChildByName("Background").getComponentInChildren(cc.Label).string=t},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){},onNumBtnClick:function onNumBtnClick(e,t){0<=t&&t<=9&&(this.numberLabel.string+=t)},onClearBtnClick:function onClearBtnClick(){this.numberLabel.string="",this._refresh()},onConfirmBtnClick:function onConfirmBtnClick(){var e=parseInt(this.numberLabel.string);yx.log("[NumpadPanel onConfirmBtnClick] num:"+e),0<e?(yx.windowMgr.goBack(),null!=this._callback&&this._callback.emit([e])):yx.ToastUtil.showListToast("请输入数量")},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],OneKeySellPanel:[function(e,t,n){cc._RF.push(t,"fd079HJIsREDbPI3m1J0oYF","OneKeySellPanel");var i=e("BaseWindow"),o=["一阶","二阶","三阶","四阶","五阶","六阶","七阶","八阶","九阶","仙一","仙二","仙三","仙四","仙五","仙六","仙七","仙八","仙九"];cc.Class({extends:i,properties:{maskBtn:cc.Button,closeBtn:cc.Button,sellBtn:cc.Button,toggleParent:cc.Node,sellNumLabel:cc.Label},_onInit:function _onInit(){this.maskBtn.node.on("click",this.onCloseBtnClick,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.sellBtn.node.on("click",this.onSellBtnClick,this),this._initCheckBtns()},_onShow:function _onShow(){this._refresh()},_initCheckBtns:function _initCheckBtns(){this._toggleList=new Array;for(var e=0;e<this.toggleParent.children.length;e++){var t=this.toggleParent.children[e].getComponent(cc.Toggle);if(t.node.name="OneKeySell_"+(e+1),t){var n=t.getComponentInChildren(cc.Label);if(n){n.string=o[e];var i=e+1;n.node.color=yx.colorUtil.toCCColor(yx.textDict.QualityColor.getQualityColor(i)),yx.CodeHelper.addOutlineByPinZhi(n.node,i)}t.uncheck(),t.node.on("click",this.onCheckBtnsClick,this),this._toggleList.push(t)}}},_refresh:function _refresh(){this.loadCheckByLocal()},loadCheckByLocal:function loadCheckByLocal(){var e=yx.localStorage.Load(yx.LSKey.ONE_KEY_SELL+":"+yx.playerMgr.getPid());if(e){for(var t=0;t<e.length;t++){var n=e[t]-1,i=this._toggleList[n];i&&(i.isChecked=!0)}this._selected=e;var o=yx.bagMgr.getItemCfgListByPinZhi(this._selected,yx.ItemType.EQUIP);this.sellNumLabel.string=o.count}},onCheckBtnsClick:function onCheckBtnsClick(){this._selected=new Array;for(var e=0;e<this._toggleList.length;e++)this._toggleList[e].isChecked&&this._selected.push(e+1);yx.localStorage.Save(yx.LSKey.ONE_KEY_SELL+":"+yx.playerMgr.getPid(),this._selected);var t=yx.bagMgr.getItemCfgListByPinZhi(this._selected,yx.ItemType.EQUIP);this.sellNumLabel.string=t.count},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onSellBtnClick:function onSellBtnClick(){var e=yx.bagMgr.getItemCfgListByPinZhi(this._selected,yx.ItemType.EQUIP),t=e.count;if(t<=0)yx.ToastUtil.showListToast("请选择要出售的装备");else{var n=e.pinZhiItemCfgList,i=null,o=0;for(var r in n)if(n[r]){var a=n[r].SellMoney;a&&0<a.length&&(o+=a[0].count?a[0].count:0),i=i||n[r]}if(i){var s=yx.textDict.QualityColor.getQualityColor(i.PinZhi),c=i.Name,l="出售<color={itemColor}>{itemName}</color>等<color=#2D94C9>{itemNum}件</color>装备可获得<color=#2D94C9>{lingShiNum}灵石</color>，确定要出售吗？".format({itemColor:s,itemName:c,itemNum:t,lingShiNum:o});yx.windowMgr.goBack(),yx.TextConfirm.ShowConfirm(l,this.onSellBtnComfirm.bind(this,this._selected))}}},onSellBtnComfirm:function onSellBtnComfirm(e){yx.bagMgr.reqSellOneKey(e)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],PerDayChongZhiMgr:[function(e,t,n){cc._RF.push(t,"e29fa5nLjBOvbVagdagaJ/h","PerDayChongZhiMgr"),yx.PerDayChongZhiManager=function(){this.shouChongPerDayId=104},yx.PerDayChongZhiManager.prototype={constructor:yx.PerDayChongZhiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.DAILY_RECHARGE,this.onMessageTaskInfo.bind(this)),this._taskMap=null},reqTaskInfo:function reqTaskInfo(){yx.log("RankManager  Info");var e=new yx.proto.C2S_Activity;e.cmdType=yx.proto.ActivityCmdType.GetActivityConfig_Cmd,yx.network.sendMessage(yx.proto.CmdId.DAILY_RECHARGE,e)},toastReward:function toastReward(e){var t=yx.cfgMgr.getOneRecord("DailyRechargeConfig",{ID:e.id,Index:e.index});if(t){var n=t.Reward;if(n&&0<n.length)for(var i=0;i<n.length;i++){var o=n[i],r=yx.bagMgr.GetItemName(o.id)+"<color=#ffd066>+"+o.count+"</color>";yx.ToastUtil.showListToast(r)}}else yx.warn("DailyRechargeConfig toastReward acfg element.id"+e.id+"element.index:"+e.index)},onMessageTaskInfo:function onMessageTaskInfo(e,t){if(yx.log("onMessageTaskInfo-----"),null!=e&&0<e.length)yx.log("[PerDayChongZhiMgr onMessageTaskInfo] error:"+e);else{var n=yx.proto.S2C_PlayerTask.decode(t);if(n.cmdTyp===yx.proto.PlayerTaskCmdType.Received_Cmd||n.cmdTyp===yx.proto.PlayerTaskCmdType.UpdatePlayerTask_Cmd)for(var i=0;i<n.taskInfo.length;i++){var o=n.taskInfo[i];o.taskState==yx.proto.TaskStateType.Received&&yx.PerDayChongZhiMgr.toastReward(o)}else n.cmdTyp===yx.proto.PlayerTaskCmdType.GetPlayerTask_Cmd&&(this._taskMap=null);yx.PerDayChongZhiMgr.updateTaskList(n)}},updateTaskList:function updateTaskList(e){null==this._taskMap&&(this._taskMap={});for(var t=e.taskInfo,n=0;n<t.length;n++){var i=t[n];null==this._taskMap[i.id]&&(this._taskMap[i.id]={}),this._taskMap[i.id][i.index]=i,yx.PerDayChongZhiMgr.shouChongPerDayId=i.id}yx.eventDispatch.dispatchMsg(yx.EventType.PEIDAY_CHONGZHI_TASKINFO)},getTaskInfo:function getTaskInfo(e,t){return this._taskMap&&this._taskMap[e]&&this._taskMap[e][t]?this._taskMap[e][t]:null},getTaskInfos:function getTaskInfos(e){return this._taskMap&&this._taskMap[e]?this._taskMap[e]:null},TaskReward:function TaskReward(e,t){yx.log("ActivityManager  TaskReward id=="+e+",index="+t);var n=new yx.proto.C2S_PlayerTask;n.cmdTyp=yx.proto.PlayerTaskCmdType.Received_Cmd,n.id=e,n.index=t,yx.network.sendMessage(yx.proto.CmdId.DAILY_RECHARGE,n)},isAllReceived:function isAllReceived(){var e=yx.PerDayChongZhiMgr.getTaskInfos(yx.PerDayChongZhiMgr.shouChongPerDayId);if(!e)return!0;var t=0;for(var n in e)e[n].taskState==yx.proto.TaskStateType.Received&&t++;return Object.keys(e).length==t}},yx.PerDayChongZhiMgr=new yx.PerDayChongZhiManager,t.exports=yx.PerDayChongZhiMgr,cc._RF.pop()},{}],PkgUpgradePanel:[function(e,t,n){cc._RF.push(t,"a56b7sfT9dACYNM6Rg2SNn2","PkgUpgradePanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{descLabel:cc.Label,contentRichText:cc.RichText,maskBtn:cc.Button,closeBtn:cc.Button,useBtn:cc.Button,cancelBtn:cc.Button},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.useBtn.node.on("click",this.onUseBtnClick,this),this.cancelBtn.node.on("click",this.onCancelBtnClick,this),this._stoneItemId=0,this._stoneAmount=0},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){var e=yx.bagMgr.getBagLevel(),t=yx.cfgMgr.getOneRecord("PkgLevelConfig",{Level:e});if(t){var n=t.cost[0].id,i=t.GridNum-yx.bagMgr.getStoneUse(),o=yx.bagMgr.getItemNum(n),r=yx.cfgMgr.getOneRecord("ItemConfig",{ID:n});if(r){var a={};a.pkgName=t.Name,a.stoneName=r.Name,a.amountColor=0<o?yx.colorUtil.TextGreen:yx.colorUtil.TextRed,a.amount=o,a.leftTimes=i,this.descLabel.string="\t\t当前是{pkgName}，使用一个“{stoneName}”可以提升一格容量。\n（{stoneName}可通过炼器打造获得）".format(a),this.contentRichText.string="当前拥有{stoneName}：<color={amountColor}>{amount}</color>\n还可以使用<color=#00C800>{leftTimes}</color>次".format(a),this._stoneItemId=n,this._stoneAmount=o}else yx.error("[PkgUpgradePanel refresh] ItemConfig error ItemId:"+n)}else yx.error("[PkgUpgradePanel refresh] PkgLevelConfig error level:"+e)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onUseBtnClick:function onUseBtnClick(){yx.log("[PkgUpgradePanel onUseBtnClick]"),0<this._stoneItemId&&(0==this._stoneAmount?(yx.ToastUtil.showListToast("虚空石不足"),yx.log("[PkgUpgradePanel onUseBtnClick] stoneItemId:"+this._stoneItemId)):(yx.windowMgr.goBack(),yx.bagMgr.reqUseItem(this._stoneItemId,1)))},onCancelBtnClick:function onCancelBtnClick(){this.onCloseBtnClick()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],PlayerMgr:[function(e,t,n){var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"1ad167vWC9KiJ45S9XkWvVy","PlayerMgr");var r=(o(i={},1,15),o(i,2,5),o(i,3,5),o(i,4,3),o(i,5,3),o(i,6,.5),o(i,7,.5),i);yx.PlayerManager=function(){this._currency={},this._property={},this._lixian=null,this._danyao=null,this._xiulianManualEndTime=0,this._zhongzu=1,this._switchList=new Array(64),this._xiulianLogList=new Array,this._defaultAvatar=0,this._defaultRoleEffect=0,this._defaultFaXiang=0,this._faxiangId=0,this._roleEffectId=0,this._skinId=0,this._skinHeadId=0,this._titleId=0,this._sceneId=0,this._skySceneId=0,this._fudiId=0,this._lastGameWorld=1,this._curGameWorld=1,this._isFlyUp=!1,this._openDay=0,this._needPopMsg=!0,this._nameCertDelayTime=0,this._nameCertShowTime=0},yx.PlayerManager.prototype={constructor:yx.PlayerManager,init:function init(){yx.eventDispatch.addListener(yx.EventType.LOGOUT_EVENT,this.onEventLoginOut,this),yx.network.addHandler(yx.proto.CmdId.LOGIN,this.onMessageLogin),yx.network.addHandler(yx.proto.CmdId.REGISTER,this.onMessageCreateRole),yx.network.addHandler(yx.proto.CmdId.GET_PLAYER_INFO,this.onMessageGetRoleInfo),yx.network.addHandler(yx.proto.CmdId.UPDATE_PLAYER_INFO,this.onMessageUpdatePlayerInfo),yx.network.addHandler(yx.proto.CmdId.CURRENCY_CHANGE,this.onMessageCurrencyChg),yx.network.addHandler(yx.proto.CmdId.LEVEL_UP,this.onMessageLevelUp),yx.network.addHandler(yx.proto.CmdId.XIU_LIAN,this.onMessageXiuLian),yx.network.addHandler(yx.proto.CmdId.MONTH_CARD_REWARD,this.onMessageMonthVipGongFeng),yx.network.addHandler(yx.proto.CmdId.ALL_PROPERTY,this.onMessagePropertyChg),yx.network.addHandler(yx.proto.CmdId.ITEM_USE_INFO,this.onMessageItemUseInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.ITEM_EXCHANGE_INFO,this.onMessageItemExchangeInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.DU_JIE_CHANGE,this.onMessageDuJieSucRadio.bind(this)),yx.network.addHandler(yx.proto.CmdId.DAN_YAO,this.onMessageDanYaoUseInfo.bind(this)),yx.network.addHandler(yx.proto.CmdId.SWITCH,this.onMessageSwitchUpdate),yx.network.addHandler(yx.proto.CmdId.CDKEY,this.onMessageCdKey),yx.network.addHandler(yx.proto.CmdId.WORLD,this.onMessageWorld),yx.network.addHandler(yx.proto.CmdId.POP_MSG_PUSH,this.onMessagePopMsg)},dataInit:function dataInit(){this.initProperty(),yx.bagMgr.reqAllItem(),yx.playerMgr.reqPlayerProperty(),yx.playerMgr.reqItemUseInfo(),yx.playerMgr.reqDanYao(),yx.playerMgr.reqItemExchangeInfo(),yx.wudaoMgr.reqWuDaoInfo(),yx.gongfaMgr.reqGongFaInfo(),yx.DiarysUtil.init(),yx.caveMgr.reqAllBook(),yx.ActivityMgr.reqWxShouCang(yx.proto.WeChatFollowCmdType.GetFollow_Cmd),yx.FengShenMgr.reqConfig(),yx.PerDayChongZhiMgr.reqTaskInfo(),yx.ActivityMgr.Info(),yx.ActivityMgr.TaskInfo(),yx.SkinMgr.WearList(),yx.playerMgr.reqWorld(),yx.ZongMenMgr.ZongMenInfo(),yx.ChengZhangLiBaoMgr.GetList(),yx.MiLingMgr.reqGetInfo(),yx.QQqunMgr.Info(),yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengInfo_Cmd,null,null),yx.battleMgr.reqEnterGjInfo(),yx.FaQiMgr.req(yx.proto.PetCmdType.GetPetList_Cmd),yx.playerMgr.reqAllSwitch()},getCurrency:function getCurrency(e){return this._currency[e]||0},initCurrency:function initCurrency(e){for(var t in this._currency={},yx.CyType){var n=yx.CyType[t];n.constructor==Number&&(this._currency[n]=0)}for(var i=0;i<e.length;i++){var o=e[i];this.setCurrency(o.itemId,o.amount)}},setCurrency:function setCurrency(e,t){null!=this._currency[e]&&(this._currency[e]=t)},initProperty:function initProperty(){for(var e in this._property={},yx.proto.PropertyType){var t=yx.proto.PropertyType[e];t.constructor==Number&&(this._property[t]=0)}},getProperty:function getProperty(e){return this._property[e]||0},setProperty:function setProperty(e,t){null!=this._property[e]&&(this._property[e]=t)},getSecAttr:function getSecAttr(e){return this.attr2secAttr(e,this.getProperty(e))},setPlayerMsg:function setPlayerMsg(e){this._pid=e.pid,this._name=e.name,this._zhongzu=e.zhongZu,this.icon=e.icon,this.avataId=e.avataId,this.channel=e.channel,this.vipEndTime=e.vipEndTime||0,this.vipMonth=yx.timeUtil.getServerTime()<this.vipEndTime,this.vipForever=e.vipForever,yx.bagMgr.setPkgArgs(e.pkgNum,e.pkgLevel,e.pkgUse),this.setDuJieLevel(e.level1),this.setCuiTiLevel(e.level2),e.shuGeLevel&&(this.setLianDanShiLevel(e.shuGeLevel[0]),this.setLianQiShiLevel(e.shuGeLevel[1]),this.setWuDaoShiLevel(e.shuGeLevel[2])),yx.timeUtil.setCreateTime(e.registerTime),yx.menPaiMgr.setMineMenPaiId(e.menPaiID)},setLianDanShiLevel:function setLianDanShiLevel(e){this.lianDanShiLevel=e},setLianQiShiLevel:function setLianQiShiLevel(e){this.lianQiShiLevel=e},setWuDaoShiLevel:function setWuDaoShiLevel(e){this.wuDaoShiLevel=e},getLianDanShiLevel:function getLianDanShiLevel(){return this.lianDanShiLevel||0},getLianQiShiLevel:function getLianQiShiLevel(){return this.lianQiShiLevel||0},getWuDaoShiLevel:function getWuDaoShiLevel(){return this.wuDaoShiLevel||1},setVipMonth:function setVipMonth(e){this.vipMonth=e},setVipForever:function setVipForever(e){this.vipForever=e},isVipMonth:function isVipMonth(){return this.vipMonth},isVipForever:function isVipForever(){return this.vipForever},isVip:function isVip(){return this.vipMonth||this.vipForever},getAvatarId:function getAvatarId(){return 0<this._skinId?this._skinId:this._defaultAvatar},getSceneId:function getSceneId(){return 0<this._fudiId?this._fudiId:this._sceneId},getSkySceneId:function getSkySceneId(){return this._skySceneId},getFaXiang:function getFaXiang(){return 0<this._faxiangId?this._faxiangId:this._defaultFaXiang},getRoleTitle:function getRoleTitle(){return this._titleId},getRoleEffect:function getRoleEffect(){return 0<this._roleEffectId?this._roleEffectId:this._defaultRoleEffect},getZhongZuName:function getZhongZuName(){switch(this._zhongzu){case 1:return"狐";case 2:return"蛇";case 3:return"猴";case 4:return"鲛"}return""},setDuJieLevel:function setDuJieLevel(e){this._level1=e,this.dujieInfo=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this.getDuJieLevel()});var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:yx.playerMgr.getZhongZu(),Level:yx.playerMgr.getDuJieLevel()});t&&(this._defaultAvatar=t.AvatarID,this._sceneId=t.BG,this._skySceneId=t.XianBG,this._defaultFaXiang=t.FaXiangID,this._defaultRoleEffect=t.TeXiaoID)},setSkinId:function setSkinId(e){this._skinId=e},getSkinId:function getSkinId(){return this._skinId},setSkinHeadId:function setSkinHeadId(e){this._skinHeadId=e},setFuDi:function setFuDi(e){this._fudiId=e},setFaXiang:function setFaXiang(e){this._faxiangId=e},setRoleEffect:function setRoleEffect(e){this._roleEffectId=e},setRoleTitle:function setRoleTitle(e){this._titleId=e},setCuiTiLevel:function setCuiTiLevel(e){this._level2=e},setDanYao:function setDanYao(e){var t=this;this._danyao||(this._danyao=new Map),e.forEach(function(e){t._danyao.set(e.itemId,e)})},updateDanYaoItem:function updateDanYaoItem(e){var r=this;this._danyao||(this._danyao=new Map),e.forEach(function(e){var t=e.id;if(t){var n=e.amount,i=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t});if(i&&(3===i.Type||4===i.Type))if(r._danyao&&r._danyao.has(t))r._danyao.get(t).useCount=n;else if(r._danyao&&!r._danyao.has(t)){var o={};o.itemId=t,o.useCount=n,o.maxCount=i.UseMax,r._danyao.set(o.itemId,o)}}})},getDanYao:function getDanYao(){return this._danyao},getDanYaoByItemId:function getDanYaoByItemId(e){return this._danyao&&this._danyao.has(e)?this._danyao.get(e):null},getDanYaoUseCount:function getDanYaoUseCount(e){return this._danyao&&this._danyao.has(e)?this._danyao.get(e).useCount:0},checkDanYaoIsEatFull:function checkDanYaoIsEatFull(e){return!(!this._danyao||!this._danyao.has(e))&&this._danyao.get(e).useCount>=this._danyao.get(e).maxCount},setItemUseInfo:function setItemUseInfo(e){var t=this;this._itemUseInfos||(this._itemUseInfos=new Map),e.forEach(function(e){t._itemUseInfos.set(e.id,e)}),yx.eventDispatch.dispatchMsg(yx.EventType.PLAYER_ITEM_USE_INFO)},getItemUseCount:function getItemUseCount(e){return this._itemUseInfos&&this._itemUseInfos.has(e)?this._itemUseInfos.get(e).amount:0},isOpenShenShiRuTi:function isOpenShenShiRuTi(){return 0<yx.playerMgr.getItemUseCount(1013)},isOwnDanLu:function isOwnDanLu(){for(var e=1151;e<=1159;e++)if(0<yx.playerMgr.getItemUseCount(e))return!0;return!1},isOwnQiLu:function isOwnQiLu(){for(var e=1161;e<=1169;e++)if(0<yx.playerMgr.getItemUseCount(e))return!0;return!1},setItemExchangeInfo:function setItemExchangeInfo(e){var t=this;this._itemExchangeInfos||(this._itemExchangeInfos=new Map),e.forEach(function(e){t._itemExchangeInfos.set(e.id,e)})},getItemExchangeCount:function getItemExchangeCount(e){return this._itemExchangeInfos&&this._itemExchangeInfos.has(e)?this._itemExchangeInfos.get(e).amount:0},getDanYaoMaxCount:function getDanYaoMaxCount(e){return this._danyao&&this._danyao.has(e)?this._danyao.get(e).maxCount:0},getPid:function getPid(){return this._pid},getName:function getName(){return this._name},getZhongZu:function getZhongZu(){return this._zhongzu},getDuJieLevel:function getDuJieLevel(){return this._level1},getCuiTiLevel:function getCuiTiLevel(){return this._level2},getExp:function getExp(){return this.getCurrency(yx.CyType.XIUWEI)},getHeadID:function getHeadID(){if(0<this._skinHeadId)return this._skinHeadId;var e=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:this.getDuJieLevel(),ZhongZu:this.getZhongZu()});return e?e.HeadID:80001},changeCurrency:function changeCurrency(e){var t={};e.forEach(function(e){yx.playerMgr.getCurrency(e.itemId)!=e.amount&&(t[e.itemId]=e.amount-yx.playerMgr.getCurrency(e.itemId),yx.playerMgr.setCurrency(e.itemId,e.amount))}),yx.eventDispatch.dispatchMsg(yx.EventType.CURRENCY_CHANGE,t)},testCurrencyAdd:function testCurrencyAdd(){var e=new yx.proto.S2C_CurrencyChange;e.item=new Array,e.item.push({itemId:yx.CyType.LINGSHI,count:100}),e.item.push({itemId:yx.CyType.LINGQI,count:500}),e.item.push({itemId:yx.CyType.WEIWANG,count:999}),this.onMessageCurrencyChg(null,e.constructor.encode(e).finish())},attr2secAttr:function attr2secAttr(e,t){return null!=r[e]?Math.floor(t*r[e]):(yx.warn("[PlayerMgr attr2secAttr] type error:"+e),t)},setLiXian:function setLiXian(e){if(e&&0!=e.length){var t={};e.forEach(function(e){t[e.itemId]=e.amount}),this._lixian=t}else this._lixian=null},getLiXian:function getLiXian(){return this._lixian},setLiXianGJ:function setLiXianGJ(e,t){this._lixianGjTime=t,e&&0!=e.length?this._lixianGj=e:this._lixianGj=null},getLiXianGJ:function getLiXianGJ(){return this._lixianGj},getLiXianGJOfflineTime:function getLiXianGJOfflineTime(){return this._lixianGjTime||1e3},clearLiXian:function clearLiXian(){this._lixian=null},clearLiXianGJ:function clearLiXianGJ(){this._lixianGj=null},setXiuLianEndTime:function setXiuLianEndTime(e){this._xiulianManualEndTime=e},getXiuLianElapse:function getXiuLianElapse(){var e=(this._xiulianManualEndTime-yx.timeUtil.getServerTime())/1e3;return e<0&&(e=0),e},setSwitch:function setSwitch(e){var t=0,n=e.toString(2);for(n=n.split("").reverse().join("");t<64;)t<n.length?this._switchList[t]="1"==n[t]:this._switchList[t]=!1,t++},getSwitch:function getSwitch(e){return e<this._switchList.length&&this._switchList[e]},setXiuLianLog:function setXiuLianLog(e){if(e&&0<e.length){this._xiulianLogList=new Array;var t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value,s=yx.timeUtil.getXiuLianByTime(a.xiuLianTime);this._xiulianLogList.push({level:a.level,year:s})}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}else this._xiulianLogList.length=0},getXiuLianLog:function getXiuLianLog(){return this._xiulianLogList},addXiuLianLog:function addXiuLianLog(){var e=this.getDuJieLevel();if(10<e&&e%10==1){var t={};t.level=e,t.year=yx.timeUtil.getXiuLianYear(),this._xiulianLogList.push(t)}},setLastGameWorld:function setLastGameWorld(e){this._lastGameWorld=e.word},setFlyUp:function setFlyUp(e){this._isFlyUp=e.isFlyUp},IsFlyUp:function IsFlyUp(){return this._isFlyUp},getLastGameWorld:function getLastGameWorld(){return this._lastGameWorld},reqMonthVipGongFeng:function reqMonthVipGongFeng(){var e=new yx.proto.C2S_MonthCardReward;yx.network.sendMessage(yx.proto.CmdId.MONTH_CARD_REWARD,e)},reqPlayerMsg:function reqPlayerMsg(){var e=new yx.proto.C2S_GetPlayer;yx.network.sendMessage(yx.proto.CmdId.GET_PLAYER_INFO,e),yx.playerMgr.resetSomething()},reqRegister:function reqRegister(e,t){var n=new yx.proto.C2S_Register;n.zhongZu=e,n.nickName=t,yx.network.sendMessage(yx.proto.CmdId.REGISTER,n)},reqPlayerProperty:function reqPlayerProperty(){var e=new yx.proto.C2S_PlayerProperty;yx.network.sendMessage(yx.proto.CmdId.ALL_PROPERTY,e)},reqDuJieLevelUp:function reqDuJieLevelUp(){yx.playerMgr.reqPlayerLevelUp(yx.proto.LevelUpType.DU_JIE)},reqDuJieSucRadio:function reqDuJieSucRadio(){yx.network.sendMessage(yx.proto.CmdId.DU_JIE_CHANGE,new yx.proto.C2S_DuJieChance)},reqDanYao:function reqDanYao(){yx.network.sendMessage(yx.proto.CmdId.DAN_YAO,new yx.proto.C2S_DanYao)},reqPlayerLevelUp:function reqPlayerLevelUp(e){var t=new yx.proto.C2S_LevelUp;t.type=e,yx.network.sendMessage(yx.proto.CmdId.LEVEL_UP,t)},reqPlayerXiuLian:function reqPlayerXiuLian(){var e=new yx.proto.C2S_XiuLian;yx.network.sendMessage(yx.proto.CmdId.XIU_LIAN,e)},reqItemUseInfo:function reqItemUseInfo(){var e=new yx.proto.C2S_ItemUseInfo;yx.network.sendMessage(yx.proto.CmdId.ITEM_USE_INFO,e)},reqItemExchangeInfo:function reqItemExchangeInfo(){var e=new yx.proto.C2S_ItemExchangeInfo;yx.network.sendMessage(yx.proto.CmdId.ITEM_EXCHANGE_INFO,e)},reqAllSwitch:function reqAllSwitch(){var e=new yx.proto.C2S_Switch;e.type=yx.proto.SwitchType.GetAll,e.state=0,yx.network.sendMessage(yx.proto.CmdId.SWITCH,e)},reqChangeSwitch:function reqChangeSwitch(e,t){var n=new yx.proto.C2S_Switch;n.type=e,n.state=t?1:0,yx.network.sendMessage(yx.proto.CmdId.SWITCH,n)},reqCdKey:function reqCdKey(e){var t=new yx.proto.C2S_Cdkey;t.cdkey=e,yx.network.sendMessage(yx.proto.CmdId.CDKEY,t)},reqWorld:function reqWorld(){var e=new yx.proto.C2S_World;e.cmdType=yx.proto.WorldCmdType.GetWorld_Cmd,yx.network.sendMessage(yx.proto.CmdId.WORLD,e)},changeWorld:function changeWorld(e){var t=new yx.proto.C2S_World;t.cmdType=yx.proto.WorldCmdType.ChangeWorld_Cmd,t.word=e,yx.network.sendMessage(yx.proto.CmdId.WORLD,t)},getOpenDay:function getOpenDay(){return this._openDay},setOpenDay:function setOpenDay(e){this._openDay=e},reqPopMsg:function reqPopMsg(){var e=new yx.proto.C2S_PopUpMsg;yx.network.sendMessage(yx.proto.CmdId.POP_MSG_PUSH,e)},onMessageMonthVipGongFeng:function onMessageMonthVipGongFeng(e,t){if(!(null!=e&&0<e.length)){var n=yx.proto.S2C_MonthCardReward.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.VIP_GONGFENG,n)}},onMessageLogin:function onMessageLogin(e,t){null!=e&&0<e.length?yx.log("[PlayMgr onMessageLogin] error:"+e):1==yx.proto.S2C_Login.decode(t).register?(yx.report("Player-Mgr","need-create-Role"),yx.windowMgr.showWindow("createRole")):yx.eventDispatch.dispatchMsg(yx.EventType.LOAD_CONFIG)},onMessageCreateRole:function onMessageCreateRole(e,t){if(null!=e&&0<e.length)return yx.log("[PlayMgr onMessageCreateRole] error:"+e),yx.report("Player-Mgr","on-Message-CreateRole-error"),void yx.eventDispatch.dispatchMsg(yx.EventType.CREATE_ROLE,!1);1==yx.proto.S2C_Register.decode(t).result?(yx.report("Player-Mgr","on-Message-CreateRole-succ"),yx.eventDispatch.dispatchMsg(yx.EventType.CREATE_ROLE,!0),yx.eventDispatch.dispatchMsg(yx.EventType.LOAD_CONFIG)):(yx.report("Player-Mgr","on-Message-CreateRole-fail"),yx.ToastUtil.showListToast("创建失败"),yx.eventDispatch.dispatchMsg(yx.EventType.CREATE_ROLE,!1))},onMessageGetRoleInfo:function onMessageGetRoleInfo(e,t){if(null!=e&&0<e.length)return yx.log("[PlayMgr onMessageGetRoleInfo] error:"+e),void yx.eventDispatch.dispatchMsg(yx.EventType.GET_PLAYER_INFO,!1);var n=yx.proto.S2C_GetPlayer.decode(t);null!=n&&null!=n.player?(n.serverTime&&(yx.timeUtil.setServerTime(n.serverTime),0<yx.playerMgr.getNameCertDelayTime()&&yx.playerMgr.setNameCertShowTime(n.serverTime+yx.playerMgr.getNameCertDelayTime())),yx.playerMgr.setPlayerMsg(n.player),yx.playerMgr.setLiXian(n.item),yx.playerMgr.setLiXianGJ(n.chapterReward,n.offlineTime),yx.playerMgr.setXiuLianLog(n.xiuLianLog),yx.bagMgr.setExchangeData(n.exchange),n.hasOwnProperty("openDay")&&yx.playerMgr.setOpenDay(n.openDay),yx.eventDispatch.dispatchMsg(yx.EventType.GET_PLAYER_INFO,!0)):yx.error("[PlayerMgr onMessageGetRoleInfo error]")},onMessageCurrencyChg:function onMessageCurrencyChg(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageCurrencyChg] error:"+e);else{var n=yx.proto.S2C_CurrencyChange.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.CURRENCY_CHANGE_SHOW,n)}},onMessageLevelUp:function onMessageLevelUp(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageLevelUp] error:"+e);else{var n=yx.proto.S2C_LevelUp.decode(t);if(n.type==yx.proto.LevelUpType.DU_JIE){if(n.succ=n.level==yx.playerMgr.getDuJieLevel()+1,yx.playerMgr.setDuJieLevel(n.level),n.succ){yx.playerMgr.addXiuLianLog();var i=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:yx.playerMgr.getZhongZu(),Level:yx.playerMgr.getDuJieLevel()-1}),o=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:yx.playerMgr.getZhongZu(),Level:yx.playerMgr.getDuJieLevel()});i&&o&&o.AvatarID!=i.AvatarID&&yx.SkinMgr.getCurSkinWearId()&&(yx.SkinMgr.HuanHua(yx.proto.WearType.Skin,yx.SkinMgr.getCurSkinWearId(),!1),yx.SkinMgr.clearWearStatus(yx.proto.WearType.Skin))}yx.eventDispatch.dispatchMsg(yx.EventType.LEVEL_UP,n)}else yx.warn("[PlayerMgr onMessageLevelUp] error levelType:"+n.type)}},onMessageXiuLian:function onMessageXiuLian(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageXiuLian] error:"+e);else{var n=yx.proto.S2C_XiuLian.decode(t);yx.playerMgr.setXiuLianEndTime(n.endTime),yx.eventDispatch.dispatchMsg(yx.EventType.XIU_LIAN)}},onMessagePropertyChg:function onMessagePropertyChg(e,t){try{for(var n=yx.proto.S2C_PlayerProperty.decode(t),i={},o=0;o<n.property.length;o++){var r=n.property[o],a=yx.playerMgr.getProperty(r.type),s=r.value;yx.playerMgr.setProperty(r.type,r.value);var c=s-a;0!=c&&(i[r.type]=c)}yx.log("[PlayerMgr onMessagePropertyChg]"),yx.eventDispatch.dispatchMsg(yx.EventType.PROPERTY_CHANGE,i),yx.eventDispatch.dispatchMsg(yx.EventType.PROPERTY_REFRESH)}catch(e){yx.warn("[PlayerMgr onMessagePropertyChg] error:",e)}},onMessageItemUseInfo:function onMessageItemUseInfo(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageItemUseInfo] error:"+e);else{var n=yx.proto.S2C_ItemUseInfo.decode(t);if(n){var i=n.itemUse;this.setItemUseInfo(i),this.updateDanYaoItem(i)}}},onMessageDanYaoUseInfo:function onMessageDanYaoUseInfo(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageDanYaoUseInfo] error:"+e);else{var n=yx.proto.S2C_DanYao.decode(t);n&&(yx.playerMgr.setDanYao(n.danYao),yx.eventDispatch.dispatchMsg(yx.EventType.DANYAO_CHANGE))}},onMessageItemExchangeInfo:function onMessageItemExchangeInfo(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageItemExchangeInfo] error:"+e);else{var n=yx.proto.S2C_ItemExchangeInfo.decode(t);if(n){var i=n.itemExchange;this.setItemExchangeInfo(i),yx.eventDispatch.dispatchMsg(yx.EventType.ITEM_EXCHANGE_INFO,n)}}},onMessageDuJieSucRadio:function onMessageDuJieSucRadio(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageDuJieSucRadio] error:"+e);else{var n=yx.proto.S2C_DuJieChance.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.DUJIE_SUCRADIO,n)}},onMessageSwitchUpdate:function onMessageSwitchUpdate(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageDuJieSucRadio] error:"+e);else{var n=yx.proto.S2C_Switch.decode(t);n&&(yx.playerMgr.setSwitch(n.allState),yx.eventDispatch.dispatchMsg(yx.EventType.SWITCH_UPDATE))}},onMessageCdKey:function onMessageCdKey(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageCdKey] error:"+e);else{var n=yx.proto.S2C_Cdkey.decode(t);n&&(yx.log("onMessageCdKey:"+JSON.stringify(n)),n.reward.forEach(function(e){var t=e.id,n=e.count,i=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t});if(i){var o=yx.colorUtil.AddColorString(i.Name+"x"+n,yx.textDict.QualityColor.getQualityColor(i.PinZhi));yx.ToastUtil.showListToast("获得"+o)}}))}},onMessageWorld:function onMessageWorld(e,t){if(null!=e&&0<e.length)yx.warn("[PlayerMgr onMessageWorld] error:"+e);else{var n=yx.proto.S2C_World.decode(t);switch(n.cmdType){case yx.proto.WorldCmdType.GetWorld_Cmd:yx.playerMgr.setLastGameWorld(n);break;case yx.proto.WorldCmdType.ChangeWorld_Cmd:}yx.playerMgr.setFlyUp(n),yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_WORLD)}},onMessageUpdatePlayerInfo:function onMessageUpdatePlayerInfo(e,t){if(null!=e&&0<e.length)yx.log("[PlayMgr onMessageUpdatePlayerInfo] error:"+e);else{var n=yx.proto.S2C_GetPlayer.decode(t);null!=n&&null!=n.player?(yx.playerMgr.setPlayerMsg(n.player),yx.eventDispatch.dispatchMsg(yx.EventType.PLAYER_AVATAR_REFRESH)):yx.error("[PlayerMgr onMessageUpdatePlayerInfo error]")}},resetSomething:function resetSomething(){yx.mailMgr.resetLogin()},onMessagePopMsg:function onMessagePopMsg(e){null!=e&&0<e.length&&yx.log("[PlayMgr onMessagePopMsg] error:"+e)},setNeedPopMsg:function setNeedPopMsg(e){this._needPopMsg=e},getNeedPopMsg:function getNeedPopMsg(){return this._needPopMsg},onEventLoginOut:function onEventLoginOut(){yx.playerMgr.setNeedPopMsg(!0)},setCurGameWorld:function setCurGameWorld(e){this._curGameWorld=e},getCurGameWorld:function getCurGameWorld(){return this._curGameWorld},setNameCertDelayTime:function setNameCertDelayTime(e){this._nameCertDelayTime=e},getNameCertDelayTime:function getNameCertDelayTime(){return this._nameCertDelayTime},setNameCertShowTime:function setNameCertShowTime(e){this._nameCertShowTime=e},getNameCertShowTime:function getNameCertShowTime(){return this._nameCertShowTime}},yx.playerMgr=new yx.PlayerManager,t.exports=yx.playerMgr,cc._RF.pop()},{}],PreDefine:[function(t,i,e){(function(e){cc._RF.push(i,"a55b70YgkxPlqxXXogiaR9/","PreDefine");var a="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)},n="undefined"==typeof window?e:window;function r(e,t){void 0===n[e]&&(n[e]=t)}n.yx.proto=t("protores").base,r("YX_LOCAL_TEST",!(String.prototype.format=function(e){var t=this;if(0<arguments.length)if(1==arguments.length&&"object"==(void 0===e?"undefined":a(e))){for(var n in e)if(null!=e[n]){var i=new RegExp("({"+n+"})","g");t=t.replace(i,e[n])}}else for(var o=0;o<arguments.length;o++)null!=arguments[o]&&(i=new RegExp("({)"+o+"(})","g"),t=t.replace(i,arguments[o]));return t})),r("CC_CSQQ",!1),r("yxLogin","false"),r("yxSdkName","sswx"),r("yxSid",3),r("yxHost","wss://xyj-proxy2.yinxianggame.com"),r("yxPort",443),r("yxUid",9830),r("yxOpenid","224516582"),r("yxSessionid","929993c69b10ec42d05c290f172c4cc6b1074d03"),t("EnumDefine"),cc._RF.pop()}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{EnumDefine:"EnumDefine",protores:"protores"}],QQQunRewardPanel:[function(e,t,n){cc._RF.push(t,"b7507jHNa1OdKY9uTyCYxYq","QQQunRewardPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{title:cc.Label,desc:cc.RichText,rewardContent:cc.Node,jiaQunBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.QQqun_INFO_REFRESH,this._refresh,this),this.jiaQunBtn.node.on("click",this.jiaQunBtnClick,this),this.qqStr=""},_onShow:function _onShow(){null!=yx.QQqunMgr.getQQqunData()?this._refresh():yx.QQqunMgr.Info()},_refresh:function _refresh(){var e=yx.QQqunMgr.getQQqunData();this.title.string=e.name;var t=e.desc;t=t.format({QQnumber:e.qunID}),this.desc.string=t;var n=this;e.rewards.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n._onItemClick,yx.ItemWidget.CreateItemSlot(t,n.rewardContent,"reward"+e.id)}),this.qqStr=e.qunID},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_onHide:function _onHide(){this.unscheduleAllCallbacks()},jiaQunBtnClick:function jiaQunBtnClick(){yx.sdkLayer.copyClipboardData(this.qqStr)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],QQqunMgr:[function(e,t,n){cc._RF.push(t,"19f75IwZdJA6J9ifmTBjf+M","QQqunMgr"),yx.QQqunManager=function(){},yx.QQqunManager.prototype={constructor:yx.QQqunManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.QQ_QUN,this.onMessageInfo),this._data=null,this._isOpen=!1},Info:function Info(){yx.log("[QQqunManager] Info ");var e=new yx.proto.C2S_QQun;yx.network.sendMessage(yx.proto.CmdId.QQ_QUN,e)},onMessageInfo:function onMessageInfo(e,t){if(yx.log("QQqunManager onMessageInfo-----"),null!=e&&0<e.length)yx.log("[QQqunManager onMessageInfo] error:"+e);else{var n=yx.proto.S2C_QQun.decode(t);yx.QQqunMgr.setOpen(n.qQunInfo),yx.QQqunMgr.updateData(n.qQunInfo[0]),yx.eventDispatch.dispatchMsg(yx.EventType.QQqun_INFO_REFRESH)}},setOpen:function setOpen(e){e&&0<e.length?this._isOpen=!0:this._isOpen=!1},IsOpen:function IsOpen(){return this._isOpen},updateData:function updateData(e){this._data=e},getQQqunData:function getQQqunData(){return this._data}},yx.QQqunMgr=new yx.QQqunManager,t.exports=yx.QQqunMgr,cc._RF.pop()},{}],QiLingActivityPanel:[function(e,t,n){cc._RF.push(t,"8c24cFF2tVK1bzBvKE11yfQ","QiLingActivityPanel");var i=e("BaseWindow"),o=e("QiLingScrollItem"),r=e("FrameLoadWidget");cc.Class({extends:i,properties:{titleLabel:cc.Label,itemScrollLayout:cc.Layout,qiLingScrollItemPrefab:cc.Prefab},_onInit:function _onInit(){this.itemScrollLayout.node.removeAllChildren(!0);var e=yx.cfgMgr.getAllConfig("QiLinGiftConfig");e&&this.node.addComponent(r).init(this.itemScrollLayout.node,e,this.qiLingScrollItemPrefab,o,function(){yx.lingMaiMgr.reqTaskInfo()}).startLoad()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",QiLingScrollItem:"QiLingScrollItem"}],QiLingScrollItem:[function(e,t,n){cc._RF.push(t,"621e8E70hRJ4bdM91Z94uVW","QiLingScrollItem");var r=e("ItemWidget"),a=e("FrameLoadWidget");cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,originPriceLabel:cc.Label,descRichText:cc.RichText,getBtn:cc.Button,buyBtn:cc.Button,buyBtnText:cc.Label,getBtnText:cc.Label,scrollContent:cc.Node,bgNode:cc.Node,itemWidgetPrefab:cc.Prefab},onLoad:function onLoad(){this.getBtn.node.on("click",this.onGetRewardClick,this),this.buyBtn.node.on("click",this.onBuyBtnClick,this),yx.eventDispatch.addListener(yx.EventType.QILING_ACTIVITY,this.onUpdate.bind(this),this)},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},frameInit:function frameInit(e){this.getBtn.node.active=!1,this.descRichText.node.active=!1,this._data=e;var n=[],t=e.Reward,i=this;i.scrollContent.removeAllChildren(!0),t.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i.onItemClick,n.push({info:t,isShowPinJie:!0})}),n&&this.node.addComponent(a).init(this.scrollContent,n,this.itemWidgetPrefab,r).startLoad(),this.originPriceLabel.string="原价：￥"+this._data.ShowPrice,this.titleLabel.string=this._data.Name;var o=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:this._data.RechargId});o&&(this.buyBtnText.string="￥"+o.RMB+"购买"),yx.BadgeMgr.addBadge(this.getBtn.node,55,15),yx.BadgeMgr.addBadge(this.buyBtn.node,55,15),this.onUpdate()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onBuyBtnClick:function onBuyBtnClick(){yx.reChargeMgr.reqReCharge(this._data.RechargId)},onGetRewardClick:function onGetRewardClick(){var e=yx.lingMaiMgr.getTaskInfo(yx.lingMaiMgr.qiLingActivityId,this._data.ID);e&&e.taskState==yx.proto.TaskStateType.Processing?yx.ToastUtil.showListToast("未满足条件"):yx.lingMaiMgr.TaskReward(yx.lingMaiMgr.qiLingActivityId,this._data.ID)},onUpdate:function onUpdate(){this.getBtn.node.active=!1,this.buyBtn.node.active=!1,this.descRichText.node.active=!1,yx.BadgeMgr.showBadge(this.getBtn.node,!1),yx.BadgeMgr.showBadge(this.buyBtn.node,!1);var e=yx.lingMaiMgr.getTaskInfo(yx.lingMaiMgr.qiLingActivityId,this._data.ID);e&&(e.taskState==yx.proto.TaskStateType.Processing?(this.getBtn.node.active=!1,this.buyBtn.node.active=!0,this.descRichText.node.active=!1):e.taskState==yx.proto.TaskStateType.Finish?(yx.BadgeMgr.showBadge(this.getBtn.node,!0),this.getBtn.node.active=!0,this.buyBtn.node.active=!1,this.descRichText.node.active=!1):(this.getBtn.node.active=!1,this.buyBtn.node.active=!1,this.descRichText.node.active=!0,this.descRichText.string="<color=#345A5C>已领取</color>"))}}),cc._RF.pop()},{FrameLoadWidget:"FrameLoadWidget",ItemWidget:"ItemWidget"}],QiYuWindow:[function(e,t,n){cc._RF.push(t,"9b987NULNlJI6jEYFZSTSl9","QiYuWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{titleLabel:cc.Label,npcIconSp:cc.Sprite,npcNameLabel:cc.Label,menpaiNameLabel:cc.Label,descRichText:cc.RichText,btnGroup:cc.Node,btn1:cc.Button,btn2:cc.Button,btn3:cc.Button,resultGroup:cc.Node,resultDesc:cc.Label,resultReward:cc.Node,nextBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.QIYU_DOACTION_REFRESH,this.onActionRefresh,this),this.btn1.node.on("click",this.onBtn1Click,this),this.btn2.node.on("click",this.onBtn2Click,this),this.btn3.node.on("click",this.onBtn3Click,this),this.nextBtn.node.on("click",this.onNext,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this._eventList=yx.JiYuanMgr.getQiYuEventList(),this._finishList={},this._curIndex=0,this._refreshPageContent()},_sameUpdate:function _sameUpdate(e,t){this.titleLabel.string=t.Name2,this.descRichText.string=t.DefDesc,this.npcNameLabel.string=t.Name,this.menpaiNameLabel.string=t.Name1,null!=t.Icon&&yx.resUtil.LoadSpriteFromResConfig(t.Icon,yx.ResType.NPC,this.npcIconSp);for(var n=[],i=0;i<t.EventIDs.length;i++){var o=t.EventIDs[i],r=yx.cfgMgr.getRecordByKey("QiYuRewardConfig",{ID:o});n[i]=r}var a=this._finishList[e.uid];a?(this.btnGroup.active=!1,this.resultGroup.active=!0,0==a.index?this.descRichText.string=n[0].Desc2:1==a.index?this.descRichText.string=n[1].Desc2:2==a.index&&(this.descRichText.string=n[2].Desc2),this._updateResultDesc(a,n)):(this.btn1.node.active=!1,this.btn2.node.active=!1,this.btn3.node.active=!1,this.btnGroup.active=!0,this.resultGroup.active=!1,""!=n[0].Desc1&&(this.btn1.node.active=!0,this.btn1.node.getChildByName("Label").getComponent(cc.Label).string=n[0].Desc1),""!=n[1].Desc1&&(this.btn2.node.active=!0,this.btn2.node.getChildByName("Label").getComponent(cc.Label).string=n[1].Desc1),n[2]&&""!=n[2].Desc1&&(this.btn3.node.active=!0,this.btn3.node.getChildByName("Label").getComponent(cc.Label).string=n[2].Desc1))},_updateResultDesc:function _updateResultDesc(e,t){if(this.resultDesc.string="",this.resultReward.active=!1,e.rewards&&0<e.rewards.length&&0!=e.rewards[0].type){this.resultReward.active=!0;var n={};n.amount=e.rewards[0].count,n.itemId=e.rewards[0].id,n.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(n,this.resultReward,"reward")}if(0==e.index?this.resultDesc.string=t[0].Desc3:1==e.index?this.resultDesc.string=t[1].Desc3:2==e.index&&(this.resultDesc.string=t[2].Desc3),e.result&&!e.result.win&&(0==e.index?(this.descRichText.string=t[0].FightDesc1,this.resultDesc.string=t[0].FightDesc2):1==e.index?(this.descRichText.string=t[1].FightDesc1,this.resultDesc.string=t[1].FightDesc2):2==e.index&&(this.descRichText.string=t[1].FightDesc1,this.resultDesc.string=t[2].FightDesc2)),""==this.resultDesc.string&&e.rewards&&0<e.rewards.length&&0==e.rewards[0].type){var i=yx.bagMgr.GetItemName(e.rewards[0].id);this.resultDesc.string=i+"增加了"+e.rewards[0].count}},_refreshPageContent:function _refreshPageContent(){var e=this._eventList[this._curIndex],t=null;if(e.type==yx.proto.JiYuanType.QiYu){if(!(t=yx.cfgMgr.getRecordByKey("QiYuListConfig",{ID:e.id})))return;this._sameUpdate(e,t)}},onBtn1Click:function onBtn1Click(){var e=this._eventList[this._curIndex];yx.JiYuanMgr.DoAction(e,0)},onBtn2Click:function onBtn2Click(){var e=this._eventList[this._curIndex];yx.JiYuanMgr.DoAction(e,1)},onBtn3Click:function onBtn3Click(){var e=this._eventList[this._curIndex];yx.JiYuanMgr.DoAction(e,2)},onActionRefresh:function onActionRefresh(e){for(var t=0;t<this._eventList.length;t++){var n=this._eventList[t];n.uid==e.info.uid&&(yx.log("args.index=="+e.index),yx.log("element.type=="+n.type),yx.log("element.id=="+n.id),yx.log("element.uid=="+n.uid),this._finishList[n.uid]=e)}if(e.result){var i=this._eventList[this._curIndex],o=yx.cfgMgr.getRecordByKey("QiYuListConfig",{ID:i.id});yx.FightPanel.ShowFightResult("qiyu_fight",o.Name,e.result,!1,null,null)}this._refreshPageContent()},onNext:function onNext(){this._curIndex=this._curIndex+1,this._curIndex<this._eventList.length?this._refreshPageContent():yx.windowMgr.goBack()},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],QuickBattlePanel:[function(e,t,n){cc._RF.push(t,"00035JKyyxIeJ3E3ieZOjtN","QuickBattlePanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{headRichtext:cc.RichText,itemLayout:cc.Layout,quickBattleBtn:cc.Button,freeLabel:cc.Label,costNumLabel:cc.Label,costSp:cc.Sprite,costNode:cc.Node,activeRiText:cc.RichText},_onInit:function _onInit(){this.quickBattleBtn.node.on("click",this.quickBattleBtnClick,this),this.activeRiText.string="<u>< color=#00C800 click='goToActive'>前往激活</outline></u>",this.activeRiText.goToActive=this.goToActive.bind(this),this.headRichtext.string="快速作战可获得< color=#00C800>120</c>分钟挂机收益。激活快速作战特权：每天免费< color=#00C800>1</c>次，终生卡每天额外免费< color=#00C800>1</c>次",this.refreshDrop(),this.refreshCost()},refreshDrop:function refreshDrop(){var e=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()});if(e){this.itemLayout.node.removeAllChildren(!0);for(var t=e.ShowResouceRewead,n=e.ShowReward,i=t.concat(n),o=0;o<i.length;o++){var r=null,a=i[o];a&&((r={}).itemId=a.id,r.amount=-1,r.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(r,this.itemLayout.node,"slot_"+o,!0,"quickItem_"+r.itemId,!1))}}},refreshCost:function refreshCost(){var e=yx.cfgMgr.getRecordByKey("ChapterPriceConfig",{ID:yx.battleMgr.getCurQuickBattleCount()+1}),t=yx.playerMgr.isVipMonth()?"MonthCost":yx.playerMgr.isVipForever()?"LifeLongCost":"Cost";if(e){var n=e[t];if(n&&n.length<=0)this.freeLabel.node.active=!0,this.costNode.active=!1;else{var i=n[0].count;this.freeLabel.node.active=!1,this.costNode.active=!0,this.costNumLabel.string=i}}else this.freeLabel.node.active=!1,this.costNode.active=!1},_onHide:function _onHide(){yx.eventDispatch.removeListenersByTarget(this)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},quickBattleBtnClick:function quickBattleBtnClick(){yx.windowMgr.goBack(),yx.battleMgr.reqQuickBattle()},goToActive:function goToActive(){yx.CodeHelper.checkFuncOpen(56)&&yx.CodeHelper.checkFuncOpenShow(56)&&yx.windowMgr.showWindow("vipWindow")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],QuickBattleResultPanel:[function(e,t,n){cc._RF.push(t,"e04f5hi2SVII4iVH8FwuHGO","QuickBattleResultPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{itemLayout:cc.Layout,confirmBtn:cc.Button,timeLabel:cc.Label,quickDrogon:dragonBones.ArmatureDisplay},_onInit:function _onInit(e){for(var t in this.confirmBtn.node.on("click",this.confirmBtnClick,this),e){var n=e[t];n.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(n,this.itemLayout.node,"quickReward")}var i=yx.cfgMgr.getOneRecord("SystemConfig",{id:122});if(i){var o=60*i.int_value;this.timeLabel.string=yx.timeUtil.seconds2hourMinSecond(o)}this.quickDrogon.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete,this),this.quickDrogon.playAnimation("kuaisu",1)},onDragonActionAnimComplete:function onDragonActionAnimComplete(){this.quickDrogon._armature.animation.gotoAndStopByProgress("kuaisu",.9)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},confirmBtnClick:function confirmBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],RankItem:[function(e,t,n){cc._RF.push(t,"56f4efmzn9PJYUYi/KAx4zT","RankItem");var i=e("BaseRepeatItem"),o={Default:1,DiGong:2},r=cc.Class({extends:i,statics:{RankType:o},properties:{rank1:cc.Node,rank2:cc.Node,rank3:cc.Node,rankLabel:cc.Label,roleNameLabel:cc.Label,roleLevelLabel:cc.Label,roleSp:cc.Sprite,role1:cc.Node,role2:cc.Node,role3:cc.Node,roleNormal:cc.Node},_onUpdate:function _onUpdate(){this.rankLabel.string=this._data.rankIndex,this.roleNameLabel.string=this._data.nickName,this._data.rankType==o.DiGong?this.roleLevelLabel.string=this._data.value:this.roleLevelLabel.string="Lv."+this._data.level;var e=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:this._data.level,ZhongZu:this._data.zhongZu});switch(e?yx.resUtil.LoadSpriteFromResConfig(e.HeadID,yx.ResType.HEAD,this.roleSp):this.roleSp.spriteFrame=null,this.rank1.active=!1,this.rank2.active=!1,this.rank3.active=!1,this.rankLabel.node.active=!1,this.role1.active=!1,this.role2.active=!1,this.role3.active=!1,this.roleNormal.active=!1,this._data.rankIndex){case 1:this.rank1.active=!0,this.role1.active=!0,this.roleNameLabel.node.color=new cc.Color(255,86,3),this.roleLevelLabel.node.color=new cc.Color(255,86,3);break;case 2:this.rank2.active=!0,this.role2.active=!0,this.roleNameLabel.node.color=new cc.Color(204,0,255),this.roleLevelLabel.node.color=new cc.Color(204,0,255);break;case 3:this.rank3.active=!0,this.role3.active=!0,this.roleNameLabel.node.color=new cc.Color(0,186,255),this.roleLevelLabel.node.color=new cc.Color(0,186,255);break;default:this.rankLabel.node.active=!0,this.roleNormal.active=!0,this.roleNameLabel.node.color=new cc.Color(52,90,92),this.roleLevelLabel.node.color=new cc.Color(52,90,92)}}});yx.RankItem=t.exports=r,cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],RankMgr:[function(e,t,n){cc._RF.push(t,"62dca4P2FRLu5OTUAUbXL1i","RankMgr"),yx.RankManager=function(){},yx.RankManager.prototype={constructor:yx.RankManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.RANK_LIST,this.onMessageInfo),yx.network.addHandler(yx.proto.CmdId.RANK_REWARD,this.onMessageMoBai),yx.network.addHandler(yx.proto.CmdId.ATTRIBUTE_RANK_LIST,this.onMessageAtrrRankList),this._rankList=[],this._myRank=0,this._hasReceived=!1},Info:function Info(){yx.log("[RankManager] Info ");var e=new yx.proto.C2S_RankList;yx.network.sendMessage(yx.proto.CmdId.RANK_LIST,e)},MoBai:function MoBai(){yx.log("[RankManager] MoBai ");var e=new yx.proto.C2S_RankReward;yx.network.sendMessage(yx.proto.CmdId.RANK_REWARD,e)},reqAtrrRankList:function reqAtrrRankList(e){yx.log("[RankManager] reqAtrrRankList type:"+e);var t=new yx.proto.C2S_AttributeRankList;t.type=e,yx.network.sendMessage(yx.proto.CmdId.ATTRIBUTE_RANK_LIST,t)},onMessageInfo:function onMessageInfo(e,t){if(yx.log("RankManager onMessageInfo-----"),null!=e&&0<e.length)yx.log("[RankManager onMessageInfo] error:"+e);else{var n=yx.proto.S2C_RankList.decode(t);yx.RankMgr.updateRankList(n),yx.eventDispatch.dispatchMsg(yx.EventType.RANK_LIST_REFRESH)}},onMessageMoBai:function onMessageMoBai(e,t){if(yx.log("RankManager onMessageMoBai-----"),null!=e&&0<e.length)yx.log("[RankManager onMessageMoBai] error:"+e);else{var n=yx.proto.S2C_RankReward.decode(t);yx.RankMgr.setHasReceived(n),yx.RankMgr.showRewardToast(n.reward),yx.eventDispatch.dispatchMsg(yx.EventType.RANK_MOBAI_REFRESH)}},onMessageAtrrRankList:function onMessageAtrrRankList(e,t){if(yx.log("RankManager onMessageAtrrRankList-----"),null!=e&&0<e.length)yx.log("[RankManager onMessageAtrrRankList] error:"+e);else{var n=yx.proto.S2C_AttributeRankList.decode(t);yx.RankMgr.updateAtrrRankList(n),yx.eventDispatch.dispatchMsg(yx.EventType.RANK_ATRR_LIST,n)}},updateAtrrRankList:function updateAtrrRankList(e){this._atrrRankList=e.rankInfo,this._atrrRankList.sort(function(e,t){return e.rankIndex<t.rankIndex?-1:e.rankIndex==t.rankIndex?0:1})},updateRankList:function updateRankList(e){this._rankList=e.rankInfo,this._rankList.sort(function(e,t){return e.rankIndex<t.rankIndex?-1:e.rankIndex==t.rankIndex?0:1});for(var t=0;t<this._rankList.length;t++){var n=this._rankList[t];n.playerID==yx.playerMgr.getPid()&&(this._myRank=n.rankIndex)}this.setHasReceived(e)},setHasReceived:function setHasReceived(e){this._hasReceived=e.received},getHasReceived:function getHasReceived(){return this._hasReceived},getRankList:function getRankList(){return this._rankList},getAtrrRankList:function getAtrrRankList(){return this._atrrRankList},getMyRank:function getMyRank(){return this._myRank},showRewardToast:function showRewardToast(e){for(var t=0;t<e.length;t++){var n=e[t],i=yx.bagMgr.GetItemName(n.id)+"<color=#ffd066>+"+n.count+"</color>";yx.ToastUtil.showListToast(i)}}},yx.RankMgr=new yx.RankManager,t.exports=yx.RankMgr,cc._RF.pop()},{}],RankPanel:[function(e,t,n){cc._RF.push(t,"bb1a3xE50JBna8IwT79U9O6","RankPanel");var i=e("BaseWindow"),o=e("ScrollViewRepeat"),r=e("RankItem");cc.Class({extends:i,properties:{closeBtn:cc.Button,scrollView:cc.ScrollView,scrollContent:cc.Node,RankItemPrefab:cc.Prefab,maskSp:cc.Button,myselfRankItem:r,rank1RoleSp:cc.Sprite,rank1NameLabel:cc.Label,rank1LevelLabel:cc.Label,mobaiBtn:cc.Button,roleNode:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.RANK_LIST_REFRESH,this.onEventRankRefresh,this),yx.eventDispatch.addListener(yx.EventType.RANK_MOBAI_REFRESH,this.onEventRankMobai,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.mobaiBtn.node.on("click",this.onMoBaiClick,this),this.mobaiBtn.node.active=!1},update:function update(){},_onShow:function _onShow(){yx.RankMgr.Info()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onMoBaiClick:function onMoBaiClick(){yx.RankMgr.MoBai()},_setNO1Info:function _setNO1Info(e){this.rank1NameLabel.string=e.nickName,this.rank1LevelLabel.string="Lv."+e.level;var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:e.level,ZhongZu:e.zhongZu});t&&(yx.resUtil.LoadSpriteFromResConfig(t.HeadID,yx.ResType.HEAD,this.rank1RoleSp),yx.resUtil.loadRoleAvatar(this.roleNode,t.AvatarID,"rank",null))},_setMyselfInfo:function _setMyselfInfo(){var e={};e.rankIndex=0==yx.RankMgr.getMyRank()?"未上榜":yx.RankMgr.getMyRank(),e.zhongZu=yx.playerMgr.getZhongZu(),e.level=yx.playerMgr.getDuJieLevel(),e.nickName=yx.playerMgr.getName(),this.myselfRankItem.initItem(0,e)},_refresh:function _refresh(){if(this._svr)this._svr.updateAllWithoutData();else{var e=yx.RankMgr.getRankList();if(0<e.length&&(this._setNO1Info(e[0]),1<e.length)){for(var t=[],n=1;n<e.length;n++)t.push(e[n]);this._svr=this.scrollView.getComponent(o),this._svr.initialize(t,this.RankItemPrefab)}}this._setMyselfInfo(),this.onEventRankMobai()},onEventRankRefresh:function onEventRankRefresh(){this._refresh()},onEventRankMobai:function onEventRankMobai(){this.mobaiBtn.node.active=!yx.RankMgr.getHasReceived()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",RankItem:"RankItem",ScrollViewRepeat:"ScrollViewRepeat"}],RechargeMgr:[function(e,t,n){cc._RF.push(t,"c53f766K4FKBqmveCUTVNfr","RechargeMgr"),yx.ReChargeManager=function(){},yx.ReChargeManager.prototype={constructor:yx.ReChargeManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.RECHARGE,this.onMessageReCharge.bind(this)),yx.network.addHandler(yx.proto.CmdId.RECHARGE_ORDER,this.onMessageReChargeOrder.bind(this))},reqReCharge:function reqReCharge(e){if(yx.sdkLayer.isOwnRecharge())if(yx.report("Recharg-Mgr","req-ReCharge"),yx.sdkLayer.isNoSdk()){var t=new yx.proto.C2S_Recharge;t.id=e,yx.network.sendMessage(yx.proto.CmdId.RECHARGE,t)}else yx.reChargeMgr.reqRechargeOrder(e);else yx.ToastUtil.showListToast("充值功能暂未开放")},reqRechargeOrder:function reqRechargeOrder(e){var t=new yx.proto.C2S_RechargeOrder;t.id=e,yx.network.sendMessage(yx.proto.CmdId.RECHARGE_ORDER,t)},onMessageReCharge:function onMessageReCharge(e,t){if(null!=e&&0<e.length)yx.log("[ReChargeManager onMessageReCharge] error:"+e);else{var n=yx.proto.S2C_Recharge.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.RECHARGE_RESULT,n),yx.report("Recharge-Mgr","req-ReCharge-Succ")}},onMessageReChargeOrder:function onMessageReChargeOrder(e,t){if(null!=e&&0<e.length)yx.log("[ReChargeManager onMessageReChargeOrder] error:"+e);else{var n=yx.proto.S2C_RechargeOrder.decode(t);yx.log("[ReChargeManager onMessageReChargeOrder] resp:",n),yx.sdkLayer.pay(n),yx.report("Recharge-Mgr","on-Message-ReCharge-Order")}}},yx.reChargeMgr=new yx.ReChargeManager,t.exports=yx.reChargeMgr,cc._RF.pop()},{}],ResUtil:[function(e,t,n){var i,o;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"85c17oMq/RExJjz6pXCbDFg","ResUtil");var a=(r(i={},"huli_0209","audit_huli_0209"),r(i,"huli_0210","audit_huli_0210"),r(i,"she_0409","audit_she_0409"),r(i,"she_0410","audit_she_0410"),i),s=(r(o={},yx.ResType.ITEM,"icon/item/"),r(o,yx.ResType.EQUIP,"icon/arm/"),r(o,yx.ResType.NPC,"icon/npc/"),r(o,yx.ResType.SKILL,"icon/skill/"),r(o,yx.ResType.DANLU,"icon/liandanlu/"),r(o,yx.ResType.MAP_OB,"map/res/"),r(o,yx.ResType.MAP,"map/bg/"),r(o,yx.ResType.FISH,"icon/fish/"),r(o,yx.ResType.SHENGSHOU,"icon/shengshou/"),r(o,yx.ResType.SCENE_BG,"scene_bg/"),r(o,yx.ResType.ROLE,"role/"),r(o,yx.ResType.HEAD,"icon/head/"),r(o,yx.ResType.CHUANGXIAN,"lilian/"),r(o,yx.ResType.TITLE,"icon/title/"),r(o,yx.ResType.AVATAR,"icon/avatar/"),r(o,yx.ResType.FAQI,"icon/faqi/"),r(o,yx.ResType.GUANKA,"icon/guanka/"),r(o,yx.ResType.LOGO,"icon/logo/"),r(o,yx.ResType.Currency,"common/"),r(o,yx.ResType.BATTLE_BG,"battle_bg/"),r(o,yx.ResType.CHENG_HAO,"icon/title/"),r(o,yx.ResType.BATTLE_MIN_BG,"battle_min_bg/"),r(o,yx.ResType.BOSS,"icon/boss/"),r(o,yx.ResType.FAZHEN,"xiulian/bagua/"),o),c=0;yx.ResUtil=function(){this.init()},yx.ResUtil.prototype={constructor:yx.ResUtil,init:function init(){this._preload=null,this._load_log_flag=!0},PreLoadProgressHandler:function PreLoadProgressHandler(e,t,n,i){if(null!=this._preload&&this.isCurPreLoad(e)){this._preload.arrayList[t]&&(this._preload.arrayList[t].progress=n);var o=0,r=!0,a=!1,s=void 0;try{for(var c,l=this._preload.arrayList[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;u&&(o+=u.progress||0)}}catch(e){a=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}this._preload.progressCallback&&this._preload.progressCallback(o,this._preload.totalCount),null!=i&&null!=i.error&&yx.warn(this._preload.preloadIndex+"==[ResUtil PreLoadProgressHandler] error item.url:"+i.url),clearTimeout(this._preload.timeId),this._preload.timeId=setTimeout(this._preload.timeoutCallback,1e4)}},PreLoadCompleteHandler:function PreLoadCompleteHandler(e,t,n){null!=this._preload?this.isCurPreLoad(e)?(this._preload.arrayList[t]&&(this._preload.arrayList[t].progress=1),n?this._preload.hasPreloadArr[t]?yx.log(this._preload.preloadIndex+"==[ResUtil preload] succ repeat: "+this._preload.arrayList[t].path+"==index:"+t):(this._preload.completed++,this._preload.hasPreloadArr[t]=!0,this._preload.succCount++,yx.log(this._preload.preloadIndex+"==[ResUtil preload] succ: "+this._preload.arrayList[t].path+" time:"+yx.timeUtil.getNowTimeString()+"==index:"+t),this.get_load_log_flag()&&yx.report("Res-Util",this._preload.arrayList[t].path)):(this._preload.completed++,this._preload.errorCount++,yx.warn(this._preload.preloadIndex+"==[ResUtil preload] error: "+this._preload.arrayList[t].path+" time:"+yx.timeUtil.getNowTimeString()+"==index:"+t)),this._preload.completed==this._preload.totalCount&&(0<this._preload.errorCount&&this._preload.retryCount<this._preload.retryLimit?(this._preload.retryCount++,yx.CodeHelper.CallInNextTick(this.PreLoadResArrayCC.bind(this)),yx.log(this._preload.preloadIndex+"==[ResUtil preloadComplete] retry:"+this._preload.retryCount+" time:"+yx.timeUtil.getNowTimeString()),yx.log(this._preload.preloadIndex+"==[ResUtil preloadComplete] err: "+this._preload.errorCount+" succ:"+this._preload.succCount)):(yx.CodeHelper.CallInNextTick(this._preload.completeCallback,this._preload.errorCount,this._preload.succCount),yx.log(this._preload.preloadIndex+"==[ResUtil preloadComplete] time:"+yx.timeUtil.getNowTimeString()+" err: "+this._preload.errorCount+" succ:"+this._preload.succCount),this.stopPreLoadResArray()))):yx.warn("[ResUtil PreLoadCompleteHandler] preload preloadIndex="+e+";;;CurPreoloadIndex="+c):yx.warn(e+"=[ResUtil PreLoadCompleteHandler] preload is null index:"+t+" time:"+yx.timeUtil.getNowTimeString())},PreLoadResArrayCC:function PreLoadResArrayCC(){var r=this;this._preload.succCount=0,this._preload.errorCount=0;for(var e=function t(i){var e=r._preload.arrayList[i];e.progress=0,yx.log(r._preload.preloadIndex+"==[ResUtil PreLoadResArrayCC] index:"+i+" path:"+e.path);var o=r._preload.preloadIndex;e.path&&0!=e.path.length&&e.type?"dir"==e.type?yx.resUtil.LoadResDir(e.path,function(e,t,n){r.PreLoadProgressHandler(o,i,e/t,n)},function(e,t,n){r.PreLoadProgressHandler(o,i,1),r.PreLoadCompleteHandler(o,i,!e)}):"file"==e.type?yx.resUtil.LoadRes(e.path,function(e,t,n){r.PreLoadProgressHandler(o,i,e/t,n)},function(e,t){r.PreLoadProgressHandler(o,i,1),r.PreLoadCompleteHandler(o,i,!e)}):(r.PreLoadProgressHandler(o,i,1),r.PreLoadCompleteHandler(o,i,!1)):(r.PreLoadProgressHandler(o,i,1),r.PreLoadCompleteHandler(o,i,!1))},n=this._preload.completed=0;n<r._preload.arrayList.length;n++)e(n)},stopPreLoadResArray:function stopPreLoadResArray(){null!=this._preload&&(yx.log(this._preload.preloadIndex+"==[ResUtil LoadRes] clearTimer:"+this._preload.timeId+" time:"+yx.timeUtil.getNowTimeString()),clearTimeout(this._preload.timeId),this._preload.timeId=null,yx.log(this._preload.preloadIndex+"==[ResUtil stopPreLoadResArray] "),this._preload=null)},isCurPreLoad:function isCurPreLoad(e){return e==c},PreLoadResArray:function PreLoadResArray(e,t,n){if(!e||0==e.length)return yx.error("[PreLoadResArray] pathList error"),void(n&&n(0,1));yx.log("PreLoadResArray totalcount ="+e.length),this.stopPreLoadResArray(),c+=1;for(var i=[],o=0;o<e.length;o++)i[o]=!1;this._preload={arrayList:e,curProgress:0,completed:0,totalCount:e.length,errorCount:0,succCount:0,progressCallback:t,completeCallback:n,retryLimit:1,retryCount:0,timeId:null,timeoutCallback:null,preloadIndex:c,hasPreloadArr:i};var r=this;r._preload.timeoutCallback=function(){if(yx.warn(r._preload.preloadIndex+"==[ResUtil LoadRes] timeoutCallback time:"+yx.timeUtil.getNowTimeString()),yx.resUtil.LoadResErrorHandler("timeout"),r._preload.retryCount<r._preload.retryLimit)return r._preload.retryCount++,yx.log(r._preload.preloadIndex+"==[ResUtil LoadRes] retry"),void yx.CodeHelper.CallInNextTick(r.PreLoadResArrayCC.bind(r));r._preload.completeCallback&&r._preload.completeCallback(1,0),r.stopPreLoadResArray()},r._preload.timeId=setTimeout(r._preload.timeoutCallback,1e4),yx.log(r._preload.preloadIndex+"==[ResUtil LoadRes] 1 timerId:"+r._preload.timeId+" time:"+yx.timeUtil.getNowTimeString()),this.PreLoadResArrayCC()},LoadResErrorHandler:function LoadResErrorHandler(e){e&&null!=wxDownloader&&wxDownloader.outOfStorage&&(yx.log("WxDownloaderInfo  out:"+wxDownloader.outOfStorage),wxDownloader.cleanOldCaches())},_parseLoadResArgs:function _parseLoadResArgs(e,t,n){if(void 0===n){var i=e instanceof Array||cc.js.isChildClassOf(e,cc.RawAsset);t?(n=t,i&&(t=this.onProgress||null)):void 0!==t||i||(n=e,t=this.onProgress||null,e=null),void 0===t||i||(t=e,e=null)}return{type:e,onProgress:t,onComplete:n}},LoadRes:function LoadRes(e,t,i,n){var o=this._parseLoadResArgs(t,i,n);t=o.type,i=o.onProgress,n=o.onComplete,cc.loader.loadRes(e,t,function(e,t,n){i&&i(e,t,n)},function(e,t){n&&n(e,t),yx.resUtil.LoadResErrorHandler(e)})},LoadResDir:function LoadResDir(e,t,i,o){var n=this._parseLoadResArgs(t,i,o);t=n.type,i=n.onProgress,o=n.onComplete,cc.loader.loadResDir(e,function(e,t,n){i&&i(e,t,n)},function(e,t,n){o&&o(e,t,n),yx.resUtil.LoadResErrorHandler(e)})},LoadResArray:function LoadResArray(e,t,i,n){var o=this._parseLoadResArgs(t,i,n);t=o.type,i=o.onProgress,n=o.onComplete,cc.loader.loadResArray(e,function(e,t,n){i&&i(e,t,n)},function(e,t){n&&n(e,t),yx.resUtil.LoadResErrorHandler(e)})},LoadSprite:function LoadSprite(n,i){yx.resUtil.LoadRes(n,cc.SpriteFrame,function(e,t){e?yx.warn(n+" is not exist!"):null!=i&&i.isValid?i.spriteFrame=t:yx.warn("sprite is null")})},LoadSpriteByType:function LoadSpriteByType(e,t,n){if(e&&0!=e.length){var i=e;s[t]&&0<s[t].length?(i=s[t]+i,this.LoadSprite(i,n)):yx.warn("[ResUtil LoadSpriteByType] Res path info is null, type:"+t)}else yx.warn("[ResUtil LoadSpriteByType] name is null")},LoadSpriteFromResConfig:function LoadSpriteFromResConfig(e,t,n){var i=yx.cfgMgr.getRecordByKey("ResConfig",e);i&&this.LoadSpriteByType(i.Head,t,n)},LoadSpriteFromResConfigById:function LoadSpriteFromResConfigById(e,t){var n=yx.cfgMgr.getRecordByKey("ResConfig",e);if(n){var i=n.Head.toString();this.LoadSpriteByIconName(i,t)}},LoadSpriteByIconName:function LoadSpriteByIconName(e,t){var n=yx.ResType.ITEM;-1!=e.indexOf("item")?n=yx.ResType.ITEM:-1!=e.indexOf("arm")?n=yx.ResType.EQUIP:-1!=e.indexOf("npc")?n=yx.ResType.NPC:-1!=e.indexOf("skill")?n=yx.ResType.SKILL:-1!=e.indexOf("lu")?n=yx.ResType.DANLU:-1!=e.indexOf("fish")?n=yx.ResType.FISH:-1!=e.indexOf("title")?n=yx.ResType.TITLE:-1!=e.indexOf("xavt")?n=yx.ResType.AVATAR:-1!=e.indexOf("faqi")?n=yx.ResType.FAQI:-1!=e.indexOf("guanka")?n=yx.ResType.GUANKA:-1!=e.indexOf("Head")?n=yx.ResType.HEAD:-1!=e.indexOf("boss")&&(n=yx.ResType.BOSS),this.LoadSpriteByType(e,n,t)},GetAvatarResPath:function GetAvatarResPath(e,t){if(t)return yx.resUtil.GetResPath(yx.ResType.ROLE,t.Avatar);if(""!=e){var n=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:e});return n?yx.resUtil.GetResPath(yx.ResType.ROLE,n.Avatar):(yx.warn("[ResUtil loadRoleAvatar] avatarId error:"+e),null)}yx.warn("[ResUtil loadRoleAvatar] avatarId is null")},GetResPath:function GetResPath(e,t){var n=this.getResPathByType(e);return n?n+t:t},getResPathByType:function getResPathByType(e){return s[e]&&0<s[e].length?s[e]:null},getReplaceAuditRoleName:function getReplaceAuditRoleName(e){return!yx.serverMgr.IsAuditPassed()&&a[e]?a[e]:e},loadRoleDragonBones:function loadRoleDragonBones(e,t,n){var i=this.getResPathByType(yx.ResType.ROLE),o=this.getReplaceAuditRoleName(t);i&&(i+=o,this.loadDragonBones(e,i,"MovieClip",n))},loadDragonBones:function loadDragonBones(n,i,o,r,e,t,a){var s=4<arguments.length&&void 0!==e?e:null,c=5<arguments.length&&void 0!==t?t:-1,l=a;yx.resUtil.LoadResDir(i,function(e,t){e||t.length<=0?yx.warn("[ResUtil loadDragonBones] loadResDir error path:"+i):n&&(t.forEach(function(e){e instanceof dragonBones.DragonBonesAsset&&(n.dragonAsset=e),e instanceof dragonBones.DragonBonesAtlasAsset&&(n.dragonAtlasAsset=e)}),n.armatureName=o,n.playAnimation(r,c),l&&l(n),s&&n.addEventListener(dragonBones.EventObject.COMPLETE,s))})},loadRoleSpineAnimation:function loadRoleSpineAnimation(e,t,n){var i=this.getResPathByType(yx.ResType.ROLE);i&&(i+=this.getReplaceAuditRoleName(t),this.loadSpineAnimation(e,i,n))},loadSpineAnimation:function loadSpineAnimation(n,i,o,e){var r=3<arguments.length&&void 0!==e?e:null;yx.resUtil.LoadResDir(i,function(e,t){e||t.length<=0?yx.warn("[ResUtil loadSpineAnimation] loadResDir error path:"+i):n&&(t.forEach(function(e){e instanceof sp.SkeletonData&&(n.skeletonData=e)}),n.setAnimation(0,o,!0),r&&n.setCompleteListener(r))})},getSceneAvatarRate:function getSceneAvatarRate(e){return{main:1,bag:.7,dujie:.7,create:1,default:1,skin:.6,jingji:.3,rank:.4,battle:.4,fight:.28,dongtian:.4,xianMeng:.6}[e]||1},createSpineOrDragonEffect:function createSpineOrDragonEffect(e,t){var n=new cc.Node(t);e.addChild(n),this.loadRoleAvatar(n,t,"default",null)},preloadAvatar:function preloadAvatar(e,t){if(t)yx.resUtil.loadRoleSpineAnimation(null,t.Avatar,t.AnimName);else{var n=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:e});n?yx.resUtil.loadRoleSpineAnimation(null,n.Avatar,n.AnimName):yx.warn("[ResUtil loadRoleAvatar] avatarId error:"+e)}},loadRoleAvatar:function loadRoleAvatar(e,t,n,i,o,r){var a=5<arguments.length&&void 0!==r?r:1;if(e){var s;if(s=o||yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:t})){var c=s.Type,l=e.getComponent(sp.Skeleton),u=e.getComponent(dragonBones.ArmatureDisplay),d=1==a?yx.CodeHelper.array2ccv2(s.Offset):yx.CodeHelper.array2ccv2(s.ShowFX),h=this.getSceneAvatarRate(n);e.setScale(s.Rate*h/100),e.setPosition(d.mul(h));var g=s.Avatar,p=s.AnimName,y=yx.CodeHelper.array2ccv2(s.Shadow);if(i&&i.node.setContentSize(y.x,y.y),1==c)l&&e.removeComponent(l),u=u||e.addComponent(dragonBones.ArmatureDisplay),yx.resUtil.loadRoleDragonBones(u,g,p);else{if(2!=c)return void yx.warn("[ResUtil loadRoleAvatar] type error avatarid:"+t+" type:"+c);u&&e.removeComponent(u),l=l||e.addComponent(sp.Skeleton),yx.resUtil.loadRoleSpineAnimation(l,g,p)}}else yx.warn("[ResUtil loadRoleAvatar] avatarId error:"+t+" node:"+e.name)}else yx.warn("[ResUtil loadRoleAvatar] node error")},createClip:function createClip(e,t,n){var i=e.getSpriteFrames().filter(function(e){return e.name.includes(t)}),o=cc.AnimationClip.createWithSpriteFrames(i,ActionSample);return o.wrapMode=n?cc.WrapMode.Loop:cc.WrapMode.Normal,o},playEffect:function playEffect(e,o,t,n,i){var r=2<arguments.length&&void 0!==t&&t,a=3<arguments.length&&void 0!==n?n:0,s=4<arguments.length&&void 0!==i?i:0;yx.resUtil.LoadRes("prefabs/effect/"+e,cc.Prefab,function(e,t){if(!e){var n=cc.instantiate(t);if(o.addChild(n),n.setPosition(a,s),r)return;var i=void 0;(i=n.getComponent(dragonBones.ArmatureDisplay))?(i.playAnimation(i.animationName,1),i.addEventListener(dragonBones.EventObject.COMPLETE,function(){n.removeFromParent(!0)})):(i=n.getComponent(sp.Skeleton))||(i=n.getComponent(cc.Animation))}})},PrintWxCacheInfo:function PrintWxCacheInfo(){if(null!=window.wxDownloader){yx.log("WxDownloaderInfo  out:"+window.wxDownloader.outOfStorage);var e=wx.getFileSystemManager(),t=0,n=wx.env.USER_DATA_PATH+"/gamecaches";e.statSync(n,!0).forEach(function(e){t+=e.stats.size,e.stats.isDirectory()?yx.log("wxdownloader dir:"+n+e.path):e.stats.isFile()&&e.stats.size}),yx.log("wxdownloader totalsize:"+(t/1024/1024).toFixed(2)+"MB"),yx.log("wxdownloader ============================================================")}},set_load_log_flag:function set_load_log_flag(e){this._load_log_flag=e},get_load_log_flag:function get_load_log_flag(){return this._load_log_flag}},yx.resUtil=new yx.ResUtil,t.exports=yx.resUtil,cc._RF.pop()},{}],RewardDisplayPanel:[function(e,t,n){cc._RF.push(t,"4ba09+DvSNH9LvQjTyG8/9i","RewardDisplayPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,content:cc.RichText,scrollContent:cc.Node},_onInit:function _onInit(e){this._data=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this.content.string=this._data.content,this.scrollContent.removeAllChildren(!0);for(var e=0;e<this._data.reward.length;e++){var t=this._data.reward[e],n={};n.content="<color=#345A5C>*"+t.count+"</color>",n.ID=t.id,yx.ItemRichTextWidget.CreateItemSlot(n,this.scrollContent,"reward_"+e,null)}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],RichangMgr:[function(e,t,n){cc._RF.push(t,"7c38fd8CSREWo91vfWEmf0I","RichangMgr");var i=e("BattleActivityWindow"),o=e("FuBenWindow");yx.RichangManager=function(){this._data={},this._data.dailyTasks=[],this._data.dailyRewardInfos=[],this._data.retrieveRewardInfos=[]},yx.RichangManager.prototype={constructor:yx.RichangManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.DAILY,this.onMessageInfo)},Info:function Info(){yx.log("[RichangManager] Info ");var e=new yx.proto.C2S_PlayerDailyTask;e.cmdTyp=yx.proto.DailyCmdType.GetDailyTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.DAILY,e)},Upgrade:function Upgrade(){yx.log("[RichangManager] Upgrade ");var e=new yx.proto.C2S_PlayerDailyTask;e.cmdTyp=yx.proto.DailyCmdType.UpgradeDailyAttr_Cmd,yx.network.sendMessage(yx.proto.CmdId.DAILY,e)},GetReward:function GetReward(e){yx.log("[RichangManager] GetReward ");var t=new yx.proto.C2S_PlayerDailyTask;t.cmdTyp=yx.proto.DailyCmdType.Received_Cmd,t.id=e,yx.network.sendMessage(yx.proto.CmdId.DAILY,t)},GetYesterdayReward:function GetYesterdayReward(e){yx.log("[RichangManager] GetYesterdayReward ");var t=new yx.proto.C2S_PlayerDailyTask;t.cmdTyp=yx.proto.DailyCmdType.Retrieve_Cmd,t.id=e,yx.network.sendMessage(yx.proto.CmdId.DAILY,t)},onMessageInfo:function onMessageInfo(e,t){if(yx.log("onMessageInfo-----"),null!=e&&0<e.length)yx.log("[RichangManager onMessageInfo] error:"+e);else{var n=yx.proto.S2C_PlayerDailyTask.decode(t);if(n.cmdTyp==yx.proto.DailyCmdType.GetDailyTask_Cmd)yx.richangMgr.setData(n),yx.eventDispatch.dispatchMsg(yx.EventType.RICHANG_REFRESH);else if(n.cmdTyp==yx.proto.DailyCmdType.UpdateDaily_Cmd)yx.richangMgr.updateData(n),yx.eventDispatch.dispatchMsg(yx.EventType.RICHANG_REFRESH);else if(n.cmdTyp==yx.proto.DailyCmdType.Received_Cmd){if(yx.richangMgr.updateData(n),yx.eventDispatch.dispatchMsg(yx.EventType.RICHANG_REFRESHREWARD),n.dailyRewardInfo)for(var i=0;i<n.dailyRewardInfo.length;i++){var o=n.dailyRewardInfo[i];if(o.state==yx.proto.DailyStateType.Received)for(var r=yx.cfgMgr.getOneRecord("DailyActiveRewardConfig",{ID:o.id}).Reward,a=0;a<r.length;a++){var s=r[a],c=yx.bagMgr.GetItemName(s.id)+"*"+s.count;yx.ToastUtil.showListToast(c)}}}else n.cmdTyp==yx.proto.DailyCmdType.Retrieve_Cmd?(yx.richangMgr.updateData(n),yx.eventDispatch.dispatchMsg(yx.EventType.RICHANG_ZHAOHUI_REFRESH),yx.ToastUtil.showListToast("找回成功")):n.cmdTyp==yx.proto.DailyCmdType.UpgradeDailyAttr_Cmd&&(yx.richangMgr.updateData(n),yx.eventDispatch.dispatchMsg(yx.EventType.RICHANG_REFRESHUPGRADE),yx.ToastUtil.showListToast("升级成功"))}},setData:function setData(e){e.todayActivityLevel?this._data.todayActivityLevel=e.todayActivityLevel:this._data.todayActivityLevel=0,e.totalActivityLevel?this._data.totalActivityLevel=e.totalActivityLevel:this._data.totalActivityLevel=0,e.dailyLevel?this._data.dailyLevel=e.dailyLevel:this._data.dailyLevel=0,e.dailyTask&&(this._data.dailyTasks=e.dailyTask),e.dailyRewardInfo&&(this._data.dailyRewardInfos=e.dailyRewardInfo),e.retrieveRewardInfo&&(this._data.retrieveRewardInfos=e.retrieveRewardInfo)},updateData:function updateData(e){if(e.todayActivityLevel?this._data.todayActivityLevel=e.todayActivityLevel:this._data.todayActivityLevel=0,e.totalActivityLevel?this._data.totalActivityLevel=e.totalActivityLevel:this._data.totalActivityLevel=0,e.dailyLevel?this._data.dailyLevel=e.dailyLevel:this._data.dailyLevel=0,e.dailyTask)for(var t=0;t<e.dailyTask.length;t++){for(var n=e.dailyTask[t],i=!1,o=0;o<this._data.dailyTasks.length;o++){var r=this._data.dailyTasks[o];if(n.id==r.id){r.processing=n.processing,i=!0;break}}i||this._data.dailyTasks.push(n)}if(e.dailyRewardInfo)for(var a=0;a<e.dailyRewardInfo.length;a++){for(var s=e.dailyRewardInfo[a],c=!1,l=0;l<this._data.dailyRewardInfos.length;l++){var u=this._data.dailyRewardInfos[l];if(s.id==u.id){u.state=s.state,c=!0;break}}c||this._data.dailyRewardInfos.push(s)}if(e.retrieveRewardInfo)for(var d=0;d<e.retrieveRewardInfo.length;d++){for(var h=e.retrieveRewardInfo[d],g=!1,p=0;p<this._data.retrieveRewardInfos.length;p++){var y=this._data.retrieveRewardInfos[p];if(h.id==y.id){y.state=h.state,g=!0;break}}g||this._data.retrieveRewardInfos.push(h)}},getAttrCfg:function getAttrCfg(e){return yx.cfgMgr.getOneRecord("DailyAttrConfig",{Level:e})},getAttrValue:function getAttrValue(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.type==e)return i.value}return 0},getLevel:function getLevel(){return this._data.dailyLevel},getDailyHuoYue:function getDailyHuoYue(){return this._data.todayActivityLevel},getLeftHuoYue:function getLeftHuoYue(){return this._data.totalActivityLevel},getdailyRewardInfoState:function getdailyRewardInfoState(e){for(var t=0;t<this._data.dailyRewardInfos.length;t++){var n=this._data.dailyRewardInfos[t];if(e==n.id)return n.state}return 0},getDailyTasks:function getDailyTasks(){return this._data.dailyTasks},getZhaohuiList:function getZhaohuiList(){return this._data.retrieveRewardInfos},goto:function goto(e){switch(e){case yx.proto.PlayerTaskType.Login:break;case yx.proto.PlayerTaskType.LiLian:yx.windowMgr.showWindow("mainBattleWindow");break;case yx.proto.PlayerTaskType.HeiShi:if(!yx.CodeHelper.checkFuncOpen(12))return;yx.windowMgr.showWindow("heishi");break;case yx.proto.PlayerTaskType.DaoLvGivingGift:if(!yx.CodeHelper.checkFuncOpen(22))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.DAOLV});break;case yx.proto.PlayerTaskType.MakeTea:if(!yx.CodeHelper.checkFuncOpen(15))return;yx.menPaiMgr.getMineMenPaiData().menpaiId?yx.windowMgr.showWindow("menPai",{tab:1,secondOpen:"qingan"}):yx.ToastUtil.showListToast("请先加入妖族");break;case yx.proto.PlayerTaskType.PracticeRoom:if(!yx.CodeHelper.checkFuncOpen(16))return;yx.menPaiMgr.getMineMenPaiData().menpaiId?yx.windowMgr.showWindow("menPai",{tab:2}):yx.ToastUtil.showListToast("请先加入妖族");break;case yx.proto.PlayerTaskType.LingQuanXiuLian:if(!yx.CodeHelper.checkFuncOpen(66))return;yx.menPaiMgr.getMineMenPaiData().menpaiId?yx.windowMgr.showWindow("menPai",{tab:5}):yx.ToastUtil.showListToast("请先加入妖族");break;case yx.proto.PlayerTaskType.MenPaiSalary:if(!yx.CodeHelper.checkFuncOpen(15))return;yx.menPaiMgr.getMineMenPaiData().menpaiId?yx.windowMgr.showWindow("menPai"):yx.ToastUtil.showListToast("请先加入妖族");break;case yx.proto.PlayerTaskType.PracticeDanDao:if(!yx.CodeHelper.checkFuncOpen(3))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.SHUGE,secondTab:1});break;case yx.proto.PlayerTaskType.PracticeQiDao:if(!yx.CodeHelper.checkFuncOpen(4))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.SHUGE,secondTab:2});break;case yx.proto.PlayerTaskType.LianDan:if(!yx.CodeHelper.checkFuncOpen(6))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.DANFANG});break;case yx.proto.PlayerTaskType.LianQi:if(!yx.CodeHelper.checkFuncOpen(7))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.QISHI});break;case yx.proto.PlayerTaskType.MakeXianNiang:if(!yx.CodeHelper.checkFuncOpen(8))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.XIANNIANG});break;case yx.proto.PlayerTaskType.WuDao:if(!yx.CodeHelper.checkFuncOpen(5))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.SHUGE,secondTab:3});break;case yx.proto.PlayerTaskType.ShuangXiu:if(!yx.CodeHelper.checkFuncOpen(22))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.DAOLV,secondTab:2});break;case yx.proto.PlayerTaskType.GoFishing:if(!yx.CodeHelper.checkFuncOpen(25))return;yx.windowMgr.showWindow("battleActivityWindow",{tab:i.TabType.CHUIDIAO});break;case yx.proto.PlayerTaskType.MenPaiExchange:if(!yx.CodeHelper.checkFuncOpen(15))return;yx.menPaiMgr.getMineMenPaiData().menpaiId?yx.windowMgr.showWindow("menPai",{tab:1,secondOpen:"duihuan"}):yx.ToastUtil.showListToast("请先加入妖族");break;case yx.proto.PlayerTaskType.FengYinBoss:if(!yx.CodeHelper.checkFuncOpen(26))return;yx.windowMgr.showWindow("fuBenWindow",{tab:o.TabType.SHENGSHOU});break;case yx.proto.PlayerTaskType.ShopXiJie:if(!yx.CodeHelper.checkFuncOpen(47))return;yx.windowMgr.showWindow("fangshi");break;case yx.proto.PlayerTaskType.DongFuUpgrade:if(!yx.CodeHelper.checkFuncOpen(21))return;yx.windowMgr.showWindow("dongfu",{tab:yx.CaveBuildType.ZiYuan});break;case yx.proto.PlayerTaskType.QiYu:yx.windowMgr.showWindow("mainBattleWindow");break;case yx.proto.PlayerTaskType.GoFishingExchange:if(!yx.CodeHelper.checkFuncOpen(25))return;yx.windowMgr.showWindow("battleActivityWindow",{tab:i.TabType.CHUIDIAO})}}},yx.richangMgr=new yx.RichangManager,t.exports=yx.richangMgr,cc._RF.pop()},{BattleActivityWindow:"BattleActivityWindow",FuBenWindow:"FuBenWindow"}],RichangReward:[function(e,t,n){cc._RF.push(t,"becdeLosKhO4Ifx+k5Nc+fc","RichangReward"),cc.Class({extends:cc.Component,properties:{huoyueLabel:cc.Label,yilingquSp:cc.Sprite,kelingqu:cc.Node},start:function start(){this.node.on("click",this.onOkBtnClick,this)},onOkBtnClick:function onOkBtnClick(){switch(yx.log("onOkBtnClick=="+this._item.ID),yx.richangMgr.getdailyRewardInfoState(this._item.ID)){case yx.proto.DailyStateType.Processing:var e="<color=#345A5C>活跃度达到"+this._item.Target+"的奖励</color>";yx.windowMgr.showWindow("rewardDisplayPanel",{content:e,reward:this._item.Reward});break;case yx.proto.DailyStateType.Finish:yx.richangMgr.GetReward(this._item.ID);break;case yx.proto.DailyStateType.Received:}},onInit:function onInit(e,t,n){this._huoyueProgressBarWidth=e,this._maxHuoYue=t,this._item=n,this.huoyueLabel.string=n.Target;var i=n.Target/this._maxHuoYue*this._huoyueProgressBarWidth;this.node.setPosition(i,0),this.node.active=!0},onRefresh:function onRefresh(){switch(yx.richangMgr.getdailyRewardInfoState(this._item.ID)){case yx.proto.DailyStateType.Processing:this.yilingquSp.node.active=!1,this.kelingqu.active=!1;break;case yx.proto.DailyStateType.Finish:this.yilingquSp.node.active=!1,this.kelingqu.active=!0;break;case yx.proto.DailyStateType.Received:this.yilingquSp.node.active=!0,this.kelingqu.active=!1}}}),cc._RF.pop()},{}],RichangScrollItem:[function(e,t,n){cc._RF.push(t,"7e11dn6m+9GoYRjs0Bp0iX5","RichangScrollItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,descLabel:cc.Label,limitRichText:cc.RichText,startBtn:cc.Button,yiwanchengLabel:cc.Label},init:function init(){this.startBtn.node.on("click",this.onStartBtnClick,this)},onStartBtnClick:function onStartBtnClick(){yx.log("前往=="+this._data.id),yx.richangMgr.goto(this._data.id)},onUpdate:function onUpdate(e){this._data=e;var t=yx.cfgMgr.getOneRecord("DailyEventConfig",{ID:this._data.id});this.titleLabel.string=t.Name;var n="单次历练经验：{exp}点/次";n=n.format({exp:t.Exp}),this.descLabel.string=n,this.limitRichText.string="<color=#345A5C>次数"+this._data.processing+"/"+t.MaxTimes+"</color>",this._data.processing<t.MaxTimes?(this.startBtn.node.active=!0,this.yiwanchengLabel.node.active=!1):(this.startBtn.node.active=!1,this.yiwanchengLabel.node.active=!0)}}),cc._RF.pop()},{}],RichangWindow:[function(e,t,n){cc._RF.push(t,"e4025txX9NJOrQmyTrbTpD9","RichangWindow");var i=e("BaseWindow"),c=e("RichangScrollItem"),r=e("RichangReward");cc.Class({extends:i,properties:{levelLabel:cc.Label,tipoLabel:cc.Label,zhenqiLabel:cc.Label,genguLabel:cc.Label,shenfaLabel:cc.Label,levelProgressBar:cc.ProgressBar,levelProgressLabel:cc.Label,huoyueLabel:cc.Label,huoyueProgressBar:cc.ProgressBar,scrollContent:cc.Node,richangItemPrefab:cc.Prefab,upgradeBtn:cc.Button,okBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.RICHANG_REFRESH,this.onRefresh,this),yx.eventDispatch.addListener(yx.EventType.RICHANG_REFRESHREWARD,this.onRefreshReward,this),yx.eventDispatch.addListener(yx.EventType.RICHANG_REFRESHUPGRADE,this.onRefreshUpgrade,this),yx.eventDispatch.addListener(yx.EventType.RICHANG_ZHAOHUI_REFRESH,this.onRefreshZhaohui,this);var e=this.huoyueProgressBar.node.width;this._rewardItems=[];var t=yx.cfgMgr.getAllConfig("DailyActiveRewardConfig");this._maxHuoYue=t[t.length-1].Target;for(var n=0;n<t.length;n++){var i=t[n],o=this.huoyueProgressBar.node.getChildByName("reward"+(n+1)).getComponent(r);o.onInit(e,this._maxHuoYue,i),this._rewardItems[n]=o}this.upgradeBtn.node.on("click",this.onUpgradeClick,this),this.okBtn.node.on("click",this.onOkBtnClick,this),yx.BadgeMgr.addBadge(this.upgradeBtn.node,60,15),yx.BadgeMgr.addBadge(this.okBtn.node,80,20)},_onShow:function _onShow(){yx.richangMgr.Info()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refreshReward:function _refreshReward(){for(var e=0;e<this._rewardItems.length;e++)this._rewardItems[e].onRefresh()},_refreshUpgrade:function _refreshUpgrade(){var e=yx.richangMgr.getLevel(),t=yx.richangMgr.getAttrCfg(e);this.levelLabel.string="Lv."+e,this.tipoLabel.string=0,this.zhenqiLabel.string=0,this.genguLabel.string=0,this.shenfaLabel.string=0,this.levelProgressLabel.string="",this.levelProgressBar.progress=0,t&&(this.tipoLabel.string=yx.richangMgr.getAttrValue(yx.proto.PropertyType.TiPo,t.Attr),this.zhenqiLabel.string=yx.richangMgr.getAttrValue(yx.proto.PropertyType.ZhenQi,t.Attr),this.genguLabel.string=yx.richangMgr.getAttrValue(yx.proto.PropertyType.GenGu,t.Attr),this.shenfaLabel.string=yx.richangMgr.getAttrValue(yx.proto.PropertyType.ShenFa,t.Attr),yx.richangMgr.getLeftHuoYue()>=t.Exp?this.levelProgressBar.progress=1:this.levelProgressBar.progress=yx.richangMgr.getLeftHuoYue()/t.Exp,this.levelProgressLabel.string=yx.richangMgr.getLeftHuoYue()+"/"+t.Exp,yx.BadgeMgr.showBadge(this.upgradeBtn.node,yx.richangMgr.getLeftHuoYue()>=t.Exp))},_refresh:function _refresh(){this._refreshUpgrade(),this.huoyueLabel.string=yx.richangMgr.getDailyHuoYue(),this.huoyueProgressBar.progress=yx.richangMgr.getDailyHuoYue()/this._maxHuoYue,this._refreshReward();for(var e=yx.richangMgr.getDailyTasks(),t=[],n=0;n<e.length;n++){var i=e[n],o=[];o.id=i.id,o.processing=i.processing;var r=yx.cfgMgr.getOneRecord("DailyEventConfig",{ID:i.id});r&&(o.index=r.Index,i.processing<r.MaxTimes?o.state=0:o.state=1,t[n]=o)}t.sort(function(e,t){return e.state==t.state?e.index-t.index:e.state-t.state});var a=this;this._itemList||(this._itemList=[],t.forEach(function(e){var t=cc.instantiate(a.richangItemPrefab),n=t.getComponent(c);n&&(n.init(),a.scrollContent.addChild(t),a._itemList.push(n))}));for(var s=0;s<this._itemList.length;s++)this._itemList[s].onUpdate(t[s]);this.onRefreshZhaohui()},onUpgradeClick:function onUpgradeClick(){yx.richangMgr.Upgrade()},onOkBtnClick:function onOkBtnClick(){yx.windowMgr.showWindow("richangZhaohuiPanel")},onRefresh:function onRefresh(){this._refresh()},onRefreshReward:function onRefreshReward(){this._refreshReward()},onRefreshUpgrade:function onRefreshUpgrade(){this._refreshUpgrade()},onRefreshZhaohui:function onRefreshZhaohui(){for(var e=!1,t=yx.richangMgr.getZhaohuiList(),n=0;n<t.length;n++)t[n].state==yx.proto.DailyStateType.Retrieve&&(e=!0);yx.BadgeMgr.showBadge(this.okBtn.node,e)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",RichangReward:"RichangReward",RichangScrollItem:"RichangScrollItem"}],RichangZhaohuiPanel:[function(e,t,n){cc._RF.push(t,"4546bgGJ2BH+I/2JmQaIYF1","RichangZhaohuiPanel");var i=e("BaseWindow"),o=e("RichangZhaohuiScrollItem");cc.Class({extends:i,properties:{maskSp:cc.Button,scrollContent:cc.Node,itemPrefab:cc.Prefab,closeBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.RICHANG_ZHAOHUI_REFRESH,this.onRefresh,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){var e=yx.richangMgr.getZhaohuiList(),i=this;i.scrollContent.removeAllChildren(!0),e.forEach(function(e){var t=cc.instantiate(i.itemPrefab),n=t.getComponent(o);n&&(n.init(e),i.scrollContent.addChild(t))})},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onRefresh:function onRefresh(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",RichangZhaohuiScrollItem:"RichangZhaohuiScrollItem"}],RichangZhaohuiScrollItem:[function(e,t,n){cc._RF.push(t,"5f6a1+ZcG9G66lNwTkF46la","RichangZhaohuiScrollItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,xiangzBtn:cc.Button,startBtn:cc.Button,costText:cc.Label,costSp:cc.Sprite,yilingquLabel:cc.Label},init:function init(e){this._data=e;var t=yx.cfgMgr.getOneRecord("DailyActiveRewardConfig",{ID:e.id});this.titleLabel.string="活跃度达到"+t.Target+"的奖励",this.node.getChildByName("xiangziSp"+e.id).active=!0,e.state==yx.proto.DailyStateType.Retrieve?(this.startBtn.node.active=!0,this.yilingquLabel.node.active=!1):(this.startBtn.node.active=!1,this.yilingquLabel.node.active=!0),this.costSp.node.setScale(.5);var n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t.RetrieveCost[0].id});yx.resUtil.LoadSpriteByIconName(n.Icon,this.costSp),this.costText.string=t.RetrieveCost[0].count,this.startBtn.node.on("click",this.onStartBtnClick,this),this.xiangzBtn.node.on("click",this.onXiangzBtnClick,this)},onXiangzBtnClick:function onXiangzBtnClick(){var e=yx.cfgMgr.getOneRecord("DailyActiveRewardConfig",{ID:this._data.id}),t="<color=#345A5C>活跃度达到"+e.Target+"的奖励</color>";yx.windowMgr.showWindow("rewardDisplayPanel",{content:t,reward:e.Reward})},onStartBtnClick:function onStartBtnClick(){yx.richangMgr.GetYesterdayReward(this._data.id)}}),cc._RF.pop()},{}],RoleInfoWindow:[function(e,t,n){cc._RF.push(t,"ec1b4aNil1E06FGo5On0ODj","RoleInfoWindow");var i=e("BaseWindow"),o=[1,2];cc.Class({extends:i,properties:{switchTc:cc.ToggleContainer,zhuangTaiPageNode:cc.Node,danYaoPageNode:cc.Node,roleIconSp:cc.Sprite,nameLabel:cc.Label,level1Label:cc.Label,xiulianLabel:cc.Label,feishengLabel:cc.Label,attrGroup:cc.Node,damageGroup:cc.Node,rengeGroup:cc.Node,zhaoshiBtn:cc.Button,dyItemScrollView:cc.ScrollView,dyItemLayout:cc.Layout,dyXisuiBtn:cc.Button},_initSwitchTC:function _initSwitchTC(){this.switchTc.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="RoleInfoWindow",e.handler="onSwitchTCClick",this.switchTc.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTc.toggleItems.indexOf(e);if(0<=t){var n=o[t];null!=n&&n!=this._curPage&&(this._curPage=n,this._refresh())}},_onInit:function _onInit(){this.zhuangTaiPageNode.active=!1,this.danYaoPageNode.active=!1,this._curPage=o[0],this.zhaoshiBtn.node.on("click",this.onZhaoShiBtnClick,this),this.dyXisuiBtn.node.on("click",this.onXiSuiBtnClick,this),this._initSwitchTC(),yx.eventDispatch.addListener(yx.EventType.DANYAO_CHANGE,this.onEventDanYaoChang,this),yx.eventDispatch.addListener(yx.EventType.PROPERTY_REFRESH,this._refresh,this)},_onShow:function _onShow(){yx.playerMgr.reqDanYao(),yx.playerMgr.reqPlayerProperty(),yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},onXiSuiBtnClick:function onXiSuiBtnClick(){yx.windowMgr.showWindow("xiSui")},_refresh:function _refresh(){1===this._curPage?(this.zhuangTaiPageNode.active=!0,this.danYaoPageNode.active=!1,this._refreshInfo()):2===this._curPage&&(this.zhuangTaiPageNode.active=!1,this.danYaoPageNode.active=!0,this._refreshDanYao())},_refreshInfo:function _refreshInfo(){yx.resUtil.LoadSpriteFromResConfig(yx.playerMgr.getHeadID(),yx.ResType.HEAD,this.roleIconSp),this.nameLabel.string=yx.playerMgr.getName(),this.level1Label.string=yx.playerMgr.dujieInfo.Name,this.xiulianLabel.string=yx.timeUtil.getXiuLianYear()+"年",this.feishengLabel.string=yx.playerMgr.IsFlyUp()?"已飞升":"尚未飞升",this._refreshInfoAttr(),this._refreshInfoDamage(),this._refreshInfoRenge()},_refreshInfoAttr:function _refreshInfoAttr(){for(var e=this.attrGroup.children,t=[yx.proto.PropertyType.ZhenQi,yx.proto.PropertyType.GenGu,yx.proto.PropertyType.TiPo,yx.proto.PropertyType.ShenFa,yx.proto.PropertyType.LingLi,yx.proto.PropertyType.WuXing,yx.proto.PropertyType.JiYuan],n=0;n<t.length&&n<e.length;n++){var i=e[n],o=t[n],r=i.getChildByName("Title1Label").getComponent(cc.Label),a=i.getChildByName("Value1Label").getComponent(cc.Label),s=i.getChildByName("Title2Label").getComponent(cc.Label),c=i.getChildByName("Value2Label").getComponent(cc.Label);r.string=yx.textDict.Attr[o]+"：",a.string=yx.playerMgr.getProperty(o),s.string=yx.textDict.SecAttrName[o]+"：",c.string=yx.playerMgr.getSecAttr(o),r._updateRenderData(!0),s._updateRenderData(!0),a.node.x=r.node.x+r.node.width,c.node.x=s.node.x+s.node.width}},_refreshInfoDamage:function _refreshInfoDamage(){for(var e=this.damageGroup.children,t=[yx.proto.PropertyType.JinXi,yx.proto.PropertyType.MuXi,yx.proto.PropertyType.ShuiXi,yx.proto.PropertyType.HuoXi,yx.proto.PropertyType.TuXi,yx.proto.PropertyType.RenZu,yx.proto.PropertyType.YaoZu,yx.proto.PropertyType.MoZu,yx.proto.PropertyType.ShouZu,yx.proto.PropertyType.LongZu,0,yx.proto.PropertyType.XianRen],n=0;n<t.length/2&&n<e.length;n++){var i=e[n],o=i.getChildByName("Title1Label").getComponent(cc.Label),r=i.getChildByName("Value1Label").getComponent(cc.Label),a=i.getChildByName("Title2Label").getComponent(cc.Label),s=i.getChildByName("Value2Label").getComponent(cc.Label),c=t[2*n];0!=c?(o.string=yx.textDict.Attr[c]+"：",r.string=yx.playerMgr.getProperty(c)):(o.string="",r.string="");var l=t[2*n+1];0!=l?(a.string=yx.textDict.Attr[l]+"：",s.string=yx.playerMgr.getProperty(l)):(a.string="",s.string=""),o._updateRenderData(!0),a._updateRenderData(!0),r.node.x=o.node.x+o.node.width,s.node.x=a.node.x+a.node.width}},_refreshInfoRenge:function _refreshInfoRenge(){for(var e=this.rengeGroup.children,t=[{type:1,value:yx.proto.PropertyType.ZhengQi},{type:1,value:yx.proto.PropertyType.XieQi},{type:2,value:yx.CyType.HAOYU},{type:2,value:yx.CyType.XIEYU},{type:2,value:yx.CyType.WEIWANG},{type:0,value:0}],n=0;n<t.length/2&&n<e.length;n++){for(var i=e[n],o=i.getChildByName("Title1Label").getComponent(cc.Label),r=i.getChildByName("Value1Label").getComponent(cc.Label),a=i.getChildByName("Title2Label").getComponent(cc.Label),s=i.getChildByName("Value2Label").getComponent(cc.Label),c=0;c<2;c++){var l=t[2*n+c].type,u=t[2*n+c].value,d=0==c?o:a,h=0==c?r:s;if(1==l)d.string=yx.textDict.Attr[u]+"：",h.string=yx.playerMgr.getProperty(u);else if(2==l){var g=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:u});d.string=g?g.Name+"：":"",h.string=yx.playerMgr.getCurrency(u)}else d.string="",h.string=""}o._updateRenderData(!0),a._updateRenderData(!0),r.node.x=o.node.x+o.node.width,s.node.x=a.node.x+a.node.width}},onZhaoShiBtnClick:function onZhaoShiBtnClick(){yx.windowMgr.showWindow("gongfa",yx.proto.GongFaType.ZhaoShi)},onEventDanYaoChang:function onEventDanYaoChang(){this.isShown()&&this._refreshDanYao()},_refreshDanYao:function _refreshDanYao(){var r={},e=yx.playerMgr.getDanYao();r[-1]={},r[-1].title=yx.textDict.DanYaoLevelName[-1],r[-1].items={},r[0]={},r[0].title=yx.textDict.DanYaoLevelName[0],r[0].items={},yx.cfgMgr.getAllConfig("XianNiangMakeConfig").forEach(function(e){var t=e.Reward[0].id,n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t}).UseMax;r[0].items[t]={itemId:t,useCount:0,maxCount:n}});for(var t=1;t<=23;t++)r[t]={},r[t].title=yx.textDict.DanYaoLevelName[t],r[t].items={};r[24]={},r[24].title=yx.textDict.DanYaoLevelName[24],r[24].items={},e&&e.forEach(function(e){var t=e.itemId,n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t});if(n){var i=n.ID,o=n.PinZhi;4===n.Type?(r[0].items[i].useCount=e.useCount,1e4<n.UseMax&&(r[0].items[i].isNoShowMaxcount=!0)):3!==n.Type||o<1||23<o?(r[24].items[i]=e,1e4<n.UseMax&&(r[24].items[i].isNoShowMaxcount=!0)):(r[o].items[i]=e,1e4<n.UseMax&&(r[o].items[i].isNoShowMaxcount=!0)),0<e.useCount&&(r[-1].items[i]=e,1e4<n.UseMax&&(r[-1].items[i].isNoShowMaxcount=!0))}}),this.danYaoItemNodesArr||(this.dyItemLayout.node.removeAllChildren(!0),this.danYaoItemNodesArr={});var n={pinZhi:-1,title:r[-1].title,items:r[-1].items};for(var i in this.danYaoItemNodesArr[-1]?this.danYaoItemNodesArr[-1].getComponentInChildren(yx.DanYaoTitleItem).refresh(n):this.danYaoItemNodesArr[-1]=yx.DanYaoTitleItem.CreateItem(n,this.dyItemLayout.node,"DanYaoTitleItem-1",null),r){var o=parseInt(i);if(!(o<0)){var a={pinZhi:23<o?1:o,title:r[i].title,items:r[i].items};this.danYaoItemNodesArr[i]?this.danYaoItemNodesArr[i].getComponentInChildren(yx.DanYaoTitleItem).refresh(a):this.danYaoItemNodesArr[i]=yx.DanYaoTitleItem.CreateItem(a,this.dyItemLayout.node,"DanYaoTitleItem"+i,null)}}},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",33)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],SceneManager:[function(e,t,n){cc._RF.push(t,"5e2555vNcFAJ5qNVdMFSs6U","SceneManager");var i=e("EventDispatch");yx.SceneManager=function(){},yx.SceneManager.prototype={constructor:yx.SceneManager,init:function init(){return yx.log("SceneManager init"),!0},getSceneName:function getSceneName(){return cc.director.getScene().name},loadScene:function loadScene(e,t){var n=cc.director.getScene().name;if(e==n)return yx.warn("already in sceneName:"+e),void(t&&t(!1));yx.log("SceneManager exit sceneName:"+n),i.dispatchMsg(yx.EventType.SCENE_EXIT,n),cc.director.loadScene(e,function(){yx.log("SceneManager enter sceneName:"+e),wx&&wx.triggerGC(),yx.windowMgr.init(),i.dispatchMsg(yx.EventType.SCENE_ENTER,e),t&&t(!0)})},PrintAllNodesCurrScene:function PrintAllNodesCurrScene(){this.PrintAllChildren(cc.director.getScene())},PrintAllChildren:function PrintAllChildren(){},GetChildNodeInfo:function GetChildNodeInfo(e,t){e[t.name]=new Array;var n=!0,i=!1,o=void 0;try{for(var r,a=t.children[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value,c={};this.GetChildNodeInfo(c,s),e[t.name].push(c)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}}},yx.sceneMgr=new yx.SceneManager,t.exports=yx.sceneMgr,cc._RF.pop()},{EventDispatch:"EventDispatch"}],ScrollViewEnhance:[function(e,t,n){cc._RF.push(t,"432d0yz/+VLuo7CFW9r3BWU","ScrollViewEnhance");var i="size-changed",o="position-changed",r=cc.Class({extends:cc.Component,properties:{},onLoad:function onLoad(){this.scrollview=this.getComponent(cc.ScrollView),this.scrollview.node.on(i,this._resized,this),this.scrollview.node.on(o,this._resized,this),this.scrollview.content.on(i,this._contentSizeChanged,this),this.scrollview.content.on(o,this._contentPositionChanged,this),yx.log("ScrollViewEnhance onLoad"),this._resized()},_scrolling:function _scrolling(){this._updateChildsVisible()},_contentSizeChanged:function _contentSizeChanged(){this._resized()},_contentPositionChanged:function _contentPositionChanged(){this._updateChildsVisible()},_resized:function _resized(){var e=this.scrollview.node.parent.convertToWorldSpaceAR(cc.v2(this.scrollview.node.x-this.scrollview.node.anchorX*this.scrollview.node.width,this.scrollview.node.y-this.scrollview.node.anchorY*this.scrollview.node.height));this.svBBoxRect=cc.rect(e.x,e.y,this.scrollview.node.width,this.scrollview.node.height),this._updateChildsVisible()},_updateChildsVisible:function _updateChildsVisible(){var t=this;this.scrollview.content.childrenCount<=0||this.scrollview.content.children.forEach(function(e){t._updateOneNode(e)})},_updateOneNode:function _updateOneNode(e){e.getBoundingBoxToWorld().intersects(this.svBBoxRect)?255!=e.opacity&&(e.opacity=255):0!=e.opacity&&(e.opacity=0)},_childAdded:function _childAdded(e){this._updateOneNode(e)},_childRemoved:function _childRemoved(e){this._updateOneNode(e)}});yx.ScrollViewEnhance=t.exports=r,cc._RF.pop()},{}],ScrollViewRepeat:[function(e,t,n){cc._RF.push(t,"91ffegyW2hFQZb9FHirJaxR","ScrollViewRepeat");var C=e("BaseRepeatItem"),i=cc.Class({extends:cc.Component,properties:{},onLoad:function onLoad(){this.init()},init:function init(){this.inited||(this.inited=!0,this.scrollview=this.getComponent(cc.ScrollView),this.scrollview.node.on("size-changed",this._resized,this),this.scrollview.node.on("scrolling",this._scrolling,this),yx.log("ScrollViewRepeat onLoad"),this._initUpdate=!1,this._items=[],this._lastContentPosY=0,this._lastContentPosX=0)},_scrolling:function _scrolling(){this._scrollingUpdate()},_resized:function _resized(){if(yx.log("ScrollViewRepeat _resized"),this._initUpdate=!1,0==this._direction){var e=this._itemPrefabHeight+this._spacing,t=Math.ceil(this.scrollview.node.height/e)+1;if(this._endY=.5*-this._itemPrefabHeight-this.scrollview.node.height,t>this._items.length)for(var n=this._items.length;n<t;++n)if(this._list[n]){var i=cc.instantiate(this._itemPrefab);this.scrollview.content.addChild(i),i.setPosition(0,-this._itemPrefabHeight*(.5+n)-this._spacing*(n+1)),i.getComponent(C).initItem(n,this._list[n]),this._items.push(i)}}else{var o=this._itemPrefabWidth+this._spacing,r=Math.ceil(this.scrollview.node.width/o)+1;if(this._endX=.5*-this._itemPrefabWidth-this.scrollview.node.width,r>this._items.length)for(var a=this._items.length;a<r;++a)if(this._list[a]){var s=cc.instantiate(this._itemPrefab);this.scrollview.content.addChild(s),s.setPosition(0,-this._itemPrefabWidth*(.5+a)-this._spacing*(a+1)),s.getComponent(C).initItem(a,this._list[a]),this._items.push(s)}}this._initUpdate=!0},_getPositionInView:function _getPositionInView(e){var t=e.parent.convertToWorldSpaceAR(e.position);return this.scrollview.node.convertToNodeSpaceAR(t)},_scrollingUpdate:function _scrollingUpdate(){if(this._initUpdate){var e=this._items;if(0==this._direction){for(var t=this.scrollview.content.y<this._lastContentPosY,n=(this._itemPrefabHeight+this._spacing)*e.length,i=0;i<e.length;++i){var o=this._getPositionInView(e[i]);if(t){if(o.y<this._endY&&e[i].y+n<0){e[i].y=e[i].y+n;var r=e[i].getComponent(C),a=r.getItemID()-e.length,s=this._list[a];s&&r.updateItem(a,s)}}else if(o.y>this._startY&&e[i].y-n>-this.scrollview.content.height){e[i].y=e[i].y-n;var c=e[i].getComponent(C),l=c.getItemID()+e.length,u=this._list[l];u&&c.updateItem(l,u)}}this._lastContentPosY=this.scrollview.content.y}else{for(var d=this.scrollview.content.x<this._lastContentPosX,h=(this._itemPrefabWidth+this._spacing)*e.length,g=0;g<e.length;++g){var p=this._getPositionInView(e[g]);if(d){if(p.x<this._endX&&e[g].x+h<0){e[g].x=e[g].x+h;var y=e[g].getComponent(C),f=y.getItemID()-e.length,m=this._list[f];y.updateItem(f,m)}}else if(p.x>this._startX&&e[g].x-h>-this.scrollview.content.width){e[g].x=e[g].x-h;var v=e[g].getComponent(C),x=v.getItemID()+e.length,w=this._list[x];v.updateItem(x,w)}}this._lastContentPosX=this.scrollview.content.x}}},initialize:function initialize(e,t,n,i){var o=2<arguments.length&&void 0!==n?n:0,r=3<arguments.length&&void 0!==i?i:0;this.init(),yx.log("ScrollViewRepeat initialize"),this._initUpdate=!1,this._list=e,this._spacing=o,this._itemPrefab=t,this._direction=r;var a=this._list.length;if(0==this._direction){this._itemPrefabHeight=t.data.height;var s=this._itemPrefabHeight+this._spacing,c=Math.ceil(this.scrollview.node.height/s)+1;this._startY=.5*-this._itemPrefabHeight+s,this._endY=.5*-this._itemPrefabHeight-this.scrollview.node.height,this.scrollview.content.height=a*s+this._spacing;for(var l=0;l<c;++l)if(this._list[l]){var u=cc.instantiate(t);this.scrollview.content.addChild(u),u.setPosition(0,-this._itemPrefabHeight*(.5+l)-this._spacing*(l+1)),u.getComponent(C).initItem(l,this._list[l]),this._items.push(u)}}else{this._itemPrefabWidth=t.data.width;var d=this._itemPrefabWidth+this._spacing,h=Math.ceil(this.scrollview.node.width/d)+1;this._startX=.5*-this._itemPrefabWidth+d,this._endX=.5*-this._itemPrefabWidth-this.scrollview.node.width,this.scrollview.content.width=a*d+this._spacing;for(var g=0;g<h;++g)if(this._list[g]){var p=cc.instantiate(t);this.scrollview.content.addChild(p),p.setPosition(-this._itemPrefabWidth*(.5+g)-this._spacing*(g+1),0),p.getComponent(C).initItem(g,this._list[g]),this._items.push(p)}}this._initUpdate=!0},updateAllData:function updateAllData(e){this._initUpdate=!1;for(var t=0;t<this._items.length;t++)this._items[t].removeFromParent(!0);this._items=[],this._list=e;var n=this._list.length;if(0==this._direction){var i=this._itemPrefabHeight+this._spacing,o=Math.ceil(this.scrollview.node.height/i)+1;this.scrollview.content.height=n*i+this._spacing;for(var r=0;r<o;++r)if(this._list[r]){var a=cc.instantiate(this._itemPrefab);this.scrollview.content.addChild(a),a.setPosition(0,-this._itemPrefabHeight*(.5+r)-this._spacing*(r+1)),a.getComponent(C).initItem(r,this._list[r]),this._items.push(a)}this.scrollview.content.y=0}else{var s=this._itemPrefabWidth+this._spacing,c=Math.ceil(this.scrollview.node.width/s)+1;this.scrollview.content.width=n*s+this._spacing;for(var l=0;l<c;++l)if(this._list[l]){var u=cc.instantiate(itemPrefab);this.scrollview.content.addChild(u),u.setPosition(-this._itemPrefabWidth*(.5+l)-this._spacing*(l+1),0),u.getComponent(C).initItem(l,this._list[l]),this._items.push(u)}this.scrollview.content.x=0}this._initUpdate=!0},updateAllWithoutData:function updateAllWithoutData(e){if(e&&e.length==this._list.length)for(var t in this._list)Object.assign(this._list[t],e[t]);this._initUpdate=!1;for(var n=0;n<this._items.length;n++)this._items[n].getComponent(C).updateWithoutData();this._initUpdate=!0}});yx.ScrollViewRepeat=t.exports=i,cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],SdkComBase:[function(e,t,n){cc._RF.push(t,"eea31T5bmRDf4nysEcpcC/7","SdkComBase");var i=cc.Class({ctor:function ctor(){},init:function init(){},login:function login(){yx.WaitingPanel.ShowPanel();var e={channel:yx.sdkLayer.getChannelName(),openId:yx.serverMgr.getUserName()};yx.sdkLayer.reqLoginServer(e,this.respLoginServer.bind(this))},logout:function logout(){yx.sdkLayer.onLogout()},respLoginServer:function respLoginServer(e,t){if(yx.WaitingPanel.ClosePanel(),e)yx.sdkLayer.onLogin(e,t);else{var n=t;0==n.code?yx.sdkLayer.onLogin(e,"succ"):yx.sdkLayer.onLogin(e,n.msg)}},pay:function pay(){},share:function share(){},getSubChannel:function getSubChannel(){return""},sendExtraData:function sendExtraData(){},refreshGame:function refreshGame(){},copyClipboardData:function copyClipboardData(e){yx.log("copyClipboardData=="+e)},checkShowPay:function checkShowPay(){},nameCertification:function nameCertification(){}});t.exports=i,cc._RF.pop()},{}],SdkComBhwx:[function(e,t,n){cc._RF.push(t,"9f512km8sVFxbYlv/tmDuae","SdkComBhwx");var i=e("SdkComBase"),o="100458",r=null,a=null,s=cc.Class({extends:i,ctor:function ctor(){},init:function init(){wx?(wx.onMemoryWarning(function(){yx.warn("onMemoryWarningReceive"),wx.triggerGC()}),cc.sys.os==cc.sys.OS_IOS&&(o="100457"),bhSdk.init({pid:158,gid:o},function(e){yx.log(e),yx.log("init success");var t={shareTitle:"马上就要孵化出来了！点击帮帮我>>",shareImg:"https://szh5.nalrer.cn/szmahjong/WXGames/Shangc/ysll1.jpg"};bhSdk.setShare(t,function(e){yx.log(e),yx.log("setShare success")})})):yx.error("该渠道必须在微信开发环境下运行")},login:function login(){yx.WaitingPanel.ShowPanel(),yx.warn("[SdkComBhwx login] time:"+yx.timeUtil.getNowTimeString()),this.wxLogin()},loginCallback:function loginCallback(e){if(yx.log("SdkComBhwx login data:"+JSON.stringify(e)),200==e.code){yx.log("login success"),a=e.data.accessToken,r=e.data.mid;var t={channel:yx.sdkLayer.getChannelName(),openId:"",code:"",token:e.data.accessToken};yx.sdkLayer.reqLoginServer(t,this.respLoginServer.bind(this)),0<e.data.delayTime&&yx.playerMgr.setNameCertDelayTime(60*e.data.delayTime*1e3)}else 400==e.code?(yx.WaitingPanel.ClosePanel(),yx.windowMgr.showWindow("nameCertificationPanel",!0)):yx.sdkLayer.onLogin(!0,"loginfail")},wxLogin:function wxLogin(){yx.warn("[SdkComBhwx wxLogin] 1 time:"+yx.timeUtil.getNowTimeString());var t=this;bhSdk.login(function(e){t.loginCallback(e)})},respLoginServer:function respLoginServer(e,t){if(e)yx.warn("login http err:",t),yx.sdkLayer.onLogin(e,t);else{yx.log("login http result:",t);var n=t;0==n.code?yx.sdkLayer.onLogin(e,"succ"):yx.sdkLayer.onLogin(e,n.msg)}},pay:function pay(e){yx.log("payInfo:",e);var t={tm:Math.ceil(yx.timeUtil.getServerTime()/1e3)+"",pid:158,gid:o,mid:r,access_token:a,role_id:yx.playerMgr.getPid()+"",role_name:yx.playerMgr.getName()+"",role_level:yx.playerMgr.getDuJieLevel()+"",server_id:yx.serverMgr.getCurServerInfo().id+"",server_name:yx.serverMgr.getCurServerInfo().name+"",amt:e.prodPrice+"",goods_name:e.name+"",game_order_no:e.extraProdId+"",game_ext:""};yx.log("payData:",t),bhSdk.pay(t,function(e){yx.log("payCallback=="+JSON.stringify(e)),200==e.code?yx.log("pay success"):400==e.code&&yx.windowMgr.showWindow("nameCertificationPanel",!1)})},share:function share(){bhSdk.goShare()},copyClipboardData:function copyClipboardData(e){yx.log("copyClipboardData=="+e),wx.setClipboardData({data:e,success:function success(){yx.log("copyClipboardData succ"),yx.ToastUtil.showListToast("复制成功")}})},sendExtraData:function sendExtraData(e,t){var n={};if(e==yx.SendExtraType.TYPE_SELECT_SERVER)n.info_type="serverSeclet",n.server_id=t.id+"",n.server_name=t.name+"";else{switch(e){case yx.SendExtraType.TYPE_CREATE_ROLE:n.info_type="roleCreate";break;case yx.SendExtraType.TYPE_ENTER_GAME:n.info_type="enterGame";break;case yx.SendExtraType.TYPE_LEVEL_UP:n.info_type="roleUplevel",n.role_leveltime=Math.ceil(yx.timeUtil.getServerTime()/1e3)+"",this.checkShowPay();break;case yx.SendExtraType.TYPE_EXIT_GAME:n.info_type="exitGame"}n.server_id=yx.serverMgr.getCurServerInfo().id+"",n.server_name=yx.serverMgr.getCurServerInfo().name+"",n.role_id=yx.playerMgr.getPid()+"",n.role_name=yx.playerMgr.getName()+"",n.role_level=yx.playerMgr.getDuJieLevel()+"",n.role_createtime=Math.ceil(yx.timeUtil.getCreateTime()/1e3)+"",n.access_token=a}bhSdk.submitRoleInfo(n,function(e){yx.log("submitRoleInfo success"),yx.log(e)})},checkShowPay:function checkShowPay(){var e={role_level:yx.playerMgr.getDuJieLevel(),access_token:a,system:cc.sys.os};bhSdk.isShowPay(e,function(e){yx.log("isShowPay success"),yx.log(e)})},nameCertification:function nameCertification(e,t,n){bhSdk.nameCertification(e,t,function(e){200==e.code?(yx.log("nameCertification success"),n()):yx.log("nameCertification fail")},!1)}});t.exports=s,cc._RF.pop()},{SdkComBase:"SdkComBase"}],SdkComCsqq:[function(e,t,n){cc._RF.push(t,"6684945SptK1YGzcaEhuIvr","SdkComCsqq");var i=e("SdkComBase"),o="马上就要孵化出来了！点击帮帮我>>",r="https://szh5.nalrer.cn/szmahjong/WXGames/Shangc/ysll1.jpg",a=cc.Class({extends:i,ctor:function ctor(){this._userInfo=null,this._openId=""},init:function init(){var t=this;wx?(qq.onShow(function(e){t.onShow(e)}),qq.onHide(function(){t.onHide()}),qq.onShareAppMessage(function(){return{title:o,imageUrl:r}}),qq.showShareMenu({showShareItems:["qq","qzone"],success:function success(){yx.log("showShareMenu Success")},fail:function fail(e){var t=e.errMsg,n=e.errCode;yx.log("showShareMenu errMsg=="+t+";errCode=="+n)}})):yx.error("该渠道必须在微信开发环境下运行")},login:function login(){yx.WaitingPanel.ShowPanel(),yx.warn("[SdkComCsqq login] time:"+yx.timeUtil.getNowTimeString()),this.qqlLogin()},qqlCheckAuthSetting:function qqlCheckAuthSetting(){qq.getSetting({success:function success(e){yx.log(e.authSetting),e.authSetting["scope.appMsgSubscribed"]?yx.log("用户已授权订阅"):(yx.log("没授权订阅，用户申请订阅"),qq.authorize({scope:"scope.appMsgSubscribed",success:function success(){yx.log("授权订阅  success")},fail:function fail(e){var t=e.errMsg,n=e.errCode;yx.log("授权订阅 errMsg=="+t+";errCode=="+n)}}))}})},qqlLogin:function qqlLogin(){var n=this;yx.warn("[SdkComCsqq qqlLogin] 1 time:"+yx.timeUtil.getNowTimeString()),qq.login({success:function success(e){if(e.code){var t={channel:yx.sdkLayer.getChannelName(),openId:"",code:e.code};yx.warn("[SdkComCsqq qqlLogin] succ time:"+yx.timeUtil.getNowTimeString()),yx.sdkLayer.reqLoginServer(t,n.respLoginServer.bind(n))}else yx.log("登录失败！"+e.errMsg),yx.sdkLayer.onLogin(!0,e.errMsg)}})},onShow:function onShow(){yx.warn("[SdkComCsqq onShow] time:"+yx.timeUtil.getNowTimeString())},onHide:function onHide(){yx.warn("[SdkComCsqq onHide] time:"+yx.timeUtil.getNowTimeString())},respLoginServer:function respLoginServer(e,t){if(e)yx.warn("login http err:",t),yx.sdkLayer.onLogin(e,t);else{yx.log("login http result:",t);var n=t;0==n.code?(this._openId=n.openId,yx.sdkLayer.onLogin(e,"succ")):yx.sdkLayer.onLogin(e,n.msg)}},pay:function pay(e){var t=JSON.parse(e.extraAppInfo),n=t.prepayId,i=t.amt;yx.log("prepayId=="+n),yx.log("starCurrency=="+i),qq.requestMidasPayment({prepayId:n,starCurrency:i,success:function success(){yx.log("payCallback Success")},fail:function fail(e){var t=e.errMsg,n=e.errCode;yx.log("payCallback errMsg=="+t+";errCode=="+n)}})},share:function share(){qq.shareAppMessage({title:o,imageUrl:r,shareAppType:"qq",success:function success(){yx.log("shareQQ Success")},fail:function fail(e){var t=e.errMsg,n=e.errCode;yx.log("shareQQ errMsg=="+t+";errCode=="+n)}})},copyClipboardData:function copyClipboardData(e){yx.log("copyClipboardData=="+e),qq.setClipboardData({data:e,success:function success(){yx.log("copyClipboardData succ"),yx.ToastUtil.showListToast("复制成功")}})}});t.exports=a,cc._RF.pop()},{SdkComBase:"SdkComBase"}],SdkComSsAndroid:[function(e,t,n){cc._RF.push(t,"6c033fXSjBDJJ2Gc5yoBWr6","SdkComSsAndroid");var i=e("SdkComBase"),o="https://szh5.nalrer.cn/szmahjong/WXGames/Shangc/ysll1.jpg",r=cc.Class({extends:i,ctor:function ctor(){this._userInfo=null},init:function init(){},login:function login(){yx.CodeHelper.callAndroid("callLogin")},onLoginSuccResp:function onLoginSuccResp(e,t,n){yx.log("onLoginSuccResp userId:"+e+" userName:"+t+" token:"+n);var i={channel:yx.sdkLayer.getChannelName(),openId:"",code:"",token:n};yx.sdkLayer.reqLoginServer(i,this.respLoginServer.bind(this))},sendExtraData:function sendExtraData(e){if(e=parseInt(e),yx.log("sendExtraData type:"+e),e<1||5<e)yx.warn("sendExtraData "+e);else{var t={};switch(t.serverId=yx.serverMgr.getCurServerInfo().id||0,t.serverName=yx.serverMgr.getCurServerInfo().name+"",t.roleId=yx.playerMgr.getPid()+"",t.roleName=yx.playerMgr.getName()+"",t.roleLevel=yx.playerMgr.getDuJieLevel()+"",t.moneyNum=yx.playerMgr.getCurrency(yx.CyType.LINGSHI)||0,t.roleGameName=yx.playerMgr.getZhongZuName()||"",t.roleCTime=yx.CodeHelper.formatDate(new Date(yx.timeUtil.getCreateTime())),t.others=yx.playerMgr.isVipMonth()?"vip1":yx.playerMgr.isVipForever()?"vip2":"vip0",t.gameName="山海修妖纪",t.type=e){case yx.SendExtraType.TYPE_SELECT_SERVER:yx.CodeHelper.callAndroid("callSelectServerExtraData",t);break;case yx.SendExtraType.TYPE_CREATE_ROLE:yx.CodeHelper.callAndroid("callCreateRoleExtraData",t);break;case yx.SendExtraType.TYPE_ENTER_GAME:yx.CodeHelper.callAndroid("callEnterGameExtraData",t);break;case yx.SendExtraType.TYPE_LEVEL_UP:yx.CodeHelper.callAndroid("callLevelUpExtraData",t);break;case yx.SendExtraType.TYPE_EXIT_GAME:yx.CodeHelper.callAndroid("callExitGameExtraData",t)}}},onLoginFailResp:function onLoginFailResp(e){yx.sdkLayer.onLogin(!0,e)},respLoginServer:function respLoginServer(e,t){var n;e?yx.sdkLayer.onLogin(e,t):0==(n=t).code?yx.sdkLayer.onLogin(e,"succ"):yx.sdkLayer.onLogin(e,n.msg)},pay:function pay(e){var t={};t.buyNum=e.prodCount,t.coinNum=1,t.extension=e.extraProdId+"",t.price=e.prodPrice,t.productId=e.id+"",t.productName=e.name,t.productDesc=e.name,t.roleId=yx.playerMgr.getPid()+"",t.roleLevel=yx.playerMgr.getDuJieLevel(),t.roleName=yx.playerMgr.getName(),t.serverId=yx.serverMgr.getCurServerInfo().id+"",t.serverName=yx.serverMgr.getCurServerInfo().name+"",t.vipLevel="",t.productNum=this._getProductNum(e.id),yx.CodeHelper.callAndroid("callPay",t)},_getProductNum:function _getProductNum(e){var t=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:e});if(t&&1===t.type){var n=t.TypeValue[0].count;if(0<=n)return n}return 1},onPaySuccResp:function onPaySuccResp(e){yx.log("onPaySuccResp productId:"+e),yx.ToastUtil.showListToast("支付成功")},share:function share(){var e={title:"修妖记",content:"马上就要孵化出来了！点击帮帮我>>",sourceName:"yinhu"};e.sourceUrl=o,e.titleUrl=o,e.url=o,yx.CodeHelper.callAndroid("callShare",e)},onShareSuccResp:function onShareSuccResp(){yx.log("onShareSuccResp"),yx.ToastUtil.showListToast("分享成功")},testAndroidShowMessage:function testAndroidShowMessage(){yx.CodeHelper.returnAndroid("testAndroidShowMessage",{androidName:"123",num:"456"})},getSubChannel:function getSubChannel(){var e=yx.CodeHelper.callAndroid("callGetSubChannel");return e?(yx.log("param.subChannel:"+e.subChannel),e.subChannel):""},refreshGame:function refreshGame(){yx.CodeHelper.callAndroid("callRefreshGame")}});t.exports=r,cc._RF.pop()},{SdkComBase:"SdkComBase"}],SdkComSswx:[function(e,t,n){cc._RF.push(t,"ac51282j61AyYNiHgPHceTV","SdkComSswx");var i=e("SdkComBase"),o=cc.Class({extends:i,ctor:function ctor(){},init:function init(){wx?(wx.onMemoryWarning(function(){yx.warn("onMemoryWarningReceive"),wx.triggerGC()}),SqSdk.loginCallback=this.loginCallback.bind(this),SqSdk.payCallback=this.payCallback.bind(this),SqSdk.shareTitle="马上就要孵化出来了！点击帮帮我>>",SqSdk.shareImageUrl="https://szh5.nalrer.cn/szmahjong/WXGames/Shangc/ysll1.jpg"):yx.error("该渠道必须在微信开发环境下运行")},login:function login(){yx.WaitingPanel.ShowPanel(),yx.warn("[SdkComSswx login] time:"+yx.timeUtil.getNowTimeString()),this.wxLogin()},loginCallback:function loginCallback(e,t){if(yx.log("SdkComSswx login isSuccess:"+e),yx.log("SdkComSswx login data:"+JSON.stringify(t)),e){var n={channel:yx.sdkLayer.getChannelName(),openId:"",code:"",token:t.token};yx.sdkLayer.reqLoginServer(n,this.respLoginServer.bind(this))}else yx.sdkLayer.onLogin(!0,"Sswx loginfail")},wxLogin:function wxLogin(){yx.warn("[SdkComSswx wxLogin] 1 time:"+yx.timeUtil.getNowTimeString()),SqSdk.login()},respLoginServer:function respLoginServer(e,t){if(e)yx.warn("login http err:",t),yx.sdkLayer.onLogin(e,t);else{yx.log("login http result:",t);var n=t;0==n.code?yx.sdkLayer.onLogin(e,"succ"):yx.sdkLayer.onLogin(e,n.msg)}},pay:function pay(e){var t={};t.money=e.prodPrice,t.productName=e.name,t.productDesc=e.name,t.roleID=yx.playerMgr.getPid()+"",t.roleName=yx.playerMgr.getName()+"",t.serverID=yx.serverMgr.getCurServerInfo().id+"",t.serverName=yx.serverMgr.getCurServerInfo().name+"",t.extension=e.extraProdId+"",yx.log("payInfo:",e),yx.log("payParam:",t),SqSdk.pay(t)},payCallback:function payCallback(e,t){yx.log("payCallback isSuccess:"+e),yx.log("payCallback data:"+JSON.stringify(t))},share:function share(){SqSdk.share()},copyClipboardData:function copyClipboardData(e){yx.log("copyClipboardData=="+e),wx.setClipboardData({data:e,success:function success(){yx.log("copyClipboardData succ"),yx.ToastUtil.showListToast("复制成功")}})}});t.exports=o,cc._RF.pop()},{SdkComBase:"SdkComBase"}],SdkComTywx:[function(e,t,n){cc._RF.push(t,"9e1facjVi5DzrKLsKpAwPNp","SdkComTywx");var i=e("SdkComBase"),o={shareContent:"马上就要孵化出来了！点击帮帮我>>",sharePicUrl:"https://szh5.nalrer.cn/szmahjong/WXGames/Shangc/ysll1.jpg",sharePointId:"2929",shareSchemeId:"57596379"},r=cc.Class({extends:i,ctor:function ctor(){this._userInfo=null,this._openId=""},init:function init(){var t=this;wx?(wx.onShow(function(e){t.onShow(e)}),wx.onHide(function(){t.onHide()})):yx.error("该渠道必须在微信开发环境下运行")},login:function login(){yx.WaitingPanel.ShowPanel(),yx.warn("[SdkComTywx login] time:"+yx.timeUtil.getNowTimeString()),this.wxLogin()},wxCheckAuthSetting:function wxCheckAuthSetting(){var r=this;wx.getSetting({success:function success(e){if(yx.log(e.authSetting),e.authSetting["scope.userInfo"])yx.log("用户已授权"),yx.warn("[SdkComTywx getSetting] success time:"+yx.timeUtil.getNowTimeString()),wx.getUserInfo({success:function success(e){yx.log(e),r._userInfo=e.userInfo,yx.warn("[SdkComTywx getUserInfo] success time:"+yx.timeUtil.getNowTimeString()),r.wxLogin()}});else{var t=window.wx.getSystemInfoSync(),n=t.screenWidth,i=t.screenHeight;yx.log("用户未授权");var o=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:n,height:i,backgroundColor:"#00000000",color:"#ffffff",fontSize:20,textAlign:"center",lineHeight:i}});o.onTap(function(e){e.userInfo?(yx.log("用户授权:",e),r._userInfo=e.userInfo,o.destroy(),yx.WaitingPanel.ShowPanel(),r.wxLogin()):(yx.log("用户拒绝授权:",e),o.show())}),yx.WaitingPanel.ClosePanel()}}})},wxLogin:function wxLogin(){var n=this;yx.warn("[SdkComTywx wxLogin] 1 time:"+yx.timeUtil.getNowTimeString()),wx.login({success:function success(e){if(e.code){var t={channel:yx.sdkLayer.getChannelName(),openId:"",code:e.code};yx.warn("[SdkComTywx wxLogin] succ time:"+yx.timeUtil.getNowTimeString()),yx.sdkLayer.reqLoginServer(t,n.respLoginServer.bind(n))}else yx.log("登录失败！"+e.errMsg),yx.sdkLayer.onLogin(!0,e.errMsg)}})},onShow:function onShow(e){yx.warn("[SdkComTywx onShow] time:"+yx.timeUtil.getNowTimeString()),null!=tywx&&tywx.wxOnshowAction&&tywx.wxOnshowAction(e)},onHide:function onHide(){yx.warn("[SdkComTywx onHide] time:"+yx.timeUtil.getNowTimeString())},respLoginServer:function respLoginServer(e,t){if(e)yx.warn("login http err:",t),yx.sdkLayer.onLogin(e,t);else{yx.log("login http result:",t);var n=t;if(0==n.code){this._openId=n.openId;var i={wxOpenId:n.openId};tywx.NotificationCenter.listen(tywx.EventType.SDK_LOGIN_SUCCESS,this.tyLoginSuccCallBack,this),tywx.NotificationCenter.listen(tywx.EventType.SDK_LOGIN_FAIL,this.tyLoginFailCallBack,this),tywx.TuyooSDK.loginByWXInfo(i,null)}else yx.sdkLayer.onLogin(e,n.msg)}},tyLoginSuccCallBack:function tyLoginSuccCallBack(){tywx.NotificationCenter.ignoreScope(this),yx.sdkLayer.onLogin(!1,"succ")},tyLoginFailCallBack:function tyLoginFailCallBack(){tywx.NotificationCenter.ignoreScope(this),yx.sdkLayer.onLogin(!0,"tyloginfail")},pay:function pay(e){var t={gameData:{iconUrl:"",gameName:"异兽来了",gameId:20396,wxAppId:"wxc1663e5852a24b02",cloudId:8,clientId:"H5_2.0_weixin.weixin.0-hall20396.weixin.yisll",intClientId:26342},playerInfo:{userId:"",tyUserID:"",userName:"",avatarUrl:"",serverZone:""},rechargeInfo:{count:1,discount:100,totalPriceNoDiscount:e.prodPrice,totalPrice:e.prodPrice,productName:e.name,productId:e.id,orderId:e.tyProdId},extraData:{mainviewTips:e.name,successviewTips:"支付成功",extendParam:{}}};e.extraAppInfo=this._openId,yx.log("payInfo:",e),yx.log("viewParam:",t),tywx.TYPayInterface.createOrderForIOS(e.tyProdId,e.prodPrice,e.name,e.prodCount,e.extraProdId,e.extraAppInfo,"wxb421b2da7cf26864","zqxcs",JSON.stringify(t))},share:function share(){var e=null,t=tywx.PropagateInterface.getShareConfigInfoAutoWeight();if(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]){e=t[n],yx.warn("[SdkComTywx share] shareConfig succ id:"+n);break}e||(e=o,yx.warn("[SdkComTywx share] shareConfig is error"))}else e=o,yx.warn("[SdkComTywx share] shareConfig is null");yx.log("[SdkComTywx share] shareInfo:",e),tywx.ShareInterface.share(e.shareContent,e.sharePicUrl,e.sharePointId,e.shareSchemeId,function(){},function(){},"")},copyClipboardData:function copyClipboardData(e){yx.log("copyClipboardData=="+e),wx.setClipboardData({data:e,success:function success(){yx.log("copyClipboardData succ"),yx.ToastUtil.showListToast("复制成功")}})}});t.exports=r,cc._RF.pop()},{SdkComBase:"SdkComBase"}],SdkConfig:[function(e,t,n){cc._RF.push(t,"3a299OrB7BP5aRyNZsu4pRS","SdkConfig"),t.exports={currSdkName:"nosdk",defaultVersion:"1.0.0",loginUrl:{default:"http://xyj-t2.yinxianggame.com:8080/xgame-login/login",debug:"http://xyj-t2.yinxianggame.com:8080/xgame-login/login",release:"https://xyj-login.yinxianggame.com/xgame-login/login"},serverListUrl:{default:"http://xyj-t2.yinxianggame.com:8080/xgame-login/server-list2",debug:"http://xyj-t2.yinxianggame.com:8080/xgame-login/server-list2",release:"https://xyj-login.yinxianggame.com/xgame-login/server-list2"},config:{nosdk:{env:"debug",channelName:"default0",autoLogin:!1,switchAccount:!0,logo:"logo-2",version:"1.0.2"},shangwu:{env:"debug",channelName:"default1",autoLogin:!1,switchAccount:!0,logo:"logo-2"},tywx:{env:"release",channelName:"tywx",autoLogin:!0,switchAccount:!1,logo:"logo-1",isOwnShouCang:!0,isOwnShare:!0,version:"1.1.6"},sswx:{env:"release",channelName:"sswx",autoLogin:!0,switchAccount:!1,logo:"logo-1",isOwnShouCang:!1,isOwnShare:!0,version:"1.3.5"},songshu:{env:"release",channelName:"songshu",autoLogin:!0,switchAccount:!1,logo:"logo-1",version:"1.0.0"},"android-nosdk":{env:"release",channelName:"default2",autoLogin:!1,switchAccount:!1,logo:"logo-2",version:"1.0.2"},csqq:{env:"release",channelName:"csqq",autoLogin:!0,switchAccount:!1,logo:"logo-3",isOwnShouCang:!1,isOwnShare:!0,version:"1.1.8"},bhwx:{env:"release",channelName:"bhwx",autoLogin:!0,switchAccount:!1,logo:"logo-4",isOwnShouCang:!1,isOwnShare:!0,version:"1.0.0"}}},cc._RF.pop()},{}],SdkMidLayer:[function(e,t,n){cc._RF.push(t,"a273focZwdPbalT/GRKO9bm","SdkMidLayer");var i=e("SdkConfig"),o=e("SdkComBase"),r=e("SdkComTywx"),a=e("SdkComSsAndroid"),s=e("SdkComSswx"),c=e("SdkComCsqq"),l=e("SdkComBhwx");yx.SdkMidLayer=function(){this._login=!1,this._sdkCom=null,this._reqLoginCallback=null,this._loginUrl=null,this._retryTimes=0,this.init()},yx.SdkMidLayer.prototype={constructor:yx.SdkMidLayer,init:function init(){this._setSdkCfg(),this._setGameversion(),this.initSdkCom(),yx.log("[SdkMidLayer init]"+i.currSdkName)},_setSdkCfg:function _setSdkCfg(){var e=navigator.userAgent.toLowerCase();if(e&&Boolean(e.match(/webview/gi))&&(yx.isWebview=!0),yx.isWebview&&cc.sys.os==cc.sys.OS_ANDROID){var t=yx.CodeHelper.callAndroid("callGetChannel");t&&(i.currSdkName=t.channel)}if(wx.getChannel){var n=wx.getChannel();n&&(i.currSdkName=n)}CC_CSQQ&&(i.currSdkName="csqq"),this._sdkCfg=i.config[i.currSdkName],this._sdkCfg||yx.error("SDK配置错误！")},_setGameversion:function _setGameversion(){var e=this._sdkCfg.version;yx.GameVersion=e||i.defaultVersion,yx.log("[SdkMidLayer _setGameversion] yx.GameVersion:"+yx.GameVersion)},initSdkCom:function initSdkCom(){(this._sdkCom=null)!=this._sdkCfg.env&&""!=this._sdkCfg.env||(this._sdkCfg.env="debug");var e=i.loginUrl[this._sdkCfg.env];switch(this._loginUrl=null==e||""==e?i.loginUrl.default:e,yx.log("[SdkMidLayer initSdkCom] loginUrl:"+this._loginUrl),yx.log("[SdkMidLayer initSdkCom] currSdkName:"+i.currSdkName),yx.log("[SdkMidLayer initSdkCom] config:"+JSON.stringify(this._sdkCfg)),this._sdkCfg.channelName){case"nosdk":this._sdkCom=new o;break;case"tywx":this._sdkCom=new r;break;case"sswx":this._sdkCom=new s;break;case"songshu":this._sdkCom=new a;break;case"android-nosdk":this._sdkCom=new o;break;case"csqq":this._sdkCom=new c;break;case"bhwx":this._sdkCom=new l;break;default:this._sdkCom=new o}return this._sdkCom&&(this._sdkCom.init(),this._wxInit()),this._sdkCom},_wxInit:function _wxInit(){if(wx){wx.onMemoryWarning(function(){yx.warn("[wx onMemoryWarningReceive]"),wx.triggerGC()});var n=wx.getUpdateManager();n.onCheckForUpdate(function(e){yx.log("[wx onCheckForUpdate] hasUpdate:"+e.hasUpdate)});n.onUpdateReady(function(){yx.log("[wx onUpdateReady] showModal"),function t(){wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",success:function success(e){e.confirm?(yx.log("[wx onUpdateReady] applyUpdate"),n.applyUpdate()):e.cancel&&(yx.log("用户点击取消"),t())}})}()}),n.onUpdateFailed(function(){yx.log("[wx onUpdateFailed]")})}},isNoSdk:function isNoSdk(){return"nosdk"==i.currSdkName||"shangwu"==i.currSdkName||"android-nosdk"==i.currSdkName},getSdkCfg:function getSdkCfg(){return this._sdkCfg},getChannelName:function getChannelName(){return this._sdkCfg.channelName},getLogo:function getLogo(){return this._sdkCfg.logo},getAutoLogin:function getAutoLogin(){return this._sdkCfg.autoLogin},getSdkCom:function getSdkCom(){return this._sdkCom},canSwitchAccount:function canSwitchAccount(){return this._sdkCfg.switchAccount},isLogin:function isLogin(){return this._login},login:function login(){this._login?yx.ToastUtil.showListToast("已经登录"):(yx.report("Sdk-Mid-Layer","login"),this._sdkCom.login())},logout:function logout(){0!=this._login?(this._sdkCom.logout(),yx.eventDispatch.dispatchMsg(yx.EventType.LOGOUT_EVENT),yx.network.disConnect(),yx.network.setCanShowReconnect(!1),yx.debug("[SdkMidLayer logout] currScene:"+yx.sceneMgr.getSceneName()+" win:"+yx.windowMgr.getCurWindowName()),"login"==yx.sceneMgr.getSceneName()?"login"!=yx.windowMgr.getCurWindowName()&&yx.windowMgr.showWindow("login"):yx.sceneMgr.loadScene("login",function(e){yx.debug("[SdkMidLayer logout] load scene succ:"+e),e&&yx.windowMgr.showWindow("login")})):yx.ToastUtil.showListToast("还未登录")},getSubChannel:function getSubChannel(){return this._sdkCom.getSubChannel()||""},onLogin:function onLogin(e,t){yx.WaitingPanel.ClosePanel(),e?(yx.log("登录失败:"+t),this._login=!1,yx.report("Sdk-Mid-Layer","on-login-Fail"),this._retryTimes<3?null!=this._loadingTimeout&&void 0!==this._loadingTimeout||(this._loadingTimeout=setTimeout(function(){this._loadingTimeout=null,this._retryTimes=this._retryTimes+1,yx.log("重试 login times="+this._retryTimes),this.login()}.bind(this),200)):yx.TextConfirm.ShowHint("登录失败，请重试",this.login.bind(this),!0)):(this._login=!0,yx.report("Sdk-Mid-Layer","on-login-Success"),yx.eventDispatch.dispatchMsg(yx.EventType.LOGIN_EVENT,this._login))},onLogout:function onLogout(){this._login=!1},pay:function pay(e){this._sdkCom.pay(e)},onPay:function onPay(){},reqLoginServer:function reqLoginServer(e,t){var n=this._loginUrl;null==this._reqLoginCallback?(e.version=yx.GameVersion,e.buildVersion=yx.BuildVersion,e.subChannel=this.getSubChannel(),e.sysos=cc.sys.os,this._reqLoginCallback=t,"true"==yxLogin?(yx.log("yxSdkName="+yxSdkName),yx.log("yxSid="+yxSid),yx.log("yxUid="+yxUid),yx.log("yxHost="+yxHost),yx.log("yxPort="+yxPort),yx.log("yxOpenid="+yxOpenid),yx.log("yxSessionid="+yxSessionid),i.currSdkName=yxSdkName,this._sdkCfg=i.config[i.currSdkName],yx.serverMgr.setAllServerInfo([{id:yxSid,name:"yxTest",host:yxHost,port:yxPort,status:2}],[],[yxSid]),yx.serverMgr.setUserInfo(yxUid,yx.sdkLayer.getChannelName(),yxOpenid,yxSessionid),yx.serverMgr.setAuditSwitch(0),yx.serverMgr.setChannelCfgId(yx.sdkLayer.getChannelName()),yx.WaitingPanel.ClosePanel()):yx.http.httpPost(n,JSON.stringify(e),this.respLoginServer.bind(this))):yx.warn("[SdkMidLayer reqLoginServer] 重复请求")},respLoginServer:function respLoginServer(e,t){if(null!=this._reqLoginCallback){if(e){yx.log("[SdkMidLayer respLoginServer] len:"+t.length+" result:"+t);var n=void 0;try{0==(n=JSON.parse(t)).code?(yx.serverMgr.setLastLoginAndRecommond(n["recent-server"],n["recommond-server"]),yx.serverMgr.setUserInfo(n.userId,yx.sdkLayer.getChannelName(),n.openId,n.session),yx.serverMgr.setAuditSwitch(n.versionState),yx.serverMgr.setBulletin(n.bulletin),yx.serverMgr.setChannelCfgId(n.channelId),yx.serverMgr.setFuncOpenShield(0==n.functionState),yx.eventDispatch.dispatchMsg(yx.EventType.LOGIN_GET_SERVER_LIST),this._reqLoginCallback(!1,n)):(this._reqLoginCallback(!0,n.msg),yx.ToastUtil.showListToast("code:"+n.code+" "+n.msg))}catch(e){this._reqLoginCallback(!0,e),yx.error("[ServerMgr respLoginServer] error:",e)}}else this._reqLoginCallback(!0,t),yx.warn("login http err:",t);this._reqLoginCallback=null}else yx.error("[SdkMidLayer respLoginServer] reqLoginCallback is null")},share:function share(){this._sdkCom.share()},isOwnShouCang:function isOwnShouCang(){return this._sdkCfg.isOwnShouCang},isOwnShowShare:function isOwnShowShare(){return this._sdkCfg.isOwnShare},isOwnRecharge:function isOwnRecharge(){var e=yx.serverMgr.getChannelCfgId();if(yx.log("渠道配置表id:"+e),e){var t=yx.cfgMgr.getOneRecord("SystemConfig",{id:108});if(t&&t.str_value)return-1===t.str_value.indexOf(e)}return!0},sendExtraData:function sendExtraData(e,t){this._sdkCom.sendExtraData(e,t)},refreshGame:function refreshGame(){this._sdkCom.refreshGame()},copyClipboardData:function copyClipboardData(e){this._sdkCom.copyClipboardData(e)},checkShowPay:function checkShowPay(){this._sdkCom.checkShowPay()},nameCertification:function nameCertification(e,t,n){this._sdkCom.nameCertification(e,t,n)}},yx.sdkLayer=new yx.SdkMidLayer,t.exports=yx.sdkLayer,cc._RF.pop()},{SdkComBase:"SdkComBase",SdkComBhwx:"SdkComBhwx",SdkComCsqq:"SdkComCsqq",SdkComSsAndroid:"SdkComSsAndroid",SdkComSswx:"SdkComSswx",SdkComTywx:"SdkComTywx",SdkConfig:"SdkConfig"}],ServerInfoWidget:[function(e,t,n){cc._RF.push(t,"24e84i6ei9LManZ766jpp+I","ServerInfoWidget"),cc.Class({extends:cc.Component,properties:{btn:cc.Button,textLabel:cc.Label,newSpNode:cc.Node,hotSpNode:cc.Node,weiSpNode:cc.Node,_info:null},init:function init(e){if(this._info=e,null!=this._info)switch(this.textLabel.string=e.name,this.newSpNode.active=!1,this.hotSpNode.active=!1,this.weiSpNode.active=!1,e.status){case yx.ServerType.NORMAL:this.newSpNode.active=!0;break;case yx.ServerType.HOT:this.hotSpNode.active=!0;break;case yx.ServerType.MAINTAIN:this.weiSpNode.active=!0}else this.textLabel.string="服务器列表空"},getInfo:function getInfo(){return this._info}}),cc._RF.pop()},{}],ServerListPanel:[function(e,t,n){cc._RF.push(t,"5d56dY2QApKRb7BVOYK7OLP","ServerListPanel");var i=e("BaseWindow"),h=e("FrameLoadWidget");cc.Class({extends:i,properties:{recentServerLayout:cc.Layout,allServerLayout:cc.Layout,closeBtn:cc.Button,_serverlist:null,_lastlogin:null,_recommond:null},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),yx.eventDispatch.addListener(yx.EventType.LOGIN_GET_SERVER_LIST,this.onEventServerListChg,this)},_onShow:function _onShow(){this._refresh()},_sortFunc:function _sortFunc(e,t){return e[0]>t[0]?-1:e[0]==t[0]?0:1},_refresh:function _refresh(){var e=yx.serverMgr.getServerList();if(e){var t=Array.from(e);t.sort(this._sortFunc);var n=new Map(t);this.allServerLayout.node.removeAllChildren(!0);var i=[],o=!0,r=!1,a=void 0;try{for(var s,c=n.values()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;i.push(l)}}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}this.node.addComponent(h).init2(i,this.frameLoad.bind(this)).startLoad(1);var u=yx.serverMgr.getLastLogin();this.recentServerLayout.node.removeAllChildren(!0);for(var d=0;d<u.length;d++)yx.ServerRegionItem.CreateItem(u[d],this.recentServerLayout.node,"ServerRegionItem",this.onServerBtnClick.bind(this))}},frameLoad:function frameLoad(e){yx.ServerRegionItem.CreateItem(e,this.allServerLayout.node,"ServerRegionItem"+e.id,this.onServerBtnClick.bind(this))},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onServerBtnClick:function onServerBtnClick(e){yx.serverMgr.setCurServerInfo(e),yx.windowMgr.goBack(),yx.eventDispatch.dispatchMsg(yx.EventType.LOGIN_GET_SERVER_LIST);var t={};t.serverId=e.id,t.serverName=e.name,yx.sdkLayer.sendExtraData(yx.SendExtraType.TYPE_SELECT_SERVER,t)},onEventServerListChg:function onEventServerListChg(){this.isShown()&&this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget"}],ServerMgr:[function(e,t,n){cc._RF.push(t,"44ba3UVJbpPDoEsolUmesfV","ServerMgr"),yx.ServerMgr=function(){},yx.ServerMgr.prototype={constructor:yx.ServerMgr,init:function init(){this._serverlist=null,this._lastlogin=null,this._recommond=null,this._userInfo={},this._userInfo.uid=0,this._userInfo.openId=0,this._userInfo.session=0,this._curServerInfo=null,this._username="",this._auditSwitch=0},createServerInfo:function createServerInfo(e){var t={};return t.id=e.id,t.name=e.name,t.host=e.host,t.port=e.port,t.status=e.status,t},setUserName:function setUserName(e){this._username=e},getUserName:function getUserName(){return this._username},setCurServerInfo:function setCurServerInfo(e){this._curServerInfo=this.createServerInfo(e)},getCurServerInfo:function getCurServerInfo(){return this._curServerInfo},getLastLogin:function getLastLogin(){return this._lastlogin},getServerList:function getServerList(){return this._serverlist},getRecommondList:function getRecommondList(){return this._recommond},getRecommondServerInfo:function getRecommondServerInfo(){var e=!0,t=!1,n=void 0;try{for(var i,o=this._serverlist.keys()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var r=i.value,a=this._serverlist.get(r);if(a.recommond)return a}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return null},setLastLoginAndRecommond:function setLastLoginAndRecommond(e,t){this._serverlist=new Map,this._lastlogin=new Array;var n=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;s.recommond=!1,this._serverlist.set(s.id,s),this._lastlogin.push(s),null==this._curServerInfo&&(this._curServerInfo=s)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}var c=!0,l=!1,u=void 0;try{for(var d,h=t[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var g=d.value;g.recommond=!0,this._serverlist.set(g.id,g),null==this._curServerInfo&&(this._curServerInfo=g)}}catch(e){l=!0,u=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw u}}},setServerList:function setServerList(e){var t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._serverlist.has(a.id)||(a.recommond=!1,this._serverlist.set(a.id,a))}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}},setAllServerInfo:function setAllServerInfo(e,t,n){this._serverlist=new Map;var i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;c.recommond=!1,this._serverlist.set(c.id,c)}}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}this._lastlogin=new Array;var l=!0,u=!1,d=void 0;try{for(var h,g=t[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var p=h.value;this._serverlist.has(p)&&(this._lastlogin.push(this._serverlist.get(p)),null==this._curServerInfo&&(this._curServerInfo=this._serverlist.get(p)))}}catch(e){u=!0,d=e}finally{try{!l&&g.return&&g.return()}finally{if(u)throw d}}var y=!0,f=!1,m=void 0;try{for(var v,x=n[Symbol.iterator]();!(y=(v=x.next()).done);y=!0){var w=v.value;this._serverlist.has(w)&&(this._serverlist.get(w).recommond=!0,null==this._curServerInfo&&(this._curServerInfo=this._serverlist.get(w)))}}catch(e){f=!0,m=e}finally{try{!y&&x.return&&x.return()}finally{if(f)throw m}}},setUserInfo:function setUserInfo(e,t,n,i){this._userInfo.uid=e,this._userInfo.channel=t,this._userInfo.openId=n,this._userInfo.session=i},getUid:function getUid(){return this._userInfo?this._userInfo.uid:0},getOpenId:function getOpenId(){return this._userInfo.openId},getSession:function getSession(){return this._userInfo.session},setAuditSwitch:function setAuditSwitch(e){this._versionState=e},setBulletin:function setBulletin(e){this._bulletin=e},getBulletin:function getBulletin(){return this._bulletin||""},IsAuditPassed:function IsAuditPassed(){return 0==this._versionState},setChannelCfgId:function setChannelCfgId(e){this._curChannelCfgId=e},getChannelCfgId:function getChannelCfgId(){return this._curChannelCfgId},setFuncOpenShield:function setFuncOpenShield(e){this._funcopenShield=e},isFuncOpenShield:function isFuncOpenShield(){return this._funcopenShield}},yx.serverMgr=new yx.ServerMgr,t.exports=yx.serverMgr,cc._RF.pop()},{}],ServerRegionItem:[function(e,t,n){cc._RF.push(t,"2390dr7H31A34QKx/xQTZ3l","ServerRegionItem");var c="prefabs/widgets/ServerRegionItem",l=cc.Class({extends:cc.Component,properties:{serverName:cc.Label,hotSpNode:cc.Node,newSpNode:cc.Node,weiSpNode:cc.Node,btnNode:cc.Node},statics:{CreateItem:function CreateItem(o,e,r,a){var s=new cc.Node(r);s.setAnchorPoint(.5,.5),e.addChild(s),yx.resUtil.LoadRes(c,function(e,t){if(!e){var n=cc.instantiate(t);null!=r&&(n.name=r);var i=n.getComponent(l);return i&&s&&s.isValid?(s.addChild(n),i.init(o,a),s.setContentSize(n.getContentSize())):yx.warn("ServerRegionItem instantiate error!"),i}yx.warn(c+" is not exist!")})}},init:function init(e,t){switch(this._info=e,this._cb=t,this.serverName.string=e.name,this.newSpNode.active=!1,this.hotSpNode.active=!1,this.weiSpNode.active=!1,e.status){case yx.ServerType.NORMAL:this.newSpNode.active=!0;break;case yx.ServerType.HOT:this.hotSpNode.active=!0;break;case yx.ServerType.MAINTAIN:this.weiSpNode.active=!0}this.btnNode.on("click",this.itemBtnClick,this)},itemBtnClick:function itemBtnClick(){this._cb&&this._cb(this._info)}});yx.ServerRegionItem=t.exports=l,cc._RF.pop()},{}],SettingItem:[function(e,t,n){cc._RF.push(t,"840d9Gf+81AtbipSCMhdDNd","SettingItem");var i=["close","open"],o=cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,switchTc:cc.ToggleContainer},statics:{SELECTTYPE:{CLOSE:"close",OPEN:"open"}},init:function init(e,t){this._cb=t,this.switchTc.toggleItems["close"==e?0:1].check(),this._initSwitchTC()},_initSwitchTC:function _initSwitchTC(){this.switchTc.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="SettingItem",e.handler="onSwitchTCClick",this.switchTc.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){var t=this.switchTc.toggleItems.indexOf(e),n=i[t];this._cb&&this._cb(n)}});yx.SettingItem=t.exports=o,cc._RF.pop()},{}],SettingPanel:[function(e,t,n){cc._RF.push(t,"a7dabDvIWRAoLokYi6yzOAi","SettingPanel");var i=e("BaseWindow"),o=e("SettingItem");cc.Class({extends:i,properties:{yinYueSettingItem:o,yinXiaoSettingItem:o,pinBiSettingItem:o,miLingEditBox:cc.EditBox,closeBtnNode:cc.Node,duiHuanBtnNode:cc.Node,helpBtnNode:cc.Node,qieHuanBtnNode:cc.Node,gaoShiBtnNode:cc.Node,pidLabel:cc.Label,openDayLabel:cc.Label,rechargeTestBtnNode:cc.Node},_onInit:function _onInit(){this.rechargeTestBtnNode.active=!1,this.pidLabel.string="ID:"+yx.playerMgr.getPid(),this.closeBtnNode.on("click",this.onCloseBtnClick,this),this.duiHuanBtnNode.on("click",this._duiHuanBtnClick,this),this.helpBtnNode.on("click",this._helpBtnClick,this),this.qieHuanBtnNode.on("click",this._qieHuanBtnClick,this),this.gaoShiBtnNode.on("click",this._gaoShiBtnClick,this),this.rechargeTestBtnNode.on("click",this._rechargeTestBtnBtnClick,this),this.qieHuanBtnNode.active=yx.sdkLayer.canSwitchAccount();var e=yx.SoundMgr.GetMusicSwitch()?yx.SettingItem.SELECTTYPE.OPEN:yx.SettingItem.SELECTTYPE.CLOSE,t=yx.SoundMgr.GetEffectSwitch()?yx.SettingItem.SELECTTYPE.OPEN:yx.SettingItem.SELECTTYPE.CLOSE,n=yx.localStorage.Load(yx.LSKey.PINGBI_SETTING);this.yinYueSettingItem.init(e,this.yinYueSwichCallback),this.yinXiaoSettingItem.init(t,this.yinXiaoSwichCallback),this.pinBiSettingItem.init(n,this.pinBiSwichCallback),this.openDayLabel.string=yx.playerMgr.getOpenDay()},yinYueSwichCallback:function yinYueSwichCallback(e){yx.SoundMgr.SetMusicSwitch(e===yx.SettingItem.SELECTTYPE.OPEN)},yinXiaoSwichCallback:function yinXiaoSwichCallback(e){yx.SoundMgr.SetEffectSwitch(e===yx.SettingItem.SELECTTYPE.OPEN)},pinBiSwichCallback:function pinBiSwichCallback(e){yx.localStorage.Save(yx.LSKey.PINGBI_SETTING,e),yx.SettingItem.SELECTTYPE.CLOSE},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_duiHuanBtnClick:function _duiHuanBtnClick(){this.miLingEditBox.string.length<=0?yx.ToastUtil.showListToast("不能为空"):yx.playerMgr.reqCdKey(this.miLingEditBox.string)},_helpBtnClick:function _helpBtnClick(){yx.windowMgr.showWindow("gameHelp")},_qieHuanBtnClick:function _qieHuanBtnClick(){yx.sdkLayer.canSwitchAccount()&&yx.sdkLayer.logout()},_gaoShiBtnClick:function _gaoShiBtnClick(){yx.windowMgr.showWindow("gongGao")},_rechargeTestBtnBtnClick:function _rechargeTestBtnBtnClick(){yx.reChargeMgr.reqReCharge(26)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",SettingItem:"SettingItem"}],ShanMenWindow:[function(e,t,n){cc._RF.push(t,"7dbd4kYLJtMSJ1VSGCRAfcm","ShanMenWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{shanMenDesc:cc.RichText,gengGaiDuiLianBtn:cc.Button,beiMingRichText:cc.RichText,duiLianRichText:cc.RichText,henglianRichText:cc.RichText,shanglianRichText:cc.RichText,xialianRichText:cc.RichText},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.CHANGE_DUILIAN,this.onEventChangeDuiLian,this),this.gengGaiDuiLianBtn.node.active=!1,this.gengGaiDuiLianBtn.node.on("click",this.ongengGaiDuiLianBtnClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){var e=yx.ZongMenMgr.getZongMenData();this.beiMingRichText.string="<color=#FF0000>"+yx.playerMgr.getName()+"</color><color=#345A5C>创建了</color><color=#FF0000>"+e.name+"</color><color=#345A5C>，成为一代宗师</color>";var t=e.couplets.split(",");this.duiLianRichText.string="<color=#345A5C>"+t[0]+"\n"+t[1]+"</color>",this.henglianRichText.string=e.name,this.shanglianRichText.string=t[0],this.xialianRichText.string=t[1]},ongengGaiDuiLianBtnClick:function ongengGaiDuiLianBtnClick(){yx.windowMgr.showWindow("changeDuiLianPanel")},onEventChangeDuiLian:function onEventChangeDuiLian(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShareMgr:[function(e,t,n){cc._RF.push(t,"c95f7+OP+RP34xMojt6qyoW","ShareMgr"),yx.ShareManager=function(){},yx.ShareManager.prototype={constructor:yx.ShareManager,init:function init(){this.shareInfo=null,yx.network.addHandler(yx.proto.CmdId.WE_CHAT_SHARE,this.onMessageShare.bind(this))},reqShare:function reqShare(e){var t=new yx.proto.C2S_WeChatShare;t.cmdType=e,yx.network.sendMessage(yx.proto.CmdId.WE_CHAT_SHARE,t)},getShareInfo:function getShareInfo(){return this.shareInfo},onMessageShare:function onMessageShare(e,t){if(null!=e&&0<e.length)yx.log("[ShareManager onMessageShare] error:"+e);else{var n=yx.proto.S2C_WeChatShare.decode(t);if(n)switch(n.cmdType){case yx.proto.WeChatShareCmdType.GetShare_Cmd:this.shareInfo=n,yx.eventDispatch.dispatchMsg(yx.EventType.SHARE_GET_INFO,n);break;case yx.proto.WeChatShareCmdType.Share_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.SHARE_OPT_REQ,n);break;case yx.proto.WeChatShareCmdType.Reveived_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.SHARE_REVEIVED,n)}}}},yx.shareMgr=new yx.ShareManager,t.exports=yx.shareMgr,cc._RF.pop()},{}],ShenHunShiYiPanel:[function(e,t,n){cc._RF.push(t,"0b656JgSR1O1oZ0MARw+ap/","ShenHunShiYiPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,confirmBtn:cc.Button,itemLayout:cc.Layout},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.confirmBtn.node.on("click",this._onConfirmBtnClick,this),yx.eventDispatch.addListener(yx.EventType.SHENGYOU_ERFRESH_INFO,this.onEventShenYouInfo,this),this._toggles={};var e=this.itemLayout.node.children;for(var t in e){var n=parseInt(e[t].name.split("_")[1]);this._toggles[n]=e[t].getComponentInChildren(cc.Toggle),this._toggles[n].isChecked=!1;var i=e[t].getChildByName("TextLabel");i.color=yx.colorUtil.toCCColor(yx.textDict.QualityColor.getQualityColor(n)),yx.CodeHelper.addOutlineByPinZhi(i,n)}},_onShow:function _onShow(){yx.shenYouMgr.reqGetShenYouInfo()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onConfirmBtnClick:function _onConfirmBtnClick(){var e=[];for(var t in this._toggles)this._toggles[t].isChecked&&e.push(parseInt(t));yx.windowMgr.goBack(),yx.shenYouMgr.reqSetAutoSell(e)},onEventShenYouInfo:function onEventShenYouInfo(e){var t=e.autoSellItem;for(var n in t){var i=t[n];this._toggles[i].isChecked=!0}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShenHunWuDaoPanel:[function(e,t,n){cc._RF.push(t,"522b5ynjlhJD5Yt3WfW4ZUL","ShenHunWuDaoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,confirmBtn:cc.Button,bookNameLabel:cc.Label,hadYuDingNode:cc.Node,unYuDingNode:cc.Node},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.confirmBtn.node.on("click",this._onConfirmBtnClick,this);var e=yx.caveMgr.getBookingId();if(e){this.hadYuDingNode.active=!0,this.unYuDingNode.active=!1;var t=yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:e});t&&(this.bookNameLabel.string="《"+t.Name+"》")}else this.hadYuDingNode.active=!1,this.unYuDingNode.active=!0},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onConfirmBtnClick:function _onConfirmBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShenYouMgr:[function(e,t,n){cc._RF.push(t,"025eaPahpRCXaA16JWnGVdE","ShenYouMgr"),yx.ShenYouManager=function(){},yx.ShenYouManager.prototype={constructor:yx.ShenYouManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.SET_AUTO_SELL,this.onMessageSetAutoSell.bind(this)),yx.network.addHandler(yx.proto.CmdId.SHENYOU_INFO,this.onMessageShenYouInfo.bind(this))},reqSetAutoSell:function reqSetAutoSell(e){var t=new yx.proto.C2S_SetAutoSell;t.pinzhi=e,yx.network.sendMessage(yx.proto.CmdId.SET_AUTO_SELL,t)},reqGetShenYouInfo:function reqGetShenYouInfo(){var e=new yx.proto.C2S_ShenyouInfo;yx.network.sendMessage(yx.proto.CmdId.SHENYOU_INFO,e)},onMessageSetAutoSell:function onMessageSetAutoSell(e,t){if(null!=e&&0<e.length)yx.log("[ShenYouManager onMessageSetAutoSell] error:"+e);else{var n=yx.proto.S2C_SetAutoSell.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.SHENGYOU_SET_AUTOSELL,n)}},onMessageShenYouInfo:function onMessageShenYouInfo(e,t){if(null!=e&&0<e.length)yx.log("[ShenYouManager onMessageShenYouInfo] error:"+e);else{var n=yx.proto.S2C_ShenyouInfo.decode(t);n&&yx.eventDispatch.dispatchMsg(yx.EventType.SHENGYOU_ERFRESH_INFO,n)}}},yx.shenYouMgr=new yx.ShenYouManager,t.exports=yx.shenYouMgr,cc._RF.pop()},{}],ShengShouMgr:[function(e,t,n){cc._RF.push(t,"9e9eeU2V2JNCofwmSpKESzl","ShengShouMgr"),yx.ShengShouManager=function(){},yx.ShengShouManager.prototype={constructor:yx.ShengShouManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.FENG_YIN_BOSS,this.onMessageGetFengyin.bind(this))},reqGetFengyin:function reqGetFengyin(e){var t=new yx.proto.C2S_FengYinBoss;t.cmdType=e,yx.network.sendMessage(yx.proto.CmdId.FENG_YIN_BOSS,t)},onMessageGetFengyin:function onMessageGetFengyin(e,t){if(null!=e&&0<e.length)yx.log("[ShengShouManager onMessageGetFengyin] error:"+e);else{var n=yx.proto.S2C_FengYinBoss.decode(t);n&&(this._fengYinData||(this._fengYinData={}),n.hasOwnProperty("cmdType")&&(this._fengYinData.cmdType=n.cmdType),n.hasOwnProperty("bossID")&&(this._fengYinData.bossID=n.bossID),n.hasOwnProperty("isOrder")&&(this._fengYinData.isOrder=n.isOrder),n.hasOwnProperty("fengYinState")&&(this._fengYinData.fengYinState=n.fengYinState),n.hasOwnProperty("fightingBossInfo")&&(this._fengYinData.fightingBossInfo=n.fightingBossInfo),yx.eventDispatch.dispatchMsg(yx.EventType.SHENGSHOU_REFRESH_INFO,this._fengYinData))}},testOnMessageGetFengyin:function testOnMessageGetFengyin(){var e={};e.cmdType=yx.proto.FengYinCmdType.GetFengYinBoss_Cmd,e.bossID=1,e.isOrder=!0,e.fengYinState=yx.proto.FengYinStateType.Fighting,e.fightingBossInfo={},e.fightingBossInfo.curBloodVolume=12e4,e.fightingBossInfo.averagePlayerLevel=35,e.fightingBossInfo.totalOrder=1e3,e.fightingBossInfo.orderInfos=[];for(var t=0;t<=50;t++){var n={};n.playerID=yx.playerMgr.getPid()+t,n.nickName="xiao"+t,n.registerTime=15689088e5,n.level=31+2*t,n.output=1e3,e.fightingBossInfo.orderInfos.push(n)}this._fengYinData||(this._fengYinData={}),e.hasOwnProperty("cmdType")&&(this._fengYinData.cmdType=e.cmdType),e.hasOwnProperty("bossID")&&(this._fengYinData.bossID=e.bossID),e.hasOwnProperty("isOrder")&&(this._fengYinData.isOrder=e.isOrder),e.hasOwnProperty("fengYinState")&&(this._fengYinData.fengYinState=e.fengYinState),e.hasOwnProperty("fightingBossInfo")&&(this._fengYinData.fightingBossInfo=e.fightingBossInfo),e.cmdType==yx.proto.FengYinCmdType.GetFengYinBoss_Cmd?yx.eventDispatch.dispatchMsg(yx.EventType.SHENGSHOU_REFRESH_INFO,this._fengYinData):(e.cmdType,yx.proto.FengYinCmdType.OrderFengYinBoss_Cmd)}},yx.shengShouMgr=new yx.ShengShouManager,t.exports=yx.shengShouMgr,cc._RF.pop()},{}],ShiSiWindow:[function(e,t,n){cc._RF.push(t,"9685977rlFF6Y91pUp5E5T+","ShiSiWindow");var i=cc.Enum({TAB1:1,TAB2:2,TAB3:3}),o=cc.Enum({TAB1:1,TAB2:2,TAB3:3,TAB4:4}),r=e("BaseWindow"),a=e("ScrollViewRepeat");cc.Class({extends:r,properties:{weiwangLabel:cc.Label,descRichText:cc.RichText,tab1Btn:cc.Button,tab2Btn:cc.Button,tab3Btn:cc.Button,content1:cc.Node,content2:cc.Node,content3:cc.Node,duihuanScrollItem:cc.Prefab,danfangTab:cc.Button,gongfaTab:cc.Button,shujiTab:cc.Button,yushouTab:cc.Button,shiChangeScrollView:cc.ScrollView,shiChangeScrollContent:cc.Node,duboCostRichText:cc.RichText,duboBtn:cc.Button,duboCountLabel:cc.Label,boxiHeadIcon:cc.Sprite,boxiHeadName:cc.Label,cangjinggeScrollView:cc.ScrollView,cangjinggeScrollContent:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.SHISI_DUBO,this.onDuBoRefresh,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE,this.onExchangeReFresh,this),yx.eventDispatch.addListener(yx.EventType.UPDATE_EXCHANGE,this.onEventUpdateChange,this),this._tabArray=[this.tab1Btn,this.tab2Btn,this.tab3Btn],this._tabContentArray=[this.content1,this.content2,this.content3],this.tab1Btn.node.on("click",this.onShiChangTabClick,this),this.tab2Btn.node.on("click",this.onBoXiTabClick,this),this.tab3Btn.node.on("click",this.onCangJingGeTabClick,this),this.duboBtn.node.on("click",this.onDuBoClick,this),this.danfangTab.node.on("click",this.ondanfangTabTabClick,this),this.gongfaTab.node.on("click",this.ongongfaTabClick,this),this.shujiTab.node.on("click",this.onshujiTabTabClick,this),this.yushouTab.node.on("click",this.onyushouTabClick,this),this._shichangTabs=[this.danfangTab,this.gongfaTab,this.shujiTab,this.yushouTab],this._shichangItemArr=[]},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this._curTab=i.TAB1,this._shichangCurTab=o.TAB1,this.onEventCurrencyChange(),this._refreshTabContent()},onShiChangTabClick:function onShiChangTabClick(){this._curTab!=i.TAB1&&(this._curTab=i.TAB1,this._refreshTabContent())},onBoXiTabClick:function onBoXiTabClick(){yx.CodeHelper.checkFuncOpen(41)&&this._curTab!=i.TAB2&&(this._curTab=i.TAB2,this._refreshTabContent())},onCangJingGeTabClick:function onCangJingGeTabClick(){yx.CodeHelper.checkFuncOpen(42)&&this._curTab!=i.TAB3&&(this._curTab=i.TAB3,this._refreshTabContent())},_refreshTabContent:function _refreshTabContent(){for(var e=0;e<3;e++)this._curTab==e+1?(this._tabArray[e].node.getChildByName("selected").active=!0,this._tabArray[e].node.getChildByName("Background").active=!1,this._tabContentArray[e].active=!0):(this._tabArray[e].node.getChildByName("selected").active=!1,this._tabArray[e].node.getChildByName("Background").active=!0,this._tabContentArray[e].active=!1);this._curTab==i.TAB1?this._shichangRrefresh():this._curTab==i.TAB2?yx.ZongMenMgr.getBoXi():this._curTab==i.TAB3&&this._cangjinggeRrefresh()},onDuBoClick:function onDuBoClick(){yx.ZongMenMgr.boxi()},onDuBoRefresh:function onDuBoRefresh(){var e=yx.cfgMgr.getOneRecord("NpcListConfig",{ID:1043});yx.resUtil.LoadSpriteFromResConfigById(e.Icon,this.boxiHeadIcon),this.boxiHeadName.string=e.Name;var t=yx.cfgMgr.getOneRecord("ZongMenDuBoConfig",{ID:1}),n="<color=#00C800>消耗：{costName}{costCount}</color>";n=n.format({costName:yx.bagMgr.GetItemName(t.Cost[0].id),costCount:t.Cost[0].count}),this.duboCostRichText.string=n;var i="今日次数：{ownCount}/{maxCount}";i=i.format({ownCount:yx.ZongMenMgr.getDuBoCount(),maxCount:t.DuBoDayCount}),this.duboCountLabel.string=i},onEventCurrencyChange:function onEventCurrencyChange(){this.isShown()&&(this.weiwangLabel.string=yx.playerMgr.getCurrency(yx.CyType.GONGDE))},ondanfangTabTabClick:function ondanfangTabTabClick(){this._shichangCurTab!=o.TAB1&&(this._shichangCurTab=o.TAB1,this._shichangRrefresh(!0))},ongongfaTabClick:function ongongfaTabClick(){this._shichangCurTab!=o.TAB2&&(this._shichangCurTab=o.TAB2,this._shichangRrefresh(!0))},onshujiTabTabClick:function onshujiTabTabClick(){this._shichangCurTab!=o.TAB3&&(this._shichangCurTab=o.TAB3,this._shichangRrefresh(!0))},onyushouTabClick:function onyushouTabClick(){this._shichangCurTab!=o.TAB4&&(this._shichangCurTab=o.TAB4,this._shichangRrefresh(!0))},_cangjinggeRrefresh:function _cangjinggeRrefresh(){var e=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:6});this._svrCangJingGe?this._svrCangJingGe.updateAllWithoutData():(this._svrCangJingGe=this.cangjinggeScrollView.getComponent(a),this._svrCangJingGe.initialize(e,this.duihuanScrollItem))},_shichangRrefresh:function _shichangRrefresh(e){for(var t=0;t<this._shichangTabs.length;t++){var n=this._shichangTabs[t];n.node.getChildByName("selected").active=!1,n.node.getChildByName("Background").active=!0}this._shichangTabs[this._shichangCurTab-1].node.getChildByName("selected").active=!0,this._shichangTabs[this._shichangCurTab-1].node.getChildByName("Background").active=!1;var i=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:5,Page:this._shichangCurTab});this._svrShiChange?e?this._svrShiChange.updateAllData(i):this._svrShiChange.updateAllWithoutData():(this._svrShiChange=this.shiChangeScrollView.getComponent(a),this._svrShiChange.initialize(i,this.duihuanScrollItem))},onExchangeReFresh:function onExchangeReFresh(){this.isShown()&&(this._curTab==i.TAB1?this._shichangRrefresh():this._curTab==i.TAB3&&this._cangjinggeRrefresh(),yx.ToastUtil.showListToast("兑换成功"))},onEventUpdateChange:function onEventUpdateChange(){this.isShown()&&(this._curTab==i.TAB1?this._shichangRrefresh():this._curTab==i.TAB3&&this._cangjinggeRrefresh())}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],ShiZhuangLiBaoPanel:[function(e,t,n){cc._RF.push(t,"e47fckaq59HuIljx+MVKycx","ShiZhuangLiBaoPanel");var i=e("BaseWindow"),o=[2,1],r=32000001;cc.Class({extends:i,properties:{titleSp:cc.Sprite,bannerSp:cc.Sprite,timerText:cc.RichText,itemListContent:cc.Node,lingQuBtn:cc.Node,chongzhiText:cc.Label,chongZhiBtn:cc.Node,yiLingQu:cc.Node,switchTc:cc.ToggleContainer},_onInit:function _onInit(){this.curIndex=2,this.lingQuBtn.on("click",this.lingQuBtnClick,this),this.chongZhiBtn.on("click",this.chongZhiBtnClick,this),yx.eventDispatch.addListener(yx.EventType.ACTIVITY_TASK_REFRESH,this.onEventRefresh,this),this._initSwitchTC()},_initSwitchTC:function _initSwitchTC(){this.switchTc.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="ShiZhuangLiBaoPanel",e.handler="onSwitchTCClick",this.switchTc.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){var t=this.switchTc.toggleItems.indexOf(e);this.curIndex=o[t],this._refresh()},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){var n=this;this.itemListContent.removeAllChildren(!0);var e=yx.cfgMgr.getOneRecord("ActivityType32Config",{Index:this.curIndex});e.Reward.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});t&&yx.ItemWidget.CreateItemSlot({itemId:t.ID,amount:e.count,clickCallBack:n.onItemClick},n.itemListContent,"itemSlot"+e.id,!0)});var t=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:e.RechargeId});t&&(this.chongzhiText.string="￥"+t.RMB),this.timerText.string="",this.onEventRefresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},lingQuBtnClick:function lingQuBtnClick(){var e=yx.ActivityMgr.getTaskInfo(r,this.curIndex);e&&e.taskState==yx.proto.TaskStateType.Processing?yx.ToastUtil.showListToast("请先充值"):yx.ActivityMgr.TaskReward(r,this.curIndex)},chongZhiBtnClick:function chongZhiBtnClick(){var e=yx.ActivityMgr.getActivityData(r);if(yx.timeUtil.getServerTime()>=e.endTime)yx.ToastUtil.showListToast("礼包活动已结束");else{var t=yx.cfgMgr.getOneRecord("ActivityType32Config",{Index:this.curIndex});yx.reChargeMgr.reqReCharge(t.RechargeId)}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},update:function update(){},onEventRefresh:function onEventRefresh(){var e=yx.ActivityMgr.getTaskInfo(r,this.curIndex);if(e)switch(this.lingQuBtn.active=!1,this.chongZhiBtn.active=!1,this.yiLingQu.active=!1,e.taskState){case yx.proto.TaskStateType.Processing:this.chongZhiBtn.active=!0;break;case yx.proto.TaskStateType.Finish:this.lingQuBtn.active=!0;break;case yx.proto.TaskStateType.Received:this.yiLingQu.active=!0;break;case yx.proto.TaskStateType.Invalid:}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShouChongPanel:[function(e,t,n){cc._RF.push(t,"7a7ebK7WPJAUaknBrjwd1P0","ShouChongPanel");var i=e("BaseWindow"),r="前<color=#00C800>{time}</color>首冲获取新服优势";cc.Class({extends:i,properties:{tipRiText:cc.RichText,itemListLayout:cc.Layout,lingQuBtn:cc.Node,chongZhiBtn:cc.Node,hadLingQu:cc.Node},_onInit:function _onInit(){this.lingQuBtn.on("click",this.lingQuBtnClick,this),this.chongZhiBtn.on("click",this.chongZhiBtnClick,this),yx.eventDispatch.addListener(yx.EventType.FIRST_RECHARGE_INFO,this.onEventFirstRechargeInfo,this),this._reset()},_reset:function _reset(){this.lingQuBtn.active=!1,this.chongZhiBtn.active=!1,this.hadLingQu.active=!1},_onShow:function _onShow(){var n=this;yx.localStorage.Save(yx.LSKey.YIYUAN_TASK+":"+yx.playerMgr.getPid(),!0),this._showNodes();var e=yx.cfgMgr.getOneRecord("FirstRechargeConfig",{ID:1});e&&e.Reward.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});t&&yx.ItemWidget.CreateItemSlot({itemId:t.ID,amount:e.count,clickCallBack:n.onItemClick},n.itemListLayout.node,"itemSlot"+e.id,!0)});var t=yx.timeUtil.getServerTime(),i=yx.ActivityMgr.getFirstRechargeInfo();if(i){var o=i.unlockTime;this.leftTime=1800-parseInt((t-o)/1e3),0<this.leftTime&&this.leftTime<=1800?(this.tipRiText.node.active=!0,this.tipRiText.string=r.format({time:yx.timeUtil.seconds2hourMinSecondChina(this.leftTime)}),this.schedule(this._scheduleCallback.bind(this),1,cc.macro.REPEAT_FOREVER,.1)):this.tipRiText.node.active=!1}},onEventFirstRechargeInfo:function onEventFirstRechargeInfo(){this._showNodes();var e=yx.ActivityMgr.getFirstRechargeInfo();if(e&&e.state===yx.proto.TaskStateType.Received){this.unscheduleAllCallbacks(),this.tipRiText.node.active=!1,yx.ToastUtil.showListToast("领取成功!");var t=yx.cfgMgr.getOneRecord("FirstRechargeConfig",{ID:1});t&&t.Reward.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});if(t){var n=yx.textDict.QualityColor.getQualityColor(t.PinZhi),i="获得"+yx.colorUtil.AddColorString(t.Name+"x"+e.count,n);yx.ToastUtil.showListToast(i)}})}},_showNodes:function _showNodes(){var e=yx.ActivityMgr.getFirstRechargeInfo();this.chongZhiBtn.active=!(!e||e.state!==yx.proto.TaskStateType.Processing),this.lingQuBtn.active=!(!e||e.state!==yx.proto.TaskStateType.Finish),this.hadLingQu.active=!(!e||e.state!==yx.proto.TaskStateType.Received)},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_scheduleCallback:function _scheduleCallback(){var e=yx.timeUtil.seconds2hourMinSecondChina(this.leftTime);if(this.leftTime--,this.leftTime<=0)return this.tipRiText.node.active=!1,void this.unscheduleAllCallbacks();this.tipRiText.string=r.format({time:e})},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},lingQuBtnClick:function lingQuBtnClick(){yx.ActivityMgr.reqFirstRechargeReword()},chongZhiBtnClick:function chongZhiBtnClick(){var e=yx.cfgMgr.getOneRecord("FirstRechargeConfig",{ID:1});e&&yx.reChargeMgr.reqReCharge(e.CostValue[0])},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShouChongPerDay:[function(e,t,n){cc._RF.push(t,"ec8722HbutCi6gthVl35mvO","ShouChongPerDay");var i,o,r,a=e("BaseWindow"),s=[1,2,3];cc.Class((i={extends:a,properties:{itemListContent:cc.Node,lingQuBtn:cc.Node,chongzhiText:cc.Label,tipLabel:cc.Label,chongZhiBtn:cc.Node,yiLingQu:cc.Node,switchTc:cc.ToggleContainer,toggleLabels:[cc.Label]},_onInit:function _onInit(){for(var e in this.curIndex=1,this.lingQuBtn.on("click",this.lingQuBtnClick,this),this.chongZhiBtn.on("click",this.chongZhiBtnClick,this),yx.eventDispatch.addListener(yx.EventType.PEIDAY_CHONGZHI_TASKINFO,this.onEventTaskRefresh,this),yx.BadgeMgr.addBadge(this.lingQuBtn,60,15),this.switchTc.toggleItems)yx.BadgeMgr.addBadge(this.switchTc.toggleItems[e].node,60,15);this._initSwitchTC()},_initSwitchTC:function _initSwitchTC(){this.switchTc.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="ShouChongPerDay",e.handler="onSwitchTCClick",this.switchTc.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){var t=this.switchTc.toggleItems.indexOf(e);this.curIndex=s[t],this._refresh()},_onShow:function _onShow(){yx.PerDayChongZhiMgr.reqTaskInfo(),this._refresh()},_refresh:function _refresh(){var n=this;this.itemListContent.removeAllChildren(!0);var e=yx.PerDayChongZhiMgr.getTaskInfo(yx.PerDayChongZhiMgr.shouChongPerDayId,this.curIndex);if(e){var t=yx.cfgMgr.getRecordList("DailyRechargeConfig",{ID:e.id});if(t)for(var i in t)1==t[i].Recharge?this.toggleLabels[i].string="充任意金额":this.toggleLabels[i].string="充"+t[i].Recharge+"元";var o=yx.cfgMgr.getOneRecord("DailyRechargeConfig",{ID:e.id,Index:this.curIndex});o&&o.Reward.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});t&&yx.ItemWidget.CreateItemSlot({itemId:t.ID,amount:e.count,clickCallBack:n.onItemClick},n.itemListContent,"itemSlot"+e.id,!0)})}this.onEventTaskRefresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},lingQuBtnClick:function lingQuBtnClick(){var e=yx.PerDayChongZhiMgr.getTaskInfo(yx.PerDayChongZhiMgr.shouChongPerDayId,this.curIndex);e&&e.taskState==yx.proto.TaskStateType.Processing?yx.ToastUtil.showListToast("未满足条件"):yx.PerDayChongZhiMgr.TaskReward(yx.PerDayChongZhiMgr.shouChongPerDayId,this.curIndex)},chongZhiBtnClick:function chongZhiBtnClick(){yx.CodeHelper.checkFuncOpen(47)&&yx.windowMgr.showWindow("fangshi",{type:yx.proto.ShopType.Recharge})},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onEventTaskRefresh:function onEventTaskRefresh(){var e=yx.PerDayChongZhiMgr.getTaskInfo(yx.PerDayChongZhiMgr.shouChongPerDayId,this.curIndex);if(e)switch(this.tipLabel.string="今日已充值"+e.processing+"元",this.lingQuBtn.active=!1,this.chongZhiBtn.active=!1,this.yiLingQu.active=!1,e.taskState){case yx.proto.TaskStateType.Processing:this.chongZhiBtn.active=!0;break;case yx.proto.TaskStateType.Finish:yx.BadgeMgr.showBadge(this.lingQuBtn,!0),this.lingQuBtn.active=!0;break;case yx.proto.TaskStateType.Received:this.yiLingQu.active=!0;break;case yx.proto.TaskStateType.Invalid:}var t=yx.PerDayChongZhiMgr.getTaskInfos(yx.PerDayChongZhiMgr.shouChongPerDayId);for(var n in t){var i=t[n].index-1;this.switchTc.toggleItems[i]&&(yx.BadgeMgr.showBadge(this.switchTc.toggleItems[i].node,!1),t[n].taskState==yx.proto.TaskStateType.Finish&&yx.BadgeMgr.showBadge(this.switchTc.toggleItems[i].node,!0))}yx.PerDayChongZhiMgr.isAllReceived()&&yx.eventDispatch.dispatchMsg(yx.EventType.ACTIVITY_REFRESH)}},r=function(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},(o="onItemClick")in i?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,i)),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShuGeWindow:[function(e,t,n){cc._RF.push(t,"9bb2ehMTiVAWKq7T8/RAb4W","ShuGeWindow");var i=e("BaseWindow"),o=e("TimeProBarWidget"),x=cc.Class({extends:i,statics:{SHUGE_STATE:{UN_BEGIN:1,HAD_BEGIN:2}},properties:{danDaoNode:cc.Node,qiDaoNode:cc.Node,wuDaoNode:cc.Node,danDaoBtn:cc.Button,qiDaoBtn:cc.Button,wuDaoBtn:cc.Button,danDaoHomeNode:cc.Node,qiDaoHomeNode:cc.Node,wuDaoHomeNode:cc.Node,danDaoTimeProBarWidget:o,qiDaoTimeProBarWidget:o,wuDaoTimeProBarWidget:o,danDaoXiuLian10Btn:cc.Button,danDaoXiuLian100Btn:cc.Button,qiDaoXiuLian10Btn:cc.Button,qiDaoXiuLian100Btn:cc.Button,danDaoExpLabel:cc.Label,danDaoTitleLabel:cc.Label,qiDaoExpLabel:cc.Label,qiDaoTitleLabel:cc.Label,wuDaoExpLabel:cc.Label,wuDaoTitleRiText:cc.RichText,wuDaoShuXingLabel:cc.Label,wuDaoShuNameLabel:cc.Label,wuDaoProficiencyLabel:cc.Label,wuDaoShuDesLabel:cc.Label,wuDaoRewordRiText:cc.RichText,wuDaoRocordRiText:cc.RichText,wuDaoAllToggle:cc.Button,wuDaoLunDaoToggle:cc.Button,wuDaoZhuanJiToggle:cc.Button,wuDaoXinDeToggle:cc.Button,wuDaoGanWuToggle:cc.Button,wuDaoShuJiaScroview:cc.ScrollView,wuDaoShuJiaItemLayout:cc.Layout,wuDaoShenHunBtn:cc.Button,wuDaoUnReadBookLabel:cc.Label,wuDaoShuJiLabel:cc.Label,wuDaoAdrrRichText:cc.RichText,danDaoLeftYearLabel:cc.Label,qiDaoLeftYearLabel:cc.Label,shuJiaItemPrefab:cc.Prefab,shuItemPrefab:cc.Prefab,danDaoCheckMarkNode:cc.Node,qiDaoCheckMarkNode:cc.Node,wuDaoCheckMarkNode:cc.Node,danDaoMenpaiExtraLabel:cc.Label,qiDaoMenpaiExtraLabel:cc.Label,danDaoRewardLabel:cc.Label,qiDaoRewardLabel:cc.Label},_onInit:function _onInit(){yx.ShuJiaItem._itemPrefab=this.shuJiaItemPrefab,yx.ShuItem._itemPrefab=this.shuItemPrefab,this.curWuDaoBtnType=-1,this.danDaoNode.active=!0,this.qiDaoNode.active=!1,this.wuDaoNode.active=!1,this.danDaoHomeNode.active=!1,this.qiDaoHomeNode.active=!1,this.wuDaoHomeNode.active=!1,this.wuDaoUnReadBookLabel.node.active=!1,this.danDaoTimeProBarWidget.node.active=!1,this.qiDaoTimeProBarWidget.node.active=!1,this.wuDaoTimeProBarWidget.node.active=!1,this._shuGeItemType=yx.ShuGeItemType.DANDAO,this.danDaoBtn.node.on("click",this._ondanDaoBtnClick,this),this.qiDaoBtn.node.on("click",this._onqiDaoBtnClick,this),this.wuDaoBtn.node.on("click",this._onwuDaoBtnClick,this),this.danDaoXiuLian10Btn.node.on("click",this._onXiulianBtnClick.bind(this,yx.ShuGeItemType.DANDAO,10),this),this.danDaoXiuLian100Btn.node.on("click",this._onXiulianBtnClick.bind(this,yx.ShuGeItemType.DANDAO,100),this),this.qiDaoXiuLian10Btn.node.on("click",this._onXiulianBtnClick.bind(this,yx.ShuGeItemType.QIDAO,10),this),this.qiDaoXiuLian100Btn.node.on("click",this._onXiulianBtnClick.bind(this,yx.ShuGeItemType.QIDAO,100),this),this.wuDaoAllToggle.node.on("click",this._onShuHeadBtnClick.bind(this,-1),this),this.wuDaoLunDaoToggle.node.on("click",this._onShuHeadBtnClick.bind(this,yx.ShuJiType.LUNDAO),this),this.wuDaoZhuanJiToggle.node.on("click",this._onShuHeadBtnClick.bind(this,yx.ShuJiType.ZHUANJI),this),this.wuDaoXinDeToggle.node.on("click",this._onShuHeadBtnClick.bind(this,yx.ShuJiType.XINDE),this),this.wuDaoGanWuToggle.node.on("click",this._onShuHeadBtnClick.bind(this,yx.ShuJiType.GANWU),this),this.wuDaoShenHunBtn.node.on("click",this._onShenHunBtnClick.bind(this),this),yx.eventDispatch.addListener(yx.EventType.REFRESH_CAVE_SHUGE,this._refresh,this),yx.eventDispatch.addListener(yx.EventType.REFRESH_CAVE_YUDING_BOOK,this._onEventYudingBook,this),yx.eventDispatch.addListener(yx.EventType.PURCHASE_GOODS,this.onEventGoodsChange,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.wuDaoBtn.node,50,50),this.wuDaoBtn.node.active=yx.serverMgr.IsAuditPassed()},onEventGoodsChange:function onEventGoodsChange(e){this.isShown()&&e&&e.shopInfo&&yx.ToastUtil.showListToast("购买成功")},_onShow:function _onShow(e){yx.caveMgr.reqDongfuShuge(this._shuGeItemType),e&&(1==e?this._ondanDaoBtnClick():2==e?this._onqiDaoBtnClick():3==e&&this._onwuDaoBtnClick())},_onHide:function _onHide(){this.danDaoTimeProBarWidget.unSchedule(),this.qiDaoTimeProBarWidget.unSchedule(),this.wuDaoTimeProBarWidget.unSchedule()},_onEventYudingBook:function _onEventYudingBook(){yx.ToastUtil.showListToast("预定成功")},_refresh:function _refresh(){if(yx.caveMgr.getCaveShuGeData()){switch(this.danDaoData=yx.caveMgr.getCaveShuGeData()[yx.ShuGeItemType.DANDAO],this.qiDaoData=yx.caveMgr.getCaveShuGeData()[yx.ShuGeItemType.QIDAO],this.wuDaoData=yx.caveMgr.getCaveShuGeData()[yx.ShuGeItemType.WUDAO],this.danDaoData&&this.danDaoData.curState==x.SHUGE_STATE.UN_BEGIN&&(this.danDaoHomeNode.active=!0,this.danDaoTimeProBarWidget.node.active=!1),this.qiDaoData&&this.qiDaoData.curState==x.SHUGE_STATE.UN_BEGIN&&(this.qiDaoHomeNode.active=!0,this.qiDaoTimeProBarWidget.node.active=!1),this.wuDaoData&&this.wuDaoData.curState==x.SHUGE_STATE.UN_BEGIN&&(this.wuDaoHomeNode.active=!1,this.wuDaoTimeProBarWidget.node.active=!1,this.wuDaoUnReadBookLabel.node.active=!0),this._shuGeItemType){case yx.ShuGeItemType.DANDAO:var e=yx.cfgMgr.getRecordByKey("LianYaoLevelConfig",{Level:this.danDaoData.curLevel});if(e){this.danDaoTitleLabel.string=e.Name;var t=e.Cost[0]?e.Cost[0].count:0;this.danDaoExpLabel.string=this.danDaoData.curExp+"/"+t}this.danDaoData.effectType===yx.proto.ShuGeEffectType.NONE?this.danDaoMenpaiExtraLabel.string="":this.danDaoData.effectType===yx.proto.ShuGeEffectType.MenPai?this.danDaoMenpaiExtraLabel.string="修炼开启时妖族每年提升{num}点丹道修炼".format({num:this.danDaoData.effectValue}):this.danDaoData.effectType===yx.proto.ShuGeEffectType.Item&&(this.danDaoMenpaiExtraLabel.string="丹圣传承修炼开启时每年提升{num}点丹道修炼\n(与门派不叠加)".format({num:this.danDaoData.effectValue}));break;case yx.ShuGeItemType.QIDAO:var n=yx.cfgMgr.getRecordByKey("LianQiLevelConfig",{Level:this.qiDaoData.curLevel});if(n){this.qiDaoTitleLabel.string=n.Name;var i=n.NextExp[0]?n.NextExp[0].count:0;this.qiDaoExpLabel.string=this.qiDaoData.curExp+"/"+i}this.qiDaoData.effectType===yx.proto.ShuGeEffectType.NONE?this.qiDaoMenpaiExtraLabel.string="":this.qiDaoData.effectType===yx.proto.ShuGeEffectType.MenPai?this.qiDaoMenpaiExtraLabel.string="修炼开启时妖族每年提升{num}点器道修炼".format({num:this.qiDaoData.effectValue}):this.qiDaoData.effectType===yx.proto.ShuGeEffectType.Item&&(this.qiDaoMenpaiExtraLabel.string="器圣传承修炼开启时每年提升{num}点器道修炼\n(与门派不叠加)".format({num:this.qiDaoData.effectValue}));break;case yx.ShuGeItemType.WUDAO:var o=yx.cfgMgr.getRecordByKey("WuDaolevelConfig",{Level:this.wuDaoData.curLevel});if(o){var r=yx.colorUtil.AddColorString("悟道",yx.colorUtil.TextDarkRed),a=yx.colorUtil.AddColorString("级",yx.colorUtil.TextDarkRed),s=yx.colorUtil.AddColorString(this.wuDaoData.curLevel+"",yx.colorUtil.TextGreen);this.wuDaoTitleRiText.string=r+s+a,this.wuDaoExpLabel.string="("+this.wuDaoData.curExp+"/"+o.Cost[0].count+")";var c=o.Attr[0]?o.Attr[0].value:0;this.wuDaoShuXingLabel.string="悟性+"+c,this.wuDaoProficiencyLabel.string="初窥门径(1/3)";var l=yx.caveMgr.getCurReadingBook();if(l){var u=yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:l.id});if(u){if(this.wuDaoShuNameLabel.string="《"+u.Name+"》",u.DefDesc&&(this.wuDaoShuDesLabel.string=u.DefDesc),u.Reward){var d=yx.colorUtil.AddColorString("参悟后获得：",yx.colorUtil.TextDarkGreen),h=u.Reward[0].count,g=u.Reward[1].count;g=parseInt(parseInt(g)/1e4)+"万";var p=yx.colorUtil.AddColorString(g+"修为，"+h+"悟道经验",yx.colorUtil.TextGreen);this.wuDaoRewordRiText.string=d+p}this.wuDaoRocordRiText.string=yx.textDict.shuGeWuDaoRecord.getRandomValues()}var y=yx.cfgMgr.getRecordByKey("WuDaoProficiencyConfig",{Level:l.level});y&&(this.wuDaoProficiencyLabel.string=y.Name+"("+l.readNum+"/"+y.CanWuNum+")")}}this._onShuHeadBtnClick()}if(this.danDaoData&&this.danDaoData.curState==x.SHUGE_STATE.HAD_BEGIN&&(this.danDaoHomeNode.active=!1,this.danDaoTimeProBarWidget.node.active=!0,this.danDaoTimeProBarWidget.updateAndBegin("ShuGeWindow"+yx.ShuGeItemType.DANDAO,this.danDaoData,"研读丹籍中",this._shuGePregressCallBack.bind(this)),this.danDaoLeftYearLabel.string="剩余修炼时间"+this.danDaoData.curYear+"年"),this.qiDaoData&&this.qiDaoData.curState==x.SHUGE_STATE.HAD_BEGIN&&(this.qiDaoHomeNode.active=!1,this.qiDaoTimeProBarWidget.node.active=!0,this.qiDaoTimeProBarWidget.updateAndBegin("ShuGeWindow"+yx.ShuGeItemType.QIDAO,this.qiDaoData,"研读书籍中",this._shuGePregressCallBack.bind(this)),this.qiDaoLeftYearLabel.string="剩余修炼时间"+this.qiDaoData.curYear+"年"),this.wuDaoData&&this.wuDaoData.curState==x.SHUGE_STATE.HAD_BEGIN){this.wuDaoHomeNode.active=!0,this.wuDaoTimeProBarWidget.node.active=!0;var f=!(this.wuDaoUnReadBookLabel.node.active=!1),m=yx.caveMgr.getCurReadingBook();if(m&&m.endTime){var v=yx.timeUtil.getServerTime();m.endTime<=v&&(f=!1,this.wuDaoTimeProBarWidget.node.active=!1)}f&&this.wuDaoTimeProBarWidget.updateAndBegin("ShuGeWindow"+yx.ShuGeItemType.WUDAO,this.wuDaoData,"参悟中",this._shuGeWuDaoPregressCallBack.bind(this))}this.onEventRefreshBadge()}},_shuGePregressCallBack:function _shuGePregressCallBack(e,t){yx.log("_shuGePregressCallBack进度定时器的回调"),--t.curTime;var n="";if(t.endTime){var i=(t.endTime-yx.timeUtil.getServerTime())/1e3,o=Math.floor(i/60/15)%5;0!=o&&(o=5-o),t.type==yx.ShuGeItemType.DANDAO?n=yx.textDict.shuGeDanDaoRecord.getValue(o):t.type==yx.ShuGeItemType.QIDAO&&(n=yx.textDict.shuGeQiDaoRecord.getValue(o))}e.refresh(t.curTime,t.maxTime,n),t.curTime<=0&&(e.unSchedule(),yx.caveMgr.reqDongfuShuge(this._shuGeItemType))},_shuGeWuDaoPregressCallBack:function _shuGeWuDaoPregressCallBack(e,t){if(yx.log("悟道_shuGePregressCallBack进度定时器的回调"),--t.curTime,e.refresh(t.curTime,t.maxTime),t.curTime<=0){e.unSchedule();var n=-1,i=!1,o=yx.caveMgr.getAllBook();if(o&&o.readingBook){var r=o.readingBook,a=yx.cfgMgr.getRecordByKey("WuDaoProficiencyConfig",{Level:r.level});r.readNum++,n=o.readingBook.id,i=r.readNum==a.CanWuNum,o.readingBook=null}this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){n&&this._checkShenHunWuDaoItemUse()&&i&&yx.caveMgr.reqReadBookLevelUp(n),yx.caveMgr.reqDongfuShuge(this._shuGeItemType)}.bind(this))))}},_onXiulianBtnClick:function _onXiulianBtnClick(e,t){var n=yx.caveMgr.getCaveShuGeData()[this._shuGeItemType];if(n){var i={};if(e==yx.ShuGeItemType.DANDAO){if(i.content="您确定要使用"+100*t+"灵石修炼"+10*t+"点丹道吗?",18<=n.curLevel)return void yx.ToastUtil.showListToast("已满级")}else if(e==yx.ShuGeItemType.QIDAO&&(i.content="您确定要使用"+100*t+"灵石修炼"+10*t+"点器道吗?",18<=n.curLevel))return void yx.ToastUtil.showListToast("已满级");if(e==yx.ShuGeItemType.WUDAO&&(i.content="您确定要使用"+100*t+"灵石修炼"+10*t+"点悟道吗?",25<=n.curLevel))yx.ToastUtil.showListToast("已满级");else{var o=!1;yx.playerMgr.getCurrency(yx.CyType.LINGSHI)>100*t&&(o=!0);var r=new cc.Component.EventHandler;r.target=this.node,r.component="ShuGeWindow",r.handler="_onXiulianConfirmClick",r.customEventData={type:e,year:t,isEnougnStuff:o},i.confirmCallback=r,yx.windowMgr.showWindow("textConfirm",i)}}else yx.log("_onXiulianBtnClick shuGeItemData null")},_onXiulianConfirmClick:function _onXiulianConfirmClick(e){e.isEnougnStuff?yx.caveMgr.reqXiuLian(e.type,e.year):yx.ToastUtil.showListToast("灵石不足")},_onShuHeadBtnClick:function _onShuHeadBtnClick(e){e&&(this.curWuDaoBtnType=e),this.wuDaoShuJiaItemLayout.node.removeAllChildren(!0);var t=[],n=yx.caveMgr.getAllBook();if(n)for(var i in n.items)if(n.items[i].id){var o=yx.cfgMgr.getRecordByKey("WuDaoBookConfig",{ID:n.items[i].id});if(o){if(-1==this.curWuDaoBtnType){t.push(o);continue}this.curWuDaoBtnType&&o.Type==this.curWuDaoBtnType&&t.push(o)}}for(var r=0,a=0,s=Math.ceil(t.length/3);a<s;a++){r++;var c=3*a,l=3+c,u=t.slice(c,l);yx.ShuJiaItem.CreateItem(u,this.wuDaoShuJiaItemLayout.node,"ShuJiaItem"+a,null)}for(var d=0;d<3-r;d++)yx.ShuJiaItem.CreateItem([],this.wuDaoShuJiaItemLayout.node,"ShuJiaItem"+d,null)},_onShenHunBtnClick:function _onShenHunBtnClick(){yx.log("_onShenHunBtnClick"),this._checkShenHunWuDaoItemUse()?yx.windowMgr.showWindow("shenHunWuDaoPanel"):yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_WUDAO})},_checkShenHunWuDaoItemUse:function _checkShenHunWuDaoItemUse(){var e=yx.cfgMgr.getOneRecord("ShopListConfig",{QuickId:yx.ItemQuickBuyPanel.SHENGYOU_LIST.shenHunWudao.quickId});if(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.ID});if(t)return 0<yx.playerMgr.getItemUseCount(t.ID)}return!1},_ondanDaoBtnClick:function _ondanDaoBtnClick(){yx.log("_ondanDaoBtnClick"),this._shuGeItemType!=yx.ShuGeItemType.DANDAO&&(this._shuGeItemType=yx.ShuGeItemType.DANDAO,this._setToggle(),this.danDaoNode.active=!0,this.qiDaoNode.active=!1,this.wuDaoNode.active=!1,yx.caveMgr.reqDongfuShuge(this._shuGeItemType))},_onqiDaoBtnClick:function _onqiDaoBtnClick(){yx.log("_onqiDaoBtnClick"),yx.CodeHelper.checkFuncOpen(4)&&this._shuGeItemType!=yx.ShuGeItemType.QIDAO&&(this._shuGeItemType=yx.ShuGeItemType.QIDAO,this._setToggle(),this.danDaoNode.active=!1,this.qiDaoNode.active=!0,this.wuDaoNode.active=!1,yx.caveMgr.reqDongfuShuge(this._shuGeItemType))},_onwuDaoBtnClick:function _onwuDaoBtnClick(){yx.log("_onwuDaoBtnClick"),yx.CodeHelper.checkFuncOpen(5)&&this._shuGeItemType!=yx.ShuGeItemType.WUDAO&&(this._shuGeItemType=yx.ShuGeItemType.WUDAO,this._setToggle(),this.danDaoNode.active=!1,this.qiDaoNode.active=!1,this.wuDaoNode.active=!0,yx.caveMgr.reqDongfuShuge(this._shuGeItemType))},_setToggle:function _setToggle(){this._shuGeItemType==yx.ShuGeItemType.WUDAO?(this.danDaoCheckMarkNode.active=!1,this.qiDaoCheckMarkNode.active=!1,this.wuDaoCheckMarkNode.active=!0):(this._shuGeItemType==yx.ShuGeItemType.QIDAO?(this.danDaoCheckMarkNode.active=!1,this.qiDaoCheckMarkNode.active=!0):(this.danDaoCheckMarkNode.active=!0,this.qiDaoCheckMarkNode.active=!1),this.wuDaoCheckMarkNode.active=!1)},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",3)},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&yx.BadgeMgr.showBadge(this.wuDaoBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.DongFuShuGe))}});yx.ShuGeWindow=t.extends=x,cc._RF.pop()},{BaseWindow:"BaseWindow",TimeProBarWidget:"TimeProBarWidget"}],ShuItem:[function(e,t,n){cc._RF.push(t,"410aa8QwsxM3LP5CQurP4oG","ShuItem");var a="prefabs/widgets/ShuItem",c=cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,otherLabel:cc.Label,proficiencyLabel:cc.Label,itemBtn:cc.Button},statics:{_itemPrefab:null,CreateItem:function CreateItem(n,i,o,r){if(c._itemPrefab)return c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.resUtil.LoadRes(a,function(e,t){if(!e)return c._itemPrefab=t,c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.warn(a+" is not exist!")})},_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i,o){var r=cc.instantiate(i),a=new cc.Node(n);t.addChild(a),null!=n&&(r.name=n);var s=r.getComponent(c);return s&&a&&a.isValid?(s.init(e,o),a.addChild(r),a.setContentSize(r.getContentSize())):yx.warn("ShuItem instantiate error!"),s}},init:function init(e,t){this._info=e,this._cb=t,this.itemBtn.node.on("click",this._onItemBtnClick,this),this.nameLabel.string=e.Name,yx.BadgeMgr.addBadge(this.itemBtn.node,30,130),this.proficiencyLabel.string="";var n=yx.caveMgr.getAllBook();if(n&&n.items[this._info.ID]){5<=n.items[this._info.ID].level&&(this.proficiencyLabel.string="完全领会",this.proficiencyLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextDarkGreen));var i=yx.cfgMgr.getRecordByKey("WuDaoProficiencyConfig",{Level:n.items[this._info.ID].level});if(i)if(this.otherLabel.string=i.Name,n.items[this._info.ID].readNum>=i.CanWuNum&&0!==i.CanWuNum)this.proficiencyLabel.string="可领悟",this.proficiencyLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextGreen);else{var o=yx.caveMgr.getCurReadingBook();if(o&&o.id==this._info.ID)return this.proficiencyLabel.string="参悟中",void(this.proficiencyLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextDarkGreen));0!==i.CanWuNum&&(this.proficiencyLabel.string=n.items[this._info.ID].readNum+"/"+i.CanWuNum,this.proficiencyLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextDarkGreen),n.items[this._info.ID].readNum>=i.CanWuNum?yx.BadgeMgr.showBadge(this.itemBtn.node,!0):yx.BadgeMgr.showBadge(this.itemBtn.node,!1))}}},_onItemBtnClick:function _onItemBtnClick(){yx.log("_onItemBtnClick"),yx.windowMgr.showWindow("shuPanel",this._info)}});yx.ShuItem=t.exports=c,cc._RF.pop()},{}],ShuJiaItem:[function(e,t,n){cc._RF.push(t,"2ed17NQWoBHW4qEKPSlD/T3","ShuJiaItem");var a="prefabs/widgets/ShuJiaItem",c=cc.Class({extends:cc.Component,properties:{shuItemLayout:cc.Layout},statics:{_itemPrefab:null,CreateItem:function CreateItem(n,i,o,r){if(c._itemPrefab)return c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.resUtil.LoadRes(a,function(e,t){if(!e)return c._itemPrefab=t,c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.warn(a+" is not exist!")})},_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i,o){var r=cc.instantiate(i),a=new cc.Node(n);t.addChild(a),null!=n&&(r.name=n);var s=r.getComponent(c);return s&&a&&a.isValid?(s.init(e,o),a.addChild(r),a.setContentSize(r.getContentSize())):yx.warn("ShuJiaItem instantiate error!"),s}},init:function init(e,t){this._info=e,this._cb=t;for(var n=0;n<this._info.length;n++){var i=this._info[n];yx.ShuItem.CreateItem(i,this.shuItemLayout.node,"ShuItem"+n,null)}}});yx.ShuJiaItem=t.exports=c,cc._RF.pop()},{}],ShuPanel:[function(e,t,n){cc._RF.push(t,"0a94axTUMdOZa0jkhEGCRoM","ShuPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,canWuBtn:cc.Button,wuDaoRewordRiText:cc.RichText,proficiencyLabel:cc.Label,titleLabel:cc.Label,textLabel:cc.Label,stateMessageRiText:cc.RichText,lingWuBtn:cc.Button,yuDingBtn:cc.Button},_onInit:function _onInit(e){if(e){if(this._info=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.canWuBtn.node.on("click",this._onCanWuBtnClick,this),this.lingWuBtn.node.on("click",this._onLingWuBtnClick,this),this.yuDingBtn.node.on("click",this._onYuDingBtnClick,this),this._info){if(this.titleLabel.string=this._info.Name,this._info.DefDesc&&(this.textLabel.string=this._info.DefDesc),this._info.Reward){var t=yx.colorUtil.AddColorString("参悟后获得：",yx.colorUtil.TextDarkGreen),n=this._info.Reward[0].count,i=this._info.Reward[1].count;i=parseInt(parseInt(i)/1e4)+"万";var o=yx.colorUtil.AddColorString(i+"修为，"+n+"悟道经验",yx.colorUtil.TextGreen);this.wuDaoRewordRiText.string=t+o}this.canWuBtn.active=!0,this.stateMessageRiText.string="";var r=yx.caveMgr.getAllBook();if(r&&r.items[this._info.ID]){if(5<=r.items[this._info.ID].level)this.proficiencyLabel.string="融汇贯通",this.proficiencyLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextWhite),this.stateMessageRiText.string="完全领悟",this.canWuBtn.node.active=!0,this.lingWuBtn.node.active=!1,this.yuDingBtn.node.active=!1;else{var a=yx.cfgMgr.getRecordByKey("WuDaoProficiencyConfig",{Level:r.items[this._info.ID].level});if(a){var s="("+r.items[this._info.ID].readNum+"/"+a.CanWuNum+")";if(this.proficiencyLabel.string=a.Name+s,r.items[this._info.ID].readNum>=a.CanWuNum)return this.lingWuBtn.node.active=!0,this.canWuBtn.node.active=!1,void(this.yuDingBtn.node.active=!1)}}var c=yx.caveMgr.getCurReadingBook();if(c&&c.id==this._info.ID)return this.stateMessageRiText.string="参悟中",this.canWuBtn.node.active=!1,this.lingWuBtn.node.active=!1,void(this.yuDingBtn.node.active=!1);var l=yx.caveMgr.getBookingId();if(l&&l==this._info.ID)return this.stateMessageRiText.string="预定中",this.canWuBtn.node.active=!1,this.lingWuBtn.node.active=!1,void(this.yuDingBtn.node.active=!1);if(c&&c.id!=this._info.ID)return this.stateMessageRiText.string="",this.canWuBtn.node.active=!1,this.lingWuBtn.node.active=!1,this.yuDingBtn.node.active=!1,void(this._checkShenHunWuDaoItemUse()&&(this.yuDingBtn.node.active=!0))}}}else yx.warn("ShuPanel _onInit"+e)},_checkShenHunWuDaoItemUse:function _checkShenHunWuDaoItemUse(){var e=yx.cfgMgr.getOneRecord("ShopListConfig",{QuickId:yx.ItemQuickBuyPanel.SHENGYOU_LIST.shenHunWudao.quickId});if(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.ID});if(t)return 0<yx.playerMgr.getItemUseCount(t.ID)}return!1},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onCanWuBtnClick:function _onCanWuBtnClick(){yx.windowMgr.goBack(),yx.caveMgr.reqReadBook(this._info.ID)},_onLingWuBtnClick:function _onLingWuBtnClick(){yx.log("_onLingWuBtnClick"),yx.windowMgr.goBack(),yx.caveMgr.reqReadBookLevelUp(this._info.ID)},_onYuDingBtnClick:function _onYuDingBtnClick(){yx.log("_onYuDingBtnClick"),yx.windowMgr.goBack(),yx.caveMgr.reqBooking(this._info.ID)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ShuoMIngPanel:[function(e,t,n){cc._RF.push(t,"f2be822rzBASo2Y2BJAwupm","ShuoMIngPanel");var i={CHUIDIAO:1,SHENGSHOU:2,DAOLVRIZHI:3},o=e("BaseWindow"),r=cc.Class({extends:o,statics:{SHUOMING_TYPE:i},properties:{closeBtn:cc.Button,textRitext:cc.RichText,textScrollview:cc.ScrollView,bgFrameNode:cc.Node,titleNameLabel:cc.Label,jiangLiNode:cc.Node,jiangLiItemLayout:cc.Layout},_onInit:function _onInit(e){e&&(this.jiangLiNode.active=!1,this.closeBtn.node.on("click",this.onCloseBtnClick,this),e.shuoMingType==i.CHUIDIAO?this.setChuiDiaoMessage(e):e.shuoMingType==i.SHENGSHOU?this.setFengYinMessage(e):e.shuoMingType==i.DAOLVRIZHI&&this.setDaoLvRiZhiMessage(e))},setDaoLvRiZhiMessage:function setDaoLvRiZhiMessage(){this.bgFrameNode.height=890,this.titleNameLabel.string="日志",this.textRitext.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextDarkGreen),yx.DiarysUtil.setRichTextWithShowList(this.textRitext,"daoLvLog"),this.textScrollview.scrollToBottom()},setChuiDiaoMessage:function setChuiDiaoMessage(){this.bgFrameNode.height=560,this.titleNameLabel.string="说明",this.textRitext.string="　　1.每位道友每天可以参与两次垂钓，如果拥有天庭官职则可以获得额外次数。\n　　2.每次垂钓时长1分钟，道友在抛竿后在恰当的时机收竿即可。\n　　3.可以通过给鱼贩渔获换取各种资源。\n"},setFengYinMessage:function setFengYinMessage(e){if(e.ID){this.jiangLiNode.active=!0,this.bgFrameNode.height=713;var t=yx.cfgMgr.getOneRecord("FengYinBossConfig",{ID:e.ID});if(t){this.titleNameLabel.string=t.Title+"规则",this.textRitext.string=t.Txt1;for(var n=t.AwardList,i=0;i<n.length;i++){var o=n[i],r={};r.clickCallBack=this.jiangLiItemClick,r.amount=-1,r.itemId=o.id,yx.ItemWidget.CreateItemSlot(r,this.jiangLiItemLayout.node,"jiangliSlot_"+i)}}}},jiangLiItemClick:function jiangLiItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}});yx.ShuoMingPanel=t.exports=r,cc._RF.pop()},{BaseWindow:"BaseWindow"}],SimpleToastWidget:[function(e,t,n){cc._RF.push(t,"a88c797O2NIkZwBICUaL9bC","SimpleToastWidget"),cc.Class({extends:cc.Component,properties:{simpleTextLabel:cc.Label,lingshiLabel:cc.Label,shiwuLabel:cc.Label,mucaiLabel:cc.Label,yuntieLabel:cc.Label,initX:{default:0,type:cc.Float},initY:{default:0,type:cc.Float},distanceY:{default:180,type:cc.Float},durationTime:{default:1.5,type:cc.Float}},init:function init(){this.node.x=this.initX,this.node.y=this.initY,this.stuffBgNode=this.node.getChildByName("StuffBg"),this.sextBgNode=this.node.getChildByName("TextBg"),this.stuffBgNode.active=!1,this.sextBgNode.active=!1},show:function show(e,t){e==yx.ToastUtil.ToastEventType.TOAST_TYPE_SIMPLE?(this.stuffBgNode.active=!1,this.sextBgNode.active=!0,this.simpleTextLabel.string=t):e==yx.ToastUtil.ToastEventType.TOAST_TYPE_CAVE&&(this.stuffBgNode.active=!0,this.sextBgNode.active=!1,this.lingshiLabel.string="灵石："+this._numToStr(t.lingshiNum),this.shiwuLabel.string="食物："+this._numToStr(t.shiwuNum),this.mucaiLabel.string="木材："+this._numToStr(t.mucaiNum),this.yuntieLabel.string="陨铁："+this._numToStr(t.yuntieNum),this._setColor(this.lingshiLabel,t.lingshiNum),this._setColor(this.shiwuLabel,t.shiwuNum),this._setColor(this.mucaiLabel,t.mucaiNum),this._setColor(this.yuntieLabel,t.yuntieNum));var n=cc.moveBy(this.durationTime,cc.v2(0,this.distanceY)).easing(cc.easeInOut(1.5)),i=cc.fadeOut(this.durationTime).easing(cc.easeInOut(15)),o=cc.spawn(n,i);this.node.runAction(o)},_numToStr:function _numToStr(e){return 0<e?"+"+e:""+e},_setColor:function _setColor(e,t){e.node.color=0<=t?yx.colorUtil.toCCColor(yx.colorUtil.TextGreen):yx.colorUtil.toCCColor(yx.colorUtil.TextRed)},onLoad:function onLoad(){}}),cc._RF.pop()},{}],SimpleWidget:[function(e,t,n){cc._RF.push(t,"a3611GqdfVD0a/rTy9c3W4N","SimpleWidget");var i=cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,iconSprite:cc.Sprite,contentLabel:cc.Label,select:cc.Node,_itemInfo:null},init:function init(e,t,n){this._itemInfo=e,this._parentSrc=n,t&&(this._cb=t),this.node.on("click",this.onBtnClick,this),this._setSlot()},_setSlot:function _setSlot(){yx.resUtil.LoadSpriteByIconName(this._itemInfo.Icon,this.iconSprite),this.contentLabel.string=this._itemInfo.Name},getItemInfo:function getItemInfo(){return this._itemInfo},onBtnClick:function onBtnClick(){if(this._cb)return this._cb(this._itemInfo,this._parentSrc)},getRoot:function getRoot(){return this.node},setSelect:function setSelect(e){this.select.active=e}});yx.SimpleWidget=t.exports=i,cc._RF.pop()},{}],SkillTipsPanel:[function(e,t,n){cc._RF.push(t,"8fd25ERhpFOLJVkZuY3PBEP","SkillTipsPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{contentNode:cc.Node,maskSp:cc.Sprite,nameLabel:cc.Label,descRichText:cc.RichText,iconSp:cc.Sprite},_onInit:function _onInit(e){this.iconSp.node.scale=.7,yx.log("contentNodePoint=="+this.contentNode.x+":"+this.contentNode.y);var t=e.skillIconNode.convertToWorldSpaceAR(cc.v2(0,0));yx.log("worldPoint=="+t.x+":"+t.y);var n=this.contentNode.parent.convertToNodeSpaceAR(t);yx.log("localPoint=="+n.x+":"+n.y),this.contentNode.y=n.y,this.maskSp.node.on("click",this.onMaskSpClick,this),this.nameLabel.string=e.configData.Name,this.descRichText.string="<color=#345A5C>"+e.configData.GongFaDesc+"</color>"},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onRandomJoinBtnClick:function onRandomJoinBtnClick(){},_refresh:function _refresh(){}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],SkinChangePanel:[function(e,t,n){cc._RF.push(t,"301b1nnxCBHepxQgWA2+wwT","SkinChangePanel");var i=e("BaseWindow"),h=e("SkinSelectItem");cc.Class({extends:i,properties:{maskSp:cc.Button,closeBtn:cc.Button,biaotiLabel:cc.Label,levelTabBtn:cc.Button,levelLabel:cc.Label,fasionTabBtn:cc.Button,fasionLabel:cc.Label,weiHuanHuaGroup:cc.Node,huanhuaBtn:cc.Button,yiHuanHuaGroup:cc.Node,weiJieSuoLabel:cc.Label,scrollView:cc.ScrollView,scrollContent:cc.Node,skinSelectItemPrefab:cc.Prefab,skinNode:cc.Node,fudiSp:cc.Sprite,fudiEffectBack:cc.Node,fudiEffectFront:cc.Node,faxiangNode:cc.Node},_onInit:function _onInit(e){switch(this._curTab=e,this.maskSp.node.on("click",this.onMaskSpClick,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.levelTabBtn.node.on("click",this.onLevelTabBtnClick,this),this.fasionTabBtn.node.on("click",this.onFasionTabBtnClick,this),this.huanhuaBtn.node.on("click",this.onHuanHuaClick,this),yx.eventDispatch.addListener(yx.EventType.SKIN_SELECT_ITEM,this.onEventSelectItem,this),yx.eventDispatch.addListener(yx.EventType.SKIN_STATUS_REFRESH,this.onEventSkinStatusRefresh,this),this._selectTab=1,this._curTab){case yx.proto.WearType.Skin:this.biaotiLabel.string="切换皮肤",this.levelLabel.string="进阶皮肤",this.fasionLabel.string="时装皮肤";break;case yx.proto.WearType.Fudi:this.biaotiLabel.string="切换福地",this.levelLabel.string="进阶福地",this.fasionLabel.string="时装福地";break;case yx.proto.WearType.FaXiang:this.biaotiLabel.string="切换法相",this.levelLabel.string="进阶法相",this.fasionLabel.string="时装法相"}},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){},_refresh:function _refresh(){var e=[],t=[],n=this.levelTabBtn.node.getChildByName("Background").getChildByName("select"),i=this.fasionTabBtn.node.getChildByName("Background").getChildByName("select");if(1==this._selectTab)n.active=!0,i.active=!1,(e=yx.SkinMgr.getCfgList(this._curTab,2)).sort(function(e,t){return e.Index-t.Index}),t=e;else{n.active=!1,i.active=!0,(e=yx.SkinMgr.getCfgList(this._curTab,1)).sort(function(e,t){return e.Index-t.Index});for(var o=[],r=[],a=[],s=0;s<e.length;s++){var c=e[s],l=yx.SkinMgr.IsCanActiveItem(this._curTab,c);yx.SkinMgr.getStatusInfo(this._curTab,c.ID)?r.push(c):l?o.push(c):a.push(c)}t=t.concat(o,r,a)}var u=this;if(u._items=[],u.scrollContent.removeAllChildren(!0),t.forEach(function(e){var t=cc.instantiate(u.skinSelectItemPrefab),n=t.getComponent(h);n&&(n.init(e,u._curTab),u.scrollContent.addChild(t),u._items.push(n))}),t[0]){var d={};d.data=t[0],d.fromWindow=!1,this.onEventSelectItem(d)}else this.weiJieSuoLabel.node.active=!1,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!1,this.skinNode.active=!1,this.fudiSp.node.active=!1,this.fudiEffectBack.active=!1,this.fudiEffectFront.active=!1,this.faxiangNode.active=!1},onLevelTabBtnClick:function onLevelTabBtnClick(){1!=this._selectTab&&(this._selectTab=1,this._refresh())},onFasionTabBtnClick:function onFasionTabBtnClick(){2!=this._selectTab&&(this._selectTab=2,this._refresh())},onHuanHuaClick:function onHuanHuaClick(){yx.SkinMgr.HuanHua(this._curTab,this._selectData.ID,!0)},onEventSkinStatusRefresh:function onEventSkinStatusRefresh(){if(1==this._selectTab){var e=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this._selectData.NeedLevel});if(this.weiJieSuoLabel.string=e.Name+"解锁",yx.playerMgr.getDuJieLevel()<this._selectData.NeedLevel)this.weiJieSuoLabel.node.active=!0,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!1;else{var t=yx.SkinMgr.getStatusInfo(this._curTab,this._selectData.ID);t&&t.wear?(this.weiJieSuoLabel.node.active=!1,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!0):(this.weiJieSuoLabel.node.active=!1,this.weiHuanHuaGroup.active=!0,this.yiHuanHuaGroup.active=!1)}}else{this.weiJieSuoLabel.string="未激活";var n=yx.SkinMgr.getStatusInfo(this._curTab,this._selectData.ID);n?n.wear?(this.weiJieSuoLabel.node.active=!1,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!0):(this.weiJieSuoLabel.node.active=!1,this.weiHuanHuaGroup.active=!0,this.yiHuanHuaGroup.active=!1):(this.weiJieSuoLabel.node.active=!0,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!1)}for(var i=0;i<this._items.length;i++)this._items[i].updateStatus()},_updateItemContent:function _updateItemContent(e){var t=e.getData(),n=e.getTabType();switch(this.skinNode.active=!1,this.fudiSp.node.active=!1,this.fudiEffectBack.active=!1,this.fudiEffectFront.active=!1,this.faxiangNode.active=!1,n){case yx.proto.WearType.Title:this.titleSp.node.active=!0,yx.resUtil.LoadSpriteByIconName(t.Icon,this.titleSp);break;case yx.proto.WearType.Skin:this.skinNode.active=!0,yx.resUtil.loadRoleAvatar(this.skinNode,t.AvataId,"skin",null),this.skinNode.setPosition(this.skinNode.x,0);break;case yx.proto.WearType.Fudi:this.fudiSp.node.active=!0,yx.resUtil.LoadSprite("fudi/"+t.SmallBg,this.fudiSp);break;case yx.proto.WearType.FaXiang:this.faxiangNode.active=!0,yx.resUtil.loadRoleAvatar(this.faxiangNode,t.AvataId,"skin",null,null,2)}this.onEventSkinStatusRefresh()},onEventSelectItem:function onEventSelectItem(e){if(!e.fromWindow){this._selectData=e.data;for(var t=0;t<this._items.length;t++){var n=this._items[t];n.getData().ID==e.data.ID?(n.setSelect(!0),this._updateItemContent(n)):n.setSelect(!1)}}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",SkinSelectItem:"SkinSelectItem"}],SkinMgr:[function(e,t,n){cc._RF.push(t,"20375TYjLVCH73fEooNI+5m","SkinMgr"),yx.SkinManager=function(){},yx.SkinManager.prototype={constructor:yx.SkinManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.WEAR_LIST,this.onMessageWearList),yx.network.addHandler(yx.proto.CmdId.ACTIVATE,this.onMessageSkinActive),yx.network.addHandler(yx.proto.CmdId.WEAR_SKIN,this.onMessageWear),this._titles=new Map,this._skins=new Map,this._fudis=new Map,this._faxiangs=new Map},WearList:function WearList(){yx.log("[SkinManager] WearList ");var e=new yx.proto.C2S_WearList;yx.network.sendMessage(yx.proto.CmdId.WEAR_LIST,e)},Active:function Active(e,t){yx.log("[SkinManager] Active ");var n=new yx.proto.C2S_Activate;n.type=e,n.wearId=t,yx.network.sendMessage(yx.proto.CmdId.ACTIVATE,n)},HuanHua:function HuanHua(e,t,n){yx.log("[SkinManager] HuanHua ");var i=new yx.proto.C2S_WearSkin;i.type=e,i.wearId=t,i.wear=n,yx.network.sendMessage(yx.proto.CmdId.WEAR_SKIN,i)},onMessageWearList:function onMessageWearList(e,t){if(yx.log("onMessageWearList-----"),null!=e&&0<e.length)yx.log("[SkinManager onMessageWearList] error:"+e);else{var n=yx.proto.S2C_WearList.decode(t);yx.SkinMgr.setList(n)}},onMessageSkinActive:function onMessageSkinActive(e,t){if(yx.log("onMessageSkinActive-----"),null!=e&&0<e.length)yx.log("[SkinManager onMessageSkinActive] error:"+e);else{var n=yx.proto.S2C_Activate.decode(t),i={};i.type=n.type,i.wearId=n.wearId,i.wear=!1,yx.SkinMgr.setData(i.type,i),yx.eventDispatch.dispatchMsg(yx.EventType.SKIN_STATUS_REFRESH)}},onMessageWear:function onMessageWear(e,t){if(yx.log("onMessageWear-----"),null!=e&&0<e.length)yx.log("[SkinManager onMessageWear] error:"+e);else{var n=yx.proto.S2C_WearSkin.decode(t);if(yx.SkinMgr.clearWearStatus(n.type),n.wear){var i={};i.type=n.type,i.wearId=n.wearId,i.wear=n.wear,yx.SkinMgr.setData(i.type,i),yx.SkinMgr.setRoleDisplay(i.type,i)}yx.eventDispatch.dispatchMsg(yx.EventType.SKIN_STATUS_REFRESH)}},clearWearStatus:function clearWearStatus(e){switch(e){case yx.proto.WearType.Title:var t=!0,n=!1,i=void 0;try{for(var o,r=this._titles.keys()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._titles.get(a).wear=!1}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}yx.playerMgr.setRoleTitle(0);break;case yx.proto.WearType.Skin:var s=!0,c=!1,l=void 0;try{for(var u,d=this._skins.keys()[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;this._skins.get(h).wear=!1}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}yx.playerMgr.setSkinId(0),yx.playerMgr.setSkinHeadId(0);break;case yx.proto.WearType.Fudi:var g=!0,p=!1,y=void 0;try{for(var f,m=this._fudis.keys()[Symbol.iterator]();!(g=(f=m.next()).done);g=!0){var v=f.value;this._fudis.get(v).wear=!1}}catch(e){p=!0,y=e}finally{try{!g&&m.return&&m.return()}finally{if(p)throw y}}yx.playerMgr.setFuDi(0);break;case yx.proto.WearType.FaXiang:var x=!0,w=!1,C=void 0;try{for(var I,b=this._faxiangs.keys()[Symbol.iterator]();!(x=(I=b.next()).done);x=!0){var _=I.value;this._faxiangs.get(_).wear=!1}}catch(e){w=!0,C=e}finally{try{!x&&b.return&&b.return()}finally{if(w)throw C}}yx.playerMgr.setFaXiang(0)}},setList:function setList(e){for(var t=0;t<e.list.length;t++){var n=e.list[t];this.setData(n.type,n),this.setRoleDisplay(n.type,n)}},setData:function setData(e,t){switch(e){case yx.proto.WearType.Title:this._titles.set(t.wearId,t);break;case yx.proto.WearType.Skin:this._skins.set(t.wearId,t);break;case yx.proto.WearType.Fudi:this._fudis.set(t.wearId,t);break;case yx.proto.WearType.FaXiang:this._faxiangs.set(t.wearId,t)}},setRoleDisplay:function setRoleDisplay(e,t){switch(e){case yx.proto.WearType.Title:if(t.wear){var n=yx.cfgMgr.getOneRecord("TitleConfig",{ID:t.wearId});yx.playerMgr.setRoleTitle(n.Icon)}break;case yx.proto.WearType.Skin:if(t.wear){var i=yx.cfgMgr.getOneRecord("FashionSkinConfig",{ID:t.wearId});yx.playerMgr.setSkinId(i.AvataId),yx.playerMgr.setSkinHeadId(i.HeadId)}break;case yx.proto.WearType.Fudi:if(t.wear){var o=yx.cfgMgr.getOneRecord("FudiConfig",{ID:t.wearId});yx.playerMgr.setFuDi(o.BgId)}break;case yx.proto.WearType.FaXiang:if(t.wear){var r=yx.cfgMgr.getOneRecord("FaXiangConfig",{ID:t.wearId});yx.playerMgr.setFaXiang(r.AvataId)}}},getCfgList:function getCfgList(e,t){var n=[];switch(e){case yx.proto.WearType.Title:n=yx.cfgMgr.getRecordList("TitleConfig",{Show:1});break;case yx.proto.WearType.Skin:n=yx.cfgMgr.getRecordList("FashionSkinConfig",{Show:1,SkinType:t});break;case yx.proto.WearType.Fudi:n=yx.cfgMgr.getRecordList("FudiConfig",{Show:1,SkinType:t});break;case yx.proto.WearType.FaXiang:n=yx.cfgMgr.getRecordList("FaXiangConfig",{Show:1,SkinType:t})}var i=[];if(2==t)for(var o=0;o<n.length;o++){var r=n[o];0!=r.ZhongZu&&r.ZhongZu!=yx.playerMgr.getZhongZu()||i.push(r)}else i=n;return i},getStatusInfo:function getStatusInfo(e,t){switch(e){case yx.proto.WearType.Title:return this._titles.get(t);case yx.proto.WearType.Skin:return this._skins.get(t);case yx.proto.WearType.Fudi:return this._fudis.get(t);case yx.proto.WearType.FaXiang:return this._faxiangs.get(t)}return null},getActiveCount:function getActiveCount(e){var t=0;switch(e){case yx.proto.WearType.Title:return this._titles.size;case yx.proto.WearType.Skin:var n=!0,i=!1,o=void 0;try{for(var r,a=this._skins.keys()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value,c=this._skins.get(s);1==yx.cfgMgr.getOneRecord("FashionSkinConfig",{ID:c.wearId}).SkinType&&(t+=1)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}break;case yx.proto.WearType.Fudi:var l=!0,u=!1,d=void 0;try{for(var h,g=this._fudis.keys()[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var p=h.value,y=this._fudis.get(p);1==yx.cfgMgr.getOneRecord("FudiConfig",{ID:y.wearId}).SkinType&&(t+=1)}}catch(e){u=!0,d=e}finally{try{!l&&g.return&&g.return()}finally{if(u)throw d}}break;case yx.proto.WearType.FaXiang:var f=!0,m=!1,v=void 0;try{for(var x,w=this._faxiangs.keys()[Symbol.iterator]();!(f=(x=w.next()).done);f=!0){var C=x.value,I=this._faxiangs.get(C);1==yx.cfgMgr.getOneRecord("FaXiangConfig",{ID:I.wearId}).SkinType&&(t+=1)}}catch(e){m=!0,v=e}finally{try{!f&&w.return&&w.return()}finally{if(m)throw v}}}return t},_setAttr:function _setAttr(e,t){for(var n=0;n<t.length;n++){var i=t[n];e[i.type]?e[i.type]=e[i.type]+i.value:e[i.type]=i.value}},getTotalAttrStr:function getTotalAttrStr(){var e={},t=!0,n=!1,i=void 0;try{for(var o,r=this._titles.keys()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value,s=this._titles.get(a),c=yx.cfgMgr.getOneRecord("TitleConfig",{ID:s.wearId});this._setAttr(e,c.Attr)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}var l=!0,u=!1,d=void 0;try{for(var h,g=this._skins.keys()[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var p=h.value;s=this._skins.get(p),c=yx.cfgMgr.getOneRecord("FashionSkinConfig",{ID:s.wearId}),this._setAttr(e,c.Attr)}}catch(e){u=!0,d=e}finally{try{!l&&g.return&&g.return()}finally{if(u)throw d}}var y=!0,f=!1,m=void 0;try{for(var v,x=this._fudis.keys()[Symbol.iterator]();!(y=(v=x.next()).done);y=!0){var w=v.value;s=this._fudis.get(w),c=yx.cfgMgr.getOneRecord("FudiConfig",{ID:s.wearId}),this._setAttr(e,c.Attr)}}catch(e){f=!0,m=e}finally{try{!y&&x.return&&x.return()}finally{if(f)throw m}}var C=!0,I=!1,b=void 0;try{for(var _,T=this._faxiangs.keys()[Symbol.iterator]();!(C=(_=T.next()).done);C=!0){var S=_.value;s=this._faxiangs.get(S),c=yx.cfgMgr.getOneRecord("FaXiangConfig",{ID:s.wearId}),this._setAttr(e,c.Attr)}}catch(e){I=!0,b=e}finally{try{!C&&T.return&&T.return()}finally{if(I)throw b}}return e},IsCanActiveItem:function IsCanActiveItem(e,t){return!yx.SkinMgr.getStatusInfo(e,t.ID)&&yx.bagMgr.GetItemOwnCount(t.Cost[0].type,t.Cost[0].id)>=t.Cost[0].count},IsCanActiveType:function IsCanActiveType(e){var t=[];switch(e){case yx.proto.WearType.Title:t=yx.cfgMgr.getRecordList("TitleConfig",{Show:1});break;case yx.proto.WearType.Skin:t=yx.cfgMgr.getRecordList("FashionSkinConfig",{Show:1,SkinType:1});break;case yx.proto.WearType.Fudi:t=yx.cfgMgr.getRecordList("FudiConfig",{Show:1,SkinType:1});break;case yx.proto.WearType.FaXiang:t=yx.cfgMgr.getRecordList("FaXiangConfig",{Show:1,SkinType:1})}for(var n=0;n<t.length;n++){var i=t[n];if(!yx.SkinMgr.getStatusInfo(e,i.ID)&&yx.bagMgr.GetItemOwnCount(i.Cost[0].type,i.Cost[0].id)>=i.Cost[0].count)return!0}return!1},IsCanActive:function IsCanActive(){var e=yx.SkinMgr.IsCanActiveType(yx.proto.WearType.Title),t=yx.SkinMgr.IsCanActiveType(yx.proto.WearType.Skin),n=yx.SkinMgr.IsCanActiveType(yx.proto.WearType.Fudi),i=yx.SkinMgr.IsCanActiveType(yx.proto.WearType.FaXiang);return e||t||n||i},getCurSkinWearId:function getCurSkinWearId(){var e=!0,t=!1,n=void 0;try{for(var i,o=this._skins.keys()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var r=i.value,a=this._skins.get(r);if(a.wear)return a.wearId}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return null}},yx.SkinMgr=new yx.SkinManager,t.exports=yx.SkinMgr,cc._RF.pop()},{}],SkinSelectItem:[function(e,t,n){cc._RF.push(t,"95565UdQj1JzpKBiY3J7be6","SkinSelectItem"),cc.Class({extends:cc.Component,properties:{title:cc.Label,selectSp:cc.Sprite,jihuoSp:cc.Sprite,huanhuaSp:cc.Sprite,bgSp:cc.Sprite},init:function init(e,t,n){this._data=e,this._curTab=t,this._fromWindow=n,this.title.string=this._data.Name,this.node.on("click",this.onItemClick,this),this.updateStatus(),yx.BadgeMgr.addBadge(this.node,30,150)},onItemClick:function onItemClick(){var e={};e.data=this._data,e.fromWindow=this._fromWindow,yx.eventDispatch.dispatchMsg(yx.EventType.SKIN_SELECT_ITEM,e)},setSelect:function setSelect(e){this.selectSp.node.active=e},getData:function getData(){return this._data},getTabType:function getTabType(){return this._curTab},updateStatus:function updateStatus(){this._curTab==yx.proto.WearType.Title||1==this._data.SkinType?yx.SkinMgr.getStatusInfo(this._curTab,this._data.ID)?this.bgSp.setState(cc.Sprite.State.NORMAL):this.bgSp.setState(cc.Sprite.State.GRAY):yx.playerMgr.getDuJieLevel()<this._data.NeedLevel?this.bgSp.setState(cc.Sprite.State.GRAY):this.bgSp.setState(cc.Sprite.State.NORMAL),this.jihuoSp.node.active=!1,this.huanhuaSp.node.active=!1,this._fromWindow&&yx.BadgeMgr.showBadge(this.node,yx.SkinMgr.IsCanActiveItem(this._curTab,this._data))}}),cc._RF.pop()},{}],SkinTotalAttrPanel:[function(e,t,n){cc._RF.push(t,"83919QddahLJYm+oLK6m12u","SkinTotalAttrPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{contentNode:cc.Node,maskSp:cc.Sprite,desc:cc.RichText},_onInit:function _onInit(e){var t=e.node;yx.log("contentNodePoint=="+this.contentNode.x+":"+this.contentNode.y);var n=t.convertToWorldSpaceAR(cc.v2(0,0));yx.log("worldPoint=="+n.x+":"+n.y);var i=this.contentNode.parent.convertToNodeSpaceAR(n);yx.log("localPoint=="+i.x+":"+i.y),this.contentNode.x=i.x+e.detalX,this.contentNode.y=i.y+e.detalY,this.maskSp.node.on("click",this.onMaskSpClick,this);var o="",r=yx.SkinMgr.getTotalAttrStr();for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];o=o+yx.textDict.Attr[a]+":+"+s+"\n"}this.desc.string=o},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],SkinWindow:[function(e,t,n){cc._RF.push(t,"e0a3eQItzdG1qZPW0NdDuPl","SkinWindow");var m=null,i=e("BaseWindow"),d=e("SkinSelectItem"),o=e("SimpleWidget");cc.Class({extends:i,properties:{chenghaoTabBtn:cc.Button,pifuTabBtn:cc.Button,fudiBtn:cc.Button,faxiangTabBtn:cc.Button,suitTabBtn:cc.Button,normalNode:cc.Node,suitNode:cc.Node,levelLabel:cc.Label,zongJiaChengBtn:cc.Button,changeBtn:cc.Button,singleLabel:cc.Label,weiJiHuoGroup:cc.Node,needItem:cc.Node,needDesc1:cc.Label,needDesc2:cc.Label,jihuoBtn:cc.Button,weiHuanHuaGroup:cc.Node,huanhuaBtn:cc.Button,yiHuanHuaGroup:cc.Node,desc:cc.RichText,activeCountLabel:cc.Label,leftBtn:cc.Button,rightBtn:cc.Button,scrollView:cc.ScrollView,scrollContent:cc.Node,skinSelectItemPrefab:cc.Prefab,titleSp:cc.Sprite,skinNode:cc.Node,fudiSp:cc.Sprite,fudiEffectBack:cc.Node,fudiEffectFront:cc.Node,faxiangNode:cc.Node,itemSimpleWidgetPrefab:cc.Prefab,suit_scrollContent:cc.Node,attr_2:cc.Node,attr_3:cc.Node,attr_4:cc.Node,a_1:cc.Node,a_2:cc.Node,a_3:cc.Node,a_4:cc.Node,bgSprite:cc.Sprite,sceneEffectFrontGroup:cc.Node,sceneEffectBackGroup:cc.Node,suit_faxiangNode:cc.Node,suit_roleNode:cc.Node,suit_roleTitleSp:cc.Sprite,suit_fudiNode:cc.Node,homePreBtn:cc.Button,homeNextBtn:cc.Button,homeHeadScrollview:cc.ScrollView},_onInit:function _onInit(){this._tabArray=[this.fudiBtn,this.chenghaoTabBtn,this.pifuTabBtn,this.faxiangTabBtn],this.zongJiaChengBtn.node.on("click",this.onTotalAttrClick,this),this.chenghaoTabBtn.node.on("click",this.onChenghaoTabClick,this),this.pifuTabBtn.node.on("click",this.onPifuTabClick,this),this.fudiBtn.node.on("click",this.onFudiTabClick,this),this.faxiangTabBtn.node.on("click",this.onFaxiangTabClick,this),this.leftBtn.node.on("click",this.onLeftClick,this),this.rightBtn.node.on("click",this.onRightClick,this),this.jihuoBtn.node.on("click",this.onJiHuoClick,this),this.huanhuaBtn.node.on("click",this.onHuanHuaClick,this),this.changeBtn.node.on("click",this.onChangeBtnClick,this),yx.eventDispatch.addListener(yx.EventType.SKIN_SELECT_ITEM,this.onEventSelectItem,this),yx.eventDispatch.addListener(yx.EventType.SKIN_STATUS_REFRESH,this.onEventSkinStatusRefresh,this),this.desc.string="",yx.BadgeMgr.addBadge(this.chenghaoTabBtn.node,30,40),yx.BadgeMgr.addBadge(this.pifuTabBtn.node,30,40),yx.BadgeMgr.addBadge(this.fudiBtn.node,30,40),yx.BadgeMgr.addBadge(this.faxiangTabBtn.node,30,40),this._isSuit=!1,this.normalNode.active=!0,this.suitNode.active=!1,this.suitTabBtn.node.on("click",this.onSuitTabClick,this),this.homePreBtn.node.on("click",this._onHomePreBtnClick,this),this.homeNextBtn.node.on("click",this._onHomeNextBtnClick,this),this._aAttr=[this.a_1,this.a_2,this.a_3,this.a_4]},_onShow:function _onShow(e){this._curTab=yx.proto.WearType.Title,e&&e.tab&&(this._curTab=e.tab),yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this._refreshTabContent()},onTotalAttrClick:function onTotalAttrClick(){var e={detalX:0,detalY:0};e.node=this.zongJiaChengBtn.node,yx.windowMgr.showWindow("skinTotalAttrPanel",e)},onChenghaoTabClick:function onChenghaoTabClick(){yx.CodeHelper.checkFuncOpen(28)&&(this._curTab=yx.proto.WearType.Title,this._refreshTabContent())},onPifuTabClick:function onPifuTabClick(){yx.CodeHelper.checkFuncOpen(30)&&(this._curTab=yx.proto.WearType.Skin,this._refreshTabContent())},onFudiTabClick:function onFudiTabClick(){yx.CodeHelper.checkFuncOpen(35)&&(this._curTab=yx.proto.WearType.Fudi,this._refreshTabContent())},onFaxiangTabClick:function onFaxiangTabClick(){yx.CodeHelper.checkFuncOpen(31)&&(this._curTab=yx.proto.WearType.FaXiang,this._refreshTabContent())},onSuitTabClick:function onSuitTabClick(){this._isSuit=!0,this.normalNode.active=!1,this.suitNode.active=!0,this.suitTabBtn.node.getChildByName("selected").active=!0,this.suitTabBtn.node.getChildByName("Background").active=!1;for(var e=0;e<4;e++)this._tabArray[e].node.getChildByName("selected").active=!1,this._tabArray[e].node.getChildByName("Background").active=!0;if(null==m){m=[];var i=this,t=yx.cfgMgr.getAllConfig("SuitConfig");t.forEach(function(e){var t=cc.instantiate(i.itemSimpleWidgetPrefab),n=t.getComponent(o);n&&(n.init(e,i._onSuitItemClick,i),i.suit_scrollContent.addChild(t),m.push(n))}),this._onSuitItemClick(t[0],i)}},_onSuitItemClick:function _onSuitItemClick(e,t){yx.log("itemInfo.ID=="+e.ID);for(var n=0;n<m.length;n++){var i=m[n],o=(i.getRoot(),i.getItemInfo());e.ID==o.ID?i.setSelect(!0):i.setSelect(!1)}var r=t;r.attr_2.active=!1,r.attr_3.active=!1,r.attr_4.active=!1,0<e.Attr_2.length&&(r.attr_2.active=!0),0<e.Attr_3.length&&(r.attr_3.active=!0),0<e.Attr_4.length&&(r.attr_4.active=!0);for(var a=0,s=e.Activation,c=0;c<r._aAttr.length;c++)r._aAttr[c].getChildByName("cont").active=!1;for(var l=0;l<s.length;l++){var u=s[l],d=yx.SkinMgr.getStatusInfo(u.type,u.id),h=r._aAttr[l].getChildByName("cont");h.active=!0,d?(a+=1,h.getChildByName("jihuoBg").active=!0,h.getChildByName("weijihuoBg").active=!1):(h.getChildByName("jihuoBg").active=!1,h.getChildByName("weijihuoBg").active=!0);var g="",p=null;switch(u.type){case yx.proto.WearType.Title:g=(p=yx.cfgMgr.getOneRecord("TitleConfig",{ID:u.id})).Name;break;case yx.proto.WearType.Skin:g=(p=yx.cfgMgr.getOneRecord("FashionSkinConfig",{ID:u.id})).Name;break;case yx.proto.WearType.Fudi:g=(p=yx.cfgMgr.getOneRecord("FudiConfig",{ID:u.id})).Name;break;case yx.proto.WearType.FaXiang:g=(p=yx.cfgMgr.getOneRecord("FaXiangConfig",{ID:u.id})).Name}h.getChildByName("title").getComponent(cc.Label).string=g;var y=h.getChildByName("iconNode");y.removeAllChildren(!0);var f={};f.amount=p.Cost[0].count,f.itemId=p.Cost[0].id,f.clickCallBack=r._onItemClick,yx.ItemWidget.CreateItemSlot(f,y,"reward"+p.Cost[0].id)}function Qgb(e,t){for(var n="",i=0;i<t.length;i++){var o=t[i];n=n+yx.textDict.Attr[o.type]+":+"+o.value+"\n"}e.getChildByName("attr").getComponent(cc.Label).string=n}Qgb(r.attr_2,e.Attr_2),Qgb(r.attr_3,e.Attr_3),Qgb(r.attr_4,e.Attr_4);function Rgb(e,t){e.getChildByName("activeSp").active=t,e.getChildByName("activeTitleSp").active=t,e.getChildByName("title").color=t?new cc.Color(127,101,71):new cc.Color(52,90,92)}Rgb(r.attr_2,2<=a),Rgb(r.attr_3,3<=a),Rgb(r.attr_4,4<=a),r._loadSuitAvatar(s,r)},_loadSuitAvatar:function _loadSuitAvatar(e,p){this.suit_faxiangNode.active=!1,this.suit_roleNode.active=!1,this.suit_roleTitleSp.node.active=!1,this.suit_fudiNode.active=!1;for(var t=function n(e){p.suit_fudiNode.active=!0;var n=yx.cfgMgr.getOneRecord("BackDropConfig",{ID:e});if(n){yx.resUtil.LoadSpriteByType(n.BG,yx.ResType.SCENE_BG,p.bgSprite),p.sceneEffectBackGroup.removeAllChildren(!0),p.sceneEffectFrontGroup.removeAllChildren(!0);var t=!0,i=!1,o=void 0;try{for(var r,a=n.Front[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;yx.resUtil.createSpineOrDragonEffect(p.sceneEffectFrontGroup,s)}}catch(e){i=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw o}}var c=!0,l=!1,u=void 0;try{for(var d,h=n.Back[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var g=d.value;yx.resUtil.createSpineOrDragonEffect(p.sceneEffectBackGroup,g)}}catch(e){l=!0,u=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw u}}}},a=function i(e){p.suit_faxiangNode.active=!0,yx.resUtil.loadRoleAvatar(p.suit_faxiangNode,e,"main",null)},s=function o(e){p.suit_roleNode.active=!0,yx.resUtil.loadRoleAvatar(p.suit_roleNode,e,"main",null)},c=function r(e){p.suit_roleTitleSp.node.active=!0,yx.resUtil.LoadSpriteByType(e,yx.ResType.TITLE,p.suit_roleTitleSp)},l=0;l<e.length;l++){var u=e[l];switch(u.type){case yx.proto.WearType.Title:c(yx.cfgMgr.getOneRecord("TitleConfig",{ID:u.id}).Icon);break;case yx.proto.WearType.Skin:s(yx.cfgMgr.getOneRecord("FashionSkinConfig",{ID:u.id}).AvataId);break;case yx.proto.WearType.Fudi:t(yx.cfgMgr.getOneRecord("FudiConfig",{ID:u.id}).BgId);break;case yx.proto.WearType.FaXiang:a(yx.cfgMgr.getOneRecord("FaXiangConfig",{ID:u.id}).AvataId)}}},_refreshTabContent:function _refreshTabContent(){this._isSuit=!1,this.normalNode.active=!0,this.suitNode.active=!1,this.suitTabBtn.node.getChildByName("selected").active=!1,this.suitTabBtn.node.getChildByName("Background").active=!0;for(var e=0;e<4;e++)this._curTab==e+1?(this._tabArray[e].node.getChildByName("selected").active=!0,this._tabArray[e].node.getChildByName("Background").active=!1):(this._tabArray[e].node.getChildByName("selected").active=!1,this._tabArray[e].node.getChildByName("Background").active=!0);var t=yx.SkinMgr.getCfgList(this._curTab,1);t.sort(function(e,t){return e.Index-t.Index});for(var n=[],i=[],o=[],r=0;r<t.length;r++){var a=t[r],s=yx.SkinMgr.IsCanActiveItem(this._curTab,a);yx.SkinMgr.getStatusInfo(this._curTab,a.ID)?i.push(a):s?n.push(a):o.push(a)}var c=[];c=c.concat(n,i,o);var l=this;if(l._items=[],l.scrollContent.removeAllChildren(!0),c.forEach(function(e){var t=cc.instantiate(l.skinSelectItemPrefab),n=t.getComponent(d);n&&(n.init(e,l._curTab,!0),l.scrollContent.addChild(t),l._items.push(n))}),c[0]){var u={};u.data=c[0],u.fromWindow=!0,this.onEventSelectItem(u),this.scrollView.scrollToOffset(cc.v2(0,0))}this._curTab==yx.proto.WearType.Title?this.changeBtn.node.active=!1:this.changeBtn.node.active=!0,this.refreshBadge()},onLeftClick:function onLeftClick(){var e=this.scrollView.getScrollOffset().x;this.scrollView.scrollToOffset(cc.v2(Math.abs(e)-this.scrollView.node.width,0),1.5)},onRightClick:function onRightClick(){var e=this.scrollView.getScrollOffset().x;this.scrollView.scrollToOffset(cc.v2(Math.abs(e)+this.scrollView.node.width,0),1.5)},_updateItemContent:function _updateItemContent(e){var t=e.getData(),n=e.getTabType();this.desc.string=t.Desc;var i={content:""};i.ID=t.Cost[0].id,yx.ItemRichTextWidget.CreateItemSlot(i,this.needItem,"reward",null),this.needDesc1.string=yx.bagMgr.GetItemName(t.Cost[0].id);var o=yx.bagMgr.GetItemOwnCount(t.Cost[0].type,t.Cost[0].id);this.needDesc2.string=o+"/"+t.Cost[0].count,o<t.Cost[0].count?this.needDesc2.node.color=new cc.Color(255,0,0):this.needDesc2.node.color=new cc.Color(0,200,0);for(var r="",a=0;a<t.Attr.length;a++){var s=t.Attr[a];r=r+yx.textDict.Attr[s.type]+":+"+s.value+"\n"}if(t.Extraattr)for(var c=0;c<t.Extraattr.length;c++){var l=t.Extraattr[c];r=r+yx.textDict.Attr[l.FromType]+":+"+l.Rate/100+"%\n"}switch(r=r.substring(0,r.length-1),this.singleLabel.string=r,this.titleSp.node.active=!1,this.skinNode.active=!1,this.fudiSp.node.active=!1,this.fudiEffectBack.active=!1,this.fudiEffectFront.active=!1,this.faxiangNode.active=!1,n){case yx.proto.WearType.Title:this.titleSp.node.active=!0,yx.resUtil.LoadSpriteByIconName(t.Icon,this.titleSp);break;case yx.proto.WearType.Skin:this.skinNode.active=!0,yx.resUtil.loadRoleAvatar(this.skinNode,t.AvataId,"bag",null),this.skinNode.setPosition(0,150);break;case yx.proto.WearType.Fudi:this.fudiSp.node.active=!0,yx.resUtil.LoadSprite("fudi/"+t.SmallBg,this.fudiSp);break;case yx.proto.WearType.FaXiang:this.faxiangNode.active=!0,yx.resUtil.loadRoleAvatar(this.faxiangNode,t.AvataId,"bag",null,null,2)}this.onEventSkinStatusRefresh()},onEventSelectItem:function onEventSelectItem(e){if(e.fromWindow){this._selectData=e.data;for(var t=0;t<this._items.length;t++){var n=this._items[t];n.getData().ID==e.data.ID?(n.setSelect(!0),this._updateItemContent(n)):n.setSelect(!1)}}},onJiHuoClick:function onJiHuoClick(){yx.SkinMgr.Active(this._curTab,this._selectData.ID)},onHuanHuaClick:function onHuanHuaClick(){yx.SkinMgr.HuanHua(this._curTab,this._selectData.ID,!0)},onEventSkinStatusRefresh:function onEventSkinStatusRefresh(){var e=yx.SkinMgr.getStatusInfo(this._curTab,this._selectData.ID);e?e.wear?(this.weiJiHuoGroup.active=!1,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!0):(this.weiJiHuoGroup.active=!1,this.weiHuanHuaGroup.active=!0,this.yiHuanHuaGroup.active=!1):(this.weiJiHuoGroup.active=!0,this.weiHuanHuaGroup.active=!1,this.yiHuanHuaGroup.active=!1),this.activeCountLabel.string="已激活数："+yx.SkinMgr.getActiveCount(this._curTab);for(var t=0;t<this._items.length;t++)this._items[t].updateStatus();this.refreshBadge()},onChangeBtnClick:function onChangeBtnClick(){yx.windowMgr.showWindow("skinChangePanel",this._curTab)},refreshBadge:function refreshBadge(){yx.BadgeMgr.showBadge(this.chenghaoTabBtn.node,yx.SkinMgr.IsCanActiveType(yx.proto.WearType.Title)),yx.BadgeMgr.showBadge(this.pifuTabBtn.node,yx.SkinMgr.IsCanActiveType(yx.proto.WearType.Skin)),yx.BadgeMgr.showBadge(this.fudiBtn.node,yx.SkinMgr.IsCanActiveType(yx.proto.WearType.Fudi)),yx.BadgeMgr.showBadge(this.faxiangTabBtn.node,yx.SkinMgr.IsCanActiveType(yx.proto.WearType.FaXiang))},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_onHomePreBtnClick:function _onHomePreBtnClick(){this.homeHeadScrollview.scrollToOffset(cc.v2(0,0),1.5)},_onHomeNextBtnClick:function _onHomeNextBtnClick(){var e=this.suit_scrollContent.getContentSize().width;this.homeHeadScrollview.scrollToOffset(cc.v2(e,0),1.5)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",SimpleWidget:"SimpleWidget",SkinSelectItem:"SkinSelectItem"}],SocketWrapper:[function(e,t,n){cc._RF.push(t,"3650dBp/epHAbD5uKgoCYxq","SocketWrapper");function gib(t,n){var i=this;this._socket=t._socket,this._socketId=t._socketId,this._evtCb=n,this._socket.onopen=function(){yx.log("Connection onopen:",i._socketId),null!=n&&n("onopen",null)},this._socket.onerror=function(e){yx.error("onerror"),i._socket=null,(t._socket=null)!=n&&n("onerror",null)},this._socket.onclose=function(e){yx.log("Connection onclose:",i._socketId),e.code&&yx.log("socket onclose code=="+e.code),e.reason&&yx.log("socket onclose reason=="+e.reason),i._socket==t._socket?(i._socket=null,t._socket=null,yx.log("this._socket 被清空  （1）"),null!=n&&n("onclose",null)):yx.log("onclose, this._socket != wrapper._socket!!!")},this._socket.onmessage=function(e){i._socket==t._socket?null!=n&&n("onmessage",e):yx.log("onmessage, this._socket != wrapper._socket!!!")},this.printinfo=function(){yx.log("printinfo, this._socketId="+i._socketId),yx.log("printinfo, wrapper._socketId="+t._socketId)}}function hib(){this._init()}hib.prototype={constructor:hib,_init:function _init(){return this._socket=null,this._socketId=1e4,this._encrypt=!1,yx.log("SocketWrapper init"),!0},isConnected:function isConnected(){return null!=this._socket&&this._socket.readyState==WebSocket.OPEN},socketConnection:function socketConnection(e,t,n,i){if(null==this._socket){if(window.WebSocket){var o="",r=0;if(0<arguments.length&&(o=e,r=t),null==o||""==o||null==r||0==r)return;this._encrypt=i,-1!=o.indexOf("wss://")||-1!=o.indexOf("ws://")?(this._socket=new WebSocket(o+":"+r),yx.log("this._socket 被赋值  （1）")):(this._socket=new WebSocket("ws://"+o+":"+r),yx.log("this._socket 被赋值  （2）")),this._socketId++,yx.log("ready to connect ip = "+e+" port: "+t),this._socket.binaryType="arraybuffer",new gib(this,n)}}else yx.warn("socketConnection, this._socket != null")},closeSocket:function closeSocket(){yx.log("socketwrapper close socket"),null!=this._socket&&this._socket.close()},sendMessage:function sendMessage(e){this._socket?this._socket.readyState==WebSocket.OPEN?this._socket.send(e):yx.log("Not connected\n"):yx.log("sendMessage, this._socket="+this._socket)}},t.exports=new hib,cc._RF.pop()},{}],SoundManager:[function(e,t,n){cc._RF.push(t,"9c9d35DgD5ImJ1NPJc9T7l6","SoundManager"),cc.Button.prototype.touchEndClone=cc.Button.prototype._onTouchEnded,cc.Button.prototype._soundOn=!0,cc.Button.prototype.setSoundEffect=function(e){this._soundOn=e},cc.Button.prototype._onTouchEnded=function(e){this.interactable&&this.enabledInHierarchy&&this._pressed&&1==this._soundOn&&yx.SoundMgr.PlayEffect("button"),this.touchEndClone(e),yx.taskMgr.check(e.currentTarget)};function yib(){this._bgName=null,this.init()}yib.prototype={constructor:yib,init:function init(){yx.log("SoundManager init");var e=yx.localStorage.Load(yx.LSKey.MUSIC_SWITCH);null==e?(this.musicSwitch=!0,yx.localStorage.Save(yx.LSKey.MUSIC_SWITCH,this.musicSwitch)):this.musicSwitch=e,null==(e=yx.localStorage.Load(yx.LSKey.EFFECT_SWITCH))?(this.effectSwitch=!0,yx.localStorage.Save(yx.LSKey.EFFECT_SWITCH,this.effectSwitch)):this.effectSwitch=e},GetMusicSwitch:function GetMusicSwitch(){return this.musicSwitch},SetMusicSwitch:function SetMusicSwitch(e){this.musicSwitch=e,yx.localStorage.Save(yx.LSKey.MUSIC_SWITCH,e),cc.audioEngine.isMusicPlaying()&&!e?this.StopBgMusic():!cc.audioEngine.isMusicPlaying()&&e&&this.PlayBgMusic()},PlayBgMusic:function PlayBgMusic(e){this._bgName=e||this._bgName,1==this.GetMusicSwitch()&&(yx.log("SoundMgr PlayBgMusic:"+this._bgName),yx.resUtil.LoadRes("audio/"+this._bgName,cc.AudioClip,function(e,t){e||cc.audioEngine.playMusic(t,!0)}))},StopBgMusic:function StopBgMusic(){yx.log("SoundMgr StopBgMusic"),cc.audioEngine.stopMusic()},GetEffectSwitch:function GetEffectSwitch(){return this.effectSwitch},SetEffectSwitch:function SetEffectSwitch(e){this.effectSwitch=e,yx.localStorage.Save(yx.LSKey.EFFECT_SWITCH,e)},PlayEffect:function PlayEffect(e){1==this.GetEffectSwitch()&&yx.resUtil.LoadRes("audio/"+e,cc.AudioClip,function(e,t){e||cc.audioEngine.playEffect(t,!1)})}},yx.SoundMgr=new yib,t.exports=yx.SoundMgr,cc._RF.pop()},{}],SplashWindow:[function(e,t,n){cc._RF.push(t,"0c623vsDpVLSLxihf7tkNC9","SplashWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],StuffItemWidget:[function(e,t,n){cc._RF.push(t,"82e5dnk1S1D3LMKwDw158Te","StuffItemWidget");var i=e("LongPressWidget"),y=[yx.StuffItemType.LINGSHI,yx.StuffItemType.SHIWU,yx.StuffItemType.MUCAI,yx.StuffItemType.YUNTIE],o=cc.Class({extends:cc.Component,statics:{isTipXianPuOpt:!1},properties:{itemTitleSprite:cc.Sprite,itemTitleLabel:cc.Label,itemTitleNum:cc.Label,chuLiangNum:cc.Label,chanLiangLabel:cc.Label,chanLiangNum:cc.Label,cunsumeTipLabel:cc.Label,xianPuNum:cc.Label,upLevelNumLabel:cc.Label,upLevelBtn:cc.Button,subBtn:cc.Button,addBtn:cc.Button,starLayout:cc.Layout,starSpriteFrame:cc.SpriteFrame,type:cc.Integer,lilianCostLabel:cc.Label,chuLiangTipLabel:cc.Label,descLabel:cc.Label},init:function init(){this.type=parseInt(this.type),this._initListener(),this.upLevelBtn.node.name="levelUp_"+this.type,this.addBtn.node.name="add_"+this.type},_initListener:function _initListener(){this.addBtn.node.addComponent(i).setCallBack(this.onAddBtnClick.bind(this)),this.subBtn.node.addComponent(i).setCallBack(this.onSubBtnClick.bind(this)),this.upLevelBtn.node.on("click",this.onUpLevelBtnClick,this)},calcuFoodChanLiang:function calcuFoodChanLiang(e,t){if(yx.caveMgr.getCaveData()){var n={},i={},o={};for(var r in y){var a=y[r];n[a]=yx.caveMgr.getStuffDataByType(a).curXianPu,i[a]=yx.caveMgr.getStuffDataByType(a).curLevel}n[e]+=t;var s,c=0,l=0;for(var u in y){var d=y[u],h=yx.cfgMgr.getRecordByKey("DongFuConfig",{Level:i[d],Type:d});h&&(h.PerCost[0]&&h.PerCost[0].count?o[d]=n[d]*h.PerCost[0].count:o[d]=0,c+=o[d],d===yx.StuffItemType.SHIWU&&(l=n[d]*h.PerReward[0].count))}s=l-c;var g=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()}),p=0;return g&&(p=g.Cost[0].count),s-p}yx.warn("StuffItemWidget init yx.caveMgr.getCaveData() 无数据!")},refresh:function refresh(){if(yx.caveMgr.getCaveData()){this.curStuffData=yx.caveMgr.getStuffDataByType(this.type),this.curItemConfigInfo=yx.cfgMgr.getRecordByKey("DongFuConfig",{Level:this.curStuffData.curLevel,Type:this.type}),this.curStuffData.curChuLiang=yx.caveMgr.getStuffNumByType(this.type),this.curStuffData.maxChuLiang=this.curItemConfigInfo.MaxVal,this.curStuffData.upgradeCost=this.curItemConfigInfo.UpgradeCost[0].count,this.curStuffData.maxXianPu=this.curItemConfigInfo.MaxXianPu,this.type==yx.StuffItemType.SHIWU?this.curStuffData.curCostShiWuLiang=0:(this.curStuffData.curCostShiWuLiang=this.curStuffData.curXianPu*this.curItemConfigInfo.PerCost[0].count,this.curStuffData.curChanLiang=this.curStuffData.curXianPu*this.curItemConfigInfo.PerReward[0].count);for(var e=yx.caveMgr.getStuffDataByType(yx.StuffItemType.SHIWU),t=yx.cfgMgr.getRecordByKey("DongFuConfig",{Level:e.curLevel,Type:yx.StuffItemType.SHIWU}),n=e.curXianPu*t.PerReward[0].count,i=0,o=1;o<=4;o++){var r=yx.caveMgr.getStuffDataByType(o);i+=r.curCostShiWuLiang?r.curCostShiWuLiang:0}e.curChanLiang=n-i;var a=yx.cfgMgr.getRecordByKey("ChapterConfig",{CID:yx.battleMgr.getCurGjCID()}),s=0;if(a&&(s=a.Cost[0].count),e.curChanLiang-=s,this.lilianCostLabel&&(this.lilianCostLabel.string=s),this.itemTitleNum.string=this.curStuffData.curLevel+"级",this.chuLiangNum.string=this.curStuffData.curChuLiang+"/"+this.curStuffData.maxChuLiang,this.chanLiangNum.string=this.curStuffData.curChanLiang,this.curStuffData.curChanLiang<0?(this.chanLiangNum.node.color=new cc.Color(255,0,0),this.chanLiangLabel.node.color=new cc.Color(255,0,0)):(this.chanLiangNum.node.color=new cc.Color(0,201,1),this.chanLiangLabel.node.color=new cc.Color(0,201,1)),this.upLevelNumLabel.string=this.curStuffData.upgradeCost+"木材",this.xianPuNum.string=this.curStuffData.curXianPu+"/"+this.curStuffData.maxXianPu,yx.playerMgr.isVip()){this.chuLiangTipLabel.node.active=!0;var c=this.curStuffData.maxChuLiang-this.curStuffData.curChuLiang;if(this.chuLiangNum.node.color=c<=0?yx.colorUtil.toCCColor(yx.colorUtil.TextRed):yx.colorUtil.toCCColor(yx.colorUtil.TextDarkGreen),this.curStuffData.curChanLiang<=0)this.chuLiangTipLabel.string="无产出";else if(c<=0)this.chuLiangTipLabel.string="已达到上限";else{var l=c/this.curStuffData.curChanLiang*10;this.chuLiangTipLabel.string=yx.timeUtil.seconds2hourMinChina(l)+" 后达到上限"}}else this.chuLiangTipLabel.node.active=!1;this.starLayout.node.removeAllChildren(!0);var u=yx.cfgMgr.getRecordByKey("DongFuOrderConfig",{Type:this.type});if(u){for(var d=0;d<u.Start;d++){var h=new cc.Node("star"+d);h.addComponent(cc.Sprite).spriteFrame=this.starSpriteFrame,this.starLayout.node.addChild(h)}this.descLabel.string=u.Des}}else yx.warn("StuffItemWidget init yx.caveMgr.getCaveData() 无数据!")},onUpLevelBtnClick:function onUpLevelBtnClick(){if(yx.log("onUpLevelBtnClick"),yx.caveMgr.getCaveData()&&(this.type!=yx.StuffItemType.LINGSHI||yx.CodeHelper.checkFuncOpen(63))){this.isEnougnStuff=!1;var e=this.curItemConfigInfo.UpgradeCost[0].count,t=yx.caveMgr.getStuffDataByType(yx.StuffItemType.MUCAI).curChuLiang,n=yx.cfgMgr.getRecordByKey("DongFuConfig",{Level:this.curStuffData.curLevel+1,Type:this.type});if(n){var i=n.MaxVal,o={content:""};o.content+="升级所需木材:"+t+"/"+e+"\n",o.content+="升级提升储量上限:"+i,e<=t&&(this.isEnougnStuff=!0);var r=new cc.Component.EventHandler;r.target=this.node,r.component="StuffItemWidget",r.handler="onUpLevelConfirmBtnClick",o.confirmCallback=r,yx.windowMgr.showWindow("textConfirm",o)}}},onUpLevelConfirmBtnClick:function onUpLevelConfirmBtnClick(){yx.caveMgr.getCaveData()&&(yx.log("onUpLevelConfirmBtnClick"),this.isEnougnStuff?yx.caveMgr.reqUpgradeDongfu(this.type):yx.ToastUtil.showListToast("木材不足"))},onSubBtnClick:function onSubBtnClick(){!yx.caveMgr.getCaveData()||(yx.log("onSubBtnClick"),this.type==yx.StuffItemType.LINGSHI&&!yx.CodeHelper.checkFuncOpen(63)||this.curStuffData.curXianPu<=0)||(this.type==yx.StuffItemType.SHIWU&&!o.isTipXianPuOpt&&this.calcuFoodChanLiang(this.type,-1)<=0?yx.TextConfirm.ShowConfirm("<size = 26><color=#FF0000>食物产出小于0，是否继续操作</color></size>\n<size = 24>（食物产出小于0时影响洞府资源正常运转，历练挂机也将不能获得任何收益）</size>",this._onSubXianPuComfirm.bind(this),null,null,null,null,null,this._onToggleClick,"本次登陆不再提示"):yx.caveMgr.reqChangeWorker(this.type,-1))},_onSubXianPuComfirm:function _onSubXianPuComfirm(e){yx.caveMgr.reqChangeWorker(this.type,-1);var t=e.toggle;o.isTipXianPuOpt=t.isChecked},_onAddXianPuComfirm:function _onAddXianPuComfirm(e){yx.caveMgr.reqChangeWorker(this.type,1);var t=e.toggle;o.isTipXianPuOpt=t.isChecked},_onToggleClick:function _onToggleClick(){yx.log("check")},onAddBtnClick:function onAddBtnClick(){!yx.caveMgr.getCaveData()||(yx.log("onAddBtnClick"),this.type==yx.StuffItemType.LINGSHI&&!yx.CodeHelper.checkFuncOpen(63)||this.curStuffData.curXianPu>=this.curItemConfigInfo.MaxXianPu)||(yx.playerMgr.getCurrency(yx.CyType.PUCON)<=0?yx.ToastUtil.showListToast("没有可用仙仆"):this.type!=yx.StuffItemType.LINGSHI&&this.type!=yx.StuffItemType.MUCAI&&this.type!=yx.StuffItemType.YUNTIE||o.isTipXianPuOpt||!(this.calcuFoodChanLiang(this.type,1)<=0)?yx.caveMgr.reqChangeWorker(this.type,1):yx.TextConfirm.ShowConfirm("<size = 26><color=#FF0000>食物产出小于0，是否继续操作</color></size>\n<size = 24>（食物产出小于0时影响洞府资源正常运转，历练挂机也将不能获得任何收益）</size>",this._onAddXianPuComfirm.bind(this),null,null,null,null,null,this._onToggleClick,"本次登陆不再提示"))}});t.exports=o,cc._RF.pop()},{LongPressWidget:"LongPressWidget"}],StuffWindow:[function(e,t,n){cc._RF.push(t,"0b1e84JhNpPA6rTmnt+qMMS","StuffWindow");var i=e("BaseWindow"),o=e("StuffItemWidget"),r=cc.Class({extends:i,properties:{timeProgressBar:cc.ProgressBar,timeLabel:cc.Label,idleXianpuLabel:cc.Label,idleXianpuAddBtn:cc.Button,itemLayout:cc.Layout,lingShiSrc:o,shiWuSrc:o,muCaiSrc:o,yunTieSrc:o,logRichText:cc.RichText,logScrollView:cc.ScrollView,maxXianPuNumLabel:cc.Label,buyXianPuCostNumLabel:cc.Label,autoUpgrateBtn:cc.Button},_onInit:function _onInit(){this.stuffItemWidgetArr=[],this.stuffItemWidgetArr.push(this.lingShiSrc),this.stuffItemWidgetArr.push(this.shiWuSrc),this.stuffItemWidgetArr.push(this.muCaiSrc),this.stuffItemWidgetArr.push(this.yunTieSrc),this.curTime=10.5,this.autoUpgrateBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.DongFuAuto),this.autoUpgrateBtn.node.active=yx.CodeHelper.checkFuncOpenShow(73),this._initLogEvent(),this.initEvenListener(),this.initLogRichListener(),this.initItemGroup()},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_refresh:function _refresh(){yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"dongfu"),this.lingShiSrc.refresh(),this.muCaiSrc.refresh(),this.yunTieSrc.refresh(),this.shiWuSrc.refresh(),this.refreshInfo()},initEvenListener:function initEvenListener(){this.autoUpgrateBtn.node.on("click",this.autoUpgrateBtnClick,this),this.idleXianpuAddBtn.node.on("click",this.onIdleXianpuAddBtnClick,this),yx.eventDispatch.addListener(yx.EventType.REFRESH_STUFF_WINDOW,this._refresh,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE_SHOW,this.onEventCurrencyChangeShow,this),yx.eventDispatch.addListener(yx.EventType.SWITCH_UPDATE,this.onEventSwitchAutoUpgrade,this)},onEventCurrencyChange:function onEventCurrencyChange(e){this.isShown()&&e&&(0==e[yx.CyType.LINGSHI]&&0==e[yx.CyType.SHIWU]&&0==e[yx.CyType.MUCAI]&&0==e[yx.CyType.YUNTIE]||this._refresh())},onEventCurrencyChangeShow:function onEventCurrencyChangeShow(e){if(this.isShown()&&e){for(var t=e.currency,n={lingshiNum:0,shiwuNum:0,mucaiNum:0,yuntieNum:0},i=0;i<t.length;i++){var o=t[i];switch(o.itemId){case yx.CyType.LINGSHI:n.lingshiNum=o.amount;break;case yx.CyType.SHIWU:n.shiwuNum=o.amount;break;case yx.CyType.MUCAI:n.mucaiNum=o.amount;break;case yx.CyType.YUNTIE:n.yuntieNum=o.amount}}yx.ToastUtil.showCaveToast(n,this.node)}this.curTime=10.5},initLogRichListener:function initLogRichListener(){this.node.on("Log_Event_Type",function(e){e.stopPropagation()})},initItemGroup:function initItemGroup(){this.lingShiSrc.init(),this.shiWuSrc.init(),this.muCaiSrc.init(),this.yunTieSrc.init(),this._sortItem()},_sortItem:function _sortItem(){this.shiWuSrc.index=yx.cfgMgr.getRecordByKey("DongFuOrderConfig",{Type:yx.StuffItemType.SHIWU}).Index,this.muCaiSrc.index=yx.cfgMgr.getRecordByKey("DongFuOrderConfig",{Type:yx.StuffItemType.MUCAI}).Index,this.yunTieSrc.index=yx.cfgMgr.getRecordByKey("DongFuOrderConfig",{Type:yx.StuffItemType.YUNTIE}).Index,this.lingShiSrc.index=yx.cfgMgr.getRecordByKey("DongFuOrderConfig",{Type:yx.StuffItemType.LINGSHI}).Index,this.stuffItemWidgetArr.sort(function(e,t){return e.index<t.index?-1:e.index==t.index?0:1});for(var e=0;e<this.stuffItemWidgetArr.length;e++)this.itemLayout.node.insertChild(this.stuffItemWidgetArr[e].node,e)},_updateProgressBar:function _updateProgressBar(e){this.curTime<=0||(this.curTime-=e,this.timeProgressBar.progress=this.curTime/10.5,this.timeLabel.string=yx.timeUtil.seconds2hourMinSecond(this.curTime))},update:function update(e){this._updateProgressBar(e)},autoUpgrateBtnClick:function autoUpgrateBtnClick(){var e=!this.autoUpgrateBtn.node.getChildByName("checkmark").active;e&&0<!yx.playerMgr.getItemUseCount(10233)?yx.windowMgr.showWindow("itemQuickBuyPanel",{bookType:yx.ItemQuickBuyPanel.QUICKBUY_XIANGONG}):yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.DongFuAuto,e)},onEventSwitchAutoUpgrade:function onEventSwitchAutoUpgrade(){this.autoUpgrateBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.DongFuAuto),yx.playerMgr.getSwitch(yx.proto.SwitchType.DongFuAuto)&&yx.caveMgr.reqDongfuInfo()},refreshInfo:function refreshInfo(){var e=yx.playerMgr.getCurrency(yx.CyType.PUCON);this.idleXianpuLabel.string=e;var t=yx.caveMgr.getCaveData();if(t){var n=t.buyTimes+1,i=yx.cfgMgr.getRecordByKey("XianPuExpandConfig",{Times:n});if(i){var o=i.Cost[0].count;this.buyXianPuCostNumLabel.string=o}else this.buyXianPuCostNumLabel.string="0";var r=0;for(var a in t.stuffData)r+=t.stuffData[a].curXianPu;this.maxXianPuNumLabel.string=r+e}},onIdleXianpuAddBtnClick:function onIdleXianpuAddBtnClick(){yx.log("onIdleXianpuAddBtnClick"),this.isEnougnFood=!1;var e=yx.caveMgr.getCaveData();if(e){var t=e.buyTimes+1,n=yx.cfgMgr.getRecordByKey("XianPuExpandConfig",{Times:t});if(n){var i=n.Cost[0].count;yx.caveMgr.getStuffDataByType(yx.StuffItemType.SHIWU).curChuLiang>=i&&(this.isEnougnFood=!0),this.isEnougnFood?yx.caveMgr.reqAddTotalWorker():yx.ToastUtil.showListToast("食物不足")}else yx.ToastUtil.showListToast("仙仆已满")}},_initLogEvent:function _initLogEvent(){yx.eventDispatch.addListener(yx.EventType.XIULIAN,this.onEventXiuLian,this),yx.eventDispatch.addListener(yx.EventType.LIANYAO_MAKE,this.onEventLianYaoBegin,this),yx.eventDispatch.addListener(yx.EventType.LIANQI_MAKE,this.onEventLianQiBegin,this),yx.eventDispatch.addListener(yx.EventType.LIANQI_AWARD,this.onEventLianQiEnd,this),yx.eventDispatch.addListener(yx.EventType.LIANYAO_AWARD,this.onEventLianYaoEnd,this),yx.eventDispatch.addListener(yx.EventType.DONGFU_UNLOCK_RES,this.onEventBuildUnLock,this),yx.eventDispatch.addListener(yx.EventType.DONGFU_BUILD_LEVELUP,this.onEventStuffUpgrade,this),yx.eventDispatch.addListener(yx.EventType.WUDAO_NOTIFY,this.onEventWuDaoAddNotifyRes,this)},onEventXiuLian:function onEventXiuLian(e){if(this.isShown()&&e){var t={};t.year=yx.timeUtil.getXiuLianYear(),t.index=0,e.type==yx.ShuGeItemType.DANDAO?t.name="丹道":t.name="器道",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventWuDaoAddNotifyRes:function onEventWuDaoAddNotifyRes(e){var t={};t.year=yx.timeUtil.getXiuLianYear(),t.index=11,t.name=e,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()},onEventLianYaoBegin:function onEventLianYaoBegin(){if(this.isShown()){var e={};e.year=yx.timeUtil.getXiuLianYear(),e.index=3,e.name="丹道",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",e),this.logScrollView.scrollToBottom()}},onEventLianQiBegin:function onEventLianQiBegin(){if(this.isShown()){var e={};e.year=yx.timeUtil.getXiuLianYear(),e.index=4,e.name="器道",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",e),this.logScrollView.scrollToBottom()}},onEventLianYaoEnd:function onEventLianYaoEnd(e){if(this.isShown()){var t={};t.year=yx.timeUtil.getXiuLianYear(),e.success?t.index=5:t.index=13,t.name=e.name,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventLianQiEnd:function onEventLianQiEnd(e){if(this.isShown()){var t={};t.year=yx.timeUtil.getXiuLianYear(),e.success?t.index=6:t.index=12,t.name=e.name,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventBuildUnLock:function onEventBuildUnLock(e){if(this.isShown()){var t={};t.year=yx.timeUtil.getXiuLianYear(),t.index=7,t.name=e,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}},onEventStuffUpgrade:function onEventStuffUpgrade(e){var t={};switch(t.year=yx.timeUtil.getXiuLianYear(),t.index=8,e.type){case yx.StuffItemType.LINGSHI:t.name="灵石矿脉";break;case yx.StuffItemType.SHIWU:t.name="牧场";break;case yx.StuffItemType.MUCAI:t.name="木材场";break;case yx.StuffItemType.YUNTIE:t.name="陨石地"}t.level=e.curLevel,yx.DiarysUtil.addShowTextToRichText(this.logRichText,"dongfu",t),this.logScrollView.scrollToBottom()}});yx.StuffWindow=t.exports=r,cc._RF.pop()},{BaseWindow:"BaseWindow",StuffItemWidget:"StuffItemWidget"}],TaskMgr:[function(e,t,n){cc._RF.push(t,"0d684XcVrhJrKDmghZwXNnQ","TaskMgr");for(var i=[],o=0;o<700;o++)i[o]=1e3+o+1;yx.TaskManager=function(){this._curTaskData=null,this._curStep=-1,this._waitStep=null,this._initInfoSuccess=!1,this._chuidiaoSpecialShowMap=!1,this._bossPKShowFinish=!1,this._bossPKAfterSpecial=!1},yx.TaskManager.prototype={constructor:yx.TaskManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.GUIDANCE_ACTIVITY,this.onMessageResponse),yx.eventDispatch.addListener(yx.EventType.BAG_REFRESH_SLOT,this.onEventBagRefresh,this),yx.eventDispatch.addListener(yx.EventType.PURCHASE_GOODS,this.onEventGoodsChange,this),yx.eventDispatch.addListener(yx.EventType.GONG_FA_CHANGE,this.onEventGongFaChange,this)},_resetSchedule:function _resetSchedule(){cc.Canvas.instance.unschedule(this._taskScheduleHandle),cc.Canvas.instance.schedule(this._taskScheduleHandle,1,cc.REPEAT_FOREVER,.1)},_initTutorNode:function _initTutorNode(){this.tutorNode=new cc.Node("tutor_node"),this.animDisplay=this.tutorNode.addComponent(dragonBones.ArmatureDisplay),yx.resUtil.loadDragonBones(this.animDisplay,"ui_effect/task/guide","MovieClip","newAnimation",null,-1)},_taskScheduleHandle:function _taskScheduleHandle(){var e=yx.taskMgr.getWaitStep();e&&yx.windowMgr.isShow(e.windowName)&&yx.taskMgr._startTutor()},Info:function Info(){yx.log("[TaskManager] Info ");var e=new yx.proto.C2S_PlayerGuidanceTask;e.cmdTyp=yx.proto.GuidanceCmdType.GetGuidanceTask_Cmd,yx.network.sendMessage(yx.proto.CmdId.GUIDANCE_ACTIVITY,e)},GetReward:function GetReward(e){yx.log("[TaskManager] GetReward ");var t=new yx.proto.C2S_PlayerGuidanceTask;t.cmdTyp=yx.proto.GuidanceCmdType.Received_Cmd,t.id=e,yx.network.sendMessage(yx.proto.CmdId.GUIDANCE_ACTIVITY,t)},setchuidiaoSpecialShowMap:function setchuidiaoSpecialShowMap(e){this._chuidiaoSpecialShowMap=e},getchuidiaoSpecialShowMap:function getchuidiaoSpecialShowMap(){return this._chuidiaoSpecialShowMap},setBossPKShowFinish:function setBossPKShowFinish(e){this._bossPKShowFinish=e},getBossPKShowFinish:function getBossPKShowFinish(){return this._bossPKShowFinish},setBossPKAfterSpecial:function setBossPKAfterSpecial(e){this._bossPKAfterSpecial=e},getBossPKAfterSpecial:function getBossPKAfterSpecial(){return this._bossPKAfterSpecial},getInitInfoSuccess:function getInitInfoSuccess(){return this._initInfoSuccess},onMessageResponse:function onMessageResponse(e,t){if(yx.log("TaskManager onMessageResponse-----"),null!=e&&0<e.length)yx.log("[TaskManager onMessageResponse] error:"+e);else{var n=yx.proto.S2C_PlayerGuidanceTask.decode(t);yx.taskMgr.setData(n)}},_finishSpecialHandle:function _finishSpecialHandle(e,t){var n=yx.windowMgr.getCurWindowOrPanel(),i=yx.cfgMgr.getOneRecord("TaskConfig",{ID:e.guidanceInfo.id});"BattleMapWindow"==n.name?yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_TASK_TO_LILIAN):"chuangXianWindow"==n.name?setTimeout(function(){var e=yx.windowMgr.getCurWindowOrPanel();yx.resUtil.playEffect("TaskFinishEffect",e,!1,0,300)},1e3):i.Type==yx.proto.PlayerTaskType.ThroughNewMap?(yx.taskMgr.setBossPKShowFinish(!0),yx.taskMgr.setBossPKAfterSpecial(!0)):t||yx.resUtil.playEffect("TaskFinishEffect",n,!1,0,300),i.Type==yx.proto.PlayerTaskType.GoFishing&&yx.taskMgr.setchuidiaoSpecialShowMap(!0)},setData:function setData(e){var t=!1;this._initInfoSuccess||e.cmdTyp!=yx.proto.GuidanceCmdType.GetGuidanceTask_Cmd||(this._initTutorNode(),t=this._initInfoSuccess=!0);var n=!1;if(e.guidanceInfo){if(yx.eventDispatch.dispatchMsg(yx.EventType.TASK_UPDATE,e),e.guidanceInfo.state==yx.proto.GuidanceStateType.Finish&&(yx.log("TaskFinishEffect id =="+e.guidanceInfo.id),this._finishSpecialHandle(e,t),yx.taskMgr._gotoNextStep()),this._curTaskData&&this._curTaskData.serverData.id!=e.guidanceInfo.id){n=!0;var i="",o=yx.cfgMgr.getOneRecord("TaskConfig",{ID:this._curTaskData.serverData.id});if(0<o.Reward.length)for(var r=0;r<o.Reward.length;r++){var a=o.Reward[r];i="获得:"+yx.bagMgr.GetItemName(a.id)+"*"+a.count,yx.ToastUtil.showListToast(i)}}var s={};s.serverData=e.guidanceInfo;var c=yx.cfgMgr.getOneRecord("TaskConfig",{ID:e.guidanceInfo.id}),l=yx.cfgMgr.getRecordList("GuideConfig",{ID:c.Guide});s.step=l,s.totalRepeatCount=c.Count-e.guidanceInfo.process1,s.repeatCount=1,this._curTaskData=s}else this._curTaskData=null;yx.eventDispatch.dispatchMsg(yx.EventType.REFRESH_TASK_PANEL,{change:n})},getCurTask:function getCurTask(){return this._curTaskData},_getStepData:function _getStepData(){return this._curTaskData.step[this._curStep]},getWaitStep:function getWaitStep(){return this._waitStep},_clearCurTask:function _clearCurTask(){this.tutorNode&&(this.tutorNode.isValid||this._initTutorNode(),this.tutorNode.removeFromParent(!1),this._curStep=-1,this._waitStep=null)},_findNode:function _findNode(e){var t=e.param;"LilianBottomBtn"==e.param&&yx.playerMgr.getCurGameWorld()==yx.proto.WorldType.Sky&&(t="SkyLilianBottomBtn");var n=yx.cfgMgr.getOneRecord("TaskConfig",{ID:this._curTaskData.serverData.id}),i=null;switch(e.action){case yx.GuideActionType.TYPE_3:return yx.windowMgr.getNodeOfWindow(e.windowName,t+n.Value[0]);case yx.GuideActionType.TYPE_1:case yx.GuideActionType.TYPE_2:if((i=yx.windowMgr.getWinComponent(e.windowName))&&i.findBagItemByAction)return i.findBagItemByAction(e.action,n.Value[0]);break;case yx.GuideActionType.TYPE_4:case yx.GuideActionType.TYPE_5:if((i=yx.windowMgr.getWinComponent(e.windowName))&&i.getGongFaNodeByType)return i.getGongFaNodeByType(e.action);break;case yx.GuideActionType.TYPE_6:if((i=yx.windowMgr.getWinComponent(e.windowName))&&i.getFangShiNodeByType)return i.getFangShiNodeByType(e.action);break;default:return yx.windowMgr.getNodeOfWindow(e.windowName,t)}return null},_checkTarget:function _checkTarget(e,t,n){var i=t.param;"LilianBottomBtn"==t.param&&yx.playerMgr.getCurGameWorld()==yx.proto.WorldType.Sky&&(i="SkyLilianBottomBtn");var o=yx.cfgMgr.getOneRecord("TaskConfig",{ID:this._curTaskData.serverData.id});switch(t.action){case yx.GuideActionType.TYPE_3:e.name==i+o.Value[0]&&(n.winName=t.windowName,yx.windowMgr.findRoot(e,n));break;case yx.GuideActionType.TYPE_1:case yx.GuideActionType.TYPE_2:(r=yx.windowMgr.getWinComponent(t.windowName))&&r.findBagItemByAction&&e==r.findBagItemByAction(t.action,o.Value[0])&&(n.rlt=!0);break;case yx.GuideActionType.TYPE_4:case yx.GuideActionType.TYPE_5:(r=yx.windowMgr.getWinComponent(t.windowName))&&r.getGongFaNodeByType&&e==r.getGongFaNodeByType(t.action)&&(n.rlt=!0);break;case yx.GuideActionType.TYPE_6:var r=yx.windowMgr.getWinComponent(t.windowName);r&&r.getFangShiNodeByType&&e==r.getFangShiNodeByType(t.action)&&(n.rlt=!0);break;default:e.name==i&&(n.winName=t.windowName,yx.windowMgr.findRoot(e,n))}},_startTutorSpecialHandel:function _startTutorSpecialHandel(e){if("bag"==e.windowName&&(e.action==yx.GuideActionType.TYPE_1||e.action==yx.GuideActionType.TYPE_2||"bagItem_"==e.param)){var t=yx.windowMgr.getWinComponent("bag");t&&t.moveToTutorPosition&&t.moveToTutorPosition()}if("gongfa"==e.windowName&&e.action==yx.GuideActionType.TYPE_4){var n=yx.windowMgr.getWinComponent("gongfa");n&&n.isTargetTab&&n.isTargetTab()&&this._gotoNextStep()}},_startTutor:function _startTutor(){if(this._curTaskData&&this._getStepData()){var e=this._getStepData();if(this.tutorNode.isValid||this._initTutorNode(),this.tutorNode.removeFromParent(!1),!yx.windowMgr.isShow(e.windowName))return this._waitStep=e,void this._resetSchedule();var t=this._findNode(e);if(!t||!t.active)return this._waitStep=e,void this._resetSchedule();t.addChild(this.tutorNode),"BackBtn"==e.param?this.tutorNode.setPosition(50,-35):this.tutorNode.setPosition(0,0),this._waitStep=null,this._startTutorSpecialHandel(e)}},_gotoNextStep:function _gotoNextStep(){if(this._curTaskData&&this._getStepData()){if(""!=this._getStepData().repeatStep&&this._curTaskData.repeatCount<this._curTaskData.totalRepeatCount)return this._curStep=this._getStepData().repeatStep-1,void this._startTutor();this._curStep=this._curStep+1,this._curStep<this._curTaskData.step.length?this._startTutor():this._clearCurTask()}},check:function check(e){if(this._curTaskData&&this._getStepData()&&e&&this.getCurTask()){var t=this._getStepData(),n={};this._checkTarget(e,t,n),n.rlt&&(1==t.clear?""!=this._getStepData().repeatStep&&this._curTaskData.repeatCount<this._curTaskData.totalRepeatCount&&this._gotoNextStep():2==t.clear?this.tutorNode&&this.tutorNode.isValid&&this.tutorNode.removeFromParent(!1):this._gotoNextStep())}},clickTaskItem:function clickTaskItem(){var e=yx.taskMgr.getCurTask();if(e)switch(this._waitStep=null,e.serverData.state){case yx.proto.GuidanceStateType.Processing:this._curStep=0,this._startTutor();break;case yx.proto.GuidanceStateType.Finish:yx.taskMgr.GetReward(e.serverData.id);break;case yx.proto.GuidanceStateType.Received:yx.log("clickTaskItem 已领取状态 不存在")}},addTutor:function addTutor(e,t){this._clearCurTask(),this.tutorNode&&(e.addChild(this.tutorNode),t?this.tutorNode.setPosition(t.x,t.y):this.tutorNode.setPosition(0,0))},removeTutor:function removeTutor(){this._clearCurTask()},onEventBagRefresh:function onEventBagRefresh(){this._reCheckCurStep("bag")},onEventGoodsChange:function onEventGoodsChange(){this._reCheckCurStep("fangshi")},onEventGongFaChange:function onEventGongFaChange(){this._reCheckCurStep("gongfa")},_reCheckCurStep:function _reCheckCurStep(e){if(this._curTaskData&&this._getStepData()){var t=this._getStepData();if(e==yx.windowMgr.getCurWindowName()&&e==t.windowName&&yx.windowMgr.isShow(e)){this.tutorNode&&this.tutorNode.isValid&&this.tutorNode.removeFromParent(!1);var n=this._findNode(t);n&&n.active&&(n.addChild(this.tutorNode),"BackBtn"==t.param?this.tutorNode.setPosition(50,-35):this.tutorNode.setPosition(0,0))}}}},yx.taskMgr=new yx.TaskManager,t.exports=yx.taskMgr,cc._RF.pop()},{}],TextConfirm:[function(e,t,n){cc._RF.push(t,"12b13U2rw5O1ZyB1kc2eCOy","TextConfirm");var i=e("BaseWindow"),o=cc.Class({extends:i,properties:{titleLabel:cc.Label,cancelBtn:cc.Button,confirmBtn:cc.Button,closeBtn:cc.Button,cancelBtnLabel:cc.Label,confirmBtnLabel:cc.Label,contentRichText:cc.RichText,toggleGroup:cc.Node,toggle:cc.Toggle,toggleText:cc.Label,_confirmCallback:null,_cancelCallback:null,_closeCallback:null,maspBtn:cc.Button},statics:{ShowConfirm:function ShowConfirm(e,t,n,i,o,r,a,s,c,l,u){var d=9<arguments.length&&void 0!==l&&l,h=u,g={};g.content=e,g.confirmCallback=t,g.cancelCallback=n,g.closeCallback=i,g.titleName=o,g.cancelBtnName=r,g.confirmBtnName=a,g.toggleCallback=s,g.toggleText=c,g.bgNotCanClick=d,g.nodeName=h,yx.windowMgr.showWindow("textConfirm",g)},ShowHint:function ShowHint(e,t,n,i){var o=2<arguments.length&&void 0!==n&&n,r=i,a={};a.content=e,a.confirmCallback=t,a.onlyHint=!0,a.bgNotCanClick=o,a.nodeName=r,yx.windowMgr.showWindow("textConfirm",a)},ShowConfirmAndClose:function ShowConfirmAndClose(e,t,n,i){var o=!(3<arguments.length&&void 0!==i)||i,r={};r.content=e,r.confirmCallback=t,r.closeCallback=n,r.hideCancel=!0,r.bgNotCanClick=o,yx.windowMgr.showWindow("textConfirm",r)}},_onInit:function _onInit(e){e.bgNotCanClick||this.maspBtn.node.on("click",this.onCloseBtnClick,this),e.nodeName&&(this.node.name=e.nodeName),this.cancelBtn.node.on("click",this.onCancelBtnClick,this),this.confirmBtn.node.on("click",this.onConfirmBtnClick,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.toggle.node.on("click",this.onToggleClick,this),this.contentRichText.string=e.content,1==e.onlyHint&&(this.cancelBtn.node.active=!1,this.closeBtn.node.active=!1),e.hideCancel&&(this.cancelBtn.node.active=!1),e.titleName&&0<e.titleName.length&&(this.titleLabel.string=e.titleName),e.cancelBtnName&&0<e.cancelBtnName.length&&(this.cancelBtnLabel.string=e.cancelBtnName),e.confirmBtnName&&0<e.confirmBtnName.length&&(this.confirmBtnLabel.string=e.confirmBtnName),e.toggleText&&(this.toggleText.string=e.toggleText),this._confirmCallback=e.confirmCallback,this._cancelCallback=e.cancelCallback,this._closeCallback=e.closeCallback,this._toggleCallback=e.toggleCallback,this._toggleCallback?this.toggleGroup.active=!0:this.toggleGroup.active=!1},onCancelBtnClick:function onCancelBtnClick(){yx.windowMgr.goBack(),this._cancelCallback&&this._cancelCallback()},onConfirmBtnClick:function onConfirmBtnClick(){yx.windowMgr.goBack(),this._doCallback(this._confirmCallback)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack(),this._doCallback(this._closeCallback)},_doCallback:function _doCallback(e){e&&(e instanceof cc.Component.EventHandler?e.emit([]):e instanceof Function&&e(this))},onToggleClick:function onToggleClick(){this._doCallback(this._toggleCallback)}});yx.TextConfirm=t.exports=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],TextDict:[function(e,t,n){var i,o,r,a,s,c,l,u,d,h,g,p,y,f,v,x;function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"00213wLlT1OibmDiaGvqjqC","TextDict"),t.exports=yx.textDict={Attr:(v={},x=Object.create(v),v[1]=x.TiPo="体魄",v[2]=x.ZhenQi="真气",v[3]=x.GenGu="根骨",v[4]=x.ShenFa="身法",v[5]=x.LingLi="灵力",v[6]=x.WuXing="悟性",v[7]=x.JiYuan="机缘",v[101]=x.JinXi="金系伤害",v[102]=x.MuXi="木系伤害",v[103]=x.ShuiXi="水系伤害",v[104]=x.HuoXi="火系伤害",v[105]=x.TuXi="土系伤害",v[201]=x.RenZu="人族伤害",v[202]=x.YaoZu="妖族伤害",v[203]=x.MoZu="魔族伤害",v[204]=x.ShouZu="兽族伤害",v[205]=x.LongZu="龙族伤害",v[206]=x.XianRen="仙人伤害",v[301]=x.ZhengQi="正气",v[302]=x.XieQi="邪气",v[1001]=x.ShengMing="生命",v[1002]=x.GongJi="攻击",v[1003]=x.FangYu="防御",v[1004]=x.ShanBi="闪避",v[1005]=x.BaoJi="暴击",v[1006]=x.XiuLianSuDu="修炼速度",v[1007]=x.LingLiHuoQu="灵力获取",v[501]=x.JinXiGongFa="金系功法",v[502]=x.MuXiGongFa="木系功法",v[503]=x.ShuiXiGongFa="水系功法",v[504]=x.HuoXiGongFa="火系功法",v[505]=x.TuXiGongFa="土系功法",x),SecAttrName:(m(i={},1,"生命"),m(i,2,"攻击"),m(i,3,"防御"),m(i,4,"闪避"),m(i,5,"暴击"),m(i,6,"修炼速度"),m(i,7,"灵气获取"),i),WuDaoTypeName:(m(o={},1,"金系功法"),m(o,2,"木系功法"),m(o,3,"水系功法"),m(o,4,"火系功法"),m(o,5,"土系功法"),o),GongFaTypeName:(m(r={},1,"招式"),m(r,2,"秘籍"),m(r,3,"遁术"),m(r,4,"绝学"),m(r,5,"心经"),m(r,6,"真诀"),m(r,7,"残页"),m(r,8,"门派技能"),r),Title:{LingGen:"妖丹",GongFa:"功法",MenPai:"门派",DongFu:"洞府",LiLian:"历练"},MainWindow:{Year:"年"},ChineseNum:(m(a={},1,"一"),m(a,2,"二"),m(a,3,"三"),m(a,4,"四"),m(a,5,"五"),m(a,6,"六"),m(a,7,"七"),m(a,8,"八"),m(a,9,"九"),m(a,10,"仙一"),m(a,11,"仙二"),m(a,12,"仙三"),m(a,13,"仙四"),m(a,14,"仙五"),m(a,15,"仙六"),m(a,16,"仙七"),m(a,17,"仙八"),m(a,18,"仙九"),a),ItemPinZhi:(m(s={},0,"一阶"),m(s,1,"一阶"),m(s,2,"二阶"),m(s,3,"三阶"),m(s,4,"四阶"),m(s,5,"五阶"),m(s,6,"六阶"),m(s,7,"七阶"),m(s,8,"八阶"),m(s,9,"九阶"),m(s,10,"仙品一阶"),m(s,11,"仙品二阶"),m(s,12,"仙品三阶"),m(s,13,"仙品四阶"),m(s,14,"仙品五阶"),m(s,15,"仙品六阶"),m(s,16,"仙品七阶"),m(s,17,"仙品八阶"),m(s,18,"仙品九阶"),m(s,19,"神品一阶"),m(s,20,"神品二阶"),m(s,21,"神品三阶"),m(s,22,"神品四阶"),m(s,23,"神品五阶"),m(s,24,"神品六阶"),m(s,25,"神品七阶"),m(s,26,"神品八阶"),m(s,27,"神品九阶"),m(s,999,"神品九阶"),m(s,"getQualityText",function(e){return this[e]||this[999]}),s),QualityColor:(m(c={},0,"#46A142"),m(c,1,"#46A142"),m(c,2,"#46A142"),m(c,3,"#46A142"),m(c,4,"#2D94C9"),m(c,5,"#2D94C9"),m(c,6,"#2D94C9"),m(c,7,"#AE4DE6"),m(c,8,"#AE4DE6"),m(c,9,"#AE4DE6"),m(c,10,"#F25B00"),m(c,11,"#F25B00"),m(c,12,"#F25B00"),m(c,13,"#fe3131"),m(c,14,"#fe3131"),m(c,15,"#fe3131"),m(c,16,"#fcff06"),m(c,17,"#fcff06"),m(c,18,"#fcff06"),m(c,19,"#ffd800"),m(c,20,"#ffd800"),m(c,21,"#ffd800"),m(c,22,"#ffd800"),m(c,23,"#ffd800"),m(c,24,"#ffd800"),m(c,25,"#ffd800"),m(c,26,"#ffd800"),m(c,27,"#ffd800"),m(c,"getQualityColor",function(e){return this[e]||this[27]}),c),QualityLightColor:(m(l={},0,"#00c901"),m(l,1,"#00c901"),m(l,2,"#00c901"),m(l,3,"#00c901"),m(l,4,"#8ed6f1"),m(l,5,"#8ed6f1"),m(l,6,"#8ed6f1"),m(l,7,"#e785ff"),m(l,8,"#e785ff"),m(l,9,"#e785ff"),m(l,10,"#ff5603"),m(l,11,"#ff5603"),m(l,12,"#ff5603"),m(l,13,"#fe3131"),m(l,14,"#fe3131"),m(l,15,"#fe3131"),m(l,16,"#fcff06"),m(l,17,"#fcff06"),m(l,18,"#fcff06"),m(l,19,"#ffd800"),m(l,20,"#ffd800"),m(l,21,"#ffd800"),m(l,22,"#ffd800"),m(l,23,"#ffd800"),m(l,"getQualityColor",function(e){return this[e]||this[23]}),l),shuGeWuDaoRecord:(m(u={},1,"读到了某些精彩之处，不禁拍案叫绝"),m(u,2,"读了一小会突然停了下来，若有所思"),m(u,3,"参悟良久，有些困顿，沏了杯茶醒神"),m(u,4,"想通了某些关键之处，不禁喜上眉梢"),m(u,5,"读到了晦涩难懂之处，不禁眉头紧蹙"),m(u,6,"难以理解其中要义，在洞府踱步不止"),m(u,7,"有所感悟，便用玉简记录下心得体会"),m(u,8,"有所感悟，便用玉简记录下心得体会"),m(u,9,"有所感悟，便用玉简记录下心得体会"),m(u,10,"有所感悟，便用玉简记录下心得体会"),m(u,"getRandomValues",function(){return this[Math.floor(10*Math.random()+1)]}),u),shuGeDanDaoRecord:(m(d={},1,"研读丹籍中"),m(d,2,"冥想沉思中"),m(d,3,"熟悉药材中"),m(d,4,"推敲丹理中"),m(d,5,"实践炼制中 "),m(d,"getValue",function(e){return 1<=e&&e<=4?this[e]:this[5]}),d),shuGeQiDaoRecord:(m(h={},1,"研读书籍中"),m(h,2,"冥想沉思中"),m(h,3,"熟悉材料中"),m(h,4,"推敲锻术中"),m(h,5,"实践锻造中 "),m(h,"getValue",function(e){return 1<=e&&e<=4?this[e]:this[5]}),h),ZhongZu:(m(g={},1,"人族"),m(g,2,"妖族"),m(g,3,"魔族"),m(g,4,"仙族"),m(g,5,"龙族 "),m(g,6,"兽族 "),g),Fight:{ShanBi:"<color=#de4a4a>{atkName}</color>一招<color=#d25910>{zhaoshiName}</color>使出，<color=#0cb181>{defName}</color>身形弹起，轻轻避过。",BaoJi:"<color=#de4a4a>{atkName}</color>一招<color=#d25910>{zhaoshiName}</color>使出，<color=#0cb181>{defName}</color>闷哼一声，显然受了内伤（造成<color=#f52424>{damage}</color>暴击伤害）",Normal:"<color=#de4a4a>{atkName}</color>一招<color=#d25910>{zhaoshiName}</color>使出，<color=#0cb181>{defName}</color>闷哼一声，显然受了内伤（造成<color=#f52424>{damage}</color>伤害）",Succ:"<color=#de4a4a>{atkName}</color>击溃敌人，取得胜利！",Fail:"<color=#0cb181>{atkName}</color>击溃玩家，重伤逃亡！"},DuJie:{DuJieing:["远处天空传来雷声呼啸","一片雾气在这闷闷轰鸣下如卷起的大浪一般轰轰来临","接着闪电一道接一道的落下","每一道银白色的闪电都直指{name}","数声巨响之后雷云散去"],Succ:"只见{name}毫发无损,渡劫成功!\n境界提升至 <color=#ffe683>{levelName}</color>",Fail:"只见{name}身负重伤\n渡劫失败并且损失{num}点修为"},DanYaoLevelName:(m(p={},-1,"全部"),m(p,0,"仙酿"),m(p,1,"一阶丹药"),m(p,2,"二阶丹药"),m(p,3,"三阶丹药"),m(p,4,"四阶丹药"),m(p,5,"五阶丹药"),m(p,6,"六阶丹药"),m(p,7,"七阶丹药"),m(p,8,"八阶丹药"),m(p,9,"九阶丹药"),m(p,10,"凡级仙丹"),m(p,11,"黄级仙丹"),m(p,12,"玄级仙丹"),m(p,13,"地级仙丹"),m(p,14,"天级仙丹"),m(p,15,"一阶神丹"),m(p,16,"二阶神丹"),m(p,17,"三阶神丹"),m(p,18,"四阶神丹"),m(p,19,"五阶神丹"),m(p,20,"六阶神丹"),m(p,21,"七阶神丹"),m(p,22,"八阶神丹"),m(p,23,"九阶神丹"),m(p,24,"特殊丹药"),p),RiZhiPanel:(m(y={},1,"身与心融，大道之行。"),m(y,2,"金光耀世，紫光氤氲，无色万千。"),m(y,3,"悉万物之始转终，神游太虚，推演万物。"),m(y,4,"身化万千，一心二用，日月行踪。"),m(y,5,"悟天地之道，修境界之本。"),m(y,6,"清净识，断自念，顺天地。"),m(y,7,"大乘一出，万法皆枯。"),m(y,8,"天火六转，心雷九变。"),m(y,9,"渡无相心魔，御仙道法力。"),m(y,10,"无中生有，创道而立。"),m(y,11,"天仙者，通尽天道之法。"),m(y,12,"三花聚顶、五气朝元。"),m(y,13,"“道”无形无象，而又生育天地万物。得道者不老不死永生不灭。"),m(y,14,"<color=#1d8d00>【1年】</color><color=#bb1f29>{name}</color>开启了修真之旅"),m(y,15,"【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{name}</color>历经磨难，成功渡劫，修为提升至<color=#bb1f29>{levelName}</color>。"),m(y,16,"【<color=#1d8d00>{year}年</color>】<color=#bb1f29>{name}</color>吞吐元气，化虚为实，一心淬炼肉体，成功晋升到<color=#bb1f29>{levelName}</color>"),m(y,17,"道可道，非常道；名可名，非常名。\n无名，万物之始，有名，万物之母。\n故常无欲，以观其妙，常有欲，以观其徼。\n此两者，同出而异名，同谓之玄，玄之又玄，众妙之门。"),y),XianMengZhiWei:(m(f={},0,"成员"),m(f,1,"副盟主"),m(f,2,"盟主"),f)},cc._RF.pop()},{}],TimeProBarWidget:[function(e,t,n){cc._RF.push(t,"307bbFyQLREbodzh62Fyjwn","TimeProBarWidget");var r=cc.Class({extends:cc.Component,statics:{_scheduleMap:new Map},properties:{contentTimeLabel:cc.Label,progressBar:cc.ProgressBar},updateAndBegin:function updateAndBegin(e,t,n,i,o){t.curTime<0||(n=n||"",o=o||"",this.cb=i,this._uniqueKey=e,this._data=t,this.contentStr=n,this.endStr=o,r._scheduleMap.get(this._uniqueKey)||(this.refresh(this._data.curTime,this._data.maxTime),this.scheduleCallback=this._progressCallBack.bind(this),cc.Canvas.instance.schedule(this.scheduleCallback,1,cc.macro.REPEAT_FOREVER,0),r._scheduleMap.set(this._uniqueKey,!0)))},refresh:function refresh(e,t,n,i){this.progressBar.progress=e/t,n&&0<n.length&&(this.contentStr=n),i&&0<i.length&&(this.endStr=i),this.contentTimeLabel.string=this.contentStr+" "+yx.timeUtil.seconds2hourMinSecond(this._data.curTime)+this.endStr},_progressCallBack:function _progressCallBack(){this.cb(this,this._data)},unSchedule:function unSchedule(){cc.Canvas.instance.unschedule(this.scheduleCallback),r._scheduleMap.set(this._uniqueKey,!1)}});cc._RF.pop()},{}],TimeUtil:[function(e,t,n){cc._RF.push(t,"bdfc6kffWdDwIavtk2VGWIk","TimeUtil");var i=0,o=0,r=0,a={ONE_MIN:60,ONE_HOUR:3600,ONE_DAY:86400,ONE_MON:2592e3,setServerTime:function setServerTime(e){i=(new Date).setTime(e),r=Date.now(),6e5<Math.abs(r-i)&&(r=i)},setCreateTime:function setCreateTime(e){o=(new Date).setTime(e)},getServerTime:function getServerTime(){return i+this._getRunTime()},getXiuLianYear:function getXiuLianYear(){return this.millis2year(this.getServerTime()-o)},getXiuLianByTime:function getXiuLianByTime(e){return this.millis2year(e-o)},getCreateTime:function getCreateTime(){return o},_getRunTime:function _getRunTime(){var e=Date.now()-r;return e<0&&yx.warn("[TimeUtil getRunTime] 系统时间可能被修改"),e},minutes2year:function minutes2year(e){return this.seconds2year(60*e)},minutes2Hour:function minutes2Hour(e){return parseInt(e/60)},seconds2year:function seconds2year(e){var t=e/900;return Math.ceil(t)},millis2year:function millis2year(e){return this.seconds2year(e/1e3)},seconds2hourMinSecond:function seconds2hourMinSecond(e){var t=parseInt(e),n=0,i=0;60<=t&&(n=parseInt(t/60),t=parseInt(t%60),60<=n&&(i=parseInt(n/60),n=parseInt(n%60)));var o=""+(t=this._addZero(t));return o=(n=this._addZero(n))+":"+o,0<i&&(o=(i=this._addZero(i))+":"+o),o},seconds2hourMinSecondChina:function seconds2hourMinSecondChina(e){var t=parseInt(e),n=0,i=0;60<=t&&(n=parseInt(t/60),t=parseInt(t%60),60<=n&&(i=parseInt(n/60),n=parseInt(n%60)));var o=""+(t=this._addZero(t));return o=(n=this._addZero(n))+"分"+o+"秒",0<i&&(o=(i=this._addZero(i))+"时"+o),o},seconds2DayHourMinSecondChina:function seconds2DayHourMinSecondChina(e){var t=Math.floor(e/86400),n=e%86400,i=this.seconds2hourMinSecondChina(n);return t<=0?i:t+"天"+i},seconds2hourMinChina:function seconds2hourMinChina(e){var t=parseInt(e),n=0,i=0;60<=t&&(n=parseInt(t/60),t=parseInt(t%60),60<=n&&(i=parseInt(n/60),n=parseInt(n%60)));var o=(n=this._addZero(n))+"分";return(i=this._addZero(i))+"时"+o},_addZero:function _addZero(e){return(e=parseInt(e))<10?"0"+parseInt(e):""+parseInt(e)},getTimeString:function getTimeString(e){return"{hh}:{mm}:{ss}.{ms}".format({hh:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),ms:e.getMilliseconds()})},getNowTimeString:function getNowTimeString(){var e=new Date;return this.getTimeString(e)},TimestampToDate:function TimestampToDate(e){var t=new Date;return t.setTime(e),t},IsSameDay:function IsSameDay(e,t){var n=new Date;n.setTime(e);var i=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),a=new Date;a.setTime(t);var s=a.getFullYear(),c=a.getMonth()+1,l=a.getDate();return i==s&&o==c&&r==l},getDayHour:function getDayHour(e){var t=Math.floor(e/86400),n=Math.ceil(e%86400/3600);24==n&&(t+=1,n=0);var i=t+"天",o=n+"小时";return 0==t&&(i=""),0==n&&(o=""),i+o},getDateDiffDay:function getDateDiffDay(e,t){var n=yx.timeUtil.TimestampToDate(e),i=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" 00:00:00",o=new Date(i).getTime(),r=yx.timeUtil.TimestampToDate(t),a=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" 00:00:00",s=new Date(a).getTime();return s<o?-Math.floor((o-s)/864e5):Math.floor((s-o)/864e5)},timestampToYMD:function timestampToYMD(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+t.getDate()+" "},timestampToYMDHMS:function timestampToYMDHMS(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},timestampToMDHM:function timestampToMDHM(e){var t=new Date(e),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate(),o=t.getHours(),r=t.getMinutes();return this._addZero(n)+"月"+this._addZero(i)+"日"+this._addZero(o)+":"+this._addZero(r)},timeToOffline:function timeToOffline(e){var t=(yx.timeUtil.getServerTime()-e)/1e3;return t<=yx.timeUtil.ONE_HOUR?Math.floor(t/yx.timeUtil.ONE_MIN)+"分钟":t<=yx.timeUtil.ONE_DAY?Math.floor(t/yx.timeUtil.ONE_HOUR)+"小时":t<=yx.timeUtil.ONE_MON?Math.floor(t/yx.timeUtil.ONE_DAY)+"天":t<=3*yx.timeUtil.ONE_MON?Math.floor(t/yx.timeUtil.ONE_MON)+"月":"很久之前"}};t.exports=yx.timeUtil=a,cc._RF.pop()},{}],ToastUtil:[function(e,t,n){cc._RF.push(t,"ad860CNI2pM6pzm4xKbk2ol","ToastUtil"),e("assert");function lob(){this._preActionList=[],this._curActionList=[],this._isOnSchedule=!1,this._txtTipNodePool=new cc.NodePool}var i="prefabs/widgets/ListToastWidget",o="prefabs/widgets/SimpleToastWidget";lob.prototype={listToastMap:new Map,_moveTextTipPrefab:null,preLoad:function preLoad(){yx.resUtil.LoadRes(i,function(e,t){e?yx.warn(i+" is not exist!"):this._moveTextTipPrefab=t}.bind(this))},_reset:function _reset(){if(this._curActionList)for(var e=0;e<this._curActionList.length;e++)this._curActionList[e].removeFromParent(!0);this._preActionList=[],this._curActionList=[],this._isOnSchedule=!1},showToast:function showToast(e){var t=yx.windowMgr.getPopUpNode();if(t){var n=this.listToastMap.get(t);n?n._doSchedule(t):((n=new lob)._reset(),this.listToastMap.set(t,n));var i=n._getTextTipNodeFromPool();i&&(i.getComponent("ListToastWidget").setContent(e),i.guaZaiNode=t,n._preActionList.push(i),n._doSchedule())}else yx.warn("showListToast 传入的parentNode 不可为null")},removeCurActionNode:function removeCurActionNode(e){for(var t=this.listToastMap.get(e.parent),n=0;n<t._curActionList.length;n++)if(e==t._curActionList[n]){var i=t._curActionList.splice(n,1)[0];t._txtTipNodePool.put(i);break}},isCurActionListFirst:function isCurActionListFirst(e){return this.listToastMap.get(e.parent)._curActionList[0]==e},_putPreactionToCuraction:function _putPreactionToCuraction(){if(0<this._preActionList.length){var e=this._preActionList.shift();return this._curActionList.push(e),e}return null},_getTextTipNodeFromPool:function _getTextTipNodeFromPool(){var e=null;return(e=0<this._txtTipNodePool.size()?this._txtTipNodePool.get():cc.instantiate(this._moveTextTipPrefab))&&e.getComponent("ListToastWidget").init(),e},_doSchedule:function _doSchedule(){if(!this._isOnSchedule){this._isOnSchedule=!0;var e=cc.macro.REPEAT_FOREVER;this._callback=function(){var e=!1;if(0==this._curActionList.length)e=!0;else if(0<this._curActionList.length){var t=this._curActionList[this._curActionList.length-1].getComponent("ListToastWidget");if(t&&!t.isDoMoveUp&&(e=!0),this._isParentBeRemove(t.node.parent))return this._reset(),yx.log("unschedule"),void cc.Canvas.instance.unschedule(this._callback);if(t.node.parent&&!t.node.parent.active)return this._reset(),yx.log("unschedule"),void cc.Canvas.instance.unschedule(this._callback)}if(this._preActionList.length<=0&&(e=!1),e){var n=this._putPreactionToCuraction();n.parent=n.guaZaiNode;for(var i=0,o=this._curActionList.length;i<o;i++)this._curActionList[i].getComponent("ListToastWidget").continueMoveUp()}this._curActionList.length<=0&&(yx.log("unschedule"),cc.Canvas.instance.unschedule(this._callback),this._isOnSchedule=!1)}.bind(this),cc.Canvas.instance.schedule(this._callback,0,e,0)}},_isParentBeRemove:function _isParentBeRemove(e){return!e||"Canvas"!=e.name&&this._isParentBeRemove(e.parent)}};var r={_SimpleToastPrefab:null,init:function init(){yx.resUtil.LoadRes(o,function(e,t){e?yx.warn(o+" is not exist!"):this._SimpleToastPrefab=t}.bind(this))},showToast:function showToast(e,t,n){var i=cc.instantiate(this._SimpleToastPrefab),o=i.getComponent("SimpleToastWidget");o.init(),n&&(n.addChild(i),o.show(e,t))}},a=cc.Enum({TOAST_TYPE_SIMPLE:1,TOAST_TYPE_CAVE:2});yx.ToastUtil=t.exports={ToastEventType:a,init:function init(){lob.prototype.preLoad(),r.init()},isCurActionListFirst:lob.prototype.isCurActionListFirst.bind(lob.prototype),removeCurActionNode:lob.prototype.removeCurActionNode.bind(lob.prototype),showListToast:lob.prototype.showToast.bind(lob.prototype),showSimpleToast:r.showToast.bind(r,a.TOAST_TYPE_SIMPLE),showCaveToast:r.showToast.bind(r,a.TOAST_TYPE_CAVE)},cc._RF.pop()},{assert:1}],TongGuanRewardItem:[function(e,t,n){cc._RF.push(t,"619f6/CMidL371MFTOh1Hpl","TongGuanRewardItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.RichText,descRichText:cc.RichText,getBtn:cc.Button,getBtnText:cc.Label,scrollContent:cc.Node,bgNode:cc.Node},onLoad:function onLoad(){this.getBtn.node.on("click",this.onGetRewardClick,this),yx.eventDispatch.addListener(yx.EventType.GJ_TASK_REFRESH,this.onUpdate.bind(this),this)},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},frameInit:function frameInit(e,t){this.getBtn.node.active=!1,this.descRichText.node.active=!1,this._data=e,this._type=t;var n=e.Reward,i=this;i.scrollContent.removeAllChildren(!0),n.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i.onItemClick,yx.ItemWidget.CreateItemSlot(t,i.scrollContent,"reward"+e.id)});var o=Math.ceil(n.length/3);if(1<o){var r=94*(o-1);this.node.height=this.node.height+r,this.bgNode.height=this.bgNode.height+r}yx.BadgeMgr.addBadge(this.getBtn.node,55,15),this.onUpdate()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onGetRewardClick:function onGetRewardClick(){var e=yx.battleMgr.getTaskInfo(yx.battleMgr.battleRewardActivityId,this._data.ID);e&&e.taskState==yx.proto.TaskStateType.Processing?yx.ToastUtil.showListToast("未满足条件"):yx.battleMgr.TaskReward(yx.battleMgr.battleRewardActivityId,this._data.ID)},onUpdate:function onUpdate(){yx.BadgeMgr.showBadge(this.getBtn.node,!1);var e=yx.battleMgr.getTaskInfo(yx.battleMgr.battleRewardActivityId,this._data.ID);e&&(e.processing>=this._data.NeedCid?this.titleLabel.string="通关{value}(<color=#00C800>{cur}/{max}</color>)".format({value:this._data.NeedCid,cur:e.processing,max:this._data.NeedCid}):this.titleLabel.string="通关{value}(<color=#FF0000>{cur}/{max}</color>)".format({value:this._data.NeedCid,cur:e.processing,max:this._data.NeedCid}),e.taskState==yx.proto.TaskStateType.Processing?(this.getBtn.node.active=!0,this.descRichText.node.active=!1):e.taskState==yx.proto.TaskStateType.Finish?(yx.BadgeMgr.showBadge(this.getBtn.node,!0),this.getBtn.node.active=!0,this.descRichText.node.active=!1):(this.getBtn.node.active=!1,this.descRichText.node.active=!0,this.descRichText.string="<color=#345A5C>已领取</color>"))}}),cc._RF.pop()},{}],TongGuanRewardPanel:[function(e,t,n){cc._RF.push(t,"1c0403pyORPNoLa96qZ0TjQ","TongGuanRewardPanel");var i=e("BaseWindow"),o=e("TongGuanRewardItem"),r=e("FrameLoadWidget");cc.Class({extends:i,properties:{titleLabel:cc.Label,itemScrollLayout:cc.Layout,tongguanRewardItemPrefab:cc.Prefab},_onInit:function _onInit(){yx.battleMgr.reqTaskInfo(),this.itemScrollLayout.node.removeAllChildren(!0);var e=yx.cfgMgr.getAllConfig("ChapterClearRewradConfig");e&&this.node.getComponent(r).init(this.itemScrollLayout.node,e,this.tongguanRewardItemPrefab,o).startLoad()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",TongGuanRewardItem:"TongGuanRewardItem"}],TuJianItemWidget:[function(e,t,n){cc._RF.push(t,"501e55brn5Pu7hgJAcm8sDY","TuJianItemWidget");var a="prefabs/widgets/TuJianItemWidget",c=cc.Class({extends:cc.Component,properties:{iconSprite:cc.Sprite,contentLabel:cc.Label,hadGetSp:cc.Sprite,unGetSp:cc.Sprite},statics:{_itemPrefab:null,CreateItem:function CreateItem(n,i,o,r){if(c._itemPrefab=null,c._itemPrefab)return c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.resUtil.LoadRes(a,function(e,t){if(!e)return c._itemPrefab=t,c._createItemWithPrefab(n,i,o,c._itemPrefab,r);yx.warn(a+" is not exist!")})},_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i,o){var r=cc.instantiate(i),a=new cc.Node(n);t.addChild(a),null!=n&&(r.name=n);var s=r.getComponent(c);return s&&a&&a.isValid?(s.init(e,o),a.addChild(r),a.setContentSize(r.getContentSize())):yx.warn("TuJianItemWidget instantiate error!"),s}},init:function init(e,t){this._info=e,this._cb=t,this.node.on("click",this._onTuJianItemBtnClick,this),this.hadGetSp.node.active=e.own,this.unGetSp.node.active=!e.own;var n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId}),i=this,o={amount:-1};o.itemId=e.itemId,o.clickCallBack=function(){i._onTuJianItemBtnClick()},yx.ItemWidget.CreateItemSlot(o,this.iconSprite.node,"reward"+e.itemId),this.contentLabel.node.color=yx.colorUtil.toCCColor(yx.textDict.QualityColor.getQualityColor(this._info.pinzhi)),yx.CodeHelper.addOutlineByPinZhi(this.contentLabel.node,this._info.pinzhi),this.contentLabel.string=n.Name},_onTuJianItemBtnClick:function _onTuJianItemBtnClick(){yx.log("_onTuJianItemBtnClick"),this._cb&&this._cb(this._info)}});yx.TuJianItemWidget=t.exports=c,cc._RF.pop()},{}],TurnTableRewardPanel:[function(e,t,n){cc._RF.push(t,"22fbfTLRV1N3IpbYkl7KDu1","TurnTableRewardPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,sureBtn:cc.Button,oneGroup:cc.Node,tenGroup:cc.Node,oneBtn:cc.Button,tenBtn:cc.Button,buyDesc_1:cc.RichText,goumaiLabel_1:cc.Label,costLabel_1:cc.Label,costSp_1:cc.Sprite,freeLabel:cc.Label,buyDesc_2:cc.RichText,goumaiLabel_2:cc.Label,costLabel_2:cc.Label,costSp_2:cc.Sprite,rewards1Node:cc.Node,rewards2Node:cc.Node},_onInit:function _onInit(e){this._args=e,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.sureBtn.node.on("click",this.onCloseBtnClick,this),this.oneBtn.node.on("click",this.onOneTurnBtnClick,this),this.tenBtn.node.on("click",this.onTenTurnBtnClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=this._args.activityData,t=yx.cfgMgr.getOneRecord(e.fileName,{Activityid:e.id}),n=yx.ActivityMgr.getTurnTableData(e.id);if(this._args.rewards.cmdType==yx.proto.TurnTableCmd.ConsecutiveDraw_Cmd){this.oneGroup.active=!0,this.tenGroup.active=!1,this.costLabel_1.string=t.Cost2[0].count;var i=yx.cfgMgr.getOneRecord("ItemConfig",{ID:t.Cost2[0].id});this.buyDesc_1.string="<color=#345A5C>购买</color><color=#00C800>"+t.ExtraReward[0].count+yx.bagMgr.GetItemName(t.ExtraReward[0].id)+"</color><color=#345A5C>,赠送</color><color=#00C800>寻宝1次</color>",i&&null!=i.Icon&&yx.resUtil.LoadSpriteByIconName(i.Icon,this.costSp_1),0<n.freeTime?(this.costLabel_1.node.active=!1,this.costSp_1.node.active=!1,this.freeLabel.node.active=!0):(this.costLabel_1.node.active=!0,this.costSp_1.node.active=!0,this.freeLabel.node.active=!1);var o=this._args.rewards.rewards,r=this.oneGroup.getChildByName("reward1"),a={};a.content="<color=#345A5C>"+o[0].count+"</color>",a.ID=o[0].id,yx.ItemRichTextWidget.CreateItemSlot(a,r,"reward",null)}else{this.oneGroup.active=!1,this.tenGroup.active=!0,this.costLabel_2.string=t.Cost3[0].count;var s=yx.cfgMgr.getOneRecord("ItemConfig",{ID:t.Cost3[0].id});this.buyDesc_2.string="<color=#345A5C>购买</color><color=#00C800>"+10*t.ExtraReward[0].count+yx.bagMgr.GetItemName(t.ExtraReward[0].id)+"</color><color=#345A5C>,赠送</color><color=#00C800>寻宝10次</color>",s&&null!=s.Icon&&yx.resUtil.LoadSpriteByIconName(s.Icon,this.costSp_2);for(var c=this._args.rewards.rewards,l=0;l<c.length;l++){var u={};u.content="<color=#345A5C>"+c[l].count+"</color>",u.ID=c[l].id,l<5?yx.ItemRichTextWidget.CreateItemSlot(u,this.rewards1Node,"reward",null):yx.ItemRichTextWidget.CreateItemSlot(u,this.rewards2Node,"reward",null)}}},onOneTurnBtnClick:function onOneTurnBtnClick(){yx.windowMgr.goBack(),yx.ActivityMgr.TurnTableOne(this._args.activityData.id)},onTenTurnBtnClick:function onTenTurnBtnClick(){if(yx.ActivityMgr.getShowTextConfirm10())this._tenTurnOk();else{var e="<color=#345A5C>是否消耗{costValue}{costName}获得{rewardValue}{rewardName}，赠送10次寻宝次数</color>",t=yx.cfgMgr.getOneRecord(this._args.activityData.fileName,{Activityid:this._args.activityData.id});e=e.format({costValue:t.Cost3[0].count,costName:yx.bagMgr.GetItemName(t.Cost3[0].id),rewardValue:10*t.ExtraReward[0].count,rewardName:yx.bagMgr.GetItemName(t.ExtraReward[0].id)}),yx.TextConfirm.ShowConfirm(e,this._tenTurnOk.bind(this),null,null,null,null,null,this._onToggleClick.bind(this))}},_onToggleClick:function _onToggleClick(){var e=yx.ActivityMgr.getShowTextConfirm10();yx.ActivityMgr.setShowTextConfirm10(!e)},_tenTurnOk:function _tenTurnOk(){yx.windowMgr.goBack(),yx.ActivityMgr.TurnTableTen(this._args.activityData.id)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],Version:[function(e,t,n){cc._RF.push(t,"b0c43qZeaREYqdAc4IphstC","Version"),yx.GameVersion="1.1.1",yx.BuildVersion="5533",yx.BuildDate="200110-21:20",yx.log("GameVersion:"+yx.GameVersion),yx.log("BuildVersion:"+yx.BuildVersion),yx.log("BuildDate:"+yx.BuildDate),cc._RF.pop()},{}],VipWindow:[function(e,t,n){cc._RF.push(t,"d1b6dWw01RKIZuu17JJ03FJ","VipWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{monthCardRiText:cc.RichText,monthHadBuyNode:cc.Node,monthBuyBtnNode:cc.Node,foreverCardRiText:cc.RichText,foreverHadBuyNode:cc.Node,gongFengBtnNode:cc.Node,foreverBuyBtnNode:cc.Node,itemLayout:cc.Layout,monthBtnLabel:cc.Label,foreverBtnLabel:cc.Label},_onInit:function _onInit(){this._reset(),this._refreshBtnName(),this.monthBuyBtnNode.on("click",this.monthBuyBtnClick,this),this.foreverBuyBtnNode.on("click",this.foreverBuyBtnClick,this),this.gongFengBtnNode.on("click",this.gongFengBtnNodeClick,this),yx.eventDispatch.addListener(yx.EventType.RECHARGE_RESULT,this.onEventRechargeResult,this),yx.eventDispatch.addListener(yx.EventType.VIP_GONGFENG,this.onEventVipGongFeng,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.gongFengBtnNode,60,10),yx.BadgeMgr.showBadge(this.gongFengBtnNode,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MonthCardReward))},onEventRefreshBadge:function onEventRefreshBadge(){yx.BadgeMgr.showBadge(this.gongFengBtnNode,yx.BadgeMgr.IsShow(yx.proto.RedDotType.MonthCardReward))},_refreshBtnName:function _refreshBtnName(){var e=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:9});e&&(this.monthBtnLabel.string=e.RMB+"元任职");var t=yx.cfgMgr.getOneRecord("PayItemConfig",{ID:10});t&&(this.foreverBtnLabel.string=t.RMB+"元任职")},gongFengBtnNodeClick:function gongFengBtnNodeClick(){yx.playerMgr.reqMonthVipGongFeng()},monthBuyBtnClick:function monthBuyBtnClick(){yx.reChargeMgr.reqReCharge(9)},foreverBuyBtnClick:function foreverBuyBtnClick(){yx.reChargeMgr.reqReCharge(10)},onEventVipGongFeng:function onEventVipGongFeng(e){var t=e.rewards;if(t&&0<t.length)for(var n=0;n<t.length;n++){var i=t[n],o=yx.bagMgr.GetItemName(i.id)+"<color=#ffd066>+"+i.count+"</color>";yx.ToastUtil.showListToast(o)}},onEventRechargeResult:function onEventRechargeResult(e){9===e.id?(yx.ToastUtil.showListToast("月卡开通成功"),yx.playerMgr.setVipMonth(!0)):10===e.id&&(yx.ToastUtil.showListToast("永久卡开通成功"),yx.playerMgr.setVipForever(!0));var t=yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:e.id});if(t){var n=t.Reward;for(var i in n){var o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:n[i].id});if(o){var r=yx.colorUtil.AddColorString(o.Name+"x"+n[i].count,yx.textDict.QualityColor.getQualityColor(o.PinZhi));yx.ToastUtil.showListToast("获得"+r)}}}this._refresh()},_reset:function _reset(){this.monthHadBuyNode.active=!1,this.monthBuyBtnNode.active=!1,this.foreverHadBuyNode.active=!1,this.foreverBuyBtnNode.active=!1,this.monthCardRiText.string="",this.foreverCardRiText.string=""},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_refresh:function _refresh(){var e=yx.playerMgr.isVipMonth(),t=yx.playerMgr.isVipForever();this.foreverHadBuyNode.active=t,this.foreverBuyBtnNode.active=!t,this.monthHadBuyNode.active=e,this.monthBuyBtnNode.active=!e;var n=yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:9});n&&(this.monthCardRiText.string=n.Desc.replace(/\/n/g,""));var i=yx.cfgMgr.getOneRecord("GuanZhiConfig",{RechargeId:10});if(i){this.foreverCardRiText.string=i.Desc.replace(/\/n/g,""),this.itemLayout.node.removeAllChildren(!0);var o=i.Reward;for(var r in o){var a=o[r].id;if(yx.cfgMgr.getRecordByKey("ItemConfig",{ID:a})){var s={};s.id=a,s.itemId=a,s.amount=o[r].count,s.clickCallBack=this.onItemClick,yx.ItemWidget.CreateItemSlot(s,this.itemLayout.node,"vipItem")}}}},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],WXShouCangPanel:[function(e,t,n){cc._RF.push(t,"bcb8cAzULNOC7ho3SamsAm7","WXShouCangPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{tipRiText:cc.RichText,itemListLayout:cc.Layout,lingQuBtn:cc.Node,leftBtn:cc.Button,rightBtn:cc.Button,pageView:cc.PageView,dotToggleContainer:cc.ToggleContainer,hadLingQuLabel:cc.Label},_onInit:function _onInit(){this.time=0,this.canLingQu=!1,this.lingQuBtn.on("click",this.lingQuBtnClick,this),this.pageView.node.on("page-turning",this.pageViewTurn,this),this.pageView.node.on("scrolling",this.pageViewScrolling,this),this.leftBtn.node.on("click",this._onLeftBtnClick,this),this.rightBtn.node.on("click",this._onRightBtnClick,this),yx.eventDispatch.addListener(yx.EventType.SHOUCANG_GET_INFO,this.onEventGetShouCangInfo,this),yx.eventDispatch.addListener(yx.EventType.SHOUCANG_OPT_REQ,this.onEventOpt,this),yx.eventDispatch.addListener(yx.EventType.SHOUCANG_REVEIVED,this.onEventReveived,this),this.lingQuBtn.active=!1,this.hadLingQuLabel.node.active=!1},_onLeftBtnClick:function _onLeftBtnClick(){this.pageView.setCurrentPageIndex(this.pageView.getCurrentPageIndex()-1)},_onRightBtnClick:function _onRightBtnClick(){this.pageView.setCurrentPageIndex(this.pageView.getCurrentPageIndex()+1)},pageViewScrolling:function pageViewScrolling(){yx.log("pageViewScrolling"),this.time=0},pageViewTurn:function pageViewTurn(e){var t=this.dotToggleContainer.toggleItems,n=e.getCurrentPageIndex();t&&t[n]&&(t[n].isChecked=!0)},_onShow:function _onShow(){var n=this;this.autoSliTime=6,this.maxPageNum=this.pageView.getPages().length,yx.ActivityMgr.reqWxShouCang(yx.proto.WeChatFollowCmdType.GetFollow_Cmd);var e=yx.cfgMgr.getOneRecord("SystemConfig",{id:107});e&&e.int_value&&(this.autoSliTime=e.int_value);var t=yx.cfgMgr.getOneRecord("SystemConfig",{id:106});this.itemListLayout.node.removeAllChildren(!0),t&&t.str_value.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});t&&yx.ItemWidget.CreateItemSlot({itemId:t.ID,amount:e.count,clickCallBack:n.onItemClick.bind(n)},n.itemListLayout.node,"itemSlot"+e.id,!0)})},update:function update(e){if(this.time+=e,this.time>this.autoSliTime){var t=this.pageView.getCurrentPageIndex(),n=t+1;t+1===this.maxPageNum&&(n=0),this.pageView.setCurrentPageIndex(n),this.time=0}},onEventGetShouCangInfo:function onEventGetShouCangInfo(e){this._refresh(e)},onEventOpt:function onEventOpt(e){this._refresh(e)},_refresh:function _refresh(e){this.lingQuBtn.active=!1,this.hadLingQuLabel.node.active=!1,e.followState===yx.proto.FollowStateType.None?this.lingQuBtn.active=!0:e.followState===yx.proto.FollowStateType.Followed?(this.lingQuBtn.active=!0,this.canLingQu=!0):e.followState===yx.proto.FollowStateType.Finished&&(this.hadLingQuLabel.node.active=!0)},onEventReveived:function onEventReveived(e){yx.ToastUtil.showListToast("领取成功!"),this.lingQuBtn.active=!1,e.rewards.forEach(function(e){var t=yx.cfgMgr.getOneRecord("ItemConfig",{ID:e.id});if(t){var n=yx.textDict.QualityColor.getQualityColor(t.PinZhi),i="获得"+yx.colorUtil.AddColorString(t.Name+"x"+e.count,n);yx.ToastUtil.showListToast(i)}}),yx.ActivityMgr.reqWxShouCang(yx.proto.WeChatFollowCmdType.GetFollow_Cmd)},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},lingQuBtnClick:function lingQuBtnClick(){this.canLingQu?yx.ActivityMgr.reqWxShouCang(yx.proto.WeChatFollowCmdType.Reveived_Cmd):yx.ToastUtil.showListToast("请先关注公众号")},shoucangBtnClick:function shoucangBtnClick(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],WaitingPanel:[function(e,t,n){cc._RF.push(t,"d86e0WJkQxMrbRbx5kK+4Cu","WaitingPanel");var i=e("BaseWindow"),o=cc.Class({extends:i,properties:{maskNode:cc.Node,spNode:cc.Node},statics:{ShowPanel:function ShowPanel(){yx.windowMgr.showWindow("waiting")},ClosePanel:function ClosePanel(){yx.windowMgr.closeWindow("waiting")}},_onInit:function _onInit(){this.maskNode.opacity=0},_onShow:function _onShow(){this.maskNode.runAction(cc.sequence(cc.delayTime(.5),cc.fadeIn(.3))),this.spNode.runAction(cc.repeatForever(cc.rotateBy(1,360)))},_onHide:function _onHide(){this.spNode.stopAllActions(),this.maskNode.stopAllActions(),this.maskNode.opacity=0}});t.exports=yx.WaitingPanel=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],WindowInfoDict:[function(e,t,n){cc._RF.push(t,"fac91gq3khHqKVEsg5av4xx","WindowInfoDict");var i=e("BaseWindow"),o={login:{name:"login",prefab:"prefabs/windows/LoginWindow",type:i.Type.WINDOW,preload:["main","lixian"]},gongGao:{name:"gongGao",prefab:"prefabs/panels/GongGaoPanel",type:i.Type.PANEL},serverlist:{name:"serverlist",prefab:"prefabs/panels/ServerListPanel",type:i.Type.PANEL},createRole:{name:"createRole",prefab:"prefabs/windows/CreateRoleWindow",type:i.Type.WINDOW},main:{name:"main",prefab:"prefabs/windows/MainWindow",type:i.Type.WINDOW,preload:["wudao","liLianWindow"]},lixian:{name:"lixian",prefab:"prefabs/panels/LiXianPanel",type:i.Type.PANEL},dujie:{name:"dujie",prefab:"prefabs/windows/DuJieWindow",type:i.Type.WINDOW},xiulianlog:{name:"xiulianlog",prefab:"prefabs/panels/XiuZhenRiZhiPanel",type:i.Type.PANEL},changeWorldPanel:{name:"changeWorldPanel",prefab:"prefabs/panels/ChangeWorldPanel",type:i.Type.PANEL},itemUsePanel:{name:"itemUsePanel",prefab:"prefabs/panels/ItemUsePanel",type:i.Type.PANEL},fenXiang:{name:"fenXiang",prefab:"prefabs/panels/FenXiangPanel",type:i.Type.PANEL},wxShouCang:{name:"wxShouCang",prefab:"prefabs/panels/WXShouCangPanel",type:i.Type.PANEL},wudao:{name:"wudao",prefab:"prefabs/windows/WuDaoWindow",type:i.Type.WINDOW},gongfa:{name:"gongfa",prefab:"prefabs/windows/GongFaWindow",type:i.Type.WINDOW},stuff:{name:"stuff",prefab:"prefabs/windows/StuffWindow",type:i.Type.WINDOW},dongfu:{name:"dongfu",prefab:"prefabs/windows/DongFuWindow",type:i.Type.WINDOW,preload:["daoLv"]},lingMai:{name:"lingMai",prefab:"prefabs/windows/LingMaiWindow",type:i.Type.WINDOW},buildPanel:{name:"buildPanel",prefab:"prefabs/panels/BuildPanel",type:i.Type.PANEL},shuge:{name:"shuge",prefab:"prefabs/windows/ShuGeWindow",type:i.Type.WINDOW},lianZhiPanel:{name:"lianZhiPanel",prefab:"prefabs/panels/LianZhiPanel",type:i.Type.PANEL},xianNiangWindow:{name:"xianNiangWindow",prefab:"prefabs/windows/XianNiangWindow",type:i.Type.WINDOW},daoLv:{name:"daoLv",prefab:"prefabs/windows/DaoLvWindow",type:i.Type.WINDOW},itemDetailShowPanel:{name:"itemDetailShowPanel",prefab:"prefabs/panels/ItemDetailShowPanel",type:i.Type.PANEL},shuPanel:{name:"shuPanel",prefab:"prefabs/panels/ShuPanel",type:i.Type.PANEL},shenHunWuDaoPanel:{name:"shenHunWuDaoPanel",prefab:"prefabs/panels/ShenHunWuDaoPanel",type:i.Type.PANEL},fightPanel:{name:"fightPanel",prefab:"prefabs/panels/FightPanel",type:i.Type.PANEL},dropPanel:{name:"dropPanel",prefab:"prefabs/panels/DropShowPanel",type:i.Type.PANEL},menPai:{name:"menPai",prefab:"prefabs/windows/MenPaiWindow",type:i.Type.WINDOW},menPaiSelectPanel:{name:"menPaiSelectPanel",prefab:"prefabs/panels/MenPaiSelectPanel",type:i.Type.PANEL},menPaiTiaoZhanPanel:{name:"menPaiTiaoZhanPanel",prefab:"prefabs/panels/MenPaiTiaoZhanPanel",type:i.Type.PANEL},menPaiShouYePanel:{name:"menPaiShouYePanel",prefab:"prefabs/panels/MenPaiShouYePanel",type:i.Type.PANEL},menPaiZhiWeiPanel:{name:"menPaiZhiWeiPanel",prefab:"prefabs/panels/MenPaiZhiWeiPanel",type:i.Type.PANEL},menPaiDuiHuanPanel:{name:"menPaiDuiHuanPanel",prefab:"prefabs/panels/MenPaiDuiHuanPanel",type:i.Type.PANEL},menPaiChuangongPanel:{name:"menPaiChuangongPanel",prefab:"prefabs/panels/MenPaiChuangongPanel",type:i.Type.PANEL},menPaiQingAnPanel:{name:"menPaiQingAnPanel",prefab:"prefabs/panels/MenPaiQingAnPanel",type:i.Type.PANEL},bag:{name:"bag",prefab:"prefabs/windows/BagWindow",type:i.Type.WINDOW},roleInfo:{name:"roleInfo",prefab:"prefabs/windows/RoleInfoWindow",type:i.Type.WINDOW},longWangBaoKu:{name:"longWangBaoKu",prefab:"prefabs/windows/LongWangWindow",type:i.Type.WINDOW},xiSui:{name:"xiSui",prefab:"prefabs/panels/XiSuiPanel",type:i.Type.PANEL},itemDetail:{name:"itemDetail",prefab:"prefabs/panels/ItemDetailPanel",type:i.Type.PANEL},equipDetail:{name:"equipDetail",prefab:"prefabs/panels/EquipDetailPanel",type:i.Type.PANEL},itemSelectPanel:{name:"itemSelectPanel",prefab:"prefabs/panels/ItemSelectPanel",type:i.Type.PANEL},pkgUpgrade:{name:"pkgUpgrade",prefab:"prefabs/panels/PkgUpgradePanel",type:i.Type.PANEL},oneKeySell:{name:"oneKeySell",prefab:"prefabs/panels/OneKeySellPanel",type:i.Type.PANEL},skin:{name:"skin",prefab:"prefabs/windows/SkinWindow",type:i.Type.WINDOW},skinTotalAttrPanel:{name:"skinTotalAttrPanel",prefab:"prefabs/panels/SkinTotalAttrPanel",type:i.Type.PANEL},skinChangePanel:{name:"skinChangePanel",prefab:"prefabs/panels/SkinChangePanel",type:i.Type.PANEL},fangshi:{name:"fangshi",prefab:"prefabs/windows/FangShiWindow",type:i.Type.WINDOW},goodsDetail:{name:"goodsDetail",prefab:"prefabs/panels/GoodsDetailPanel",type:i.Type.PANEL},zhaodianshi:{name:"zhaodianshi",prefab:"prefabs/windows/ZhaoDianShiWindow",type:i.Type.WINDOW},mail:{name:"mail",prefab:"prefabs/windows/MailWindow",type:i.Type.WINDOW},mailInfo:{name:"mailInfo",prefab:"prefabs/panels/MailInfoPanel",type:i.Type.PANEL},yiJianFanKuiPanel:{name:"yiJianFanKuiPanel",prefab:"prefabs/panels/YiJianFanKuiPanel",type:i.Type.PANEL},setting:{name:"setting",prefab:"prefabs/panels/SettingPanel",type:i.Type.PANEL},gameHelp:{name:"gameHelp",prefab:"prefabs/panels/GameHelpPanel",type:i.Type.PANEL},liLianWindow:{name:"liLianWindow",prefab:"prefabs/windows/LiLianWindow",type:i.Type.WINDOW,preload:["chuiDiaoWindow"]},xianJieMenPanel:{name:"xianJieMenPanel",prefab:"prefabs/panels/XianJieMenPanel",type:i.Type.PANEL},chuangXianWindow:{name:"chuangXianWindow",prefab:"prefabs/windows/ChuangXianWindow",type:i.Type.WINDOW},chuiDiaoWindow:{name:"chuiDiaoWindow",prefab:"prefabs/windows/ChuiDiaoWindow",type:i.Type.WINDOW},shuoMingPanel:{name:"shuoMingPanel",prefab:"prefabs/panels/ShuoMIngPanel",type:i.Type.PANEL},helpPanel:{name:"helpPanel",prefab:"prefabs/panels/HelpPanel",type:i.Type.PANEL},yuHuoPanel:{name:"yuHuoPanel",prefab:"prefabs/panels/YuHuoPanel",type:i.Type.PANEL},duiHuanPanel:{name:"duiHuanPanel",prefab:"prefabs/panels/DuiHuanPanel",type:i.Type.PANEL},itemQuickBuyPanel:{name:"itemQuickBuyPanel",prefab:"prefabs/panels/ItemQuickBuyPanel",type:i.Type.PANEL},shenHunShiYiPanel:{name:"shenHunShiYiPanel",prefab:"prefabs/panels/ShenHunShiYiPanel",type:i.Type.PANEL},qiYuWindow:{name:"qiYuWindow",prefab:"prefabs/windows/QiYuWindow",type:i.Type.WINDOW},jiyuan:{name:"jiyuan",prefab:"prefabs/windows/JiYuanWindow",type:i.Type.WINDOW},heishi:{name:"heishi",prefab:"prefabs/windows/HeiShiWindow",type:i.Type.WINDOW},heishiRewardPanel:{name:"heishiRewardPanel",prefab:"prefabs/panels/HeiShiRewardPanel",type:i.Type.PANEL},activity:{name:"activity",prefab:"prefabs/windows/ActivityWindow",type:i.Type.WINDOW},turnTableRewardPanel:{name:"turnTableRewardPanel",prefab:"prefabs/panels/TurnTableRewardPanel",type:i.Type.PANEL},richang:{name:"richang",prefab:"prefabs/windows/RichangWindow",type:i.Type.WINDOW},richangZhaohuiPanel:{name:"richangZhaohuiPanel",prefab:"prefabs/panels/RichangZhaohuiPanel",type:i.Type.PANEL},rankPanel:{name:"rankPanel",prefab:"prefabs/panels/RankPanel",type:i.Type.PANEL},atrrRankPanel:{name:"atrrRankPanel",prefab:"prefabs/panels/AtrrRankPanel",type:i.Type.PANEL},fengShenRankPanel:{name:"fengShenRankPanel",prefab:"prefabs/panels/FengShenRankPanel",type:i.Type.PANEL},vipWindow:{name:"vipWindow",prefab:"prefabs/windows/VipWindow",type:i.Type.WINDOW},shouChongPanel:{name:"shouChongPanel",prefab:"prefabs/panels/ShouChongPanel",type:i.Type.PANEL},textConfirm:{name:"textConfirm",prefab:"prefabs/panels/TextConfirm",type:i.Type.PANEL},numpad:{name:"numpad",prefab:"prefabs/panels/NumpadPanel",type:i.Type.PANEL},loading:{name:"loading",prefab:"prefabs/windows/LoadingWindow",type:i.Type.WINDOW},waiting:{name:"waiting",prefab:"prefabs/panels/WaitingPanel",type:i.Type.TOP,unrelease:!0},skillTipsPanel:{name:"skillTipsPanel",prefab:"prefabs/panels/SkillTipsPanel",type:i.Type.PANEL},rewardDisplayPanel:{name:"rewardDisplayPanel",prefab:"prefabs/panels/RewardDisplayPanel",type:i.Type.PANEL},zongMen:{name:"zongMen",prefab:"prefabs/windows/ZongMenWindow",type:i.Type.WINDOW},shanMen:{name:"shanMen",prefab:"prefabs/windows/ShanMenWindow",type:i.Type.WINDOW},changeDuiLianPanel:{name:"changeDuiLianPanel",prefab:"prefabs/panels/ChangeDuiLianPanel",type:i.Type.PANEL},createZongMenPanel:{name:"createZongMenPanel",prefab:"prefabs/panels/CreateZongMenPanel",type:i.Type.PANEL},shiSi:{name:"shiSi",prefab:"prefabs/windows/ShiSiWindow",type:i.Type.WINDOW},wuDaoShi:{name:"wuDaoShi",prefab:"prefabs/windows/WuDaoShiWindow",type:i.Type.WINDOW},wuDaoShiRewardPanel:{name:"wuDaoShiRewardPanel",prefab:"prefabs/panels/WuDaoShiRewardPanel",type:i.Type.PANEL},zongMenHuoDong:{name:"zongMenHuoDong",prefab:"prefabs/windows/ZongMenHuoDongWindow",type:i.Type.WINDOW},faQiLevelPanel:{name:"faQiLevelPanel",prefab:"prefabs/panels/FaQiLevelPanel",type:i.Type.PANEL},faQiJiaChengPanel:{name:"faQiJiaChengPanel",prefab:"prefabs/panels/FaQiJiaChengPanel",type:i.Type.PANEL},faQiInfoPanel:{name:"faQiInfoPanel",prefab:"prefabs/panels/FaQiInfoPanel",type:i.Type.PANEL},xianfang:{name:"xianfang",prefab:"prefabs/windows/XianFangWindow",type:i.Type.WINDOW},chengZhangLiBaoPanel:{name:"chengZhangLiBaoPanel",prefab:"prefabs/panels/ChengZhangLiBaoPanel",type:i.Type.PANEL},shiZhuangLiBaoPanel:{name:"shiZhuangLiBaoPanel",prefab:"prefabs/panels/ShiZhuangLiBaoPanel",type:i.Type.PANEL},jingji:{name:"jingji",prefab:"prefabs/windows/JingJiWindow",type:i.Type.WINDOW},biWuRank:{name:"biWuRank",prefab:"prefabs/panels/BiWuRankPanel",type:i.Type.PANEL},biWuResult:{name:"biWuResult",prefab:"prefabs/panels/BiWuResultPanel",type:i.Type.PANEL},douFaResult:{name:"douFaResult",prefab:"prefabs/panels/DouFaResultPanel",type:i.Type.PANEL},youli:{name:"youli",prefab:"prefabs/windows/YouLiWindow",type:i.Type.WINDOW},youliMap:{name:"youliMap",prefab:"prefabs/windows/YouLiMapWindow",type:i.Type.WINDOW},miLingPanel:{name:"miLingPanel",prefab:"prefabs/panels/MiLingPanel",type:i.Type.PANEL},miLingBuyLevelPanel:{name:"miLingBuyLevelPanel",prefab:"prefabs/panels/MiLingBuyLevelPanel",type:i.Type.PANEL},miLingLockPanel:{name:"miLingLockPanel",prefab:"prefabs/panels/MiLingLockPanel",type:i.Type.PANEL},bossPkResult:{name:"bossPkResult",prefab:"prefabs/panels/BossPkResultPanel",type:i.Type.PANEL},liLianItemTip:{name:"liLianItemTip",prefab:"prefabs/panels/LiLianItemTipPanel",type:i.Type.PANEL},changeZhongZu:{name:"changeZhongZu",prefab:"prefabs/panels/ChangeZhongZuPanel",type:i.Type.PANEL},quickBattlePanel:{name:"quickBattlePanel",prefab:"prefabs/panels/QuickBattlePanel",type:i.Type.PANEL},quickBtResult:{name:"quickBtResult",prefab:"prefabs/panels/QuickBattleResultPanel",type:i.Type.PANEL},chatPanel:{name:"chatPanel",prefab:"prefabs/panels/ChatPanel",type:i.Type.PANEL},qqQunRewardPanel:{name:"qqQunRewardPanel",prefab:"prefabs/panels/QQQunRewardPanel",type:i.Type.PANEL},xianShiLiBaoPanel:{name:"xianShiLiBaoPanel",prefab:"prefabs/panels/XianShiLiBaoPanel",type:i.Type.PANEL},xianShiRewardPanel:{name:"xianShiRewardPanel",prefab:"prefabs/panels/XianShiRewardPanel",type:i.Type.PANEL},jueXuePanel:{name:"jueXuePanel",prefab:"prefabs/panels/JueXuePanel",type:i.Type.PANEL},tongGuanRewardPanel:{name:"tongGuanRewardPanel",prefab:"prefabs/panels/TongGuanRewardPanel",type:i.Type.PANEL},fengShenWindow:{name:"fengShenWindow",prefab:"prefabs/windows/FengShenWindow",type:i.Type.WINDOW},kuiTanTianJiWindow:{name:"kuiTanTianJiWindow",prefab:"prefabs/windows/KuiTanTianJiWindow",type:i.Type.WINDOW},xianDingFaQiPanel:{name:"xianDingFaQiPanel",prefab:"prefabs/panels/XianDingFaQiPanel",type:i.Type.PANEL},shouChongPerday:{name:"shouChongPerday",prefab:"prefabs/panels/ShouChongPerDay",type:i.Type.PANEL},changNamePanel:{name:"changNamePanel",prefab:"prefabs/panels/ChangNamePanel",type:i.Type.PANEL},diGongRankPanel:{name:"diGongRankPanel",prefab:"prefabs/panels/DiGongRankPanel",type:i.Type.PANEL},dongTianXiuLianPanel:{name:"dongTianXiuLianPanel",prefab:"prefabs/panels/DongTianXiuLianPanel",type:i.Type.PANEL},dongTianLuoDuoPanel:{name:"dongTianLuoDuoPanel",prefab:"prefabs/panels/DongTianLuoDuoPanel",type:i.Type.PANEL},dongTianRewardPanel:{name:"dDongTianRewardPanel",prefab:"prefabs/panels/DongTianRewardPanel",type:i.Type.PANEL},diGongSaoDangPanel:{name:"diGongSaoDangPanel",prefab:"prefabs/panels/DiGongSaoDangPanel",type:i.Type.PANEL},xianMengWindow:{name:"xianMengWindow",prefab:"prefabs/windows/XianMengWindow",type:i.Type.WINDOW},xianMengListPanel1:{name:"xianMengListPanel1",prefab:"prefabs/panels/XianMengListPanel1",type:i.Type.PANEL},xianMengListPanel2:{name:"xianMengListPanel2",prefab:"prefabs/panels/XianMengListPanel2",type:i.Type.PANEL},xianMengApplyListPanel:{name:"xianMengApplyListPanel",prefab:"prefabs/panels/XianMengApplyListPanel",type:i.Type.PANEL},xianMengGongGaoListPanel:{name:"xianMengGongGaoListPanel",prefab:"prefabs/panels/XianMengGongGaoListPanel",type:i.Type.PANEL},xianMengRecordPanel:{name:"xianMengRecordPanel",prefab:"prefabs/panels/XianMengRecordPanel",type:i.Type.PANEL},xianMengMemberPanel:{name:"xianMengMemberPanel",prefab:"prefabs/panels/XianMengMemberPanel",type:i.Type.PANEL},xianMengCreatePanel:{name:"xianMengCreatePanel",prefab:"prefabs/panels/XianMengCreatePanel",type:i.Type.PANEL},xianMengShopPanel:{name:"xianMengShopPanel",prefab:"prefabs/panels/XianMengShopPanel",type:i.Type.PANEL},xianMengBossWindow:{name:"xianMengBossWindow",prefab:"prefabs/windows/XianMengBossWindow",type:i.Type.WINDOW},xianMengBossRankPanel:{name:"xianMengBossRankPanel",prefab:"prefabs/panels/XianMengBossRankPanel",type:i.Type.PANEL},xianMengBossRankRewardPanel:{name:"XianMengBossRankRewardPanel",prefab:"prefabs/panels/XianMengBossRankRewardPanel",type:i.Type.PANEL},xianMengBossRewardPanel:{name:"xianMengBossRewardPanel",prefab:"prefabs/panels/XianMengBossRewardPanel",type:i.Type.PANEL},xianMengPlayerInfoPanel:{name:"xianMengPlayerInfoPanel",prefab:"prefabs/panels/XianMengPlayerInfoPanel",type:i.Type.PANEL},xianMengChangNamePanel:{name:"xianMengChangNamePanel",prefab:"prefabs/panels/XianMengChangNamePanel",type:i.Type.PANEL},mainBattleWindow:{name:"mainBattleWindow",prefab:"prefabs/windows/MainBattleWindow",type:i.Type.WINDOW},cangBaoMap:{name:"cangBaoMap",prefab:"prefabs/windows/CangBaoMapWindow",type:i.Type.WINDOW},clockWidget:{name:"clockWidget",prefab:"prefabs/panels/ClockWidget",type:i.Type.PANEL},battleActivityWindow:{name:"battleActivityWindow",prefab:"prefabs/windows/BattleActivityWindow",type:i.Type.WINDOW},qiLingActivityPanel:{name:"qiLingActivityPanel",prefab:"prefabs/panels/QiLingActivityPanel",type:i.Type.PANEL},fuBenWindow:{name:"fuBenWindow",prefab:"prefabs/windows/FuBenWindow",type:i.Type.WINDOW},xiuLianWindow:{name:"xiuLianWindow",prefab:"prefabs/windows/XiuLianWindow",type:i.Type.WINDOW},xiuLianFaZhenPanel:{name:"xiuLianFaZhenPanel",prefab:"prefabs/panels/XiuLianFaZhenPanel",type:i.Type.PANEL},huoLangWindow:{name:"huoLangWindow",prefab:"prefabs/windows/HuoLangWindow",type:i.Type.WINDOW},nameCertificationPanel:{name:"nameCertificationPanel",prefab:"prefabs/panels/NameCertificationPanel",type:i.Type.PANEL}};t.exports=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],WindowManager:[function(e,t,n){cc._RF.push(t,"a201fpLDCdDWpLxmjoDFvLL","WindowManager");var s=e("BaseWindow"),l=e("WindowInfoDict"),o=["WindowRoot","PanelRoot","PopUp","Top"];yx.WindowManager=function(){this._windowStack=null,this._regMap=null,this._uiRootNode=null,this._typeNode=null,this._windowMap=null,this._winSize=null,this._winOffset=cc.v2(),this._windowCreating=!1,this._createList=null,this._debugShowTime=!1,this._upBar=null,this._downBar=null},yx.WindowManager.prototype={constructor:yx.WindowManager,init:function init(){return this._windowStack=new Array,this._windowMap=new Map,this._subRootNode=new Array,this._topWindow=new Map,this._createList=new Array,1==this._debugShowTime&&(this._showTimeMap=new Map),this._initWinSize(),this._resetRootNode(),this._initBlackBars(),this._initTopWindow(),yx.log("WindowManager init"),!0},_initWinSize:function _initWinSize(){if(!cc.sys.isNative){var e=this;window.onresize=function(){e._resizeWindow()}}this._resizeWindow()},_resizeWindow:function _resizeWindow(){var e=cc.Canvas.instance,t=cc.winSize;if(yx.log("[WindowManager resizeWindow]before set winsize = ",JSON.stringify(t)),yx.log("[WindowManager resizeWindow]ratio:"+t.height/t.width),null!=e){if(t.height<1.77778*t.width?(yx.log("[WindowManager resizeWindow]fit height"),e.fitWidth=!1):(yx.log("[WindowManager resizeWindow]fit width"),e.fitWidth=!0),e.fitHeight=!e.fitWidth,yx.log("cc.sys.os="+cc.sys.os),cc.sys.os==cc.sys.OS_WINDOWS&&(yx.log("[WindowManager resizeWindow]fit width && fit Height"),e.fitWidth=!0,e.fitHeight=!0),t=cc.winSize,yx.log("[WindowManager resizeWindow]after set winsize = ",JSON.stringify(t)),yx.screenWidth=t.width,yx.screenHeight=t.height,yx.windowWidth=yx.screenWidth,yx.windowHeight=yx.screenHeight,CC_CSQQ){var n=wx.getSystemInfoSync(),i=wx.getMenuButtonBoundingClientRect();if(n&&i){yx.log("[WindowManager initWinsize] systemInfo:"+JSON.stringify(n)),yx.log("[WindowManager initWinsize] menuBtnRect:"+JSON.stringify(i));var o;o=1==e.fitWidth?n.screenWidth/t.width:n.screenHeight/t.height;var r=33<i.top;r&&(yx.windowHeight=(n.screenHeight-n.statusBarHeight)/o),yx.log("[WindowManager initWinsize] scale:"+o+" isLiuHai:"+r)}}else{var a=wx.getSystemInfoSync(),s=wx.getMenuButtonBoundingClientRect();if(a&&s){yx.log("[WindowManager initWinsize] systemInfo:"+JSON.stringify(a)),yx.log("[WindowManager initWinsize] menuBtnRect:"+JSON.stringify(s));var c;c=1==e.fitWidth?a.screenWidth/t.width:a.screenHeight/t.height;var l=15<s.top;l&&(yx.windowHeight=(a.screenHeight-s.bottom)/c),yx.log("[WindowManager initWinsize] scale:"+c+" isLiuHai:"+l)}}yx.log("[WindowManager initWinsize] windowHeight:"+yx.windowHeight)}},printUiRootPosition:function printUiRootPosition(){yx.log("[WindowManager printUiRootPosition] pos:"+JSON.stringify(this._getRootNode().getPosition()))},_preloadRes:function _preloadRes(e){var t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value,s=l[a];s&&s.prefab&&yx.resUtil.LoadRes(s.prefab)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}yx.log("WindowManager _preloadRes complete",e)},_getRootNode:function _getRootNode(){return null==this._uiRootNode&&this._resetRootNode(),this._uiRootNode},_getSubRootNode:function _getSubRootNode(e){return e<0||e>=this._subRootNode.length?null:this._subRootNode[e]},_resetSubRootNode:function _resetSubRootNode(){null==this._subRootNode&&(this._subRootNode=new Array);for(var e=this._getRootNode(),t=0;t<o.length;t++){var n=o[t],i=e.getChildByName(n);null==i&&(i=new cc.Node(n),e.addChild(i)),this._subRootNode[t]=i}},_resetRootNode:function _resetRootNode(){this._uiRootNode=cc.Canvas.instance.node.getChildByName("UIRoot"),null==this._uiRootNode&&(this._uiRootNode=new cc.Node("UIRoot"),cc.Canvas.instance.node.addChild(this._uiRootNode));var e=Math.ceil((yx.screenHeight-yx.windowHeight)/2);this._uiRootNode.y-=e,this._resetSubRootNode()},_initBlackBars:function _initBlackBars(){if(this._upBar=this._uiRootNode.getChildByName("UpBar"),this._downBar=this._uiRootNode.getChildByName("DownBar"),null==this._uiRootNode||yx.screenHeight<=yx.windowHeight)return null!=this._upBar&&(this._upBar.active=!1),void(null!=this._downBar&&(this._downBar.active=!1));var e=Math.ceil(yx.windowHeight/2),t=Math.ceil(yx.screenHeight-yx.windowHeight);null!=this._upBar&&(this._upBar.width=yx.windowWidth,this._upBar.height=t,this._upBar.y=e,this._upBar.anchorY=0,this._upBar.active=!0)},_initTopWindow:function _initTopWindow(){yx.log("[WindowManager _initTopWindow]"),this._topWindow=new Map;var e=this._subRootNode[3].getComponentInChildren(s);if(e){this._topWindow.set("waiting",e);var t=l.waiting;e.init(t),e.hide()}},_checkTopWindow:function _checkTopWindow(e,t){var n=this._topWindow.get(e);return!!n&&(t&&!n.isShown()?(yx.log("windowmanager checktopwindow 1 show:"+t),n.show()):!t&&n.isShown()&&(yx.log("windowmanager checktopwindow 2 show:"+t),n.hide()),!0)},getPreloadPrefab:function getPreloadPrefab(e){var t=new Array,n=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value,c=l[s];c&&c.prefab&&t.push(c.prefab)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return t},getPreloadInMainScene:function getPreloadInMainScene(){var e=new Array,t=!0,n=!1,i=void 0;try{for(var o,r=["textConfirm","login","gongGao","createRole"][Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value,s=l[a];s&&s.prefab&&e.push(s.prefab)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}return e},_handlerCreateList:function _handlerCreateList(){if(yx.log("[WindowManager _handlerCreateList] len:"+this._createList.length),0<this._createList.length){var e=this._createList.shift();null!=e&&null!=e.name&&this.showWindowAuto(e.name,e.args)}},setFirstWindow:function setFirstWindow(e,t){if(0<this._windowStack.length)yx.warn("[WindowManager setFirstWindow] stack n");else if(e instanceof s){var n=l[t];e.init(n),this._windowStack.push(t),this._windowMap.set(t,e),e.show()}},showWindowAuto:function showWindowAuto(e,t){this.showWindow(e,t,!0)},showWindow:function showWindow(i,o,e){if(this._hasWindowInfo(i)){if(yx.log("windowmanager showWindow:"+i),!this._checkTopWindow(i,!0)){if(1==this._windowCreating)return yx.warn("[WindowManager showWindow] return window is creating:"+i),void(1==e&&this._createList.push({name:i,args:o}));var r=this;this._debugShowTime&&this._showTimeMap.set(i,Date.now());var t=this._windowMap.get(i);if(t){if(t.isShown())return;if(this._windowStack[this._windowStack.length-1]!=i&&(this._windowStack.push(i),yx.log("windowstack old push:",this._windowStack)),this._hideAllOtherWindow(),t.show(o),r._debugShowTime&&r._showTimeMap.has(i)){var n=(Date.now()-r._showTimeMap.get(i))/1e3;.5<n?yx.warn("create window complete:"+i+" duration:"+n):yx.log("create window complete:"+i+" duration:"+n)}}else{if(this._windowStack[this._windowStack.length-1]==i)return;yx.log("create window: "+i),r._windowCreating=!0,this._createWindow(i,o,function(e){if(r._windowCreating=!1,null!=e&&(r._windowMap.set(i,e),r._windowStack.push(i),yx.log("windowstack new push:",r._windowStack),r._hideAllOtherWindow(),e.show(o)),r._debugShowTime&&r._showTimeMap.has(i)){var t=(Date.now()-r._showTimeMap.get(i))/1e3;.5<t?yx.warn("create window complete:"+i+" duration:"+t):yx.log("create window complete:"+i+" duration:"+t)}else yx.log("create window complete:"+i);var n=l[i];n&&n.preload&&n.preload.length,yx.CodeHelper.CallInNextTick(r._handlerCreateList.bind(r))})}}}else yx.warn("there is not have window info in dict:"+i)},_hideAllOtherWindow:function _hideAllOtherWindow(){if(1!=this._windowCreating){if(!(this._windowStack.length<=1))for(var e=null,t=this._windowStack.length-1;0<=t;t--){var n=this._windowStack[t],i=l[n];if(!i)return void yx.error("windowmanager hideAllOtherWindow get info error name:"+n);null!=e?(i.type!=s.Type.WINDOW&&this._windowStack.splice(t,1),this.hideWindow(n)):i&&i.type==s.Type.WINDOW&&(e=n)}}else yx.warn("[WindowManager showWindow] return window is creating:"+name)},hideWindow:function hideWindow(e){yx.log("windowmanager hideWindow:"+e);var t=this._windowMap.get(e);if(t&&t.isShown()&&(t.hide(),t.windowType!=s.Type.WINDOW)){if(l[e]&&1==l[e].unrelease)return;t.node.destroy(),this._windowMap.delete(e)}},getCurWindow:function getCurWindow(){for(var e=this._windowStack.length-1;0<=e;e--){var t=this._windowStack[e],n=this._windowMap.get(t);if(n&&n.windowType==s.Type.WINDOW)return yx.log("getCurWindow:"+t),n.node}},getCurWindowName:function getCurWindowName(){for(var e=this._windowStack.length-1;0<=e;e--){var t=this._windowStack[e];if(null!=this._windowMap.get(t))return t}},getCurWindowOrPanel:function getCurWindowOrPanel(){for(var e=this._windowStack.length-1;0<=e;e--){var t=this._windowStack[e],n=this._windowMap.get(t);if(n)return yx.log("getCurWindowOrPanel:"+t),n.node}},goBack:function goBack(){if(this._windowStack.length<=1)yx.warn("[WindowManager goBack]this is the last window");else if(1!=this._windowCreating){var e=this._windowStack.pop();yx.log("windowstack goback pop:"+e),yx.log("windowstack pop:",this._windowStack);var t=this._windowStack[this._windowStack.length-1];this.hideWindow(e),this.showWindow(t)}else console.warn("[WindowManager showWindow] return window is creating:"+this._windowStack[this._windowStack.length-1])},goHome:function goHome(){for(;1<this._windowStack.length;)this.goBack()},backToWindow:function backToWindow(e){for(;1<this._windowStack.length&&this._windowStack[this._windowStack.length-1]!=e;)this.goBack()},closeWindow:function closeWindow(e){if(!this._checkTopWindow(e,!1))if(this._windowStack.length<=1)yx.warn("[WindowManager closeWindow]this is the last window");else{var t="";if(e instanceof s)t=e.name;else{if(e.constructor!=String)return void yx.error("WindowManager closeWindow errorType 只能传BaseWindow 或者 String");t=e}if(t==this._windowStack[this._windowStack.length-1])this.goBack();else{var n=this._windowStack.findIndex(function(e){return e==t});0<=n&&(this.hideWindow(t),this._windowStack.splice(n,1))}}},_hasWindowInfo:function _hasWindowInfo(e){return null!=l[e]},_createWindow:function _createWindow(e,t,o){var r=this,a=l[e];if(!a||!a.name||null==a.prefab||null==a.type)return yx.error("windowinfo error:"+a),void o(null);a.args=t,yx.resUtil.LoadRes(a.prefab,function(e,t){if(e)yx.warn(a.prefab+" is not exist!"),o(null);else{var n=cc.instantiate(t),i=n.getComponent(s);n?(r._getSubRootNode(a.type).addChild(n),i?(i.init(a),o(i)):(yx.warn("window:"+a.name+" is not have scripts on it"),o(null))):(yx.warn(a.prefab+" instantiate error!"),o(null))}})},getPopUpNode:function getPopUpNode(){return this._getSubRootNode(s.Type.POPUP)},findTargetNode:function findTargetNode(e,t){for(var n=e.children,i=0;i<n.length;++i){var o=n[i];if(o.name==t.targetName)return void(t.targetNode=o);this.findTargetNode(o,t)}},getNodeOfWindow:function getNodeOfWindow(e,t){var n=this._windowMap.get(e);if(n){var i={};if(i.targetName=t,this.findTargetNode(n.node,i),i.targetNode)return i.targetNode}return null},findRoot:function findRoot(e,t){if(e&&e.parent){var n=e.parent.getComponent(s);if(n&&n.name==t.winName)return void(t.rlt=!0)}e.parent&&this.findRoot(e.parent,t)},isShow:function isShow(e){var t=this._windowMap.get(e);return!(!t||!t.isShown())},getWinComponent:function getWinComponent(e){return this._windowMap.get(e)}},yx.windowMgr=new yx.WindowManager,t.exports=yx.windowMgr,cc._RF.pop()},{BaseWindow:"BaseWindow",WindowInfoDict:"WindowInfoDict"}],WuDaoMgr:[function(e,t,n){cc._RF.push(t,"da564cGhGFHaL8rTFXvOi/i","WuDaoMgr"),yx.WuDaoManager=function(){this._lingChiLevel=1,this._attr=new Array},yx.WuDaoManager.prototype={constructor:yx.WuDaoManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.WUDAO,this.onMessageWuDaoInfo),yx.network.addHandler(yx.proto.CmdId.UPGRADE_WUDAO,this.onMessageWudaoUpgrade),yx.network.addHandler(yx.proto.CmdId.UPGRADE_WUDAO_ATTR,this.onMessageAttrUpgrade)},getLingChiLevel:function getLingChiLevel(){return this._lingChiLevel},getAttr:function getAttr(){return this._attr},setWuDaoInfo:function setWuDaoInfo(e){this._lingChiLevel=e.level,this._attr=e.attr},setWuDaoLevel:function setWuDaoLevel(e){this._lingChiLevel=e},getAttrLevel:function getAttrLevel(e){return this._attr[e]?this._attr[e]:1},getAttrAdd:function getAttrAdd(e){var t=e-1,n=this.getAttrLevel(t),i=yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:n,Type:e});return i?i.attr[0].value:0},setAttrLevel:function setAttrLevel(e,t){this._attr[e]&&(this._attr[e]=t)},reqWuDaoInfo:function reqWuDaoInfo(){var e=new yx.proto.C2S_Wudao;yx.network.sendMessage(yx.proto.CmdId.WUDAO,e)},reqWuDaoUpgrade:function reqWuDaoUpgrade(){var e=this.getLingChiLevel();if(yx.cfgMgr.getRecordByKey("WuDaoChingConfig",{Level:e})){var t=new yx.proto.C2S_UpgradeWudao;yx.network.sendMessage(yx.proto.CmdId.UPGRADE_WUDAO,t)}else yx.ToastUtil.showListToast("已经达到最高等级")},reqWuDaoAttrUpgrade:function reqWuDaoAttrUpgrade(e){var t=e-1,n=this.getAttrLevel(t);if(yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:n+1,Type:e})){var i=new yx.proto.C2S_UpgradeWudaoAttr;i.index=t,yx.log("reqWuDaoAttrUpgrade req.index:"+i.index),yx.network.sendMessage(yx.proto.CmdId.UPGRADE_WUDAO_ATTR,i)}else yx.ToastUtil.showListToast("已经达到最高等级")},onMessageWuDaoInfo:function onMessageWuDaoInfo(e,t){var n=yx.proto.S2C_Wudao.decode(t);yx.wudaoMgr.setWuDaoInfo(n),yx.eventDispatch.dispatchMsg(yx.EventType.WUDAO,n)},onMessageWudaoUpgrade:function onMessageWudaoUpgrade(e,t){if(null!=e&&0<e.length)yx.log("[WuDaoMgr onMessageWudaoUpgrade] error:"+e);else{var n=yx.proto.S2C_UpgradeWudao.decode(t);yx.wudaoMgr.setWuDaoLevel(n.level),yx.eventDispatch.dispatchMsg(yx.EventType.UPGRADE_WUDAO,n)}},onMessageAttrUpgrade:function onMessageAttrUpgrade(e,t){if(null!=e&&0<e.length)yx.log("[WuDaoMgr onMessageAttrUpgrade] error:"+e);else{var n=yx.proto.S2C_UpgradeWudaoAttr.decode(t),i=n.index+1,o=yx.wudaoMgr.getAttrAdd(i);yx.wudaoMgr.setAttrLevel(n.index,n.level);var r=yx.wudaoMgr.getAttrAdd(i),a=yx.gongfaMgr.calStarsByWuXingType(i);for(var s in a)if(a.hasOwnProperty(s)){var c=(r-o)*a[s];if(0<c){var l=yx.textDict.SecAttrName[s],u=yx.playerMgr.attr2secAttr(s,c);yx.ToastUtil.showListToast("<color=#00ff00>"+l+"+"+u+"</color>")}}yx.eventDispatch.dispatchMsg(yx.EventType.UPGRADE_WUDAO_ATTR,n)}}},yx.wudaoMgr=new yx.WuDaoManager,t.exports=yx.wudaoMgr,cc._RF.pop()},{}],WuDaoShiRewardPanel:[function(e,t,n){cc._RF.push(t,"23476cWUjVLPId5l/IEWJSG","WuDaoShiRewardPanel");var i=e("BaseWindow"),o=e("ScrollViewRepeat");cc.Class({extends:i,properties:{closeBtn:cc.Button,scrollView:cc.ScrollView,scrollContent:cc.Node,wuDaoShiRewardScrollItem:cc.Prefab,maskSp:cc.Button,wudaoTab:cc.Button,ningtiTab:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.WUDAOSHIREWARD_REFRESH,this.onEventReFresh,this),this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.wudaoTab.node.on("click",this.onwudaoTabTabClick,this),this.ningtiTab.node.on("click",this.onningtiTabClick,this),this._tabs=[this.wudaoTab,this.ningtiTab],this._curTab=0,yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.wudaoTab.node,70,20),yx.BadgeMgr.addBadge(this.ningtiTab.node,70,20)},_onShow:function _onShow(){this._refresh(),this.onEventRefreshBadge()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){for(var e=yx.cfgMgr.getRecordList("ZongMenWuDaoConfig"),t=[],n=0;n<e.length;n++){var i=e[n];if(0<i.ExtraReward.length){var o={};o.cfg=i,o.tab=0,t.push(o)}}for(var r=[],a=yx.cfgMgr.getRecordList("ZongMenNiTiConfig"),s=0;s<a.length;s++){var c=a[s];if(0<c.ExtraReward.length){var l={};l.cfg=c,l.tab=1,r.push(l)}}this._duihuanList=[t,r],this._refreshTab()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onwudaoTabTabClick:function onwudaoTabTabClick(){0!=this._curTab&&(this._curTab=0,this._refreshTab(!0))},onningtiTabClick:function onningtiTabClick(){1!=this._curTab&&(this._curTab=1,this._refreshTab(!0))},_refreshTab:function _refreshTab(e){for(var t=0;t<this._tabs.length;t++){var n=this._tabs[t];n.node.getChildByName("selected").active=!1,n.node.getChildByName("Background").active=!0}this._tabs[this._curTab].node.getChildByName("selected").active=!0,this._tabs[this._curTab].node.getChildByName("Background").active=!1;var i=this._duihuanList[this._curTab];this._svr?e?this._svr.updateAllData(i):this._svr.updateAllWithoutData():(this._svr=this.scrollView.getComponent(o),this._svr.initialize(i,this.wuDaoShiRewardScrollItem))},onEventReFresh:function onEventReFresh(){this._refreshTab()},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&(yx.BadgeMgr.showBadge(this.wudaoTab.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ZongMenWuDao)),yx.BadgeMgr.showBadge(this.ningtiTab.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ZongMenNingTi)))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],WuDaoShiRewardScrollItem:[function(e,t,n){cc._RF.push(t,"2175fejSqdKa6Xr+VsMLYXh","WuDaoShiRewardScrollItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{descLabel:cc.Label,duihuanLabel:cc.Label,duihuanBtn:cc.Button,scrollContent:cc.Node},onDuihuanBtnClick:function onDuihuanBtnClick(){yx.log("兑换");var e=this._data.cfg;yx.ZongMenMgr.receiveWuDaoReward(this._type,e.ID)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_onUpdate:function _onUpdate(){var e=this._data.cfg;0==this._data.tab?(this.descLabel.string="悟道"+e.ID+"次奖励",this._type=2001):(this.descLabel.string="凝体"+e.ID+"次奖励",this._type=2002),this.scrollContent.removeAllChildren(!0);for(var t=0;t<e.ExtraReward.length;t++){var n=e.ExtraReward[t],i={};i.amount=n.count,i.itemId=n.id,i.clickCallBack=this._onItemClick,yx.ItemWidget.CreateItemSlot(i,this.scrollContent,"reward"+n.id)}this.duihuanLabel.node.active=!1,this.duihuanBtn.node.active=!1;var o=yx.ZongMenMgr.getTaskInfo(this._type,e.ID);if(!o)return this.duihuanLabel.node.active=!0,this.duihuanLabel.string="0/"+e.ID,void yx.log("taskInfo is null  "+this._type+","+e.ID);switch(o.taskState){case yx.proto.TaskStateType.Processing:this.duihuanLabel.node.active=!0,this.duihuanLabel.string=o.processing+"/"+e.ID;break;case yx.proto.TaskStateType.Finish:this.duihuanBtn.node.active=!0;break;case yx.proto.TaskStateType.Received:this.duihuanLabel.node.active=!0,this.duihuanLabel.string="已领取"}},_initItem:function _initItem(){this.duihuanBtn.node.on("click",this.onDuihuanBtnClick,this),yx.BadgeMgr.addBadge(this.duihuanBtn.node,50,10),yx.BadgeMgr.showBadge(this.duihuanBtn.node,!0)},_updateItem:function _updateItem(){}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],WuDaoShiWindow:[function(e,t,n){cc._RF.push(t,"b5555+s9xxBiosknr8b0dcC","WuDaoShiWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{wudaoshiDesc:cc.RichText,contentGroup:cc.Node,rewardBtn:cc.Button,wudaoBtn:cc.Button,ningtiBtn:cc.Button,progressGroup:cc.Node,progeress:cc.ProgressBar,progressDesc:cc.Label,progressTime:cc.Label,logRichText:cc.RichText,logScrollView:cc.ScrollView},_onInit:function _onInit(){this.wudaoshiDesc.string="旭日初升，一条曲折的小径通向幽静的亭中，那被花木浓荫覆盖着的地方。山光明净，飞鸟藏形，深潭倒影，万物一片沉寂，只听到那悠悠山风的回声。",yx.eventDispatch.addListener(yx.EventType.WUDAOSHI_REFRESH,this.onEventWuDaoShiRrefresh,this),this.rewardBtn.node.on("click",this.onRewardBtnClick,this),this.wudaoBtn.node.on("click",this.onWuDaoBtnClick,this),this.ningtiBtn.node.on("click",this.onNingTiBtnClick,this),yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"WuDaoShi"),yx.ZongMenMgr.getWuDaoRewards(),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.rewardBtn.node,30,30)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this.contentGroup.active=!0,this.progressGroup.active=!1,this._refreshDaily(),this.onEventRefreshBadge()},onRewardBtnClick:function onRewardBtnClick(){yx.windowMgr.showWindow("wuDaoShiRewardPanel")},onWuDaoBtnClick:function onWuDaoBtnClick(){yx.ZongMenMgr.wuDao()},onNingTiBtnClick:function onNingTiBtnClick(){yx.ZongMenMgr.ningTi()},_diaryShow:function _diaryShow(e){yx.DiarysUtil.addShowTextToRichText(this.logRichText,"WuDaoShi",e),this.logScrollView.scrollToBottom()},update:function update(){if(this._update){var e=yx.timeUtil.getServerTime();if(e<this._endTime){var t=Math.max(0,this._endTime-e);this.progeress.progress=t/5e3,this.progressTime.string=yx.timeUtil.seconds2hourMinSecond(t/1e3)}else this._update=!1,this.contentGroup.active=!0,this.progressGroup.active=!1,this._refreshDaily()}},onEventWuDaoShiRrefresh:function onEventWuDaoShiRrefresh(e){this.contentGroup.active=!1,this.progressGroup.active=!0,e.wudaoShiType==yx.proto.ZongMenCmdType.WuDao_Cmd?(this.progressDesc.string="悟道中...",this._actionData={},this._actionData.actionType=yx.proto.ZongMenCmdType.WuDao_Cmd,this._actionData.totalCount=e.wuDaoShiCount):e.wudaoShiType==yx.proto.ZongMenCmdType.NingTi_Cmd&&(this.progressDesc.string="凝体中...",this._actionData={},this._actionData.actionType=yx.proto.ZongMenCmdType.NingTi_Cmd,this._actionData.totalCount=e.wuDaoShiCount),this._update=!0,this._endTime=yx.timeUtil.getServerTime()+5e3},_refreshDaily:function _refreshDaily(){if(this._actionData){var e="<color=#B16647>{pName}</color>感觉造化之力充斥体内。已{actionName}<color=#00C800>{count}次</color>，{content2}",t=yx.playerMgr.getName(),n="",i=this._actionData.totalCount,o="",r=null,a="";if(this._actionData.actionType==yx.proto.ZongMenCmdType.WuDao_Cmd){r=yx.cfgMgr.getOneRecord("ZongMenWuDaoConfig",{ID:i}),a="<color=#B16647>"+t+"</color>"+yx.bagMgr.GetItemName(r.Reward[0].id)+"+"+r.Reward[0].count,n="悟道";for(var s=yx.cfgMgr.getRecordList("ZongMenWuDaoConfig"),c=0;c<s.length;c++){var l=s[c];if(l.ID>=i&&0<l.ExtraReward.length){var u=l.ID+"次"+n+"奖励";o=l.ID==i?"可领取"+u:"距离"+u+"剩余<color=#00C800>"+(l.ID-i)+"次</color>";break}}}else if(this._actionData.actionType==yx.proto.ZongMenCmdType.NingTi_Cmd){r=yx.cfgMgr.getOneRecord("ZongMenNiTiConfig",{ID:i}),a="<color=#B16647>"+t+"</color>"+yx.textDict.Attr[r.AddAttr[0].type]+"+"+r.AddAttr[0].value,n="凝体";for(var d=yx.cfgMgr.getRecordList("ZongMenNiTiConfig"),h=0;h<d.length;h++){var g=d[h];if(g.ID>=i&&0<g.ExtraReward.length){var p=g.ID+"次"+n+"奖励";o=g.ID==i?"可领取"+p:"距离"+p+"剩余<color=#00C800>"+(g.ID-i)+"次</color>";break}}}var y={index:0,str:e=e.format({pName:t,actionName:n,count:i,content2:o})};this._diaryShow(y);var f={index:0,str:a};this._diaryShow(f),this._actionData=null}},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&yx.BadgeMgr.showBadge(this.rewardBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ZongMenWuDao)||yx.BadgeMgr.IsShow(yx.proto.RedDotType.ZongMenNingTi))}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],WuDaoWindow:[function(e,t,n){cc._RF.push(t,"25928OQyBhHZZu/X+zu+duN","WuDaoWindow");var i=e("BaseWindow"),o=e("AttrGroupWidget");cc.Class({extends:i,properties:{attrGroupWidget:o,oneKeyLevelBtn:cc.Button,autoUpgradeGroupNode:cc.Node,autoUpgradeBtn:cc.Button,jinNode:cc.Node,muNode:cc.Node,shuiNode:cc.Node,huoNode:cc.Node,tuNode:cc.Node,lingChiTitleLabel:cc.Label,shengchanLabel:cc.Label,jyShengchanLabel:cc.Label,needMuCaiValueLabel:cc.Label,needYunTieValueLabel:cc.Label,lingQiValueLabel:cc.Label,upgradeBtn:cc.Button,upgredeDragon:dragonBones.ArmatureDisplay,yaodanDragon:dragonBones.ArmatureDisplay,logRichText:cc.RichText,logScrollView:cc.ScrollView,_lingChiInfo:null,_daoNodeArray:null},_onInit:function _onInit(){this.attrGroupWidget.initItems([yx.CyType.MUCAI,yx.CyType.YUNTIE]),this.upgredeDragon.node.active=!1,this.upgradeBtn.node.on("click",this.onUpgradeBtnClick,this),this.oneKeyLevelBtn.node.on("click",this.onOneKeyLevelBtnClick,this),yx.BadgeMgr.addBadge(this.oneKeyLevelBtn.node,70,0),this.autoUpgradeBtn.node.on("click",this.onAutoUpgradeBtnClick,this),this.autoUpgradeBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.WuDaoAuto),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.WUDAO,this.onEventWuDaoInfo,this),yx.eventDispatch.addListener(yx.EventType.UPGRADE_WUDAO,this.onEventWudaoUpgrade,this),yx.eventDispatch.addListener(yx.EventType.UPGRADE_WUDAO_ATTR,this.onEventAttrUpgrade,this),yx.eventDispatch.addListener(yx.EventType.SWITCH_UPDATE,this.onEventSwitchAutoUpgrade,this),this._daoNodeArray=[this.jinNode,this.muNode,this.shuiNode,this.huoNode,this.tuNode],yx.BadgeMgr.addBadge(this.upgradeBtn.node,50,50),this.autoUpgradeGroupNode.active=yx.CodeHelper.checkFuncOpenShow(69)},_onShow:function _onShow(){this._refresh(),yx.CodeHelper.CallInNextTick(this.refreshRiZhiRichText.bind(this))},refreshRiZhiRichText:function refreshRiZhiRichText(){yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"wudao")},_onHide:function _onHide(){this.unscheduleAllCallbacks(),this._clearAllEffect()},update:function update(){this.isShown()},_onDeInit:function _onDeInit(){},_refreshLingQi:function _refreshLingQi(){var e=this.getCanReqLevelTypes();yx.BadgeMgr.showBadge(this.oneKeyLevelBtn.node,0<e.length);for(var t=1;t<=5;t++)this._showYaoDanNextEff(t,!1);var n=this.getMinType();n&&this._showYaoDanNextEff(n,!0),this.lingQiValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGQI)+"/"+this._lingChiInfo.MaxLingQi;var i=yx.wudaoMgr.getAttr();if(5==i.length)for(var o=0;o<this._daoNodeArray.length;o++){var r=yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:i[o],Type:o+1});r?yx.BadgeMgr.showBadge(this._daoNodeArray[o],yx.playerMgr.getCurrency(yx.CyType.LINGQI)>=r.Cost[0].count):yx.BadgeMgr.showBadge(this._daoNodeArray[o],!1)}},_refresh:function _refresh(){this.autoUpgradeBtn.node.active=!0;var e=yx.wudaoMgr.getAttr();if(5==e.length)for(var t=0;t<this._daoNodeArray.length;t++)this._setNode(this._daoNodeArray[t],t,e[t]);else yx.warn("[WuDaoWindow refresh warn] attrlist error len:"+e.length);if(this._setLingChi(),this.logRichText.node.parent.setContentSize(this.logRichText.node.getContentSize()),this._lingChiInfo){var n=yx.playerMgr.getCurrency(yx.CyType.MUCAI),i=yx.playerMgr.getCurrency(yx.CyType.YUNTIE),o=this._lingChiInfo.Cost[0].count,r=this._lingChiInfo.Cost[1].count,a=o<=n&&r<=i;yx.BadgeMgr.showBadge(this.upgradeBtn.node,a)}else yx.BadgeMgr.showBadge(this.upgradeBtn.node,!1)},_clearLingGenNodeEffect:function _clearLingGenNodeEffect(e){e.children.filter(function(e){return"upLevelEffNode"==e.name}).forEach(function(e){e.parent&&e.removeFromParent(!0)})},_clearAllEffect:function _clearAllEffect(){for(var e=0;e<this._daoNodeArray.length;e++){var t=this._daoNodeArray[e];this._clearLingGenNodeEffect(t)}},_playEffectNodeUpgrade:function _playEffectNodeUpgrade(e){if(this._daoNodeArray[e]){var t=this._daoNodeArray[e],n=new cc.Node("upLevelEffNode"),i=n.addComponent(dragonBones.ArmatureDisplay);yx.resUtil.loadDragonBones(i,"ui_effect/linggen/shengjieff","MovieClip","chufa"),n.parent=t,n.scale=cc.v2(1.7,1.7),n.setPosition(cc.v2(7,46)),i.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,this.onDragonActionAnimComplete.bind(n),this)}},onDragonActionAnimComplete:function onDragonActionAnimComplete(e){e&&this&&this.parent&&this.removeFromParent(!0)},_setNode:function _setNode(e,t,n){var i=yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:n,Type:t+1}),o=new cc.Component.EventHandler;o.target=this.node,o.component="WuDaoWindow",o.handler="onDaoNodeBtnClick",o.customEventData=t,e.getChildByName("AddButton").getComponent(cc.Button).clickEvents.length=0,null!=i?(e.getChildByName("LevelLabel").getComponent(cc.Label).string=i.Name,e.getChildByName("AddValueLabel").getComponent(cc.Label).string="+"+i.attr[0].value,e.getChildByName("LiQiValueLabel").getComponent(cc.Label).string=i.Cost[0].count):(e.getChildByName("LevelLabel").getComponent(cc.Label).string="废品一阶",e.getChildByName("AddValueLabel").getComponent(cc.Label).string="2",e.getChildByName("LiQiValueLabel").getComponent(cc.Label).string="60")},_setLingChi:function _setLingChi(){var e=yx.wudaoMgr.getLingChiLevel();if(this._lingChiInfo=yx.cfgMgr.getRecordByKey("WuDaoChingConfig",{Level:e}),null!=this._lingChiInfo){var t=yx.playerMgr.getSecAttr(yx.proto.PropertyType.JiYuan);this.jyShengchanLabel.string="(机缘增加"+t+"点灵气获取)",this.lingChiTitleLabel.string=this._lingChiInfo.Name,this.shengchanLabel.string="每5秒生产"+this._lingChiInfo.AddLingQi[0].count+"点灵气";var n=yx.playerMgr.getCurrency(yx.CyType.MUCAI),i=yx.playerMgr.getCurrency(yx.CyType.YUNTIE),o=this._lingChiInfo.Cost[0].count,r=this._lingChiInfo.Cost[1].count,a=o<=n?yx.colorUtil.TextGreen:yx.colorUtil.TextRed,s=r<=i?yx.colorUtil.TextGreen:yx.colorUtil.TextRed;this.needMuCaiValueLabel.string=o,this.needYunTieValueLabel.string=r,this.needMuCaiValueLabel.node.color=(new cc.Color).fromHEX(a),this.needYunTieValueLabel.node.color=(new cc.Color).fromHEX(s),this._refreshLingQi()}else yx.error("[WuDaoWindow setLingChi] lingchiinfo error level:"+e)},_onVipTipComfirm:function _onVipTipComfirm(){yx.CodeHelper.checkFuncOpen(56)&&yx.windowMgr.showWindow("vipWindow")},onAutoUpgradeBtnClick:function onAutoUpgradeBtnClick(){if(yx.playerMgr.isVip()){var e=yx.playerMgr.getSwitch(yx.proto.SwitchType.GongFaAuto),t=!this.autoUpgradeBtn.node.getChildByName("checkmark").active;e&&t?yx.TextConfirm.ShowConfirm("当前正在自动升级兽诀，开启妖丹将会关闭兽诀的自动升级功能",this._onAutoUpgrateComfirm.bind(this)):yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.WuDaoAuto,t)}else yx.TextConfirm.ShowConfirm("开通月卡即可享受妖丹与兽诀的自动升级功能",this._onVipTipComfirm.bind(this))},_onAutoUpgrateComfirm:function _onAutoUpgrateComfirm(){var e=!this.autoUpgradeBtn.node.getChildByName("checkmark").active;yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.WuDaoAuto,e)},onUpgradeBtnClick:function onUpgradeBtnClick(){yx.log("onUpgradeBtnClick");var e={content:""};e.content+="确定要升级妖阵吗？\n所需要材料\n";var t=yx.playerMgr.getCurrency(yx.CyType.MUCAI),n=yx.playerMgr.getCurrency(yx.CyType.YUNTIE),i=this._lingChiInfo.Cost[0].count,o=this._lingChiInfo.Cost[1].count,r=t+"/"+i,a=n+"/"+o,s=i<=t?yx.colorUtil.TextGreen:yx.colorUtil.TextRed,c=o<=n?yx.colorUtil.TextGreen:yx.colorUtil.TextRed;e.content+="木材："+yx.colorUtil.AddColorString(r,s)+"\n",e.content+="陨铁："+yx.colorUtil.AddColorString(a,c)+"\n",e.content=yx.colorUtil.AddColorString(e.content,yx.colorUtil.TextDarkGreen),yx.TextConfirm.ShowConfirm(e.content,this.onUpgradeConfirmBtnClick.bind(this))},onDaoNodeBtnClick:function onDaoNodeBtnClick(e,t){var n=t+1,i=t;yx.log("onDaoNodeBtnClick type:"+n);var o=yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:yx.wudaoMgr.getAttrLevel(i),Type:n});o&&(yx.playerMgr.getCurrency(yx.CyType.LINGQI)>=o.Cost[0].count?yx.wudaoMgr.reqWuDaoAttrUpgrade(n):yx.ToastUtil.showListToast("灵气不足"))},getMinType:function getMinType(){var e=yx.wudaoMgr.getAttr();if(5==e.length){for(var t=0,n=e.reduce(function(e,t){return e<t?e:t}),i=0;i<e.length;i++)if(e[i]==n){t=i+1;break}return t}yx.warn("[WuDaoWindow getOneKeyLevelType warn] attrlist error len:"+e.length)},getCanReqLevelTypes:function getCanReqLevelTypes(){var e=yx.wudaoMgr.getAttr();if(5==e.length){for(var t=[],n=e.reduce(function(e,t){return e<t?e:t}),i=0;i<e.length;i++)e[i]==n&&t.push(i);for(var o=[],r=0,a=0;a<t.length;a++){var s=t[a]+1,c=t[a],l=yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:yx.wudaoMgr.getAttrLevel(c),Type:s});if(l){if(r+=l.Cost[0].count,!(yx.playerMgr.getCurrency(yx.CyType.LINGQI)>=r))break;o.push(s)}}return o}yx.warn("[WuDaoWindow getOneKeyLevelType warn] attrlist error len:"+e.length)},_showYaoDanNextEff:function _showYaoDanNextEff(e,t){var n=this.yaodanDragon._armature.getSlot(["","qinglong1","ma1","xuanwu1","zhuque1","baihu1"][e]);if(n&&n.childArmature){var i=n.childArmature.getSlot("yaodanxz");i&&(i.displayIndex=t?0:-1)}},onOneKeyLevelBtnClick:function onOneKeyLevelBtnClick(){var e=this.getCanReqLevelTypes();if(0!==e.length)for(var t=0;t<e.length;t++)yx.wudaoMgr.reqWuDaoAttrUpgrade(e[t]),yx.log("请求升级妖丹类型:"+e[t]);else yx.ToastUtil.showListToast("灵气不足")},onUpgradeConfirmBtnClick:function onUpgradeConfirmBtnClick(){yx.log("onUpgradeConfirmBtnClick");var e=yx.playerMgr.getCurrency(yx.CyType.MUCAI),t=yx.playerMgr.getCurrency(yx.CyType.YUNTIE),n=this._lingChiInfo.Cost[0].count,i=this._lingChiInfo.Cost[1].count;n<=e&&i<=t?yx.wudaoMgr.reqWuDaoUpgrade():yx.ToastUtil.showListToast("材料不足")},onEventCurrencyChange:function onEventCurrencyChange(e){if(this.isShown()&&null!=e){var t=e[yx.CyType.LINGQI];0<t&&(yx.ToastUtil.showSimpleToast("灵气："+t,this.node),this._refreshLingQi()),e[yx.CyType.MUCAI]}},onEventWuDaoInfo:function onEventWuDaoInfo(){this.isShown()&&this._refresh()},onEventWudaoUpgrade:function onEventWudaoUpgrade(){if(this.isShown()){this._refresh(),this.upgredeDragon.node.active=!0,this.upgredeDragon.playAnimation("newAnimation",1);var e={index:1};e.year=yx.timeUtil.getXiuLianYear(),e.name=yx.playerMgr.getName(),e.level=yx.wudaoMgr.getLingChiLevel(),yx.DiarysUtil.addShowTextToRichText(this.logRichText,"wudao",e),this.logScrollView.scrollToBottom()}},onEventSwitchAutoUpgrade:function onEventSwitchAutoUpgrade(){this.autoUpgradeBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.WuDaoAuto)},onEventAttrUpgrade:function onEventAttrUpgrade(e){if(this.isShown()&&(this._refresh(),e)){this._playEffectNodeUpgrade(e.index);var t=yx.cfgMgr.getRecordByKey("WuDaoAttrConfig",{Level:e.level,Type:e.index+1}),n={index:0};n.year=yx.timeUtil.getXiuLianYear(),n.name=yx.playerMgr.getName(),n.color="#bb1f29",n.type=yx.textDict.WuDaoTypeName[e.index+1],n.levelName=t?t.Name:"",yx.DiarysUtil.addShowTextToRichText(this.logRichText,"wudao",n),this.logScrollView.scrollToBottom()}},onWudaoHelpBtnClick:function onWudaoHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",13)},onLingChiHelpBtnClick:function onLingChiHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",19)}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow"}],XiSuiItem:[function(e,t,n){cc._RF.push(t,"62378A31ZpAmrmi4QQFmbRs","XiSuiItem");var s=cc.Class({extends:cc.Component,properties:{contentRichText:cc.RichText,itemBtn:cc.Button,selectBgNode:cc.Node},statics:{_Prefab:null,CreateItem:function CreateItem(e,t,n,i){var o=new cc.Node(n);o.setAnchorPoint(.5,.5),t.addChild(o);var r=cc.instantiate(s._Prefab);null!=n&&(r.name=n);var a=r.getComponent(s);return a?(o.addChild(r),a.init(e,i),o.setContentSize(r.getContentSize())):yx.warn("XiSuiItem instantiate error!"),a}},init:function init(e,t){e&&(this._info=e,this._cb=t,this.itemBtn.node.on("click",this._onItemBtnClick,this),this._info.levelName=yx.colorUtil.AddColorString(e.levelName,yx.textDict.QualityColor.getQualityColor(e.pinZhi)),this.contentRichText.string=this._info.levelName)},getXiSuiName:function getXiSuiName(){return this._info?this._info.levelName:""},getXiSuiLevel:function getXiSuiLevel(){return this._info?this._info.pinZhi:1},_onItemBtnClick:function _onItemBtnClick(){yx.log("_onItemBtnClick");var e=this.node.parent.parent.getComponentsInChildren(s);for(var t in e)e[t].showSelectBg(e[t]===this);this._cb&&this._cb(this._info,this)},showSelectBg:function showSelectBg(e){this.selectBgNode.active=e}});yx.XiSuiItem=t.exports=s,cc._RF.pop()},{}],XiSuiMgr:[function(e,t,n){cc._RF.push(t,"3a695vFJElD7ombpGWDIbyZ","XiSuiMgr"),yx.XiSuiManager=function(){},yx.XiSuiManager.prototype={constructor:yx.XiSuiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.XI_SUI,this.onMessageXiSui.bind(this))},reqXiSui:function reqXiSui(e,t){var n=new yx.proto.C2S_XiSui;n.cmdType=e,n.jie=t,yx.network.sendMessage(yx.proto.CmdId.XI_SUI,n)},onMessageXiSui:function onMessageXiSui(e,t){if(null!=e&&0<e.length)yx.log("[XiSuiManager onMessageXiSui] error:"+e);else{var n=yx.proto.S2C_XiSu.decode(t);if(n)switch(n.cmdType){case yx.proto.XiSuiCmdType.GetXiSui_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.XISUI_GETMESSAGE,n);break;case yx.proto.XiSuiCmdType.XiSui_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.XISUI_OPT,n)}}}},yx.xiSuiMgr=new yx.XiSuiManager,t.exports=yx.xiSuiMgr,cc._RF.pop()},{}],XiSuiPanel:[function(e,t,n){cc._RF.push(t,"93930x1WElOEKL9vDK2rGQ3","XiSuiPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{itemLayout:cc.Layout,xiSuiTipRiText:cc.RichText,xiSuiLeftNumRiText:cc.RichText,xiSuiRigthtNumRiText:cc.RichText,xiSuiOwnNumRiText:cc.RichText,xiSuiCostNumLabel:cc.Label,xiSuiBtn:cc.Button,closeBtn:cc.Button,xiSuiPrefab:cc.Prefab,maxLevelNode:cc.Node,unMaxLevelNode:cc.Node},_onInit:function _onInit(){yx.XiSuiItem._Prefab=this.xiSuiPrefab,this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.xiSuiBtn.node.on("click",this.onXiSuiBtnClick,this),yx.eventDispatch.addListener(yx.EventType.XISUI_GETMESSAGE,this.onEventGetMessage,this),yx.eventDispatch.addListener(yx.EventType.XISUI_OPT,this.onEventXiSuiOpt,this),this.xiSuiItemSrcs={};for(var e=1;e<=23;e++){var t=yx.textDict.DanYaoLevelName[e];this.xiSuiItemSrcs[e]=yx.XiSuiItem.CreateItem({levelName:t,pinZhi:e},this.itemLayout.node,"xiSuiItem"+e,this._onXiSuiItemCb.bind(this))}this.curSelectItemSrc=this.xiSuiItemSrcs[1],this.curSelectItemSrc.showSelectBg(!0)},_onHide:function _onHide(){yx.eventDispatch.removeListenersByTarget(this)},onEventGetMessage:function onEventGetMessage(e){this._refresh(e)},onEventXiSuiOpt:function onEventXiSuiOpt(e){if(e.xiSuiInfo&&0<e.xiSuiInfo.length){var n=e.xiSuiInfo[0],t=yx.playerMgr.getDanYao();t&&t.forEach(function(e){var t=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.itemId});t&&t.PinZhi===n.jie&&(e.maxCount+=5)}),yx.eventDispatch.dispatchMsg(yx.EventType.DANYAO_CHANGE),this.xiSuiData[n.jie]=n;var i=this.curSelectItemSrc.getXiSuiLevel();if(i===n.jie){var o=this.xiSuiData[i].jie,r=this.xiSuiData[i].num;this._refreshInfo(o,r)}}},_onShow:function _onShow(){yx.xiSuiMgr.reqXiSui(yx.proto.XiSuiCmdType.GetXiSui_Cmd)},_refresh:function _refresh(e){for(var t in this.xiSuiData={},e.xiSuiInfo){var n=e.xiSuiInfo[t].jie;this.xiSuiData[n]=e.xiSuiInfo[t]}for(var i=1;i<=23;i++)this.xiSuiData[i]||(this.xiSuiData[i]={jie:i,num:0});var o=this.curSelectItemSrc.getXiSuiLevel(),r=this.xiSuiData[o].jie,a=this.xiSuiData[o].num;this._refreshInfo(r,a)},_refreshInfo:function _refreshInfo(e,t){if(this.curSelectItemSrc){this.xiSuiTipRiText.string="“ {name} ”上限提升".format({name:this.curSelectItemSrc.getXiSuiName()});var n=yx.cfgMgr.getOneRecord("XiSuiConfig",{Jie:e,Num:t});if(n)if(this.xiSuiLeftNumRiText.string="+"+n.MaxNum,0===n.Cost.length)this.maxLevelNode.active=!0,this.unMaxLevelNode.active=!1,this.xiSuiCostNumLabel.string="";else{this.maxLevelNode.active=!1,this.unMaxLevelNode.active=!0,this.xiSuiCostNumLabel.string="洗髓丹"+n.Cost[0].count;var i=yx.cfgMgr.getOneRecord("XiSuiConfig",{Jie:e,Num:t+1});i&&(this.xiSuiRigthtNumRiText.string="+"+i.MaxNum)}this.xiSuiOwnNumRiText.string="当前拥有道具："+yx.bagMgr.GetItemOwnCount(1,1060)}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onXiSuiBtnClick:function onXiSuiBtnClick(){if(this.curSelectItemSrc){var e=this.curSelectItemSrc.getXiSuiLevel(),t=this.xiSuiData[e].jie,n=this.xiSuiData[e].num,i=yx.cfgMgr.getOneRecord("XiSuiConfig",{Jie:t,Num:n});if(i){var o=yx.bagMgr.GetItemOwnCount(1,1060);if(i.Cost.length<=0)return void yx.ToastUtil.showListToast("已达到上限");if(o<i.Cost[0].count)return void yx.ToastUtil.showListToast("道具不足")}yx.xiSuiMgr.reqXiSui(yx.proto.XiSuiCmdType.XiSui_Cmd,this.curSelectItemSrc.getXiSuiLevel())}},_onXiSuiItemCb:function _onXiSuiItemCb(e,t){this.curSelectItemSrc=t;var n=this.curSelectItemSrc.getXiSuiLevel(),i=this.xiSuiData[n].jie,o=this.xiSuiData[n].num;this._refreshInfo(i,o)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianDingFaQiInfoItem:[function(e,t,n){cc._RF.push(t,"08ac8GISudAb7ekuLXLxVpX","XianDingFaQiInfoItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,valueLabel:cc.Label},frameInit:function frameInit(e){this.nameLabel.string=yx.textDict.Attr[e.type]+"：",this.valueLabel.string="+"+e.value}}),cc._RF.pop()},{}],XianDingFaQiPanel:[function(e,t,n){cc._RF.push(t,"8e341S3OedEs5fq8yDTpzzT","XianDingFaQiPanel");var i=e("BaseWindow"),s=e("XianDingFaQiInfoItem"),c=e("FrameLoadWidget");cc.Class({extends:i,properties:{faqiDrogon:dragonBones.ArmatureDisplay,xianDingFaQiItemPrefab:cc.Prefab,layout:cc.Layout},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this.refresh.bind(this))},_onInit:function _onInit(){},refresh:function refresh(){var e=yx.cfgMgr.getAllConfig("FengShenBangBaseConfig");if(e&&e[0]){var t=e[0].LimitReward[0],n=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:t});if(n&&n.UseArg&&n.UseArg[0]){var i=n.UseArg[0],o=yx.cfgMgr.getOneRecord("PetListConfig",{ID:i});if(o){var r="ui_effect/faqi/"+o.Icon;yx.resUtil.loadDragonBones(this.faqiDrogon,r,"MovieClip","newAnimation",null,null);var a=[];0<(a=a.concat(o.BaseAttr)).length&&this.node.addComponent(c).init(this.layout.node,a,this.xianDingFaQiItemPrefab,s).startLoad(5)}}}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",XianDingFaQiInfoItem:"XianDingFaQiInfoItem"}],XianFangMgr:[function(e,t,n){cc._RF.push(t,"e1917iGeE5MPJwHjtiepYCy","XianFangMgr"),yx.XianFangManger=function(){this._shopData={}},yx.XianFangManger.prototype={constructor:yx.XianFangManger,init:function init(){yx.network.addHandler(yx.proto.CmdId.XIAN_FANG_SHOP_LIST,this.onMessageShopList),yx.network.addHandler(yx.proto.CmdId.PURCHASE_XIAN_FANG_GOODS,this.onMessagePurchaseGoods)},initShopList:function initShopList(e){var t=!0,n=!(this._shopData={}),i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this._shopData[a.xianFangType]||(this._shopData[a.xianFangType]={}),this._shopData[a.xianFangType][a.layer]||(this._shopData[a.xianFangType][a.layer]=new Map),this._shopData[a.xianFangType][a.layer].set(a.goodsID,a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}},getGoodsList:function getGoodsList(e,t){return this._shopData[e]&&this._shopData[e][t]?Array.from(this._shopData[e][t].values()):new Array},changeGoods:function changeGoods(e){this._shopData[e.xianFangType]&&this._shopData[e.xianFangType][e.layer]&&this._shopData[e.xianFangType][e.layer].has(e.goodsID)&&this._shopData[e.xianFangType][e.layer].set(e.goodsID,e)},reqShopList:function reqShopList(){var e=new yx.proto.C2S_GetXianFangList;yx.network.sendMessage(yx.proto.CmdId.XIAN_FANG_SHOP_LIST,e)},reqPurchaseGoods:function reqPurchaseGoods(e,t,n,i){var o=new yx.proto.C2S_PurchaseXianFangGoods;o.xianFangType=e,o.layer=t,o.goodsID=n,o.count=i,yx.network.sendMessage(yx.proto.CmdId.PURCHASE_XIAN_FANG_GOODS,o)},onMessageShopList:function onMessageShopList(e,t){if(null!=e&&0<e.length)yx.log("[XianFangManger onMessageShopList] error:"+e);else{var n=yx.proto.S2C_GetXianFangList.decode(t);yx.xianfangMgr.initShopList(n.xianFangInfo),yx.eventDispatch.dispatchMsg(yx.EventType.XIAN_FANG_SHOP_LIST,n)}},onMessagePurchaseGoods:function onMessagePurchaseGoods(e,t){if(null!=e&&0<e.length)yx.log("[XianFangManger onMessagePurchaseGoods] error:"+e);else{var n=yx.proto.S2C_PurchaseXianFangGoods.decode(t);yx.xianfangMgr.changeGoods(n.xianFangInfo),yx.eventDispatch.dispatchMsg(yx.EventType.PURCHASE_XIAN_FANG_GOODS,n)}}},yx.xianfangMgr=new yx.XianFangManger,t.exports=yx.xianfangMgr,cc._RF.pop()},{}],XianFangWindow:[function(e,t,n){cc._RF.push(t,"c7679Ra/mZEpZCGhnmjcnxr","XianFangWindow");var i=e("BaseWindow"),o=e("GoodsItemWidget"),a=e("FangShiScrollItem"),r=e("AttrGroupWidget"),s=[yx.proto.XianFangType.LingYuLou,yx.proto.XianFangType.CangShuLou,yx.proto.XianFangType.CangBaoLou,yx.proto.XianFangType.XianYuLou,yx.proto.XianFangType.Recharge];cc.Class({extends:i,properties:{attrGroupWidget:r,xianfangScrollItemPrefab:cc.Prefab,titleLabel:cc.Label,switchTC:cc.ToggleContainer,scrollView:cc.ScrollView,scrollContent:cc.Node,prevBtn:cc.Button,zhaoshiBtn:cc.Button,nextBtn:cc.Button,nextHintLabel:cc.Label,drownArrow:cc.Node,timeHintLabel:cc.Label,_curType:Number},_onInit:function _onInit(e){this.attrGroupWidget.initItems([yx.CyType.LINGSHI,yx.CyType.SHENYU,yx.CyType.LINGYU]),this.attrGroupWidget.showItems([yx.CyType.LINGSHI,yx.CyType.SHENYU]),this.zhaoshiBtn.node.active=!1,this.prevBtn.node.on("click",this.onPrevBtnClick,this),this.nextBtn.node.on("click",this.onNextBtnClick,this),this.scrollView.node.on("scrolling",this.onScrolling,this),yx.eventDispatch.addListener(yx.EventType.XIAN_FANG_SHOP_LIST,this.onEventFangShiList,this),yx.eventDispatch.addListener(yx.EventType.PURCHASE_XIAN_FANG_GOODS,this.onEventGoodsChange,this),this._initSwitchTC(),this._curType=null!=e?e:s[0],this._curLevels={},this._curLevels[yx.proto.XianFangType.LingYuLou]=1,this._curLevels[yx.proto.XianFangType.CangShuLou]=1,this._curLevels[yx.proto.XianFangType.CangBaoLou]=1,this._curLevels[yx.proto.XianFangType.XianYuLou]=1,this._curLevels[yx.proto.XianFangType.Recharge]=1,this._shopCfg=null,this._nextLevelCfg=null,this._changeTypeAndLevel(this._curType,this._curLevels[this._curType])},_setCheckToggle:function _setCheckToggle(){var e=this.switchTC.node.getChildByName("toggle"+(s.indexOf(this._curType)+1));e&&e.getComponent(cc.Toggle).check()},_onShow:function _onShow(e){this._curType=yx.proto.XianFangType.LingYuLou,null!=e&&(this._curType=e),this._setCheckToggle(),this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]);var t=yx.xianfangMgr.getGoodsList(this._curType,this._curLevels[this._curType]);t&&0<t.length?yx.CodeHelper.CallInNextTick(this._refresh.bind(this)):yx.xianfangMgr.reqShopList()},_initSwitchTC:function _initSwitchTC(){this.switchTC.checkEvents.length=0,this.switchTC.checkEvents.push(yx.CodeHelper.NewClickEvent(this,"onSwitchTCClick"))},_changeTypeAndLevel:function _changeTypeAndLevel(e,t){this._curType=e,this._curLevels[this._curType]=t,this._curType!=yx.proto.XianFangType.Recharge&&(this._shopCfg=yx.cfgMgr.getOneRecord("XianFangBaseConfig",{Type:this._curType,Layer:this._curLevels[this._curType]}),this._nextLevelCfg=yx.cfgMgr.getOneRecord("XianFangBaseConfig",{Type:this._curType,Layer:this._curLevels[this._curType]+1}))},_refreshGoods:function _refreshGoods(t,e){var n=this.scrollContent.getComponentsInChildren(o).find(function(e){return e.goodsId==t});n&&n.changeRemain(e)},_refreshScroll:function _refreshScroll(){var e=yx.xianfangMgr.getGoodsList(this._curType,this._curLevels[this._curType]);this.scrollContent.removeAllChildren(!0),e?e.length<9&&(e.length=9):e=new Array(9);for(var t=Math.ceil(e.length/3),n=0;n<t;n++){var i=cc.instantiate(this.xianfangScrollItemPrefab),o=i.getComponent(a);o&&(o.initGoodsList(e[3*n],e[3*n+1],e[3*n+2],yx.SHOPTYPE.XIANFANG),this.scrollContent.addChild(i))}},_refreshRecharge:function _refreshRecharge(){this.zhaoshiBtn.node.active=!1,this.titleLabel.string="充值",this.prevBtn.node.active=!1,this.nextBtn.node.active=!1,this.nextHintLabel.string="",this.timeHintLabel.node.active=!1,this.scrollContent.removeAllChildren(!0);var e=yx.cfgMgr.getAllConfig("PayItemConfig");if(e){var t=e.filter(function(e){return 1<=e.ID&&e.ID<=8});t?t.length<9&&(t.length=9):t=new Array(9);for(var n=Math.ceil(t.length/3),i=0;i<n;i++){var o=cc.instantiate(this.xianfangScrollItemPrefab),r=o.getComponent(a);r&&(r.initReChargeList(t[3*i],t[3*i+1],t[3*i+2]),this.scrollContent.addChild(o))}}},_refreshShop:function _refreshShop(){if(this._shopCfg){if(this._curType==yx.proto.XianFangType.LingYuLou||(this._curType,yx.proto.XianFangType.CangShuLou),this.timeHintLabel.node.active=!0,this.titleLabel.string=this._shopCfg.LayerName,this.prevBtn.node.active=1<this._curLevels[this._curType],this.nextBtn.node.active=!1,this.nextHintLabel.string="",this._nextLevelCfg){var e=yx.xianfangMgr.getGoodsList(this._curType,this._curLevels[this._curType]+1);if(this.nextBtn.node.active=0<e.length,0==this.nextBtn.node.active){var t=yx.cfgMgr.getOneRecord("DuJieConfig",{Level:this._nextLevelCfg.LevelLimit});t&&(this.nextHintLabel.string="达到"+t.Name+"\n方可上楼")}}this._refreshScroll()}},_refreshCurrency:function _refreshCurrency(){this._curType==yx.proto.XianFangType.XianYuLou||this._curType==yx.proto.XianFangType.Recharge?this.attrGroupWidget.showItems([yx.CyType.LINGSHI,yx.CyType.SHENYU]):this.attrGroupWidget.showItems([yx.CyType.LINGSHI,yx.CyType.LINGYU])},_refresh:function _refresh(){this._refreshCurrency(),this._curType==yx.proto.XianFangType.Recharge?this._refreshRecharge():this._refreshShop(),this.scheduleOnce(this.onScrolling,.1)},onSwitchTCClick:function onSwitchTCClick(e){yx.log("onSwitchTCClick");var t=this.switchTC.toggleItems.indexOf(e);if(0<=t){var n=s[t];null!=n&&n!=this._curType&&(this._changeTypeAndLevel(n,this._curLevels[n]),this._refresh())}},onPrevBtnClick:function onPrevBtnClick(){1<this._curLevels[this._curType]&&(this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]-1),this._refresh())},onZhaoShiBtnClick:function onZhaoShiBtnClick(){var e={};e.cfg=this._shopCfg,yx.windowMgr.showWindow("zhaodianshi",e)},onNextBtnClick:function onNextBtnClick(){this._nextLevelCfg&&yx.playerMgr.getDuJieLevel()>=this._nextLevelCfg.LevelLimit?(this._changeTypeAndLevel(this._curType,this._curLevels[this._curType]+1),this._refresh()):yx.ToastUtil.showListToast("等级不足")},onEventFangShiList:function onEventFangShiList(){this.isShown()&&this._refresh()},onEventGoodsChange:function onEventGoodsChange(e){if(this.isShown()&&e&&e.xianFangInfo){var t=e.xianFangInfo.xianFangType,n=e.xianFangInfo.layer;this._curType==t&&this._curLevels[this._curType]==n&&this._refreshGoods(e.xianFangInfo.goodsID,e.xianFangInfo.remainCount);var i=yx.cfgMgr.getOneRecord("XianFangListConfig",{ID:e.xianFangInfo.goodsID,Type:e.xianFangInfo.xianFangType,Layer:e.xianFangInfo.layer});if(i&&i.Reward){var o=i.Reward[0],r=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:o.id});if(r){var a=yx.colorUtil.AddColorString(r.Name+"x"+e.count,yx.textDict.QualityColor.getQualityColor(r.PinZhi));yx.ToastUtil.showListToast("获得"+a)}}}},onScrolling:function onScrolling(){this.scrollView.getScrollOffset().y>this.scrollContent.height-this.scrollView.node.height-10?this.drownArrow.active=!1:this.drownArrow.active=!0}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",FangShiScrollItem:"FangShiScrollItem",GoodsItemWidget:"GoodsItemWidget"}],XianJIeMenPanel:[function(e,t,n){cc._RF.push(t,"07b93yDPY1LJIjNnEFEHWMk","XianJIeMenPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{iconSp:cc.Sprite,content1:cc.Label,content2:cc.RichText},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_onInit:function _onInit(){yx.playerMgr.IsFlyUp()?(yx.resUtil.LoadSprite("icon/battle/panel-387",this.iconSp),this.content1.string="        宇宙之境有三千小世界，各界之间无通道贯通，欲往甚难。然修仙之集大成者，知天地之规则，掌万物之能量，可破碎虚空，开辟通道，于各小世界间自由穿梭。",this.content2.string="传闻<color=#00C800>天晶胜境</color>的空间壁似乎更脆弱"):(yx.resUtil.LoadSprite("icon/battle/panel-71",this.iconSp),this.content1.string="        云深之处，九重之巅，天宫之地也。天宫于天门外设下九重天，待有缘人登之。过九重而幸存者则可飞升天宫，羽化登仙。",this.content2.string="仙门离此地尚远，似乎在<color=#00C800>赤壁</color>")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianMengApplyListItem:[function(e,t,n){cc._RF.push(t,"26a23ICyspDSqxTf4mhC8CJ","XianMengApplyListItem"),cc.Class({extends:cc.Component,properties:{iconSp:cc.Sprite,nameLabel:cc.Label,levelLabel:cc.Label,onlineLabel:cc.Label,rejectBtn:cc.Button,agreeBtn:cc.Button},frameInit:function frameInit(e){this._data=e,this.agreeBtn.node.on("click",this.agreeBtnClick,this),this.rejectBtn.node.on("click",this.rejectBtnClick,this),this.nameLabel.string="名字："+e.nickName,this.levelLabel.string="等级："+e.playerLevel;var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:e.playerLevel,ZhongZu:e.zhongZu});t&&yx.resUtil.LoadSpriteFromResConfig(t.HeadID,yx.ResType.HEAD,this.iconSp)},getPlayerId:function getPlayerId(){return this._data.playerID},agreeBtnClick:function agreeBtnClick(){var e=yx.xianMengMgr.getXianMengId();yx.xianMengMgr.req(yx.proto.XianMengCmdType.DealJoinXianMeng,null,null,e,null,null,null,null,this._data.playerID,yx.proto.JoinApplyStateType.agree)},rejectBtnClick:function rejectBtnClick(){var e=yx.xianMengMgr.getXianMengId();yx.xianMengMgr.req(yx.proto.XianMengCmdType.DealJoinXianMeng,null,null,e,null,null,null,null,this._data.playerID,yx.proto.JoinApplyStateType.refuse)}}),cc._RF.pop()},{}],XianMengApplyListPanel:[function(e,t,n){cc._RF.push(t,"48164Y4obxD4KWsK6dBu49/","XianMengApplyListPanel");var i=e("BaseWindow"),o=e("FrameLoadWidget"),r=e("XianMengApplyListItem");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengApplyListItemPrefab:cc.Prefab,setBtn:cc.Button,autoCheckBtn:cc.Button,autoCheckMarkNode:cc.Node,levelEditBox:cc.EditBox,emptyNode:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_APPLY_LIST,this.onEventApplyList,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_DEAL_APPLY,this.onEventDealApply.bind(this),this),this.setBtn.node.on("click",this.setBtnClick,this),this.autoCheckBtn.node.on("click",this.autoCheckBtnClick,this);var e=yx.xianMengMgr.getMyXianMengInfo();e&&(this.autoCheckMarkNode.active=e.autoJoinSwitch,this.levelEditBox.string=e.autoJoinLevel),this.emptyNode.active=!1},setBtnClick:function setBtnClick(){var e=parseInt(this.levelEditBox.string);if(isNaN(e))yx.ToastUtil.showListToast("请输入正确的数字");else{var t=yx.xianMengMgr.getXianMengId();t&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.JoinApplySetting,null,null,t,this.autoCheckMarkNode.active,e)}},autoCheckBtnClick:function autoCheckBtnClick(){var e=parseInt(this.levelEditBox.string);if(isNaN(e))yx.ToastUtil.showListToast("请输入正确的数字");else{this.autoCheckMarkNode.active=!this.autoCheckMarkNode.active;var t=yx.xianMengMgr.getXianMengId();t&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.JoinApplySetting,null,null,t,this.autoCheckMarkNode.active,e)}},_onShow:function _onShow(){var e=yx.xianMengMgr.getXianMengId();e&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetJoinApplyList,null,null,e)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(e){var t=[];t=t.concat(e.joinApplys),this.frameLoadWidget=this.node.addComponent(o).init(this.scrollContent,t,this.xianMengApplyListItemPrefab,r).startLoad(5),this.emptyNode.active=t.length<=0},onEventApplyList:function onEventApplyList(e){this._refresh(e)},onEventDealApply:function onEventDealApply(e){if(e.joinApplys&&0<e.joinApplys.length){var t=e.joinApplys[0];if(t.state==yx.proto.JoinApplyStateType.processing)return void(this.frameLoadWidget&&(this.frameLoadWidget.pushOneDelay(t),this.emptyNode.active=!1));t.state==yx.proto.JoinApplyStateType.agree?yx.ToastUtil.showListToast("已同意"):t.state==yx.proto.JoinApplyStateType.refuse&&yx.ToastUtil.showListToast("已拒绝");var n=this.scrollContent.getComponentsInChildren(r);for(var i in n)if(n[i].getPlayerId()==t.playerID){n[i].node.destroy(),this.emptyNode.active=n.length<=1;break}}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",XianMengApplyListItem:"XianMengApplyListItem"}],XianMengBossItem:[function(e,t,n){cc._RF.push(t,"741a8SIyylJm57WKnu9U8zj","XianMengBossItem");var i=cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,iconSprite:cc.Sprite,levelLabel:cc.Label,select:cc.Node,_itemInfo:null},init:function init(e,t){this._itemInfo=e,t&&(this._cb=t),this.node.on("click",this.onBtnClick,this),this._setSlot()},_setSlot:function _setSlot(){yx.resUtil.LoadSpriteByIconName(this._itemInfo.BossIcon,this.iconSprite),this.levelLabel.string=this._itemInfo.ID},getItemInfo:function getItemInfo(){return this._itemInfo},onBtnClick:function onBtnClick(){if(this._cb)return this._cb(this._itemInfo)},getRoot:function getRoot(){return this.node},setSelect:function setSelect(e){this.select.active=e}});yx.XianMengBossItem=t.exports=i,cc._RF.pop()},{}],XianMengBossRankItem:[function(e,t,n){cc._RF.push(t,"327cf+QQChBOJU9flFF76Rk","XianMengBossRankItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{rank1:cc.Node,rank2:cc.Node,rank3:cc.Node,rankLabel:cc.Label,roleNameLabel:cc.Label,roleLevelLabel:cc.Label,zhiweiLabel:cc.Label,jingjieLabel:cc.Label,roleSp:cc.Sprite,role1:cc.Node,role2:cc.Node,role3:cc.Node,roleNormal:cc.Node},_onUpdate:function _onUpdate(){this.rankLabel.string=this._data.rankIndex,this.roleNameLabel.string=this._data.nickName,this.zhiweiLabel.string=yx.textDict.XianMengZhiWei[this._data.duty],this.jingjieLabel.string="";var e=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this._data.level});e&&(this.jingjieLabel.string=e.Name),this.roleLevelLabel.string=this._data.hurt;var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:this._data.level,ZhongZu:this._data.zhongZu});switch(t?yx.resUtil.LoadSpriteFromResConfig(t.HeadID,yx.ResType.HEAD,this.roleSp):this.roleSp.spriteFrame=null,this.rank1.active=!1,this.rank2.active=!1,this.rank3.active=!1,this.rankLabel.node.active=!1,this.role1.active=!1,this.role2.active=!1,this.role3.active=!1,this.roleNormal.active=!1,this._data.rankIndex){case 1:this.rank1.active=!0,this.role1.active=!0,this.roleNameLabel.node.color=new cc.Color(255,86,3),this.roleLevelLabel.node.color=new cc.Color(255,86,3);break;case 2:this.rank2.active=!0,this.role2.active=!0,this.roleNameLabel.node.color=new cc.Color(204,0,255),this.roleLevelLabel.node.color=new cc.Color(204,0,255);break;case 3:this.rank3.active=!0,this.role3.active=!0,this.roleNameLabel.node.color=new cc.Color(0,186,255),this.roleLevelLabel.node.color=new cc.Color(0,186,255);break;default:this.rankLabel.node.active=!0,this.roleNormal.active=!0,this.roleNameLabel.node.color=new cc.Color(52,90,92),this.roleLevelLabel.node.color=new cc.Color(52,90,92)}}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],XianMengBossRankPanel:[function(e,t,n){cc._RF.push(t,"a399dzA1alEB60FkwrY2PT7","XianMengBossRankPanel");var i=e("BaseWindow"),a=e("ScrollViewRepeat"),o=e("XianMengBossRankItem");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,RankItemPrefab:cc.Prefab,myselfRankItem:o,rewardPrevireBtn:cc.Button},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_BOSS_RANK,this.onEventGetRank,this),this.rewardPrevireBtn.node.on("click",this.onRewardPreviewClick,this)},update:function update(){},_onShow:function _onShow(){yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.BossHurtRankList)},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onRewardPreviewClick:function onRewardPreviewClick(){yx.windowMgr.showWindow("xianMengBossRankRewardPanel")},_setMyselfInfo:function _setMyselfInfo(e){this.myselfRankItem.initItem(0,e)},_refresh:function _refresh(e){if(this._svr)this._svr.updateAllWithoutData();else{var t=e;0<t.length&&(this._svr=this.scrollView.getComponent(a),this._svr.initialize(t,this.RankItemPrefab))}for(var n=!1,i=0;i<e.length;i++){var o=e[i];if(o.playerID==yx.playerMgr.getPid()){n=!0,this._setMyselfInfo(o);break}}if(!n){var r={rankIndex:"未参加"};r.zhongZu=yx.playerMgr.getZhongZu(),r.level=yx.playerMgr.getDuJieLevel(),r.nickName=yx.playerMgr.getName(),r.duty=yx.xianMengMgr.getPlayerInfo().duty,r.hurt=0,this._setMyselfInfo(r)}},onEventGetRank:function onEventGetRank(e){this._refresh(e.rankList)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat",XianMengBossRankItem:"XianMengBossRankItem"}],XianMengBossRankRewardItem:[function(e,t,n){cc._RF.push(t,"dd759zaudlOnopRUN32neyD","XianMengBossRankRewardItem");var o="第{rank}名奖励";cc.Class({extends:cc.Component,properties:{bgNode:cc.Node,titleLabel:cc.RichText,scrollContent:cc.Node},onLoad:function onLoad(){},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},frameInit:function frameInit(e){this._data=e,this.titleLabel.string="";var t=e.Rank;2==t.length&&(t[0]==t[1]?this.titleLabel.string=o.format({rank:t[0]}):t[1]<1e3?this.titleLabel.string=o.format({rank:t[0]+"-"+t[1]}):this.titleLabel.string=o.format({rank:t[0]+"+"}));var n=e.Reward,i=this;i.scrollContent.removeAllChildren(!0),n.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i.onItemClick,yx.ItemWidget.CreateItemSlot(t,i.scrollContent,"reward"+e.id)})},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{}],XianMengBossRankRewardPanel:[function(e,t,n){cc._RF.push(t,"cce76TiT4VPh6wf1xqwilNC","XianMengBossRankRewardPanel");var i=e("BaseWindow"),o=e("XianMengBossRankRewardItem"),r=e("FrameLoadWidget");cc.Class({extends:i,properties:{itemScrollLayout:cc.Layout,rewardItemPrefab:cc.Prefab},_onInit:function _onInit(){this.itemScrollLayout.node.removeAllChildren(!0);var e=yx.cfgMgr.getAllConfig("GuildBossRankConfig");e&&this.node.getComponent(r).init(this.itemScrollLayout.node,e,this.rewardItemPrefab,o).startLoad()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",XianMengBossRankRewardItem:"XianMengBossRankRewardItem"}],XianMengBossRewardPanel:[function(e,t,n){cc._RF.push(t,"f2269c8papFp5IW1Razt4f6","XianMengBossRewardPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{sureBtn:cc.Button,rewardContent:cc.Node,descLabel:cc.Label,title:cc.Label},_onInit:function _onInit(){this.sureBtn.node.on("click",this.onsureBtnClick,this)},_onShow:function _onShow(e){this._args=e,this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},onsureBtnClick:function onsureBtnClick(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var r=this;this.descLabel.string="恭喜你获得以下奖励",this.title.string="获得奖励",r.rewardContent.removeAllChildren(!0);function iBb(e,t){for(var n=0;n<e.length;n++){var i=e[n],o={};o.content="<color=#345A5C>"+t+"</color>",o.ID=i.id,o.count=i.count,o.fontSize=26,yx.ItemRichTextWidget.CreateItemSlot(o,r.rewardContent,"reward"+i.id,null)}}this._args.hasOwnProperty("baseResource")&&iBb(this._args.baseResource,"伤害奖励"),this._args.hasOwnProperty("luckResource")&&iBb(this._args.luckResource,"幸运奖励"),this._args.hasOwnProperty("lastResource")&&iBb(this._args.lastResource,"最后一击")},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianMengChangNamePanel:[function(e,t,n){cc._RF.push(t,"56d81kLlc1AOJKfl0P1KLY9","XianMengChangNamePanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{comfirmBtn:cc.Button,cancelBtn:cc.Button,costSp:cc.Sprite,costNumLabel:cc.Label,nameEditbox:cc.EditBox},_onInit:function _onInit(){this.comfirmBtn.node.on("click",this.comfirmBtnClick,this),this.cancelBtn.node.on("click",this.onCloseBtnClick,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_SETNAME,this.onEventChangName,this);var e=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];if(e){var t=e.renamecost,n=yx.cfgMgr.getOneRecord("ItemConfig",{ID:t.id});n&&yx.resUtil.LoadSpriteByType(n.Icon,yx.ResType.ITEM,this.costSp),this.costNumLabel.string=t.count}},onEventChangName:function onEventChangName(){yx.ToastUtil.showListToast("改名成功"),yx.windowMgr.goBack()},comfirmBtnClick:function comfirmBtnClick(){if(this.nameEditbox.string.length<=0)yx.ToastUtil.showListToast("请输入正确的名称");else{var e=yx.xianMengMgr.getMyXianMengInfo();if(e&&e.name==this.nameEditbox.string)yx.ToastUtil.showListToast("请修改名称");else{var t=yx.xianMengMgr.getXianMengId();t&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.SetName,null,this.nameEditbox.string,t)}}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianMengCreatePanel:[function(e,t,n){cc._RF.push(t,"86033LCAnFORbBHLM6U0IR+","XianMengCreatePanel");var i=e("BaseWindow"),m=e("ItemWidget"),v=e("FrameLoadWidget"),x="创建条件:\n1.等级达到{level}级\n",w="消耗{name}{num}\n";cc.Class({extends:i,properties:{nameEditbox:cc.EditBox,oneLevelBtn:cc.Button,twoLevelBtn:cc.Button,contentTipLabel:cc.Label,oneLevelPlayerNum:cc.Label,twoLevelPlayerNum:cc.Label,scrollViewContent:cc.Node,bangHuiNumLabel:cc.Label,createBtn:cc.Button,oneLevelConditionLabel:cc.Label,twoLevelConditionLabel:cc.Label,itemWidgetPrefab:cc.Prefab},_onInit:function _onInit(){var n=this;yx.eventDispatch.addListener(yx.EventType.XIANMENG_GET_XIANMEG_LIST,this.onEventGetXianMengList,this),yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengList),yx.eventDispatch.addListener(yx.EventType.XIANMENG_CREATE,this.onEventCreateXianMeng,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,this.onEventUpdatePlayerInfo,this),this.oneLevelBtn.node.getChildByName("checkMark").active=!0,this.twoLevelBtn.node.getChildByName("checkMark").active=!1,this.createBtn.node.on("click",this.createBtnClick,this),this.oneLevelBtn.node.on("click",this.oneLevelBtnClick,this),this.twoLevelBtn.node.on("click",this.twoLevelBtnClick,this);var e=yx.cfgMgr.getAllConfig("GuildBaseConfig");if(e&&0<e.length){var t=e[0],i=yx.cfgMgr.getOneRecord("GuildLevelConfig",{ID:1});this.oneLevelPlayerNum.string="成员上限："+(i?i.MemberNum:12);for(var o=x.format({level:t.Creatlevel}),r=t.CreatCost1,a=0;a<r.length;a++){var s=yx.bagMgr.GetItemName(r[a].id),c=r[a].count;o+=a+2+"."+w.format({name:s,num:c})}this.oneLevelConditionLabel.string=o;var l=yx.cfgMgr.getOneRecord("GuildLevelConfig",{ID:2});this.twoLevelPlayerNum.string="成员上限："+(l?l.MemberNum:14);for(var u=x.format({level:t.Creatlevel}),d=t.CreatCost2,h=0;h<d.length;h++){var g=yx.bagMgr.GetItemName(d[h].id),p=d[h].count;u+=h+2+"."+w.format({name:g,num:p})}this.twoLevelConditionLabel.string=u,this.contentTipLabel.string=t.Des.format({n:t.CreaterRewardCount});var y=t.CreaterReward,f=[];this.scrollViewContent.removeAllChildren(!0),y.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n._onItemClick,f.push({info:t,isShowPinJie:!0})}),f&&this.node.addComponent(v).init(this.scrollViewContent,f,this.itemWidgetPrefab,m).startLoad()}},onEventGetXianMengList:function onEventGetXianMengList(e){if(e&&e.xianMengInfo){var t=e.xianMengInfo.length,n=yx.cfgMgr.getAllConfig("GuildBaseConfig");if(n&&0<n.length){var i=n[0];this.bangHuiNumLabel.string="帮会数量：{cur}/{max}".format({cur:t,max:i.CreaterRewardCount})}}},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},oneLevelBtnClick:function oneLevelBtnClick(){this.oneLevelBtn.node.getChildByName("checkMark").active=!0,this.twoLevelBtn.node.getChildByName("checkMark").active=!1},twoLevelBtnClick:function twoLevelBtnClick(){this.oneLevelBtn.node.getChildByName("checkMark").active=!1,this.twoLevelBtn.node.getChildByName("checkMark").active=!0},onEventCreateXianMeng:function onEventCreateXianMeng(){yx.windowMgr.showWindow("xianMengWindow")},createBtnClick:function createBtnClick(){var e=this.nameEditbox.string;if(e.length<=0)yx.ToastUtil.showListToast("请填写仙盟名称");else{var t=this.oneLevelBtn.node.getChildByName("checkMark").active?1:2;yx.xianMengMgr.req(yx.proto.XianMengCmdType.CreateXianMeng_Cmd,t,e)}},_onShow:function _onShow(){this._refresh()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){},onEventUpdatePlayerInfo:function onEventUpdatePlayerInfo(){var e=yx.xianMengMgr.getPlayerInfo();e&&e.xianMengID&&0<e.xianMengID&&(yx.ToastUtil.showListToast("已同意加入仙盟"),yx.windowMgr.showWindow("xianMengWindow"))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",ItemWidget:"ItemWidget"}],XianMengDaTingPage:[function(e,t,n){cc._RF.push(t,"cc7ffNgZvdGmp+eyayAIhLN","XianMengDaTingPage"),cc.Class({extends:cc.Component,properties:{memberListBtn:cc.Button,xianMengListBtn:cc.Button,applyListBtn:cc.Button,recordListBtn:cc.Button,gongGaoListBtn:cc.Button,shopBtn:cc.Button,zhaoMuBtn:cc.Button,writeTextBtn:cc.Button,xianMengNameEdBox:cc.EditBox,xianMengNameBgNode:cc.Node,xianMengNameLabel:cc.Label,mengZhuNameLabel:cc.Label,playerNumLabel:cc.Label,gongXianLabel:cc.Label,levelLabel:cc.Label,noticeLabel:cc.Label,qiZiLabel:cc.Label,gongGaoRichText:cc.RichText,recordRichText:cc.RichText,changActTimeBtn:cc.Button,changActTimeRichText:cc.RichText,actTimeLabel:cc.Label},init:function init(){this.changActTimeRichText.cacheEnable=!1,this.gongGaoRichText.cacheEnable=!1,this.recordRichText.cacheEnable=!1,this.xianMengNameEdBox.node.active=!1,this.xianMengNameLabel.node.active=!0,yx.eventDispatch.addListener(yx.EventType.XIANMENG_GET_INFO,this.onEventGetInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_EXIT,this.onEventExit,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_XIANMEWNG_INFO,this.onEventUpdateXianMengInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,this.onEventUpdatePlayerInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_SETNAME,this.onEventChangName,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_ACTIVITY_TIME,this.onEventActivityTime,this),this.memberListBtn.node.on("click",this.memberListBtnClick,this),this.xianMengListBtn.node.on("click",this.xianMengListBtnClick,this),this.applyListBtn.node.on("click",this.applyListBtnClick,this),this.recordListBtn.node.on("click",this.recordListBtnClick,this),this.gongGaoListBtn.node.on("click",this.gongGaoListBtnClick,this),this.changActTimeBtn.node.on("click",this.changActTimeBtnClick,this),this.shopBtn.node.on("click",this.shopBtnClick,this),this.zhaoMuBtn.node.on("click",this.zhaoMuBtnClick,this),this.writeTextBtn.node.on("click",this.writeTextBtnClick,this)},onShow:function onShow(){yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengInfo_Cmd,null,null)},_refresh:function _refresh(e){var t=e.xianMengInfo;if(t&&0<t.length){var n=t[0];this.xianMengNameLabel.string=n.name,this.mengZhuNameLabel.string=n.nickName,this.levelLabel.string=n.level,this.qiZiLabel.string=n.name.slice(0,1)||"";var i=yx.cfgMgr.getOneRecord("GuildLevelConfig",{ID:n.level});this.gongXianLabel.string=n.exp+"/"+i.Exp,this.playerNumLabel.string=n.memberCount+"/"+i.MemberNum;var o=n.notices,r=yx.cfgMgr.getOneRecord("GuildNoticeConfig",{ID:o});r&&(this.noticeLabel.string=r.Desc),this.actTimeLabel.string=n.activityTime}},onEventExit:function onEventExit(){yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengInfo_Cmd,null,null)},onHide:function onHide(){},onEventGetInfo:function onEventGetInfo(e){this._refresh(e)},onEventUpdateXianMengInfo:function onEventUpdateXianMengInfo(e){this._refresh(e)},onEventUpdatePlayerInfo:function onEventUpdatePlayerInfo(){yx.xianMengMgr.getPlayerInfo().xianMengID<=0&&(yx.xianMengMgr.resetXianMengData(),yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengInfo_Cmd,null,null),yx.windowMgr.goHome())},memberListBtnClick:function memberListBtnClick(){yx.windowMgr.showWindow("xianMengMemberPanel")},xianMengListBtnClick:function xianMengListBtnClick(){yx.windowMgr.showWindow("xianMengListPanel2")},applyListBtnClick:function applyListBtnClick(){var e=yx.xianMengMgr.getPlayerInfo(),t=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];t&&e&&t.Examine.includes(e.duty)?yx.windowMgr.showWindow("xianMengApplyListPanel"):yx.ToastUtil.showListToast("您无权操作")},recordListBtnClick:function recordListBtnClick(){yx.windowMgr.showWindow("xianMengRecordPanel")},gongGaoListBtnClick:function gongGaoListBtnClick(){var e=yx.xianMengMgr.getPlayerInfo(),t=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];t&&e&&!t.notice.includes(e.duty)?yx.ToastUtil.showListToast("您无权操作"):yx.windowMgr.showWindow("xianMengGongGaoListPanel")},changActTimeBtnClick:function changActTimeBtnClick(){var e=yx.xianMengMgr.getPlayerInfo(),t=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];t&&e&&!t.notice.includes(e.duty)?yx.ToastUtil.showListToast("您无权操作"):yx.windowMgr.showWindow("clockWidget")},shopBtnClick:function shopBtnClick(){yx.CodeHelper.checkFuncOpen(85)&&yx.windowMgr.showWindow("xianMengShopPanel")},zhaoMuBtnClick:function zhaoMuBtnClick(){if(yx.timeUtil.getServerTime()-yx.mailMgr.getLastSendTime()<1e4)yx.ToastUtil.showListToast("发送太频繁了，休息一下吧");else{var e=yx.xianMengMgr.getPlayerInfo(),t=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];t&&e&&!t.ZhaoPower.includes(e.duty)?yx.ToastUtil.showListToast("您无权操作"):e&&(yx.mailMgr.sendChatMsg(yx.proto.MsgType.World,"系统【{playerName}】诚邀各路仙君加入{xianMengName}仙盟。".format({playerName:e.nickName,xianMengName:e.name})),yx.mailMgr.setLastSendTime())}},writeTextBtnClick:function writeTextBtnClick(){var e=yx.xianMengMgr.getPlayerInfo(),t=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];t&&e&&!t.ModifyName.includes(e.duty)?yx.ToastUtil.showListToast("您无权操作"):yx.windowMgr.showWindow("xianMengChangNamePanel")},onEventActivityTime:function onEventActivityTime(){var e=yx.xianMengMgr.getMyXianMengInfo();e&&(this.actTimeLabel.string=e.activityTime)},onEventChangName:function onEventChangName(){},onEventEditingEnd:function onEventEditingEnd(){},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)}}),cc._RF.pop()},{}],XianMengGongGaoListItem:[function(e,t,n){cc._RF.push(t,"0b9f6PhggxCzrs7samjmeRG","XianMengGongGaoListItem");var i=cc.Class({extends:cc.Component,properties:{messageLabel:cc.Label,selectBtn:cc.Button},frameInit:function frameInit(e){this._data=e,this.selected=!1,this.selectBtn.node.on("click",this.selectBtnClick,this),this.messageLabel.string=e.Desc;var t=yx.xianMengMgr.getMyXianMengInfo();t&&this.setSelect(this._data.ID==t.notices)},getId:function getId(){return this._data.ID},setSelect:function setSelect(e){this.selected=e,this.selectBtn.node.getChildByName("checkmark").active=e},isSelected:function isSelected(){return this.selected},selectBtnClick:function selectBtnClick(){var e=this.selectBtn.node.parent.parent;if(e){var t=e.children;for(var n in t)t[n].getComponent(i).setSelect(!1)}this.setSelect(!0)}});cc._RF.pop()},{}],XianMengGongGaoListPanel:[function(e,t,n){cc._RF.push(t,"f58989CqGNLMbpy+4oMfcG2","XianMengGongGaoListPanel");var i=e("BaseWindow"),o=e("FrameLoadWidget"),r=e("XianMengGongGaoListItem");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengGongGaoItemPrefab:cc.Prefab,selectBtn:cc.Button},_onInit:function _onInit(){this.selectBtn.node.on("click",this.selectBtnClick,this)},selectBtnClick:function selectBtnClick(){var e=yx.xianMengMgr.getXianMengId();if(e){var t=this.scrollContent.getComponentsInChildren(r);for(var n in t)if(t[n].isSelected()){yx.xianMengMgr.req(yx.proto.XianMengCmdType.SetNotices,null,null,e,null,null,t[n].getId());break}}yx.windowMgr.goBack()},_onShow:function _onShow(){this._refresh()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){var e=yx.cfgMgr.getAllConfig("GuildNoticeConfig");if(e){var t=[];t=t.concat(e),this.node.addComponent(o).init(this.scrollContent,e,this.xianMengGongGaoItemPrefab,r).startLoad()}},onEventRankRefresh:function onEventRankRefresh(){this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",XianMengGongGaoListItem:"XianMengGongGaoListItem"}],XianMengJianShePage:[function(e,t,n){cc._RF.push(t,"a8ce09n4hNGQakEgkVa4S5m","XianMengJianShePage"),yx.proto.XianMengDonateType.XuanLevel,yx.proto.XianMengDonateType.DiLevel,yx.proto.XianMengDonateType.TianLevel,cc.Class({extends:cc.Component,properties:{xuanJiItemNode:cc.Node,diJiItemNode:cc.Node,tianJiItemNode:cc.Node,myGongXianLabel:cc.Label,xuanJiBtn:cc.Button,diJiBtn:cc.Button,tianJiBtn:cc.Button},init:function init(){this.nodesMap={},this.nodesMap[yx.proto.XianMengDonateType.XuanLevel]=this.xuanJiItemNode,this.nodesMap[yx.proto.XianMengDonateType.DiLevel]=this.diJiItemNode,this.nodesMap[yx.proto.XianMengDonateType.TianLevel]=this.tianJiItemNode,yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange.bind(this),this),this.xuanJiBtn.node.on("click",this.jianZuBtnClick.bind(this,yx.proto.XianMengDonateType.XuanLevel),this),this.diJiBtn.node.on("click",this.jianZuBtnClick.bind(this,yx.proto.XianMengDonateType.DiLevel),this),this.tianJiBtn.node.on("click",this.jianZuBtnClick.bind(this,yx.proto.XianMengDonateType.TianLevel),this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,this.onEventUpdatePlayerInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_DONATE,this.onEventDonate,this)},onShow:function onShow(){this.isShow=!0,this._refresh()},onEventUpdatePlayerInfo:function onEventUpdatePlayerInfo(){this.isShow&&this._refresh()},onEventDonate:function onEventDonate(e){var t=yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:e.donateType,Count:e.count});if(t&&t.Reward){var n=t.Reward;if(n&&0<n.length)for(var i=0;i<n.length;i++){var o=n[i],r=yx.bagMgr.GetItemName(o.id)+"<color=#ffd066>+"+o.count+"</color>";yx.ToastUtil.showListToast(r)}}},onHide:function onHide(){this.isShow=!1},jianZuBtnClick:function jianZuBtnClick(e){yx.xianMengMgr.getXianMengId()&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.Donate,null,null,yx.xianMengMgr.getXianMengId(),null,null,null,null,null,null,e,null)},_refresh:function _refresh(){function vDb(n){if(u=s.nodesMap[n].getChildByName("jiansheduLabel").getComponent(cc.Label),d=s.nodesMap[n].getChildByName("gongxianLabel").getComponent(cc.Label),p=s.nodesMap[n].getChildByName("timesLabel").getComponent(cc.Label),h=s.nodesMap[n].getChildByName("costBtn").getChildByName("itemSp").getComponent(cc.Sprite),g=s.nodesMap[n].getChildByName("costBtn").getChildByName("costLabel").getComponent(cc.Label),l&&c)if(n==yx.proto.XianMengDonateType.XuanLevel){var e=yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:n,Count:l.xuanDonateCount+1});e=e||yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:n,Count:l.xuanDonateCount}),s.updateMessage(e,u,d,g,h);var t=c.reduce(function(e,t){return e+(t.type==n?1:0)},0);p.string="次数：{cur}/{max}".format({cur:l.xuanDonateCount,max:t})}else if(n==yx.proto.XianMengDonateType.DiLevel){var i=yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:n,Count:l.diDonateCount+1});i=i||yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:n,Count:l.diDonateCount}),s.updateMessage(i,u,d,g,h);var o=c.reduce(function(e,t){return e+(t.type==n?1:0)},0);p.string="次数：{cur}/{max}".format({cur:l.diDonateCount,max:o})}else if(n==yx.proto.XianMengDonateType.TianLevel){var r=yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:n,Count:l.tianDonateCount+1});r=r||yx.cfgMgr.getOneRecord("GuildDonateConfig",{type:n,Count:l.tianDonateCount}),s.updateMessage(r,u,d,g,h);var a=c.reduce(function(e,t){return e+(t.type==n?1:0)},0);p.string="次数：{cur}/{max}".format({cur:l.tianDonateCount,max:a})}}var s=this,c=yx.cfgMgr.getAllConfig("GuildDonateConfig"),l=yx.xianMengMgr.getPlayerInfo(),u=null,d=null,h=null,g=null,p=null;for(var e in this.nodesMap)vDb(e);this.myGongXianLabel.string=yx.playerMgr.getCurrency(yx.CyType.GONGXIAN_XM)},onEventCurrencyChange:function onEventCurrencyChange(e){e&&null!=e[yx.CyType.GONGXIAN_XM]&&(this.myGongXianLabel.string=yx.playerMgr.getCurrency(yx.CyType.GONGXIAN_XM))},updateMessage:function updateMessage(e,t,n,i,o){var r=e?e.GuildExp:0;t.string="仙盟建设度 + "+r;var a=e?e.Reward[0].count:0;n.string="仙盟贡献 + "+a;var s=e?e.Cost[0].count:0;i.string=s;var c=e?e.Cost[0].id:0;if(c){var l=yx.cfgMgr.getOneRecord("ItemConfig",{ID:c});l&&yx.resUtil.LoadSpriteByType(l.Icon,yx.ResType.ITEM,o)}},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)}}),cc._RF.pop()},{}],XianMengListItem1:[function(e,t,n){cc._RF.push(t,"b197fupaVxACIvtSAwRQBE2","XianMengListItem1");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{conditionLabel:cc.Label,iconSp:cc.Sprite,xianMengNameLabel:cc.Label,bangZhuLabel:cc.Label,numLabel:cc.Label,applyBtn:cc.Button},_initItem:function _initItem(){this.applyBtn.node.on("click",this.applyBtnClick,this)},applyBtnClick:function applyBtnClick(){yx.xianMengMgr.req(yx.proto.XianMengCmdType.JoinXianMeng,null,null,this._data.id)},_onUpdate:function _onUpdate(){this.xianMengNameLabel.string=this._data.name,this.bangZhuLabel.string="【帮主】："+this._data.nickName;var e=yx.cfgMgr.getOneRecord("GuildLevelConfig",{ID:this._data.level});e&&(this.numLabel.string="人数：{cur}/{max}".format({cur:this._data.memberCount,max:e.MemberNum})),0<this._data.autoJoinLevel?(this.conditionLabel.node.active=!0,this.conditionLabel.string="需要等级>="+this._data.autoJoinLevel):this.conditionLabel.node.active=!1;var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:this._data.playerLevel,ZhongZu:this._data.zhongZu});t&&yx.resUtil.LoadSpriteFromResConfig(t.HeadID,yx.ResType.HEAD,this.iconSp)}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],XianMengListItem2:[function(e,t,n){cc._RF.push(t,"99bb4BcA45FU46E7r8D1Gqe","XianMengListItem2");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{indexLabel:cc.Label,iconSp:cc.Sprite,nameLabel:cc.Label,bangZhuLabel:cc.Label,numLabel:cc.Label},_onUpdate:function _onUpdate(){this.nameLabel.string=this._data.name,this.bangZhuLabel.string="【帮主】:"+this._data.nickName;var e=yx.cfgMgr.getOneRecord("GuildLevelConfig",{ID:this._data.level});e&&(this.numLabel.string="人数：{cur}/{max}".format({cur:this._data.memberCount,max:e.MemberNum})),this.indexLabel.string=this._data.xianMengIndex;var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:this._data.playerLevel,ZhongZu:this._data.zhongZu});t&&yx.resUtil.LoadSpriteFromResConfig(t.HeadID,yx.ResType.HEAD,this.iconSp)}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],XianMengListPanel1:[function(e,t,n){cc._RF.push(t,"33b87+HdABFKajaF+pHM9S0","XianMengListPanel1");var i=e("BaseWindow"),o=e("ScrollViewRepeat");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengListItem1Prefab:cc.Prefab,createBtn:cc.Button,emptyNode:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_GET_XIANMEG_LIST,this.onEventGetXianMengList,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_APPLY_JOIN,this.onEventApplyJoin,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,this.onEventUpdatePlayerInfo,this),this.createBtn.node.on("click",this.createBtnClick,this),this.emptyNode.active=!1},_onShow:function _onShow(){yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengList)},createBtnClick:function createBtnClick(){yx.CodeHelper.checkFuncOpen(90)&&(yx.windowMgr.goBack(),yx.windowMgr.showWindow("xianMengCreatePanel"))},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(e){var t=[];t=t.concat(e.xianMengInfo),this._svr?this._svr.updateAllWithoutData():(this._svr=this.scrollView.getComponent(o),this._svr.initialize(t,this.xianMengListItem1Prefab,5)),this.emptyNode.active=t.length<=0},onEventGetXianMengList:function onEventGetXianMengList(e){this._refresh(e)},onEventApplyJoin:function onEventApplyJoin(e){yx.ToastUtil.showListToast("申请成功"),this._refresh(e)},onEventUpdatePlayerInfo:function onEventUpdatePlayerInfo(){var e=yx.xianMengMgr.getPlayerInfo();e&&e.xianMengID&&0<e.xianMengID&&(yx.ToastUtil.showListToast("已同意加入仙盟"),yx.windowMgr.showWindow("xianMengWindow"))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],XianMengListPanel2:[function(e,t,n){cc._RF.push(t,"b9b7dKK7LFFjYsyDqIY1QbO","XianMengListPanel2");var i=e("BaseWindow"),o=e("ScrollViewRepeat");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengListItem2Prefab:cc.Prefab},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_GET_XIANMEG_LIST,this.onEventGetXianMengList,this)},_onShow:function _onShow(){yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengList,null,null,yx.xianMengMgr.getXianMengId())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(e){if(this._svr)this._svr.updateAllWithoutData();else{var t=[];t=t.concat(e.xianMengInfo),this._svr=this.scrollView.getComponent(o),this._svr.initialize(t,this.xianMengListItem2Prefab,5)}},onEventGetXianMengList:function onEventGetXianMengList(e){this._refresh(e)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],XianMengMemberItem:[function(e,t,n){cc._RF.push(t,"303b4i6KChLLZotMbCp3vAN","XianMengMemberItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{iconSp:cc.Sprite,jobLabel:cc.Label,nameLabel:cc.Label,levelNameLabel:cc.Label,gongxianLabel:cc.Label,shiwuBtn:cc.Button,onlineLabel:cc.Label},_initItem:function _initItem(){this.shiwuBtn.node.on("click",this.shiwuBtnClick,this)},shiwuBtnClick:function shiwuBtnClick(){yx.windowMgr.showWindow("xianMengPlayerInfoPanel",this._data)},_onUpdate:function _onUpdate(){this.nameLabel.string=this._data.nickName;var e=yx.cfgMgr.getRecordByKey("DuJieConfig",{Level:this._data.playerLevel});e&&(this.levelNameLabel.string=e.Name),this.gongxianLabel.string=this._data.totalDonateCount,this._data.online?(this.onlineLabel.string="在线",this.onlineLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextGreen)):(this.onlineLabel.node.color=yx.colorUtil.toCCColor(yx.colorUtil.TextGray),this.onlineLabel.string=yx.timeUtil.timeToOffline(this._data.offlineTime));var t=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:this._data.playerLevel,ZhongZu:this._data.zhongZu});t&&yx.resUtil.LoadSpriteFromResConfig(t.HeadID,yx.ResType.HEAD,this.iconSp),this.jobLabel.string="【"+yx.textDict.XianMengZhiWei[this._data.duty]+"】"}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],XianMengMemberPanel:[function(e,t,n){cc._RF.push(t,"8d157428fpN6YF2WybWV7aV","XianMengMemberPanel");var i=e("BaseWindow"),o=e("ScrollViewRepeat");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengMemberItemPrefab:cc.Prefab,quitBtn:cc.Button,myJobLabel:cc.Label,myGongxianLabel:cc.Label},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_GET_MEMBER_LIST,this.onEventGetMemberList,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_KICKOUT,this.onEventMemberListRefresh,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_DUTY,this.onEventMemberListRefresh,this),this.quitBtn.node.on("click",this.quitBtnClick,this);var e=yx.xianMengMgr.getPlayerInfo();e&&(this.myJobLabel.string=yx.textDict.XianMengZhiWei[e.duty],this.myGongxianLabel.string=e.totalDonateCount)},_onShow:function _onShow(){yx.xianMengMgr.getXianMengId()&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetMemberList,null,null,yx.xianMengMgr.getXianMengId())},quitBtnClick:function quitBtnClick(){yx.xianMengMgr.getXianMengId()&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.ExitXianMeng,null,null,yx.xianMengMgr.getXianMengId())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(e){if(this._svr)this._svr.updateAllWithoutData();else{var t=[];t=t.concat(e.playerXianMeng),this._svr=this.scrollView.addComponent(o),this._svr.initialize(t,this.xianMengMemberItemPrefab,5)}},onEventGetMemberList:function onEventGetMemberList(e){this._refresh(e)},onEventMemberListRefresh:function onEventMemberListRefresh(){yx.xianMengMgr.getXianMengId()&&(this.scrollView.node.removeComponent(o),this.scrollView.content.removeAllChildren(!0),this._svr=null,yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetMemberList,null,null,yx.xianMengMgr.getXianMengId()))}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],XianMengMgr:[function(e,t,n){cc._RF.push(t,"da58dVQ9f5OGKB68whZDRYw","XianMengMgr"),yx.XianMengManager=function(){},yx.XianMengManager.prototype={constructor:yx.XianMengManager,init:function init(){this.xianMengData=null,yx.network.addHandler(yx.proto.CmdId.XIAN_MENG,this.onMessageInfo.bind(this))},req:function req(e,t,n,i,o,r,a,s,c,l,u,d,h){yx.log("[XianMengManager] reqInfo ");var g=new yx.proto.C2S_XianMeng;g.cmdType=e,g.createType=t,g.name=n,g.xianMengID=i,g.autoJoinSwitch=o,g.autoJoinLevel=r,g.notices=a,g.duty=s,g.playerID=c,g.dealState=l,g.donateType=u,g.skillType=d,g.activityTime=h,yx.network.sendMessage(yx.proto.CmdId.XIAN_MENG,g)},onMessageInfo:function onMessageInfo(e,t){if(null!=e&&0<e.length)yx.log("[XianMengManager onMessageInfo] error:"+e);else{var n=yx.proto.S2C_XianMeng.decode(t);if(n)switch(n.cmdType){case yx.proto.XianMengCmdType.CreateXianMeng_Cmd:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_CREATE,n);break;case yx.proto.XianMengCmdType.GetXianMengInfo_Cmd:this.xianMengData=n,yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_GET_INFO,n);break;case yx.proto.XianMengCmdType.UpdateXianMengInfo_Cmd:if(!this.xianMengData)return;this.xianMengData.xianMengInfo=n.xianMengInfo,yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_UPDATE_XIANMEWNG_INFO,n);break;case yx.proto.XianMengCmdType.GetPlayerXianMengInfo_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_GET_PLAYER_INFO,n);break;case yx.proto.XianMengCmdType.UpdatePlayerXianMengInfo_Cmd:if(!this.xianMengData)return;this.xianMengData.playerXianMeng=n.playerXianMeng,yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,n);break;case yx.proto.XianMengCmdType.GetXianMengList:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_GET_XIANMEG_LIST,n);break;case yx.proto.XianMengCmdType.GetMemberList:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_GET_MEMBER_LIST,n);break;case yx.proto.XianMengCmdType.JoinXianMeng:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_APPLY_JOIN,n);break;case yx.proto.XianMengCmdType.DealJoinXianMeng:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_DEAL_APPLY,n);break;case yx.proto.XianMengCmdType.GetJoinApplyList:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_APPLY_LIST,n);break;case yx.proto.XianMengCmdType.SetNotices:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_NOTICE,n);break;case yx.proto.XianMengCmdType.GetBossInfo:this.xianMengData.bossInfo=n.bossInfo,yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_GET_BOSS_INFO,n);break;case yx.proto.XianMengCmdType.UpdateBossInfo:this.xianMengData.bossInfo=n.bossInfo,yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_UPDATE_BOSS_INFO,n);break;case yx.proto.XianMengCmdType.ChallengeBoss:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_FIGHT_BOSS,n);break;case yx.proto.XianMengCmdType.ExitXianMeng:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);this.xianMengData=null,yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_EXIT,n),yx.windowMgr.goHome(),yx.ToastUtil.showListToast("已退出仙盟");break;case yx.proto.XianMengCmdType.KickOutMemger:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_KICKOUT,n);break;case yx.proto.XianMengCmdType.DutyManager:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);yx.ToastUtil.showListToast("操作成功"),yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_DUTY,n);break;case yx.proto.XianMengCmdType.PurchaseChallengeCount:yx.ToastUtil.showListToast("购买成功");break;case yx.proto.XianMengCmdType.OpenBossChallenge:break;case yx.proto.XianMengCmdType.BossHurtRankList:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_BOSS_RANK,n);break;case yx.proto.XianMengCmdType.Donate:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_DONATE,n);break;case yx.proto.XianMengCmdType.LevelUpSkill:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_SKILL,n);break;case yx.proto.XianMengCmdType.SetName:if(!n.result)return void yx.ToastUtil.showListToast("errorCode:"+n.errorCode);yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_SETNAME,n);break;case yx.proto.XianMengCmdType.GetXianMengLog:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_RECORD,n);break;case yx.proto.XianMengCmdType.ChallengeCountDown:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_BOSS_TIAOZHAN_TIME,n);break;case yx.proto.XianMengCmdType.SetActivityTime_Cmd:yx.eventDispatch.dispatchMsg(yx.EventType.XIANMENG_ACTIVITY_TIME,n)}}},sendBossCmd:function sendBossCmd(e){yx.log("[XianMengManager] reqInfo ");var t=new yx.proto.C2S_XianMeng;t.cmdType=e,t.xianMengID=yx.xianMengMgr.getXianMengId(),yx.network.sendMessage(yx.proto.CmdId.XIAN_MENG,t)},resetXianMengData:function resetXianMengData(){this.xianMengData=null},getXianMengData:function getXianMengData(){return this.xianMengData},getXianMengId:function getXianMengId(){var e=-1,t=this.getXianMengData();return t&&0<t.xianMengInfo.length&&(e=t.xianMengInfo[0].id),e},getMyXianMengInfo:function getMyXianMengInfo(){var e=null,t=this.getXianMengData();return t&&0<t.xianMengInfo.length&&(e=t.xianMengInfo[0]),e},getPlayerInfo:function getPlayerInfo(){var e=null,t=this.getXianMengData();return t&&0<t.playerXianMeng.length&&(e=t.playerXianMeng[0]),e},getXianMengLevel:function getXianMengLevel(){var e=this.getMyXianMengInfo();return e?e.level:0}},yx.xianMengMgr=new yx.XianMengManager,t.exports=yx.xianMengMgr,cc._RF.pop()},{}],XianMengMiJIngPage:[function(e,t,n){cc._RF.push(t,"fbbe7I0GyVMp62qqWO+pQPK","XianMengMiJIngPage");var o=e("XianMengBossItem");cc.Class({extends:cc.Component,properties:{preBtn:cc.Button,nextBtn:cc.Button,headScrollview:cc.ScrollView,itemXianMengBossPrefab:cc.Prefab,headScrollContent:cc.Node,bossRoleDragon:dragonBones.ArmatureDisplay,bossBloodProgressBar:cc.ProgressBar,bossBloodLabel:cc.Label,bossNameLabel:cc.Label,bossRewardContent:cc.Node,kiillNode:cc.Node,lockNode:cc.Node,lastAttackNode:cc.Node,lastAttackName:cc.Label,lastAttackSp:cc.Sprite,lockConditionLabel:cc.Label,rankBtn:cc.Button,startBtn:cc.Button,tiaozhanBtn:cc.Button,addBtn:cc.Button,tiaozhanLabel:cc.Label,timeNode:cc.Node,timeLabel:cc.Label,tiaozhantimeNode:cc.Node,tiaozhantimeLabel:cc.Label},init:function init(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_GET_BOSS_INFO,this.onEventGetInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_BOSS_INFO,this.onEventUpdateInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,this.onEventUpdatePlayerInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_FIGHT_BOSS,this.onEventFightBoss,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_BOSS_TIAOZHAN_TIME,this.onEventTiaoZhanTime,this),this.preBtn.node.on("click",this._onPreBtnClick,this),this.nextBtn.node.on("click",this._onNextBtnClick,this),this.rankBtn.node.on("click",this._onRankBtnClick,this),this.startBtn.node.on("click",this._onStartBtnClick,this),this.tiaozhanBtn.node.on("click",this._onTiaoZhanBtnClick,this),this.addBtn.node.on("click",this._onAddBtnClick,this),this._onHeadItemClick=this._onHeadItemClickCallback.bind(this),this.lastAttackSp.node.setScale(.8)},onShow:function onShow(){yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.GetBossInfo),yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.ChallengeCountDown)},onHide:function onHide(){this.unscheduleAllCallbacks()},_refresh:function _refresh(){var i=this;this._headList||(this._headList=[],yx.cfgMgr.getAllConfig("GuildBossConfig").forEach(function(e){var t=cc.instantiate(i.itemXianMengBossPrefab),n=t.getComponent(o);n&&(n.init(e,i._onHeadItemClick),i.headScrollContent.addChild(t),i._headList.push(n))}));var e=yx.xianMengMgr.getXianMengData();if(e){if(e.bossInfo){switch(this._endTime=e.bossInfo.endTime,e.bossInfo.bossState){case yx.proto.BossStateType.NotStart:this.startBtn.node.active=!0,this.tiaozhanBtn.node.active=!1,this.timeNode.active=!1;break;case yx.proto.BossStateType.Fighting:this.startBtn.node.active=!1,this.tiaozhanBtn.node.active=!0,this.timeNode.active=!0;break;case yx.proto.BossStateType.GameOver:this.startBtn.node.active=!1,this.tiaozhanBtn.node.active=!1,this.timeNode.active=!1}this._setKillBossInfo(e.bossInfo.killedBoss)}}else yx.log("xianMengData == null")},_refreshTiaozhanData:function _refreshTiaozhanData(){var e=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];this.tiaozhanLabel.string="挑战次数:"+this._getLeftTiaoZhanCount()+"/"+e.BossFightCountMax},_setCurBossInfo:function _setCurBossInfo(e){if(null!=e){this._curBossInfo=e;var n=this;n.bossNameLabel.string=n._curBossInfo.Name;var t=0,i=0,o=n._curBossInfo.KillReward;n.bossRewardContent.removeAllChildren(!0),o.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=n._onItemClick,yx.ItemWidget.CreateItemSlot(t,n.bossRewardContent,"reward"+e.id)});var r=yx.cfgMgr.getOneRecord("MonsterAttrConfig",{ID:n._curBossInfo.MonsterId});if(r){if(r.AvatarId){var a=yx.cfgMgr.getOneRecord("AvatarListConfig",{ID:r.AvatarId});if(a){var s="colorAction/"+a.Avatar;yx.resUtil.loadDragonBones(n.bossRoleDragon,s,"MovieClip","newAnimation",null,null),n.bossRoleDragon.node.scale=1.5}}if(r.AttrPower)for(var c=0;c<r.AttrPower.length;c++){var l=r.AttrPower[c];if(l.type==yx.proto.PropertyType.TiPo){t=i=yx.playerMgr.attr2secAttr(l.type,l.value);break}}if(1<this._curBossInfo.ID){var u=yx.cfgMgr.getOneRecord("GuildBossConfig",{ID:this._curBossInfo.ID-1});this.lockConditionLabel.string="解锁条件：击败"+u.Name+"Boss,仙盟等级达到Lv."+this._curBossInfo.GuildLv}else this.lockConditionLabel.string="解锁条件：仙盟等级达到Lv."+this._curBossInfo.GuildLv;var d=yx.xianMengMgr.getXianMengData();d&&d.bossInfo&&(this._curBossInfo.ID==d.bossInfo.bossID?(i=t-d.bossInfo.curBloodVolume)<=0?(this.tiaozhanBtn.interactable=!1,this.tiaozhanBtn.node.getChildByName("Background").getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),this.tiaozhanBtn.node.getChildByName("Background").getChildByName("Label").color=new cc.Color(255,255,255),this.kiillNode.active=!0,this.lockNode.active=!1):yx.xianMengMgr.getMyXianMengInfo().level>=n._curBossInfo.GuildLv?(this.tiaozhanBtn.interactable=!0,this.tiaozhanBtn.node.getChildByName("Background").getComponent(cc.Sprite).setState(cc.Sprite.State.NORMAL),this.tiaozhanBtn.node.getChildByName("Background").getChildByName("Label").color=new cc.Color(127,101,71),this.kiillNode.active=!1,this.lockNode.active=!1):(this.tiaozhanBtn.interactable=!1,this.tiaozhanBtn.node.getChildByName("Background").getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),this.tiaozhanBtn.node.getChildByName("Background").getChildByName("Label").color=new cc.Color(255,255,255),this.kiillNode.active=!1,this.lockNode.active=!0):this._curBossInfo.ID<d.bossInfo.bossID?(i=0,this.tiaozhanBtn.interactable=!1,this.tiaozhanBtn.node.getChildByName("Background").getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),this.tiaozhanBtn.node.getChildByName("Background").getChildByName("Label").color=new cc.Color(255,255,255),this.kiillNode.active=!0,this.lockNode.active=!1):(this.tiaozhanBtn.interactable=!1,this.tiaozhanBtn.node.getChildByName("Background").getComponent(cc.Sprite).setState(cc.Sprite.State.GRAY),this.tiaozhanBtn.node.getChildByName("Background").getChildByName("Label").color=new cc.Color(255,255,255),this.kiillNode.active=!1,this.lockNode.active=!0));var h=i/t;this.bossBloodProgressBar.progress=h,this.bossBloodLabel.string=(100*h).toFixed(2)+"%"}var g=this._getKillBossInfo(this._curBossInfo.ID);if(g){this.lastAttackNode.active=!0,this.lastAttackName.string=g.nickName;var p=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{Level:g.level,ZhongZu:g.zhongZu});p?yx.resUtil.LoadSpriteFromResConfig(p.HeadID,yx.ResType.HEAD,this.lastAttackSp):this.lastAttackSp.spriteFrame=null}else this.lastAttackNode.active=!1}else yx.log("bossInfo == null")},_onPreBtnClick:function _onPreBtnClick(){var e=this.headScrollview.getScrollOffset().x;this.headScrollview.scrollToOffset(cc.v2(Math.abs(e)-this.headScrollview.node.width,0),1.5)},_onNextBtnClick:function _onNextBtnClick(){var e=this.headScrollview.getScrollOffset().x;this.headScrollview.scrollToOffset(cc.v2(Math.abs(e)+this.headScrollview.node.width,0),1.5)},_onRankBtnClick:function _onRankBtnClick(){yx.windowMgr.showWindow("xianMengBossRankPanel")},_onStartBtnClick:function _onStartBtnClick(){for(var e=!1,t=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0],n=0;n<t.OpenBossPower.length;n++)if(t.OpenBossPower[n]==yx.xianMengMgr.getPlayerInfo().duty){e=!0;break}e?yx.TextConfirm.ShowConfirm("<color=#345A5C>是否立即开启除魔？</color>",this._onStartConfirmBtnClick.bind(this)):yx.ToastUtil.showListToast("没有权限开启除魔")},_onStartConfirmBtnClick:function _onStartConfirmBtnClick(){yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.OpenBossChallenge)},_onTiaoZhanBtnClick:function _onTiaoZhanBtnClick(){this._getLeftTiaoZhanCount()<=0?yx.ToastUtil.showListToast("挑战次数不足"):(this._lastBossName=this._curBossInfo.Name,yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.ChallengeBoss))},_onAddBtnClick:function _onAddBtnClick(){var e=yx.cfgMgr.getAllConfig("GuildBaseConfig")[0];if(this._getLeftTiaoZhanCount()>=e.BossFightCountMax)yx.ToastUtil.showListToast("挑战次数已达上限");else{var t="<color=#345A5C>是否消耗{rewardValue}{rewardName}增加1次挑战次数？</color>";t=t.format({rewardValue:e.BossCountBuyCost[0].count,rewardName:yx.bagMgr.GetItemName(e.BossCountBuyCost[0].id)}),yx.TextConfirm.ShowConfirm(t,this.onAddBtnConfirmBtnClick.bind(this))}},onAddBtnConfirmBtnClick:function onAddBtnConfirmBtnClick(){yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.PurchaseChallengeCount)},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",87)},_onHeadItemClickCallback:function _onHeadItemClickCallback(e){for(var t=0;t<this._headList.length;t++){var n=this._headList[t],i=n.getItemInfo();e.ID==i.ID?n.setSelect(!0):n.setSelect(!1)}this._curBossInfo&&this._curBossInfo.ID==e.ID?yx.log("current itemInfo.ID=="+e.ID):this._setCurBossInfo(e)},_onItemClick:function _onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_onPkEnd:function _onPkEnd(e){yx.windowMgr.showWindow("xianMengBossRewardPanel",e)},_getLeftTiaoZhanCount:function _getLeftTiaoZhanCount(){var e=yx.xianMengMgr.getXianMengData();if(e&&e.playerXianMeng)for(var t=0;t<e.playerXianMeng.length;t++){var n=e.playerXianMeng[t];if(n.playerID==yx.playerMgr.getPid())return n.bossChallengeCount}return 0},_getKillBossInfo:function _getKillBossInfo(e){return this._killBossMap?this._killBossMap[e]:null},_setKillBossInfo:function _setKillBossInfo(e){this._killBossMap||(this._killBossMap={});for(var t=0;t<e.length;t++){var n=e[t];this._killBossMap[n.bossID]=n}},onEventGetInfo:function onEventGetInfo(){this._refresh();var i=0,e=yx.xianMengMgr.getXianMengData();if(e&&e.bossInfo)for(var t=0;t<this._headList.length;t++)if(this._headList[t].getItemInfo().ID==e.bossInfo.bossID){i=t;break}this._headList[i].onBtnClick();var o=this;yx.CodeHelper.CallInNextTick(function(){var e=o._headList[i].getRoot(),t=e.width/2,n=e.x-t;o.headScrollview.scrollToOffset(cc.v2(n,0),.5)}),this._refreshTiaozhanData()},onEventUpdateInfo:function onEventUpdateInfo(){this._refresh(),this._setCurBossInfo(this._curBossInfo)},onEventUpdatePlayerInfo:function onEventUpdatePlayerInfo(){this._refreshTiaozhanData()},onEventFightBoss:function onEventFightBoss(e){var t=this._lastBossName;yx.FightPanel.ShowFightResult("xianmeng_boss",t,e.fightResult,!1,this._onPkEnd.bind(this,e),this)},onEventTiaoZhanTime:function onEventTiaoZhanTime(e){this._TiaoZhanEndTime=e.challengeRecoveryTime,yx.timeUtil.getServerTime()<this._TiaoZhanEndTime&&(this._needUpdate2=!0)},update:function update(){if(this._endTime&&yx.timeUtil.getServerTime()<this._endTime){var e=this._endTime-yx.timeUtil.getServerTime();0<=e&&(this.timeLabel.string=yx.timeUtil.seconds2hourMinSecond(e/1e3))}if(this._needUpdate2&&this._TiaoZhanEndTime)if(yx.timeUtil.getServerTime()<this._TiaoZhanEndTime){this.tiaozhantimeNode.active=!0;var t=this._TiaoZhanEndTime-yx.timeUtil.getServerTime();0<=t&&(this.tiaozhantimeLabel.string=yx.timeUtil.seconds2hourMinSecond(t/1e3))}else yx.xianMengMgr.sendBossCmd(yx.proto.XianMengCmdType.ChallengeCountDown),this._needUpdate2=!1,this.tiaozhantimeNode.active=!1;else this.tiaozhantimeNode.active=!1},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)}}),cc._RF.pop()},{XianMengBossItem:"XianMengBossItem"}],XianMengPlayerInfoPanel:[function(e,t,n){cc._RF.push(t,"b860dRY37xHVqDy6VvENvG7","XianMengPlayerInfoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{playerNameLabel:cc.Label,jobLabel:cc.Label,levelLabel:cc.Label,gongXianLabel:cc.Label,upgrateBtn:cc.Button,downBtn:cc.Button,kickBtn:cc.Button,roleNode:cc.Node,faxiangNode:cc.Node,shadowSprite:cc.Sprite,headSp:cc.Sprite},_onInit:function _onInit(e){this._lookAtPlayerInfo=e,this.upgrateBtn.node.on("click",this.upgrateBtnClick,this),this.downBtn.node.on("click",this.downBtnClick,this),this.kickBtn.node.on("click",this.kickBtnClick,this),this.upgrateBtn.node.active=!1,this.downBtn.node.active=!1,this.kickBtn.node.active=!1;var t=yx.xianMengMgr.getPlayerInfo();if(t&&e){t.duty==yx.proto.DutyType.Creator&&e.duty==yx.proto.DutyType.Admin?(this.downBtn.node.active=!0,this.kickBtn.node.active=!0):t.duty==yx.proto.DutyType.Creator&&e.duty==yx.proto.DutyType.Member?(this.upgrateBtn.node.active=!0,this.kickBtn.node.active=!0):t.duty==yx.proto.DutyType.Admin&&e.duty==yx.proto.DutyType.Creator||t.duty==yx.proto.DutyType.Admin&&e.duty==yx.proto.DutyType.Admin||(t.duty==yx.proto.DutyType.Admin&&e.duty==yx.proto.DutyType.Member?this.kickBtn.node.active=!0:(t.duty,yx.proto.DutyType.Member)),this.playerNameLabel.string=e.nickName,this.levelLabel.string=e.playerLevel,this.gongXianLabel.string=e.totalDonateCount,this.jobLabel.string=yx.textDict.XianMengZhiWei[e.duty];var n=yx.cfgMgr.getOneRecord("CharacterAvatarConfig",{ZhongZu:e.zhongZu,Level:e.playerLevel});n&&(yx.resUtil.loadRoleAvatar(this.roleNode,n.AvatarID,"xianMeng",null),yx.resUtil.LoadSpriteFromResConfig(n.HeadID,yx.ResType.HEAD,this.headSp),yx.resUtil.loadRoleAvatar(this.faxiangNode,n.FaXiangID,"xianMeng",null))}},upgrateBtnClick:function upgrateBtnClick(){yx.xianMengMgr.getXianMengId()&&this._lookAtPlayerInfo&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.DutyManager,null,null,yx.xianMengMgr.getXianMengId(),null,null,null,this._lookAtPlayerInfo.duty+1,this._lookAtPlayerInfo.playerID),yx.windowMgr.goBack()},downBtnClick:function downBtnClick(){yx.xianMengMgr.getXianMengId()&&this._lookAtPlayerInfo&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.DutyManager,null,null,yx.xianMengMgr.getXianMengId(),null,null,null,this._lookAtPlayerInfo.duty-1,this._lookAtPlayerInfo.playerID),yx.windowMgr.goBack()},kickBtnClick:function kickBtnClick(){yx.xianMengMgr.getXianMengId()&&this._lookAtPlayerInfo&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.KickOutMemger,null,null,yx.xianMengMgr.getXianMengId(),null,null,null,null,this._lookAtPlayerInfo.playerID),yx.windowMgr.goBack()},_onShow:function _onShow(){this._refresh()},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(){}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianMengRecordItem:[function(e,t,n){cc._RF.push(t,"9b1a2jQycpP9rQDnW0c62NL","XianMengRecordItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{contentLabel:cc.RichText},_onUpdate:function _onUpdate(){this.contentLabel.string=this._data}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],XianMengRecordPanel:[function(e,t,n){cc._RF.push(t,"8a4cbKGR/FL8br49CikkAmD","XianMengRecordPanel");var i=e("BaseWindow"),s=e("ScrollViewRepeat"),o="{time} [<color=#B16647>{name}</color>] <color=#00C800>被任命为</color>{duty}",c={};c[yx.proto.XianMengLogType.CreateXianMeng]="{time} [<color=#B16647>{name}</color>] <color=#00C800>创建了</color>仙盟",c[yx.proto.XianMengLogType.Join]="{time} [<color=#B16647>{name}</color>] <color=#00C800>加入了</color>仙盟",c[yx.proto.XianMengLogType.Exit]="{time} [<color=#B16647>{name}</color>] <color=#00C800>退出了</color>仙盟",c[yx.proto.XianMengLogType.UpDuty]=o,c[yx.proto.XianMengLogType.DownDuty]=o,cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengRecordItemPrefab:cc.Prefab,emptyNode:cc.Node},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_RECORD,this.onEventRecordList,this),this.emptyNode.active=!1},_onShow:function _onShow(){yx.xianMengMgr.getXianMengId()&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.GetXianMengLog,null,null,yx.xianMengMgr.getXianMengId())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_refresh:function _refresh(e){var t=[],n=e.logInfos;for(var i in n){var o=n[i],r=yx.timeUtil.timestampToMDHM(o.createTime),a=yx.textDict.XianMengZhiWei[o.optionalValue];t.push(c[o.type].format({time:r,name:o.nickName,duty:a}))}this._svr?this._svr.updateAllWithoutData():(this._svr=this.scrollView.getComponent(s),this._svr.initialize(t,this.xianMengRecordItemPrefab,17)),this.emptyNode.active=t.length<=0},onEventRecordList:function onEventRecordList(e){this._refresh(e)}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],XianMengShopPanel:[function(e,t,n){cc._RF.push(t,"f5b20XPAAtHa4fP/xLTf5Vj","XianMengShopPanel");var i=e("BaseWindow"),o=[1,2,3];cc.Class({extends:i,properties:{switchTc:cc.ToggleContainer,diBaoScv:cc.ScrollView,tianCaiScv:cc.ScrollView,zhenBaoScv:cc.ScrollView},_onInit:function _onInit(){this.curPageIndex=1,yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE,this.onEventItemExChange,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this),yx.eventDispatch.addListener(yx.EventType.UPDATE_EXCHANGE,this.onEventUpdateChange,this),yx.eventDispatch.addListener(yx.EventType.ITEM_EXCHANGE_INFO,this.onEventItemExChangeInfo,this),this.scrollviews={},this.scrollviews[1]=this.diBaoScv,this.scrollviews[2]=this.tianCaiScv,this.scrollviews[3]=this.zhenBaoScv,this._initSwitchTC()},_initSwitchTC:function _initSwitchTC(){this.switchTc.checkEvents.length=0;var e=new cc.Component.EventHandler;e.target=this.node,e.component="XianMengShopPanel",e.handler="onSwitchTCClick",this.switchTc.checkEvents.push(e)},onSwitchTCClick:function onSwitchTCClick(e){var t=this.switchTc.toggleItems.indexOf(e);this.curPageIndex=o[t],this._refresh()},_onHide:function _onHide(){yx.eventDispatch.removeListenersByTarget(this)},_onShow:function _onShow(){yx.CodeHelper.CallInNextTick(this._refresh.bind(this))},_refresh:function _refresh(){var e=this.scrollviews[this.curPageIndex];for(var t in this.scrollviews)this.scrollviews[t].node.active=e==this.scrollviews[t];var n=yx.cfgMgr.getRecordList("ExchangeConfig",{Type:11});if(n){n.sort(function(e,t){return e.Top<t.Top?-1:e.Top==t.Top?0:1});for(var i=0;i<n.length;i++){var o=n[i],r="DuiHuanWidget_"+i,a=e.content.getChildByName(r);if(a){var s=a.getComponentInChildren(yx.DuiHuanWidget);if(s){s.refresh(o);continue}}yx.DuiHuanWidget.CreateItemSlot(o,e.content,r,null,null,!0)}}},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onEventItemChange:function onEventItemChange(){this.isShown()&&this._refresh()},onEventItemExChange:function onEventItemExChange(e){if(this.isShown()){var t=e.id,n=yx.cfgMgr.getOneRecord("ExchangeConfig",{ID:t});if(n){var i=n.GetReward[0].id,o=yx.cfgMgr.getOneRecord("ItemConfig",{ID:i});o&&yx.ToastUtil.showListToast("获取"+o.Name+"x"+n.GetReward[0].count)}}},onEventUpdateChange:function onEventUpdateChange(){this.isShown()&&this._refresh()},onEventItemExChangeInfo:function onEventItemExChangeInfo(){this.isShown()&&this._refresh()}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianMengWindow:[function(e,t,n){cc._RF.push(t,"9843eTM7UVFBLhr6f9LuAqi","XianMengWindow");var i=e("BaseWindow"),a=e("XianMengDaTingPage"),s=e("XianMengJianShePage"),c=e("XianMengZhenFaPage"),l=e("XianMengMiJIngPage"),u=e("XianMengZhanPage"),o=e("AttrGroupWidget"),d=cc.Enum({DATING:1,JIANSHE:2,ZHENFA:3,MIJING:4,XIANMENGZHAN:5});cc.Class({extends:i,properties:{attrGroupWidget:o,datingBtn:cc.Button,jiansheBtn:cc.Button,zhenfaBtn:cc.Button,mijingBtn:cc.Button,xianmengzhanBtn:cc.Button,datingPageNode:cc.Node,jianshePageNode:cc.Node,zhenfaPageNode:cc.Node,mijingPageNode:cc.Node,xianmengzhanPageNode:cc.Node,_curTab:Number,_tabBtnArray:null,_tabPageNodeArray:null,prefabDating:cc.Prefab,prefabJianshe:cc.Prefab,prefabZhenfa:cc.Prefab,prefabMijing:cc.Prefab,prefabXianmengzhan:cc.Prefab,bossBg:cc.Node},_onInit:function _onInit(){this.attrGroupWidget.initItems([yx.CyType.GONGXIAN_XM]),this._tabBtnArray=[this.datingBtn,this.jiansheBtn,this.zhenfaBtn,this.mijingBtn,this.xianmengzhanBtn],this._tabPageNodeArray=[this.datingPageNode,this.jianshePageNode,this.zhenfaPageNode,this.mijingPageNode,this.xianmengzhanPageNode],this._pageScrArray={},this.datingBtn.node.on("click",this.tabBtnClick.bind(this,d.DATING),this),this.jiansheBtn.node.on("click",this.tabBtnClick.bind(this,d.JIANSHE),this),this.zhenfaBtn.node.on("click",this.tabBtnClick.bind(this,d.ZHENFA),this),this.mijingBtn.node.on("click",this.tabBtnClick.bind(this,d.MIJING),this),this.xianmengzhanBtn.node.on("click",this.tabBtnClick.bind(this,d.XIANMENGZHAN),this)},_onShow:function _onShow(e){this._curTab=d.DATING,e&&(this._curTab=e.tab),yx.CodeHelper.CallInNextTick(this.tabBtnClick.bind(this,this._curTab))},tabBtnClick:function tabBtnClick(e){switch(this.bossBg.active=!1,e){case d.DATING:if(this._curTab=e,!this._pageScrArray[this._curTab]){var t=cc.instantiate(this.prefabDating);this._pageScrArray[this._curTab]=t.getComponent(a),this.datingPageNode.addChild(t),this._pageScrArray[this._curTab].init()}break;case d.JIANSHE:if(!yx.CodeHelper.checkFuncOpen(83))return;if(this._curTab=e,!this._pageScrArray[this._curTab]){var n=cc.instantiate(this.prefabJianshe);this._pageScrArray[this._curTab]=n.getComponent(s),this.jianshePageNode.addChild(n),this._pageScrArray[this._curTab].init()}break;case d.ZHENFA:if(!yx.CodeHelper.checkFuncOpen(84))return;if(this._curTab=e,!this._pageScrArray[this._curTab]){var i=cc.instantiate(this.prefabZhenfa);this._pageScrArray[this._curTab]=i.getComponent(c),this.zhenfaPageNode.addChild(i),this._pageScrArray[this._curTab].init()}break;case d.MIJING:if(!yx.CodeHelper.checkFuncOpen(87))return;if(this._curTab=e,this.bossBg.active=!0,!this._pageScrArray[this._curTab]){var o=cc.instantiate(this.prefabMijing);this._pageScrArray[this._curTab]=o.getComponent(l),this.mijingPageNode.addChild(o),this._pageScrArray[this._curTab].init()}break;case d.XIANMENGZHAN:if(this._curTab=e,!this._pageScrArray[this._curTab]){var r=cc.instantiate(this.prefabXianmengzhan);this._pageScrArray[this._curTab]=r.getComponent(u),this.xianmengzhanPageNode.addChild(r),this._pageScrArray[this._curTab].init()}}this._refreshTabContent()},_refreshTabContent:function _refreshTabContent(){for(var e=0;e<this._tabBtnArray.length;e++){var t=e+1;this._curTab==t?(this._tabBtnArray[e].node.getChildByName("selected").active=!0,this._tabBtnArray[e].node.getChildByName("Background").active=!1,this._tabPageNodeArray[e].active=!0,this._pageScrArray[t].onShow()):(this._tabBtnArray[e].node.getChildByName("selected").active=!1,this._tabBtnArray[e].node.getChildByName("Background").active=!0,this._tabPageNodeArray[e].active=!1,this._pageScrArray[t]&&this._pageScrArray[t].onHide())}switch(this._curTab){case d.DATING:case d.JIANSHE:case d.ZHENFA:case d.MIJING:case d.XIANMENGZHAN:}}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",XianMengDaTingPage:"XianMengDaTingPage",XianMengJianShePage:"XianMengJianShePage",XianMengMiJIngPage:"XianMengMiJIngPage",XianMengZhanPage:"XianMengZhanPage",XianMengZhenFaPage:"XianMengZhenFaPage"}],XianMengZhanPage:[function(e,t,n){cc._RF.push(t,"a32826EwtBNWKjbLD+03gz5","XianMengZhanPage"),cc.Class({extends:cc.Component,properties:{},init:function init(){},onShow:function onShow(){},onHide:function onHide(){}}),cc._RF.pop()},{}],XianMengZhenFaPage:[function(e,t,n){cc._RF.push(t,"b65f1x0GwlNjqa6FyTWZH4O","XianMengZhenFaPage");var c=e("ScrollViewRepeat"),g="<color=#00C800}>{name}+{value}</color>";cc.Class({extends:cc.Component,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,xianMengZhenfaItemPrefab:cc.Prefab},init:function init(){yx.eventDispatch.addListener(yx.EventType.XIANMENG_UPDATE_PLAYER_INFO,this.onEventUpPlayerInfo,this),yx.eventDispatch.addListener(yx.EventType.XIANMENG_SKILL,this.onEventSkill,this)},onShow:function onShow(){this.isShow=!0,this._refresh()},onHide:function onHide(){this.isShow=!1},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onEventUpPlayerInfo:function onEventUpPlayerInfo(){this._refresh()},onEventSkill:function onEventSkill(e){var t=e.count,n=e.donateType+1,i=yx.cfgMgr.getOneRecord("GuildSkillConfig",{Level:t,Index:n}),o=yx.cfgMgr.getOneRecord("GuildSkillConfig",{Level:t-1,Index:n});if(i)if(i.Attr&&0<i.Attr.length){var r=i.Attr[0],a={value:0};o&&o.Attr&&0<o.Attr.length&&(a=o.Attr[0]);var s=r.value-a.value,c=g.format({name:yx.textDict.Attr[r.type],value:s});yx.ToastUtil.showListToast(c)}else if(i.ExtraAttr&&0<i.ExtraAttr.length){var l=i.ExtraAttr[0],u={Rate:0};o&&o.ExtraAttr&&0<o.ExtraAttr.length&&(u=o.ExtraAttr[0]);var d=(l.Rate-u.Rate)/100+"%",h=g.format({name:yx.textDict.Attr[l.FromType],value:d});yx.ToastUtil.showListToast(h)}},getMaxLevelCfgs:function getMaxLevelCfgs(){var e=yx.xianMengMgr.getMyXianMengInfo(),t=1;e&&(t=e.level);var n={};return yx.cfgMgr.getAllConfig("GuildSkillConfig").forEach(function(e){e.GuildLevel==t&&(n[e.Index]||(n[e.Index]=e),n[e.Index].Level<e.Level&&(n[e.Index]=e))}),n},_refresh:function _refresh(){this.maxLevelCfgs=this.getMaxLevelCfgs();var e=[],t=yx.xianMengMgr.getPlayerInfo();if(t){var n=t.skills;if(n.length<=0)return void yx.error("服务器返回的阵法skills为空");for(var i=0;i<n.length;i++){var o=i+1,r=n[i],a=yx.cfgMgr.getOneRecord("GuildSkillConfig",{Level:r,Index:o});if(a){var s={};s.maxLevel=this.maxLevelCfgs[a.Index]?this.maxLevelCfgs[a.Index].Level:0,Object.assign(s,a),e.push(s)}}}this._svr?this._svr.updateAllWithoutData(e):(this._svr=this.scrollView.addComponent(c),this._svr.initialize(e,this.xianMengZhenfaItemPrefab,5))},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)}}),cc._RF.pop()},{ScrollViewRepeat:"ScrollViewRepeat"}],XianMengZhenfaItem:[function(e,t,n){cc._RF.push(t,"808ccSMSc9J8Khu8OOaf/zp","XianMengZhenfaItem");var i=e("BaseRepeatItem"),a="{name}+{value}";cc.Class({extends:i,properties:{iconSp:cc.Sprite,nameLabel:cc.Label,maxLevelLabel:cc.Label,leve1Label:cc.Label,leve2Label:cc.Label,attr1Label:cc.Label,attr2Label:cc.Label,costBtn:cc.Button,costItemSp:cc.Sprite,costLabel:cc.Label,arrowIconNode:cc.Node,xianMengLevel:cc.Label},_initItem:function _initItem(){this.costBtn.node.on("click",this.costBtnClick,this)},_onUpdate:function _onUpdate(){this.nameLabel.string=this._data.Name,this.maxLevelLabel.string="【满级Lv.{max}】".format({max:this._data.maxLevel}),this.arrowIconNode.active=!0,this.xianMengLevel.string="需要仙盟等级:{level}".format({level:this._data.GuildLevel});var e=yx.xianMengMgr.getXianMengLevel()>=this._data.GuildLevel?yx.colorUtil.TextGreen:yx.colorUtil.TextRed;this.xianMengLevel.node.color=yx.colorUtil.toCCColor(e);var t=this._data.Cost;if(t&&0<t.length){var n=t[0],i=yx.cfgMgr.getOneRecord("ItemConfig",{ID:n.id});i&&yx.resUtil.LoadSpriteByType(i.Icon,yx.ResType.ITEM,this.costItemSp),this.costLabel.string=n.count}else this.costLabel.string="已满级",this.arrowIconNode.active=!1;this.leve1Label.string="Lv."+this._data.Level,yx.resUtil.LoadSpriteByType(this._data.Icon,yx.ResType.SKILL,this.iconSp),this.refreshAttr()},refreshAttr:function refreshAttr(){if(this.attr1Label.node.active=!0,this.attr2Label.node.active=!0,this.leve2Label.node.active=!0,this._data.Attr&&0<this._data.Attr.length){var e=this._data.Attr[0];this.attr1Label.string=a.format({name:yx.textDict.Attr[e.type],value:e.value})}else if(this._data.ExtraAttr&&0<this._data.ExtraAttr.length){var t=this._data.ExtraAttr[0];this.attr1Label.string=a.format({name:yx.textDict.Attr[t.FromType],value:t.Rate/100+"%"})}else this.attr1Label.node.active=!1;var n=this._data.Level+1,i=yx.cfgMgr.getOneRecord("GuildSkillConfig",{Level:n,Index:this._data.Index});if(i)if(this.leve2Label.string="Lv."+i.Level,i.Attr&&0<i.Attr.length){var o=i.Attr[0];this.attr2Label.string=a.format({name:yx.textDict.Attr[o.type],value:o.value})}else if(i.ExtraAttr&&0<i.ExtraAttr.length){var r=i.ExtraAttr[0];this.attr2Label.string=a.format({name:yx.textDict.Attr[r.FromType],value:r.Rate/100+"%"})}else this.attr2Label.node.active=!1;else this.leve2Label.node.active=!1,this.attr2Label.node.active=!1},costBtnClick:function costBtnClick(){yx.xianMengMgr.getXianMengId()&&yx.xianMengMgr.req(yx.proto.XianMengCmdType.LevelUpSkill,null,null,yx.xianMengMgr.getXianMengId(),null,null,null,null,null,null,null,this._data.Index)}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],XianNiangItem:[function(e,t,n){cc._RF.push(t,"2944cbTCgNFpbO7TZ0yaDyJ","XianNiangItem");var c="prefabs/widgets/XianNiangItem",u=cc.Class({extends:cc.Component,properties:{xianNiangSp:cc.Sprite,stuffLabelBg:cc.Sprite,stuffLabel:cc.Label,costSp:cc.Sprite,costLabel:cc.Label,itemBtn:cc.Button,checkMark:cc.Node,buyBtn:cc.Button},statics:{_itemPrefab:null,CreateItem:function CreateItem(n,i,o,r,a,s){if(u._itemPrefab)return u._createItemWithPrefab(n,i,o,u._itemPrefab,r,a,s);yx.resUtil.LoadRes(c,function(e,t){if(yx.log("[仙酿item 动态加载"),!e)return u._itemPrefab=t,u._createItemWithPrefab(n,i,o,u._itemPrefab,r,a,s);yx.warn(c+" is not exist!")})},_createItemWithPrefab:function _createItemWithPrefab(e,t,n,i,o,r,a){null!=e&&yx.log("[仙酿XianNiangItem CreateItem] info:"+e);var s=cc.instantiate(i),c=new cc.Node(n);t.addChild(c),null!=n&&(s.name=n);var l=s.getComponent(u);return l&&c&&c.isValid?(l.init(e,o,r,a),c.addChild(s),c.setContentSize(s.getContentSize())):yx.warn("XianNiangItem instantiate error!"),l}},init:function init(e,t,n,i){if(this._itemCb=n,this._buyCb=i,this._info=e,(this._type=t)==yx.XianNiangWindow.SHOW_TYPE_BUY){this.costSp.node.active=!0;var o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.Reward[0].id});this._setSprite(o.ID,this.xianNiangSp),this.stuffLabel.string=e.Name1,this.costLabel.string=e.Cost[0].count,e.Cost[0].id===yx.CyType.LINGSHI?yx.resUtil.LoadSpriteByType("item_1",yx.ResType.ITEM,this.costSp):e.Cost[0].id===yx.CyType.SHENYU&&yx.resUtil.LoadSpriteByType("item_2",yx.ResType.ITEM,this.costSp)}else if(t==yx.XianNiangWindow.SHOW_TYPE_TIAO_ZHI){this.costSp.node.active=!1;var r=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.Reward[0].id});this._setSprite(r.ID,this.xianNiangSp),this.stuffLabel.string=e.Name1}this.itemBtn.node.on("click",this._onItemBtnClick.bind(this),this),this.buyBtn.node.on("click",this._onBuyBtnClick.bind(this),this),this.buyBtn.node.name="XianNiangItem_buyBtn_"+e.ID},_onBuyBtnClick:function _onBuyBtnClick(){this._buyCb&&this._buyCb(this,this._type,this._info)},_onItemBtnClick:function _onItemBtnClick(){this._itemCb&&this._itemCb(this,this._type,this._info)},showIsCheck:function showIsCheck(e){this.checkMark.active=e},_setSprite:function _setSprite(e,t){var n={amount:-1};n.itemId=e,n.clickCallBack=function(){},yx.ItemWidget.CreateItemSlot(n,t.node,"reward"+e)}});yx.XianNiangItem=t.exports=u,cc._RF.pop()},{}],XianNiangWindow:[function(e,t,n){cc._RF.push(t,"ca0fbYmWPNMH6Ilf7AhBRXh","XianNiangWindow");var i=e("BaseWindow"),o=cc.Class({extends:i,statics:{SHOW_TYPE_BUY:2,SHOW_TYPE_TIAO_ZHI:3},properties:{buyPageNode:cc.Node,homeHeadScrollview:cc.ScrollView,homeHeadLayout:cc.Layout,homePreBtn:cc.Button,homeNextBtn:cc.Button,homeContentLayout:cc.Layout,homeTextLabel:cc.Label,homeBuyBtn:cc.Button,homeTiaoZhiBtn:cc.Button,homeNormalCountRiText:cc.RichText,homeJPCountRiText:cc.RichText,colorSquareItemPrefab:cc.Prefab,xianNiangItemPrefab:cc.Prefab,buyPageClostBtn:cc.Button,buyPageLayout:cc.Layout},_onInit:function _onInit(){yx.ColorSquareItem._itemPrefab=this.colorSquareItemPrefab,yx.XianNiangItem._itemPrefab=this.xianNiangItemPrefab,this.buyPageNode.active=!1,this.homePreBtn.node.on("click",this._onHomePreBtnClick,this),this.homeNextBtn.node.on("click",this._onHomeNextBtnClick,this),this.homeBuyBtn.node.on("click",this._onHomeBuyBtnClick,this),this.homeTiaoZhiBtn.node.on("click",this._onHomeTiaoZhiBtnClick,this),this.buyPageClostBtn.node.on("click",this._onBuyPageClostBtnClick,this),yx.eventDispatch.addListener(yx.EventType.REFRESH_CAVE_LIAN_XIANNIANG,this._refresh,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),this._loadHeadLayoutItem()},_loadHeadLayoutItem:function _loadHeadLayoutItem(){var e=yx.cfgMgr.getAllConfig("XianNiangMakeConfig");if(e){this.colorSquareItemSrc=[];for(var t=0;t<e.length;t++){var n=e[t];this.colorSquareItemSrc[n.ID]=yx.ColorSquareItem.CreateItemSyn(n,this.homeHeadLayout.node,"xianNiang_colorSquareItem_"+n.ID,this._updateTiaoZhiStuff.bind(this))}this.curSelectXianNiangMakeID=1,this.homeHeadScrollview.scrollToOffset(cc.v2(0,0),1.5)}},_onHomeBuyBtnClick:function _onHomeBuyBtnClick(){if(this.buyPageNode.active=!0,!this._buyPageNodeInit){this._buyPageNodeInit=!0;for(var e=function e(t,n,i){var o=i.Cost[0],r=!1,a="";o&&o.id===yx.CyType.LINGSHI&&(a="灵石",yx.playerMgr.getCurrency(yx.CyType.LINGSHI)>=o.count&&(r=!0)),o&&o.id===yx.CyType.SHENYU&&(a="仙玉",yx.playerMgr.getCurrency(yx.CyType.SHENYU)>=o.count&&(r=!0)),r?yx.caveMgr.reqBuyWine(i.ID):yx.ToastUtil.showListToast(a+"不足")},t=yx.cfgMgr.getAllConfig("XianNiangStoreConfig"),n=0;n<t.length;n++){var i=t[n];yx.XianNiangItem.CreateItem(i,this.buyPageLayout.node,"xianNiangStoreItem",yx.XianNiangWindow.SHOW_TYPE_BUY,null,e.bind(this))}}},_onHomePreBtnClick:function _onHomePreBtnClick(){this.homeHeadScrollview.scrollToOffset(cc.v2(0,0),1.5)},_onHomeNextBtnClick:function _onHomeNextBtnClick(){var e=this.homeHeadLayout.node.getContentSize().width;this.homeHeadScrollview.scrollToOffset(cc.v2(e,0),1.5)},_onHomeTiaoZhiBtnClick:function _onHomeTiaoZhiBtnClick(){if(this.curSelectXianNiangMakeID)if(this.isEnougnStuff){if(!this.curSelectXianNiangPinZhi)return;yx.caveMgr.reqMakeTreasure(yx.CaveBuildType.XIANNIANG,this.curSelectXianNiangMakeID,this.curSelectXianNiangPinZhi,1)}else yx.ToastUtil.showListToast("道具不足");else yx.ToastUtil.showListToast("请先选择需要的调制的仙酿")},_onBuyPageClostBtnClick:function _onBuyPageClostBtnClick(){this.buyPageNode.active=!1},_onShow:function _onShow(){yx.caveMgr.reqMakeRoom(yx.CaveBuildType.XIANNIANG)},onBuyMaskClick:function onBuyMaskClick(){this._onBuyPageClostBtnClick()},onEventCurrencyChange:function onEventCurrencyChange(){if(this.isShown()&&this.curSelectXianNiangMakeID){var e=yx.cfgMgr.getRecordByKey("XianNiangMakeConfig",{ID:this.curSelectXianNiangMakeID});e&&this._updateTiaoZhiStuff(e,this.colorSquareItemSrc[this.curSelectXianNiangMakeID])}},_refresh:function _refresh(){if(this.curSelectXianNiangMakeID){var e=yx.cfgMgr.getRecordByKey("XianNiangMakeConfig",{ID:this.curSelectXianNiangMakeID});e&&this._updateTiaoZhiStuff(e,this.colorSquareItemSrc[this.curSelectXianNiangMakeID])}if(yx.caveMgr.getCaveLianZhiData()&&(this.xianNiangData=yx.caveMgr.getCaveLianZhiData()[yx.CaveBuildType.XIANNIANG],this.xianNiangData)){var t=this.xianNiangData.normalLeft||0,n=this.xianNiangData.bestLeft||0,i=yx.colorUtil.AddColorString("极品仙酿调制次数：",yx.colorUtil.TextDarkGreen);this.homeJPCountRiText.string=i+this._setColor(n);var o=yx.colorUtil.AddColorString("普通仙酿调制次数：",yx.colorUtil.TextDarkGreen);this.homeNormalCountRiText.string=o+this._setColor(t)}},_setColor:function _setColor(e){return e<=0?yx.colorUtil.AddColorString(e+"次",yx.colorUtil.TextRed):yx.colorUtil.AddColorString(e+"次",yx.colorUtil.TextGreen)},_updateTiaoZhiStuff:function _updateTiaoZhiStuff(e,t){if(t)for(var n in this.colorSquareItemSrc)this.colorSquareItemSrc[n].showIsCheck(this.colorSquareItemSrc[n]===t);if(e){this.curSelectXianNiangMakeID=e.ID,this.isEnougnStuff=!0;var i=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.Reward[0].id});i&&(this.curSelectXianNiangPinZhi=i.PinZhi),this.homeTextLabel.string=e.DefDesc1;var o=[],r=e.XiangNiangCost[0].count,a=yx.bagMgr.getItemNum(e.XiangNiangCost[0].id);a<r&&(this.isEnougnStuff=!1);var s=this._getRichTextStr(a,r),c="",l=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.XiangNiangCost[0].id});l&&(c=yx.colorUtil.AddColorString(l.Name,yx.colorUtil.TextDarkGreen)+"\n");var u={};u.content=c+s+yx.colorUtil.AddColorString("/"+r,yx.colorUtil.TextDarkGreen),u.ID=e.XiangNiangCost[0].id,o.push(u);for(var d=0;d<e.Cost.length;d++){var h=e.Cost[d].count,g=yx.bagMgr.getItemNum(e.Cost[d].id),p=this._getRichTextStr(g,h);g<h&&(this.isEnougnStuff=!1);var y="",f=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:e.Cost[d].id});f&&(y=yx.colorUtil.AddColorString(f.Name,yx.colorUtil.TextDarkGreen)+"\n");var m={};m.content=y+p+yx.colorUtil.AddColorString("/"+h,yx.colorUtil.TextDarkGreen),m.ID=e.Cost[d].id,o.push(m)}this._costItemMap||(this._costItemMap={});for(var v=0;v<o.length;v++)if(this._costItemMap["ItemSlot_"+v]){var x=this.homeContentLayout.node.getChildByName("ItemSlot_"+v);if(x){var w=x.getComponentInChildren(yx.ItemRichTextWidget);w&&w.refresh(o[v])}}else yx.ItemRichTextWidget.CreateItemSlot(o[v],this.homeContentLayout.node,"ItemSlot_"+v,this._onTiaoZhiItemStuffClickCb.bind(this)),this._costItemMap["ItemSlot_"+v]=!0}},_getRichTextStr:function _getRichTextStr(e,t){return e<t?yx.colorUtil.AddColorString(""+e,yx.colorUtil.TextRed):yx.colorUtil.AddColorString(""+e,yx.colorUtil.TextGreen)},_onTiaoZhiItemStuffClickCb:function _onTiaoZhiItemStuffClickCb(e){var t={};t.ID=e.ID,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onHelpBtnClick:function onHelpBtnClick(){yx.windowMgr.showWindow("helpPanel",8)}});yx.XianNiangWindow=t.exports=o,cc._RF.pop()},{BaseWindow:"BaseWindow"}],XianShiLiBaoItem:[function(e,t,n){cc._RF.push(t,"843ffD0KW1AVY3KoSUHjKAw","XianShiLiBaoItem"),cc.Class({extends:cc.Component,properties:{titleNameLabel:cc.Label,timeLabel:cc.Label,leftTimeLabel:cc.Label,enterBtn:cc.Button},init:function init(e){if(e){this._cfg=e,this.titleNameLabel.string=this._cfg.Name,this.enterBtn.node.on("click",this.onEnterBtnClick,this);var t=yx.ActivityMgr.getActivityData(this._cfg.ID);this._leftTimeCallback=this.leftTimeCallback.bind(this),this._endTime=t.endTime,this._startTime=t.startTime,this.timeLabel.string=yx.timeUtil.timestampToYMD(this._startTime)+"至 "+yx.timeUtil.timestampToYMD(this._endTime),this.unschedule(this._leftTimeCallback),this.schedule(this._leftTimeCallback,1,cc.macro.REPEAT_FOREVER,.1)}},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},onEnterBtnClick:function onEnterBtnClick(){var e={};e.ID=this._cfg.ID,e.Type=this._cfg.Type,yx.eventDispatch.dispatchMsg(yx.EventType.XIANSHILIBAO_OPEN_REWARDPANEL,e)},leftTimeCallback:function leftTimeCallback(){var e=yx.timeUtil.getServerTime(),t=parseInt(this._endTime-e)/1e3;this.leftTimeLabel.string=yx.timeUtil.seconds2hourMinSecond(t),t<=0&&(this.leftTimeLabel.string="00:00:00",this.unschedule(this._leftTimeCallback))}}),cc._RF.pop()},{}],XianShiLiBaoPanel:[function(e,t,n){cc._RF.push(t,"ea86a3jIihHP40HbpHmRknV","XianShiLiBaoPanel");var i=e("BaseWindow"),o=e("XianShiLiBaoItem");cc.Class({extends:i,properties:{itemScrollLayout:cc.Layout,xianShiLiBaoItemPrefab:cc.Prefab},_onInit:function _onInit(){this._lastDelayTime=0,this._delayArr=[];var e=yx.cfgMgr.getAllConfig("ActivityType10Config");yx.eventDispatch.addListener(yx.EventType.ACTIVITY_TASK_BY_ID,this.onRefreshTaskById.bind(this),this),yx.eventDispatch.addListener(yx.EventType.XIANSHILIBAO_OPEN_REWARDPANEL,this.openXianShiReward.bind(this),this);for(var t=0;t<e.length;t++){var n=e[t],i=this._delayArr.length;this._delayArr[i-1]&&this._delayArr[i-1].Type==n.Type||this._delayArr.push(n)}this.itemScrollLayout.node.removeAllChildren(!0)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},update:function update(){if(this._lastDelayTime++,this._delayArr&&this._delayArr[0]&&2<this._lastDelayTime){this._lastDelayTime=0;var e=cc.instantiate(this.xianShiLiBaoItemPrefab);e.getComponent(o).init(this._delayArr[0]),this.itemScrollLayout.node.addChild(e),this._delayArr.splice(0,1)}},openXianShiReward:function openXianShiReward(e){this._openType=e.Type,yx.ActivityMgr.TaskInfoByAId(e.ID)},onRefreshTaskById:function onRefreshTaskById(){yx.windowMgr.showWindow("xianShiRewardPanel",{Type:this._openType})}}),cc._RF.pop()},{BaseWindow:"BaseWindow",XianShiLiBaoItem:"XianShiLiBaoItem"}],XianShiRewardItem:[function(e,t,n){cc._RF.push(t,"09af9P9MxVFcoVQXecieMOZ","XianShiRewardItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.RichText,descRichText:cc.RichText,getBtn:cc.Button,getBtnText:cc.Label,scrollContent:cc.Node,bgNode:cc.Node},onLoad:function onLoad(){this.getBtn.node.on("click",this.onGetRewardClick,this),yx.eventDispatch.addListener(yx.EventType.ACTIVITY_TASK_REFRESH,this.onUpdate.bind(this),this)},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},init:function init(e,t){this.getBtn.node.active=!1,this.descRichText.node.active=!1,this._data=e,this._type=t;var n=e.Reward,i=this;i.scrollContent.removeAllChildren(!0),n.forEach(function(e){var t={};t.amount=e.count,t.itemId=e.id,t.clickCallBack=i.onItemClick,yx.ItemWidget.CreateItemSlot(t,i.scrollContent,"reward"+e.id)});var o=Math.ceil(n.length/3);if(1<o){var r=94*(o-1);this.node.height=this.node.height+r,this.bgNode.height=this.bgNode.height+r}yx.BadgeMgr.addBadge(this.getBtn.node,55,15),this.onUpdate()},onItemClick:function onItemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},onGetRewardClick:function onGetRewardClick(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);e&&e.taskState==yx.proto.TaskStateType.Processing?yx.ToastUtil.showListToast("未满足条件"):yx.ActivityMgr.TaskReward(this._data.ID,this._data.Index)},onUpdate:function onUpdate(){var e=yx.ActivityMgr.getTaskInfo(this._data.ID,this._data.Index);if(null!=e){var t=this._data.Type,n=(1==t?"食物":2==t&&"木材")||3==t&&"陨铁"||4==t&&"历练通关"||"食物";e.processing>=this._data.TypeValue?this.titleLabel.string="累计消耗{value}{name}(<color=#00C800>{cur}/{max}</color>)".format({value:this._data.TypeValue,name:n,cur:e.processing,max:this._data.TypeValue}):this.titleLabel.string="累计消耗{value}{name}(<color=#FF0000>{cur}/{max}</color>)".format({value:this._data.TypeValue,name:n,cur:e.processing,max:this._data.TypeValue}),yx.BadgeMgr.showBadge(this.getBtn.node,!1),e.taskState==yx.proto.TaskStateType.Processing?(this.getBtn.node.active=!0,this.descRichText.node.active=!1):e.taskState==yx.proto.TaskStateType.Finish?(yx.BadgeMgr.showBadge(this.getBtn.node,!0),this.getBtn.node.active=!0,this.descRichText.node.active=!1):(this.getBtn.node.active=!1,this.descRichText.node.active=!0,this.descRichText.string="<color=#345A5C>已领取</color>")}}}),cc._RF.pop()},{}],XianShiRewardPanel:[function(e,t,n){cc._RF.push(t,"c83069vCwRJrIliNte6Myer","XianShiRewardPanel");var i=e("BaseWindow"),o=e("XianShiRewardItem");cc.Class({extends:i,properties:{titleLabel:cc.Label,itemScrollLayout:cc.Layout,oneKeyLingQuBtn:cc.Button,xianShiRewardItemPrefab:cc.Prefab},_onInit:function _onInit(e){this.itemScrollLayout.node.removeAllChildren(!0),this._lastDelayTime=0,this._delayArr=[],this._type=e.Type,this.oneKeyLingQuBtn.node.on("click",this.oneKeyLingQuBtnClick,this);var t=yx.cfgMgr.getRecordList("ActivityType10Config",{Type:e.Type});t&&(this._delayArr=t)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},update:function update(){if(this._lastDelayTime++,this._delayArr&&this._delayArr[0]&&2<this._lastDelayTime){this._lastDelayTime=0;var e=cc.instantiate(this.xianShiRewardItemPrefab);e.getComponent(o).init(this._delayArr[0],this._type),this.itemScrollLayout.node.addChild(e),this._delayArr.splice(0,1)}},oneKeyLingQuBtnClick:function oneKeyLingQuBtnClick(){for(var e=yx.cfgMgr.getRecordList("ActivityType10Config",{Type:this._type}),t=0;t<e.length;t++){var n=e[t],i=yx.ActivityMgr.getTaskInfo(n.ID,n.Index);i&&i.taskState==yx.proto.TaskStateType.Finish&&yx.ActivityMgr.TaskReward(n.ID,n.Index)}}}),cc._RF.pop()},{BaseWindow:"BaseWindow",XianShiRewardItem:"XianShiRewardItem"}],XiuLianBaGuaPage:[function(e,t,n){cc._RF.push(t,"4459aHzLYxFvpnQFbnRkwSL","XiuLianBaGuaPage");var d="每{count}点{fromName}转换{count1}点{toName}",a=[yx.proto.BaGuaType.Li,yx.proto.BaGuaType.Kun,yx.proto.BaGuaType.Dui,yx.proto.BaGuaType.Qian,yx.proto.BaGuaType.Kan,yx.proto.BaGuaType.Gen,yx.proto.BaGuaType.Zhen,yx.proto.BaGuaType.Xun],s=[yx.GuaXiangType.QingLongType,yx.GuaXiangType.BaiHuType,yx.GuaXiangType.ZhuQueType,yx.GuaXiangType.XuanWuType,yx.GuaXiangType.PiXiuType];cc.Class({extends:cc.Component,properties:{guaXiangNode:cc.Node,faZhenNode:cc.Node,circleNode:cc.Node,helpBtn:cc.Button,checkBtn:cc.Button},init:function init(){for(var e in this.checkBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.PiXiuZhen),this.faZhenCfgs={},this.faZhenCfgs[yx.GuaXiangType.QingLongType]=yx.cfgMgr.getRecordList("FaZhenConfig",{Type:yx.GuaXiangType.QingLongType}),this.faZhenCfgs[yx.GuaXiangType.BaiHuType]=yx.cfgMgr.getRecordList("FaZhenConfig",{Type:yx.GuaXiangType.BaiHuType}),this.faZhenCfgs[yx.GuaXiangType.ZhuQueType]=yx.cfgMgr.getRecordList("FaZhenConfig",{Type:yx.GuaXiangType.ZhuQueType}),this.faZhenCfgs[yx.GuaXiangType.XuanWuType]=yx.cfgMgr.getRecordList("FaZhenConfig",{Type:yx.GuaXiangType.XuanWuType}),this.faZhenCfgs[yx.GuaXiangType.PiXiuType]=yx.cfgMgr.getRecordList("FaZhenConfig",{Type:yx.GuaXiangType.PiXiuType}),yx.eventDispatch.addListener(yx.EventType.BAGUA_GET_INFO,this.onEventGetInfo,this),yx.eventDispatch.addListener(yx.EventType.BAGUA_UPGRATE,this.onEventUpgrate,this),yx.eventDispatch.addListener(yx.EventType.SWITCH_UPDATE,this.onEventSwitchAutoUpgrade,this),this.helpBtn.node.on("click",this.helpBtnClick,this),this.checkBtn.node.on("click",this.checkBtnClick,this),this.guaXiangNodes={},a){var t=a[e],n=this.guaXiangNode.getChildByName("GuaXiang"+t);n.button=n.getChildByName("Button").getComponent(cc.Button),n.levelLabel=n.getChildByName("LevelLabel").getComponent(cc.Label),n.demageLabel=n.getChildByName("demageLabel").getComponent(cc.RichText),n.costLabel=n.getChildByName("costLabel").getComponent(cc.RichText),(this.guaXiangNodes[t]=n).button.node.on("click",this.baGuaBtnClick.bind(this,t),this),n.levelLabel.string="",n.demageLabel.string="",n.costLabel.string=""}for(var i in this.faZhenNodes={},s){var o=s[i],r=this.faZhenNode.getChildByName("ZhenFaItem"+o);r.levelLabel=r.getChildByName("LevelLabel").getComponent(cc.Label),r.attrLabel=r.getChildByName("attrLabel").getComponent(cc.Label),(this.faZhenNodes[o]=r).levelLabel.string="",r.attrLabel.string=""}},onShow:function onShow(){yx.baGuaMgr.req(yx.proto.BaGuaZhenCmdType.GetBaGuaZhen_Cmd),this.circleNode.stopAllActions(),this.circleNode.runAction(cc.repeatForever(cc.rotateBy(15,-360)))},onHide:function onHide(){},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},checkBtnClick:function checkBtnClick(){var e=!this.checkBtn.node.getChildByName("checkmark").active;yx.playerMgr.reqChangeSwitch(yx.proto.SwitchType.PiXiuZhen,e)},helpBtnClick:function helpBtnClick(){yx.windowMgr.showWindow("xiuLianFaZhenPanel",this.faZhenCfgs)},baGuaBtnClick:function baGuaBtnClick(e){yx.baGuaMgr.req(yx.proto.BaGuaZhenCmdType.Upgrade_Cmd,e)},onEventGetInfo:function onEventGetInfo(){this.refresh()},refresh:function refresh(e,t){var n=yx.baGuaMgr.getBaGuaDatas();for(var i in n){var o=n[i],r=yx.cfgMgr.getOneRecord("GuaXiangConfig",{Level:o,Type:i});r&&(this.refreshBaGuaInfo(i,r),e&&t&&t.type==i&&this.showPropertyToast(o,i))}this.refreshFaZhenInfo()},onEventUpgrate:function onEventUpgrate(e){this.refresh(!0,e.baGuaInfo[0])},refreshFaZhenInfo:function refreshFaZhenInfo(){if(yx.baGuaMgr.getBaGuaDatas())for(var e in this.faZhenCfgs){var t=this.faZhenCfgs[e],n=null;for(var i in t){var o=t[i],r=o.Condition;this.checkFaZhenCondition(r)&&(n=o)}if(n)if(e==yx.GuaXiangType.PiXiuType){var a=n.Cost[0],s=n.Reward[0];this.faZhenNodes[e].levelLabel.string=n.Level+"阶",this.faZhenNodes[e].attrLabel.string=d.format({count:a.count,fromName:yx.bagMgr.GetItemName(a.id),count1:s.count,toName:yx.bagMgr.GetItemName(s.id)})}else if(e==yx.GuaXiangType.XuanWuType){this.faZhenNodes[e].levelLabel.string=n.Level+"阶";var c=n.Attr?n.Attr[0]:null;c&&(this.faZhenNodes[e].attrLabel.string=yx.textDict.Attr[c.type]+"增加"+c.value)}else this.faZhenNodes[e].levelLabel.string=n.Level+"阶",this.faZhenNodes[e].attrLabel.string=n.FaZhenDesc+n.AttrRate[0].Rate/100+"%";else if(e==yx.GuaXiangType.PiXiuType){this.faZhenNodes[e].levelLabel.string="0阶";var l=t[2].Cost[0],u=t[2].Reward[0];this.faZhenNodes[e].attrLabel.string=d.format({count:0,fromName:yx.bagMgr.GetItemName(l.id),count1:0,toName:yx.bagMgr.GetItemName(u.id)})}else e==yx.GuaXiangType.XuanWuType?(this.faZhenNodes[e].levelLabel.string="0阶",this.faZhenNodes[e].attrLabel.string="身法增加0"):(this.faZhenNodes[e].levelLabel.string="0阶",this.faZhenNodes[e].attrLabel.string=t[2].FaZhenDesc+"0%")}else yx.warn("八卦阵没有信息")},checkFaZhenCondition:function checkFaZhenCondition(e){var t=!0;for(var n in e){var i=e[n];if(yx.baGuaMgr.getBaGuaDatas()[i.Type]<i.Level){t=!1;break}}return t},refreshBaGuaInfo:function refreshBaGuaInfo(e,t){var n=this.guaXiangNodes[e];if(n&&t){if(n.levelLabel.string=t.GuaXiangDesc,t.AddAttr&&0<t.AddAttr.length){var i=t.AddAttr[0];n.demageLabel.string="<color=#00FF00}>{name}：{value}</color>".format({name:yx.textDict.Attr[i.type],value:i.value})}if(t.UpCost&&0<t.UpCost.length){var o=t.UpCost[0];n.costLabel.string="{itemName}:<color=#FFD066>{needNum}</color>".format({itemName:yx.bagMgr.GetItemName(o.id),needNum:o.count})}}},showPropertyToast:function showPropertyToast(e,t){var n=yx.cfgMgr.getOneRecord("GuaXiangConfig",{Level:e,Type:t}),i=yx.cfgMgr.getOneRecord("GuaXiangConfig",{Level:e-1,Type:t});if(n){var o=null,r=null;n&&(o=n.AddAttr),i&&(r=i.AddAttr);var a={};if(o)for(var s in o){var c=o[s];a[c.type]={},a[c.type].curValue=c.value,a[c.type].preValue=0}if(r)for(var l in r){var u=r[l];a[u.type]||(a[u.type]={}),a[u.type].curValue||(a[u.type].curValue=0),a[u.type].preValue=u.value}for(var d in a){var h=a[d],g=h.curValue-h.preValue;if(0<g){var p="<color=#00FF00}>{name}+{value}</color>".format({name:yx.textDict.Attr[d],value:g});yx.ToastUtil.showListToast(p)}}}},onEventSwitchAutoUpgrade:function onEventSwitchAutoUpgrade(){this.checkBtn.node.getChildByName("checkmark").active=yx.playerMgr.getSwitch(yx.proto.SwitchType.PiXiuZhen)}}),cc._RF.pop()},{}],XiuLianFaQiPage:[function(e,t,n){cc._RF.push(t,"20badL3NIlOmZ++ImFUI17k","XiuLianFaQiPage"),cc.Class({extends:cc.Component,properties:{preBtn:cc.Button,nextBtn:cc.Button,lianzhiBtn:cc.Button,qichengBtn:cc.Button,qichengCancelBtn:cc.Button,aoyouBtn:cc.Button,yiqiBtn:cc.Button,jiachengBtn:cc.Button,faqiCount:cc.RichText,desc:cc.RichText,titleName:cc.Label,hasUseSp:cc.Sprite,preFaQiNode:cc.Node,curFaQiNode:cc.Node,nextFaQiNode:cc.Node,hadFaQiNode:cc.Node,unHadFaQiNode:cc.Node},init:function init(){this.qichengBtn.node.active=!0,this.qichengCancelBtn.node.active=!1,this.faQiBtns={},this.faQiBtns[1]=this.preFaQiNode,this.faQiBtns[2]=this.curFaQiNode,this.faQiBtns[3]=this.nextFaQiNode,yx.eventDispatch.addListener(yx.EventType.FAQI_GET_INFO,this.onEventFaQiGetInfo,this),yx.eventDispatch.addListener(yx.EventType.FAQI_CHANGE,this.onEventFaQiChang,this),yx.eventDispatch.addListener(yx.EventType.FAQI_RIDE,this.onEventFaQiRide,this),yx.eventDispatch.addListener(yx.EventType.FAQI_RIDE_CANCEL,this.onEventFaQiRideCancel,this),yx.eventDispatch.addListener(yx.EventType.FAQI_DELETE,this.onEventFaQiDelete,this),this.preBtn.node.on("click",this.onpreBtnClick,this),this.nextBtn.node.on("click",this.onnextBtnClick,this),this.lianzhiBtn.node.on("click",this.onlianzhiBtnClick,this),this.qichengBtn.node.on("click",this.onqichengBtnClick,this),this.qichengCancelBtn.node.on("click",this.onqichengBtnCancelClick,this),this.aoyouBtn.node.on("click",this.onaoyouBtnClick,this),this.yiqiBtn.node.on("click",this.onyiqiBtnClick,this),this.jiachengBtn.node.on("click",this.onjiachengBtnClick,this),this.preFaQiNode.on("click",this.onfaqiBtnClick,this),this.curFaQiNode.on("click",this.onfaqiBtnClick,this),this.nextFaQiNode.on("click",this.onfaqiBtnClick,this),this.desc.string=""},onShow:function onShow(){this._curIndex=-1,yx.FaQiMgr.req(yx.proto.PetCmdType.GetPetList_Cmd)},onHide:function onHide(){this.unscheduleAllCallbacks()},onDestroy:function onDestroy(){yx.eventDispatch.removeListenersByTarget(this)},onEventFaQiGetInfo:function onEventFaQiGetInfo(){this._refreshContent()},loadFaQiCfgUi:function loadFaQiCfgUi(e,t){var n=yx.cfgMgr.getOneRecord("PetListConfig",{ID:t});if(n){var i=e.getChildByName("faqiDrogon").getComponent(dragonBones.ArmatureDisplay),o="ui_effect/faqi/"+n.Icon;yx.resUtil.loadDragonBones(i,o,"MovieClip","newAnimation",null,null)}return n},onEventFaQiChang:function onEventFaQiChang(){this._refreshContent()},onEventFaQiRide:function onEventFaQiRide(){var e=yx.FaQiMgr.getUseingFaQiData(),t=yx.FaQiMgr.getFaQiProperty(e.id),n=yx.FaQiMgr.getOwnFaQiLen(),i=yx.cfgMgr.getOneRecord("PetNumConfig",{ID:n});for(var o in t){var r=t[o],a=yx.textDict.SecAttrName[o],s=r.value*(1+i.WanPer/1e4);s=s.toFixed(0);var c=yx.colorUtil.AddColorString(a+"+"+yx.playerMgr.attr2secAttr(o,s),yx.colorUtil.TextGreen);yx.ToastUtil.showListToast(c)}this._refreshContent()},onEventFaQiRideCancel:function onEventFaQiRideCancel(){this._refreshContent()},onEventFaQiDelete:function onEventFaQiDelete(){this._curData=null,yx.ToastUtil.showListToast("已遗弃"),yx.FaQiMgr.req(yx.proto.PetCmdType.GetPetList_Cmd)},_refreshContent:function _refreshContent(){var e=yx.FaQiMgr.getFaQiList();if(!e||e.length<=0)return this.hadFaQiNode.active=!1,this.unHadFaQiNode.active=!0,this.qichengBtn.node.active=!0,this.qichengCancelBtn.node.active=!1,this._curData=null,void(this.faqiCount.string="<color=#ffffff>法器数：</color><color=#00C800>0/"+yx.FaQiMgr.getMaxLimitCount()+"</color>");if(this._curData=null,this.hadFaQiNode.active=!0,this.unHadFaQiNode.active=!1,this.titleName.string="",this.faqiCount.string="<color=#ffffff>法器数：</color><color=#00C800>"+e.length+"/"+yx.FaQiMgr.getMaxLimitCount()+"</color>",-1===this._curIndex){var t=e.find(function(e){return e.useing});this._curIndex=t?e.indexOf(t):0}this._curIndex>yx.FaQiMgr.getOwnFaQiLen()-1&&(this._curIndex=yx.FaQiMgr.getOwnFaQiLen()-1);var n=e[this._curIndex],i=e[this._curIndex-1],o=e[this._curIndex+1];this.preBtn.interactable=Boolean(i),this.nextBtn.interactable=Boolean(o),i&&this.loadFaQiCfgUi(this.faQiBtns[1],i.id),n&&(this._curData=this.loadFaQiCfgUi(this.faQiBtns[2],n.id)),o&&this.loadFaQiCfgUi(this.faQiBtns[3],o.id),this._curData&&(this.titleName.string=this._curData.Name,this.desc.string=this._curData.Desc1,this.hasUseSp.node.active=n.useing,this.qichengBtn.node.active=!n.useing,this.qichengCancelBtn.node.active=n.useing)},runMoveAction:function runMoveAction(e,t){this.preBtn.interactable=!1,this.nextBtn.interactable=!1;var n=this.faQiBtns[1],i=this.faQiBtns[2],o=this.faQiBtns[3];this.node.stopAllActions(),e?(o.runAction(cc.moveTo(.15,0,0)),i.runAction(cc.moveTo(.15,-1e3,0)),n.runAction(cc.moveTo(0,1e3,0)),this.faQiBtns[1]=i,this.faQiBtns[2]=o,this.faQiBtns[3]=n):(o.runAction(cc.moveTo(0,-1e3,0)),i.runAction(cc.moveTo(.15,1e3,0)),n.runAction(cc.moveTo(.15,0,0)),this.faQiBtns[1]=o,this.faQiBtns[2]=n,this.faQiBtns[3]=i),this.node.runAction(cc.sequence(cc.delayTime(.15),cc.callFunc(function(){t&&t()})))},onpreBtnClick:function onpreBtnClick(){var e=this;this._curIndex<=0||this.runMoveAction(!1,function(){e._curIndex--,e._refreshContent()})},onnextBtnClick:function onnextBtnClick(){var e=this;this._curIndex>=yx.FaQiMgr.getOwnFaQiLen()-1||this.runMoveAction(!0,function(){e._curIndex++,e._refreshContent()})},onlianzhiBtnClick:function onlianzhiBtnClick(){this._curData?yx.windowMgr.showWindow("faQiLevelPanel",this._curData):yx.ToastUtil.showListToast("暂无法器")},onqichengBtnClick:function onqichengBtnClick(){if(this._curData){var e=yx.FaQiMgr.getFaQiDataById(this._curData.ID);e?e.useing?yx.ToastUtil.showListToast("正在佩戴中"):yx.FaQiMgr.req(yx.proto.PetCmdType.Ride_Cmd,this._curData.ID):yx.ToastUtil.showListToast("暂无法器")}else yx.ToastUtil.showListToast("暂无法器")},onqichengBtnCancelClick:function onqichengBtnCancelClick(){if(this._curData){var e=yx.FaQiMgr.getFaQiDataById(this._curData.ID);e?e.useing?yx.FaQiMgr.req(yx.proto.PetCmdType.CancelRide_Cmd,this._curData.ID):yx.ToastUtil.showListToast("当前没有佩戴"):yx.ToastUtil.showListToast("暂无法器")}else yx.ToastUtil.showListToast("暂无法器")},onaoyouBtnClick:function onaoyouBtnClick(){this._curData||yx.ToastUtil.showListToast("暂无法器")},onyiqiBtnClick:function onyiqiBtnClick(){if(this._curData){var e="<color=#345A5C>你确定要遗弃</color><color=#FF0000>"+this._curData.Name+"</color><color=#345A5C>吗？\n遗弃后该法器将会消失</color>";yx.TextConfirm.ShowConfirm(e,this.yiQiConfirmCallback.bind(this))}else yx.ToastUtil.showListToast("暂无法器")},yiQiConfirmCallback:function yiQiConfirmCallback(){yx.FaQiMgr.req(yx.proto.PetCmdType.Delete_Cmd,this._curData.ID)},onjiachengBtnClick:function onjiachengBtnClick(){this._curData?yx.windowMgr.showWindow("faQiJiaChengPanel",this._curData):yx.ToastUtil.showListToast("暂无法器")},onfaqiBtnClick:function onfaqiBtnClick(){this._curData&&yx.windowMgr.showWindow("faQiInfoPanel",this._curData)}}),cc._RF.pop()},{}],XiuLianFaZhenItem:[function(e,t,n){cc._RF.push(t,"078e3Ohe4RP7K6S1L6PqVeY","XiuLianFaZhenItem"),cc.Class({extends:cc.Component,properties:{zuHeLabel:cc.Label,curEffLabel:cc.Label,conditionLabel:cc.Label,jinJieEffLabel:cc.Label,levelLabel:cc.Label,iconSp:cc.Sprite},frameInit:function frameInit(e){if(e.faZhenType!=yx.GuaXiangType.PiXiuType){var t="",n="",i="",o="无",r="无",a=e.cfg;if(e.isMeet){a&&(yx.resUtil.LoadSpriteByType(e.cfg.Icon,yx.ResType.FAZHEN,this.iconSp),n="({level}阶)".format({level:a.Level}),t=this.getZuHeName(a),i=this.getEffStr(e.faZhenType,a));var s=yx.cfgMgr.getOneRecord("FaZhenConfig",{Type:e.faZhenType,Level:a.Level+1});s&&(o="卦象达到"+s.Condition[0].Level+"级",r=this.getEffStr(e.faZhenType,s))}else{a&&(yx.resUtil.LoadSpriteByType(e.cfg.Icon,yx.ResType.FAZHEN,this.iconSp),n="({level}阶)".format({level:0}),t=this.getZuHeName(a),i="无");var c=yx.cfgMgr.getOneRecord("FaZhenConfig",{Type:e.faZhenType,Level:1});c&&(o="卦象达到"+c.Condition[0].Level+"级",r=this.getEffStr(e.faZhenType,c))}this.levelLabel.string=n,this.zuHeLabel.string=t,this.curEffLabel.string=i,this.jinJieEffLabel.string=r,this.conditionLabel.string=o}else this.node.active=!1},getZuHeName:function getZuHeName(e){for(var t=[],n=0;n<e.Condition.length;n++){var i=yx.cfgMgr.getOneRecord("GuaXiangConfig",{Type:e.Condition[n].Type});i&&t.push(i.Name)}return t.join(",")},getEffStr:function getEffStr(e,t){var n="";if(e==yx.GuaXiangType.PiXiuType){var i=t.Cost[0],o=t.Reward[0];n+="每{count}点{fromName}转换{count1}点{toName}".format({count:i.count,fromName:yx.bagMgr.GetItemName(i.id),count1:o.count,toName:yx.bagMgr.GetItemName(o.id)})}else if(e==yx.GuaXiangType.XuanWuType){var r=t.Attr?t.Attr[0]:null;r&&(n+=yx.textDict.Attr[r.type]+"增加"+r.value)}else n+=t.FaZhenDesc+t.AttrRate[0].Rate/100+"%";return n}}),cc._RF.pop()},{}],XiuLianFaZhenPanel:[function(e,t,n){cc._RF.push(t,"dec2eOXiUdLRIieupqm8mad","XiuLianFaZhenPanel");var i=e("BaseWindow"),o=e("XiuLianFaZhenItem"),r=e("FrameLoadWidget");cc.Class({extends:i,properties:{itemScrollLayout:cc.Layout,xiuLianFaZhenItemPrafab:cc.Prefab},checkFaZhenCondition:function checkFaZhenCondition(e){var t=!0;for(var n in e){var i=e[n];if(yx.baGuaMgr.getBaGuaDatas()[i.Type]<i.Level){t=!1;break}}return t},getTheMeetConditionCfgs:function getTheMeetConditionCfgs(e){var t=[];for(var n in e){var i=e[n],o=null,r={faZhenType:n,isMeet:!0};for(var a in i){var s=i[a],c=s.Condition;this.checkFaZhenCondition(c)&&(o=s)}(r.cfg=o)||(r.cfg=i[2],r.isMeet=!1),t.push(r)}return t},_onInit:function _onInit(e){if(yx.baGuaMgr.getBaGuaDatas()){var t=this.getTheMeetConditionCfgs(e);this.itemScrollLayout.node.removeAllChildren(!0),t&&this.node.addComponent(r).init(this.itemScrollLayout.node,t,this.xiuLianFaZhenItemPrafab,o).startLoad()}else yx.warn("八卦阵没有信息")},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",FrameLoadWidget:"FrameLoadWidget",XiuLianFaZhenItem:"XiuLianFaZhenItem"}],XiuLianWindow:[function(e,t,n){cc._RF.push(t,"4402d8dar1ADr7vexvjvq9V","XiuLianWindow");var i=e("BaseWindow"),o=e("XiuLianBaGuaPage"),r=e("XiuLianFaQiPage"),a=e("AttrGroupWidget"),s=cc.Enum({BaGua:1,FaQi:2});cc.Class({extends:i,statics:{TabType:s},properties:{attrGroupWidget:a,baGuaBtn:cc.Button,baGuaPageNode:cc.Node,faQiBtn:cc.Button,faQiPageNode:cc.Node,_curTab:Number,_tabBtnArray:null,_tabPageNodeArray:null,prefabBaGua:cc.Prefab,prefabFaQi:cc.Prefab},_onInit:function _onInit(){this._curTab=s.BaGua,this.attrGroupWidget.initItems([yx.CyType.XIEYU,yx.CyType.HAOYU]),this._tabBtnArray=[this.baGuaBtn,this.faQiBtn],this._tabPageNodeArray=[this.baGuaPageNode,this.faQiPageNode],this._pageScrArray={},this.baGuaBtn.node.on("click",this.tabBtnClick.bind(this,s.BaGua),this),this.faQiBtn.node.on("click",this.tabBtnClick.bind(this,s.FaQi),this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.baGuaBtn.node,50,50),yx.BadgeMgr.addBadge(this.faQiBtn.node,50,50)},_onShow:function _onShow(e){e&&(this._curTab=e.tab),yx.CodeHelper.CallInNextTick(this.tabBtnClick.bind(this,this._curTab)),this.onEventRefreshBadge()},tabBtnClick:function tabBtnClick(e){switch(e){case s.BaGua:if(this.attrGroupWidget.showItems([yx.CyType.XIEYU,yx.CyType.HAOYU]),this._curTab=e,!this._pageScrArray[this._curTab]){var t=cc.instantiate(this.prefabBaGua);this._pageScrArray[this._curTab]=t.getComponent(o),this.baGuaPageNode.addChild(t),t.setContentSize(this.baGuaPageNode.getContentSize()),this._pageScrArray[this._curTab].init()}break;case s.FaQi:if(this.attrGroupWidget.showItems([]),this._curTab=e,!this._pageScrArray[this._curTab]){var n=cc.instantiate(this.prefabFaQi);this._pageScrArray[this._curTab]=n.getComponent(r),this.faQiPageNode.addChild(n),n.setContentSize(this.faQiPageNode.getContentSize()),this._pageScrArray[this._curTab].init()}}this._refreshTabContent()},_refreshTabContent:function _refreshTabContent(){for(var e=0;e<this._tabBtnArray.length;e++){var t=e+1;this._curTab==t?(this._tabBtnArray[e].node.getChildByName("selected").active=!0,this._tabBtnArray[e].node.getChildByName("Background").active=!1,this._tabPageNodeArray[e].active=!0,this._pageScrArray[t].onShow()):(this._tabBtnArray[e].node.getChildByName("selected").active=!1,this._tabBtnArray[e].node.getChildByName("Background").active=!0,this._tabPageNodeArray[e].active=!1,this._pageScrArray[t]&&this._pageScrArray[t].onHide())}},onEventRefreshBadge:function onEventRefreshBadge(){}}),cc._RF.pop()},{AttrGroupWidget:"AttrGroupWidget",BaseWindow:"BaseWindow",XiuLianBaGuaPage:"XiuLianBaGuaPage",XiuLianFaQiPage:"XiuLianFaQiPage"}],XiuZhenRiZhiPanel:[function(e,t,n){cc._RF.push(t,"6c56csUtlhCmKSZwfvA0bbl","XiuZhenRiZhiPanel");var i=e("BaseWindow"),f={};cc.Class({extends:i,properties:{closeBtn:cc.Button,maskBtn:cc.Button,richText:cc.RichText,pageNumLabel:cc.Label,prevBtn:cc.Button,nextBtn:cc.Button},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskBtn.node.on("click",this.onCloseBtnClick,this),this.prevBtn.node.on("click",this.onPrevBtnClick,this),this.nextBtn.node.on("click",this.onNextBtnClick,this),f[11]=yx.textDict.RiZhiPanel[1],f[21]=yx.textDict.RiZhiPanel[2],f[31]=yx.textDict.RiZhiPanel[3],f[41]=yx.textDict.RiZhiPanel[4],f[51]=yx.textDict.RiZhiPanel[5],f[61]=yx.textDict.RiZhiPanel[6],f[71]=yx.textDict.RiZhiPanel[7],f[81]=yx.textDict.RiZhiPanel[8],f[91]=yx.textDict.RiZhiPanel[9],f[101]=yx.textDict.RiZhiPanel[10],f[111]=yx.textDict.RiZhiPanel[11],f[121]=yx.textDict.RiZhiPanel[12],f[131]=yx.textDict.RiZhiPanel[13],this._curPage=1,this._pageTotal=1,this._textList=new Array,this._textList.push(yx.textDict.RiZhiPanel[17]),this._textList.push(yx.textDict.RiZhiPanel[14].format({name:yx.playerMgr.getName()}))},_onShow:function _onShow(){this._refresh()},_refresh:function _refresh(){var e=yx.playerMgr.getXiuLianLog();null==e||0==e.length?this._pageTotal=1:this._pageTotal=Math.ceil((e.length+2)/9);var t=!0,n=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value,s=a.level,c=a.year,l=f[s],u={};u.name=yx.playerMgr.getName();var d=yx.cfgMgr.getOneRecord("DuJieConfig",{Level:s});if(d&&1==d.IsRiZhi){u.year=c,u.levelName=d.Name;var h=yx.textDict.RiZhiPanel[15].format(u);this._textList.push(l+"\n"+h)}}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}for(var g=yx.DiarysUtil.getShowList("main"),p=0;p<g.length;p++){var y=g[p];this._textList.push(y)}this._refreshPageBtns(),yx.CodeHelper.CallInNextTick(this._refreshRichText.bind(this))},_refreshPageBtns:function _refreshPageBtns(){this.prevBtn.interactable=1<this._curPage,this.nextBtn.interactable=this._curPage<this._pageTotal,this.pageNumLabel.string=this._curPage+"/"+this._pageTotal},_refreshRichText:function _refreshRichText(){for(var e=new Array,t=9*(this._curPage-1);t<this._textList.length&&t<9*this._curPage;t++)e.push(this._textList[t]);this.richText.string=e.join("\n")},_setPage:function _setPage(e){e<1||e>this._pageTotal||e==this._curPage||(this._curPage=e,this._refreshPageBtns(),this._refreshRichText())},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onPrevBtnClick:function onPrevBtnClick(){1<this._curPage&&this._setPage(this._curPage-1)},onNextBtnClick:function onNextBtnClick(){this._curPage<this._pageTotal&&this._setPage(this._curPage+1)}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],YiJianFanKuiPanel:[function(e,t,n){cc._RF.push(t,"5de6eEy8LxPfKWfgMToAxcZ","YiJianFanKuiPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,maskSp:cc.Button,submitBtn:cc.Button,contentEditBox:cc.EditBox},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),this.maskSp.node.on("click",this.onMaskSpClick,this),this.submitBtn.node.on("click",this.onsubmitBtnClick,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},onMaskSpClick:function onMaskSpClick(){yx.windowMgr.goBack()},onsubmitBtnClick:function onsubmitBtnClick(){var e=this.contentEditBox.string;e.length<6?yx.ToastUtil.showListToast("反馈少于6个字符"):(yx.windowMgr.goBack(),yx.mailMgr.submitFeedBack(e))}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],YouLiItem:[function(e,t,n){cc._RF.push(t,"72ad6GW0HhMhYPu3RT0CTPt","YouLiItem"),cc.Class({extends:cc.Component,properties:{btn:cc.Button,levelLabel:cc.Label,nameLabel:cc.Label,_mapId:0},getMapId:function getMapId(){return this._mapId},init:function init(){this.node.active=!1;var e=this.node.name.split("_")[1];this.levelLabel.string=e;var t=yx.cfgMgr.getRecordByKey("YouLiMapConfig",{ID:parseInt(e)});this.nameLabel.string=t.MapName,this._mapId=t.ID,this.btn.node.on("click",this._btnClick,this),this.btn.node.name="YouLiItemBtn_"+this._mapId},show:function show(e){this.node.active=e},_btnClick:function _btnClick(){yx.windowMgr.showWindow("youliMap",this._mapId)}}),cc._RF.pop()},{}],YouLiMapGroupItem:[function(e,t,n){cc._RF.push(t,"3d36fKQyn9NjJoMEVBYvvjs","YouLiMapGroupItem");var a=e("YouLiMapItem");cc.Class({extends:cc.Component,properties:{youliMapItemPrefab:cc.Prefab,item1:cc.Node,item2:cc.Node,item3:cc.Node},init:function init(e){this.item1.removeAllChildren(!0),this.item2.removeAllChildren(!0),this.item3.removeAllChildren(!0);for(var t=[this.item1,this.item2,this.item3],n=0;n<e.length;n++){var i=e[n],o=cc.instantiate(this.youliMapItemPrefab),r=o.getComponent(a);r&&(r.init(i),t[n].addChild(o))}}}),cc._RF.pop()},{YouLiMapItem:"YouLiMapItem"}],YouLiMapItem:[function(e,t,n){cc._RF.push(t,"f9573rlKWFAlaISc037OOCp","YouLiMapItem"),cc.Class({extends:cc.Component,properties:{citySp:cc.Sprite,lockSp:cc.Node,cityName:cc.Label},init:function init(e){this._id=e,this.node.on("click",this.onCityBtnClick,this);var t=yx.cfgMgr.getOneRecord("YouLITownConfig",{ID:this._id});yx.resUtil.LoadSpriteByIconName(t.Icon,this.citySp),this.cityName.string=t.Name},onCityBtnClick:function onCityBtnClick(){}}),cc._RF.pop()},{}],YouLiMapWindow:[function(e,t,n){cc._RF.push(t,"17c3b7OSDFKJJLGZzAHsDDX","YouLiMapWindow");var i=e("BaseWindow"),u=e("YouLiMapGroupItem");cc.Class({extends:i,properties:{titleLabel:cc.Label,youliProgress:cc.RichText,jingWeiValue:cc.RichText,chongBaiValue:cc.RichText,chongYouBtn:cc.Button,huoLangBtn:cc.Button,youLiMapGroupItemPrefab:cc.Prefab,scrollView:cc.ScrollView,scrollContent:cc.Node},_onInit:function _onInit(){this.chongYouBtn.node.on("click",this._chongYouBtnClick,this),this.huoLangBtn.node.on("click",this._huoLangBtnClick,this)},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onShow:function _onShow(e){for(var t=yx.cfgMgr.getOneRecord("YouLiMapConfig",{ID:e}),n=t.JieDianNum[0],i=t.JieDianNum[1],o=[],r=n;r<=i;r+=3){for(var a=r,s=[],c=0;c<3;c++)(a=r+c)<=i&&s.push(a);o.push(s)}var l=this;l.scrollContent.removeAllChildren(!0),o.forEach(function(e){var t=cc.instantiate(l.youLiMapGroupItemPrefab),n=t.getComponent(u);n&&(n.init(e),l.scrollContent.addChild(t))})},_chongYouBtnClick:function _chongYouBtnClick(){},_huoLangBtnClick:function _huoLangBtnClick(){}}),cc._RF.pop()},{BaseWindow:"BaseWindow",YouLiMapGroupItem:"YouLiMapGroupItem"}],YouLiMgr:[function(e,t,n){cc._RF.push(t,"5392aPBNAFO2rybW0d4Vie4","YouLiMgr"),yx.YouLiManager=function(){},yx.YouLiManager.prototype={constructor:yx.YouLiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.YOU_LI,this.onMessageHandel),this._mapInfos={}},reqGetYouLi:function reqGetYouLi(){yx.log("[YouLiManager] reqGetYouLi ");var e=new yx.proto.C2S_YouLi;e.cmdType=yx.proto.YouLiCmdType.GetYouLi_Cmd,yx.network.sendMessage(yx.proto.CmdId.YOU_LI,e)},reqEnterMap:function reqEnterMap(e){yx.log("[YouLiManager] reqEnterMap ");var t=new yx.proto.C2S_YouLi;t.cmdType=yx.proto.YouLiCmdType.EnterMap_Cmd,t.mapID=e,yx.network.sendMessage(yx.proto.CmdId.YOU_LI,t)},reqExitMap:function reqExitMap(){yx.log("[YouLiManager] reqExitMap ");var e=new yx.proto.C2S_YouLi;e.cmdType=yx.proto.YouLiCmdType.ExitMap_Cmd,yx.network.sendMessage(yx.proto.CmdId.YOU_LI,e)},onMessageHandel:function onMessageHandel(e,t){if(yx.log("YouLiManager onMessageHandel-----"),null!=e&&0<e.length)yx.log("[YouLiManager onMessageHandel] error:"+e);else{var n=yx.proto.S2C_YouLi.decode(t);switch(n.cmdType){case yx.proto.YouLiCmdType.GetYouLi_Cmd:yx.YouLiMgr.setData(n),yx.eventDispatch.dispatchMsg(yx.EventType.YOULI_MAP);break;case yx.proto.YouLiCmdType.EnterMap_Cmd:case yx.proto.YouLiCmdType.ExitMap_Cmd:}}},setData:function setData(e){this._topMapID=e.topMapID;for(var t=0;t<e.mapInfos.length;t++){var n=e.mapInfos[t];this._mapInfos[n.id]=n}},getYouLiCurMapId:function getYouLiCurMapId(){return 1},getYouLiTopMapId:function getYouLiTopMapId(){return 1},getMapInfo:function getMapInfo(e){return this._mapInfos[e]}},yx.YouLiMgr=new yx.YouLiManager,t.exports=yx.YouLiMgr,cc._RF.pop()},{}],YouLiWindow:[function(e,t,n){cc._RF.push(t,"158577dx/hFHLDIn8CrzQai","YouLiWindow");var i=e("BaseWindow"),o=e("YouLiItem");cc.Class({extends:i,properties:{homeYouLiBtn:cc.Button,homeXiaoShiJieBtn:cc.Button,homeYouLiBtnMarkNode:cc.Node,homeXiaoShiJieBtnMarkNode:cc.Node,homeLogRichText:cc.RichText,homeLogScrollView:cc.ScrollView,youLiPageNode:cc.Node,youLiMapContent:cc.Node,youLiTanMiBtn:cc.Button,youLiShenYouBtn:cc.Button,youLiBaGuaBtn:cc.Button,youLiXianFangBtn:cc.Button,youLiCurMapEffect:cc.Node,youLiNewMapEffect:cc.Node,xiaoShiJiePageNode:cc.Node},_onInit:function _onInit(){this.homeYouLiBtn.node.on("click",this._homeYouLiBtnClick,this),this.homeXiaoShiJieBtn.node.on("click",this._homeXiaoShiJieBtnClick,this),this.curYouLiItem=null,this.maxYouLiItem=null,this.youLiTanMiBtn.node.on("click",this._youLiTanMiBtnClick,this),this.youLiShenYouBtn.node.on("click",this._youLiShenYouBtnClick,this),this.youLiBaGuaBtn.node.on("click",this._youLiBaGuaBtnClick,this),this.youLiXianFangBtn.node.on("click",this._youLiXianFangBtnClick,this),yx.eventDispatch.addListener(yx.EventType.YOULI_MAP,this.onEventYouLiMap,this),this._initYouLiMapItem(),yx.DiarysUtil.setRichTextWithShowList(this.homeLogRichText,"liLian"),this.homeLogScrollView.scrollToBottom()},_initYouLiMapItem:function _initYouLiMapItem(){if(!this.youliItems){this.youliItems={};for(var e=this.youLiMapContent.getComponentsInChildren(o),t=0;t<e.length;t++){var n=e[t];n.init(),this.youliItems[n.getMapId()]=n}}},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onShow:function _onShow(e){yx.YouLiMgr.reqGetYouLi(),!e||1==e.tab?this._homeYouLiBtnClick():2==e.tab&&this._homeXiaoShiJieBtnClick()},_homeYouLiBtnClick:function _homeYouLiBtnClick(){1!=this.curPageType&&(this.curPageType=1,this._setCheckMark(),this._setCheckPage())},_homeXiaoShiJieBtnClick:function _homeXiaoShiJieBtnClick(){2!=this.curPageType&&(this.curPageType=2,this._setCheckMark(),this._setCheckPage())},_refreshYouLi:function _refreshYouLi(){this.curYouLiItem=this.youliItems[yx.YouLiMgr.getYouLiCurMapId()],this.maxYouLiItem=this.youliItems[yx.YouLiMgr.getYouLiTopMapId()];for(var e=1;e<=yx.YouLiMgr.getYouLiTopMapId();e++)this.youliItems[e]&&this.youliItems[e].show(!0);this.curYouLiItem?(this.curYouLiItem.node.insertChild(this.youLiCurMapEffect,0),this.youLiCurMapEffect.setPosition(cc.v2(0,110))):(this.youLiPageNode.insertChild(this.youLiCurMapEffect,0),this.youLiCurMapEffect.setPosition(cc.v2(0,0))),this.maxYouLiItem?(this.maxYouLiItem.node.insertChild(this.youLiNewMapEffect,10),this.youLiNewMapEffect.setPosition(cc.v2(0,16)),this.youLiNewMapEffect.getComponent(cc.Animation).play()):(this.youLiPageNode.insertChild(this.youLiNewMapEffect,0),this.youLiNewMapEffect.setPosition(cc.v2(0,0)))},_youLiTanMiBtnClick:function _youLiTanMiBtnClick(){},_youLiShenYouBtnClick:function _youLiShenYouBtnClick(){},_youLiBaGuaBtnClick:function _youLiBaGuaBtnClick(){},_youLiXianFangBtnClick:function _youLiXianFangBtnClick(){},_setCheckMark:function _setCheckMark(){switch(this.curPageType){case 1:this.homeYouLiBtnMarkNode.active=!0,this.homeXiaoShiJieBtnMarkNode.active=!1;break;case 2:this.homeYouLiBtnMarkNode.active=!1,this.homeXiaoShiJieBtnMarkNode.active=!0}},_setCheckPage:function _setCheckPage(){switch(this.curPageType){case 1:this.youLiPageNode.active=!0,this.xiaoShiJiePageNode.active=!1;break;case 2:this.youLiPageNode.active=!1,this.xiaoShiJiePageNode.active=!0}},onEventYouLiMap:function onEventYouLiMap(){this._refreshYouLi()},onEventEnterMap:function onEventEnterMap(){this.isShown()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",YouLiItem:"YouLiItem"}],YuHuoPanel:[function(e,t,n){cc._RF.push(t,"53febAdhjFNJI9ZbgptTIfz","YuHuoPanel");var i=e("BaseWindow");cc.Class({extends:i,properties:{closeBtn:cc.Button,itemLayout:cc.Layout},_onInit:function _onInit(){this.closeBtn.node.on("click",this.onCloseBtnClick,this),yx.eventDispatch.addListener(yx.EventType.PLAYER_ITEM_CHG,this.onEventItemChange,this)},itemClick:function itemClick(e){var t={};t.ID=e.itemId,t.showType=yx.ItemDetailShowPanel.SHOW_TYPE_SIMPLE,yx.windowMgr.showWindow("itemDetailShowPanel",t)},_onShow:function _onShow(){this.onRefresh()},onRefresh:function onRefresh(){this.itemLayout.node.removeAllChildren(!0);for(var e=this._splitItemDataBySlot(yx.bagMgr.getItemList()),t=0;t<65;t++)if(t<e.length){var n=e[t];n.clickCallBack=this.itemClick,yx.ItemWidget.CreateItemSlot(n,this.itemLayout.node,"slot_"+t)}else yx.ItemWidget.CreateEmptySlot(this.itemLayout.node,"slot_"+t)},onCloseBtnClick:function onCloseBtnClick(){yx.windowMgr.goBack()},_splitItemDataBySlot:function _splitItemDataBySlot(e){for(var t=new Array,n=0;n<e.length;n++){var i=e[n],o=yx.cfgMgr.getRecordByKey("ItemConfig",{ID:i.itemId});if(null!=o&&0<i.amount&&5==o.Type){var r=i;for(r.TopNum=o.TopNum,r.MaxPile=o.MaxPile;0<r.MaxPile&&r.amount>r.MaxPile;){var a=yx.proto.ItemMsg.create(r);a.amount=r.MaxPile,t.push(a),r.amount-=r.MaxPile}t.push(r)}}return t.sort(function(e,t){return e.TopNum==t.TopNum?e.itemId==t.itemId?t.amount-e.amount:e.itemId-t.itemId:e.TopNum-t.TopNum}),t},onEventItemChange:function onEventItemChange(){this.isShown()&&(0<this.itemLayout.node.childrenCount?this._refreshSlots():this.onRefresh())},_refreshSlots:function _refreshSlots(){for(var e=this._splitItemDataBySlot(yx.bagMgr.getItemList()),t=this.itemLayout.node.children,n=0;n<65;n++){var i=e[n],o=t[n];if(null!=o){var r=o.getComponentInChildren(yx.ItemWidget);null!=r?(r.init(i,!0,!0),i&&(r.node.name="yuhuoItem_"+i.itemId)):yx.warn("[YuHuoWindow refreshChange] itemwidget is null index:"+n)}else yx.warn("[YuHuoWindow refreshChange] slotNode is null index:"+n)}}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ZhaoDianShiMgr:[function(e,t,n){cc._RF.push(t,"51411nryANMtKUC0VNuICFD","ZhaoDianShiMgr"),yx.ZhaoDianShiManager=function(){},yx.ZhaoDianShiManager.prototype={constructor:yx.ZhaoDianShiManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.XI_JIE,this.onMessageHandle)},doAction:function doAction(e,t,n,i){yx.log("zhengqi="+yx.playerMgr.getCurrency(yx.CyType.ZHENGQI)),yx.log("xieqi="+yx.playerMgr.getCurrency(yx.CyType.XIEQI)),yx.log("ZhaoDianShiManager  doAction type="+e+";layer="+t+";npcIndex="+n+";xiJieType="+i);var o=new yx.proto.C2S_XiJie;o.type=e,o.layer=t,o.npcIndex=n,o.xiJieType=i,yx.network.sendMessage(yx.proto.CmdId.XI_JIE,o)},onMessageHandle:function onMessageHandle(e,t){if(yx.log("xijie onMessageHandle-----"),null!=e&&0<e.length)yx.log("[ZhaoDianShiManager onMessageHandle] error:"+e);else{var n=yx.proto.S2C_XiJie.decode(t),i=yx.cfgMgr.getOneRecord("NpcListConfig",{ID:n.npcID[0]});if(n.result){var o="<color=#e7452f>{npcName}</color>："+(n.result.win?n.xiJieType==yx.proto.XiJieType.Robbery?yx.cfgMgr.getOneRecord("TalkListConfig",{ID:i.XiJieSuccTalkID}):yx.cfgMgr.getOneRecord("TalkListConfig",{ID:i.ZhuiBuSuccTalkID}):n.xiJieType==yx.proto.XiJieType.Robbery?yx.cfgMgr.getOneRecord("TalkListConfig",{ID:i.XiJieFailTalkID}):yx.cfgMgr.getOneRecord("TalkListConfig",{ID:i.ZhuiBuFailTalkID})).Talk;o=o.format({npcName:i.Name});var r="";r=n.xiJieType==yx.proto.XiJieType.Robbery?i.Name:yx.cfgMgr.getOneRecord("NpcListConfig",{ID:n.npcID[1]}).Name;var a={eason:"zhaodianshi"};a.result=n.result,a.defendName=r,a.resource=n.resource,a.talkContent=o,yx.eventDispatch.dispatchMsg(yx.EventType.ZHAODIANSHI_PK_SHOW,a)}}}},yx.zhaodianshiMgr=new yx.ZhaoDianShiManager,t.exports=yx.zhaodianshiMgr,cc._RF.pop()},{}],ZhaoDianShiWindow:[function(e,t,n){cc._RF.push(t,"60c47P4NHZJjq9Qz8QGEeGS","ZhaoDianShiWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{lingshiValueLabel:cc.Label,xianyuValueLabel:cc.Label,headScrollContent:cc.Node,npcName:cc.Label,npcDesc:cc.RichText,jiaohuBtn1:cc.Button,jiaohuBtn2:cc.Button,jiaohuBtn3:cc.Button,descRichText:cc.RichText,logRichText:cc.RichText,logScrollView:cc.ScrollView},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.ZHAODIANSHI_ADD_DAIRY_LOG,this.onAddDairyLog,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.ZHAODIANSHI_PK_SHOW,this.onPKShow,this),this.jiaohuBtn1.node.on("click",this.onJiaohuBtn1Click,this),this.jiaohuBtn2.node.on("click",this.onJiaohuBtn2Click,this),this.jiaohuBtn3.node.on("click",this.onJiaohuBtn3Click,this)},_onShow:function _onShow(e){this._shopCfg=e.cfg,this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},update:function update(){},_onSelectHeadItemCb:function _onSelectHeadItemCb(e,t){yx.log("name==="+t),this._npcConfig=e,this.npcName.string=this._npcConfig.Name,this.npcDesc.string=this._npcConfig.DefDesc1+"\n"+this._npcConfig.DefDesc2+"\n"+this._npcConfig.DefDesc;for(var n=0;n<this._headIndexs.length;n++){var i=this._headIndexs[n],o=this.headScrollContent.getChildByName(i).getChildByName(i);o&&(o.getChildByName("selected").active=!1)}this.headScrollContent.getChildByName(t).getChildByName(t).getChildByName("selected").active=!0},_refresh:function _refresh(){yx.DiarysUtil.setRichTextWithShowList(this.logRichText,"zhaodianshi"),this.descRichText.string=this._shopCfg.LayerName;var e=this._shopCfg.NpcList;this._headIndexs=[];var n=0,i=this;i.headScrollContent.removeAllChildren(!0),e.forEach(function(e){var t=yx.cfgMgr.getOneRecord("NpcListConfig",{ID:e.NpcID});0==n?yx.NpcRichTextWidget.CreateItemSlot(t,i.headScrollContent,"npc_"+t.ID,i._onSelectHeadItemCb.bind(i),i._onSelectHeadItemCb.bind(i)):yx.NpcRichTextWidget.CreateItemSlot(t,i.headScrollContent,"npc_"+t.ID,i._onSelectHeadItemCb.bind(i)),i._headIndexs[n]="npc_"+t.ID,n+=1})},onJiaohuBtn1Click:function onJiaohuBtn1Click(){for(var e=null,t=0;t<this._headIndexs.length;t++)this._headIndexs[t]=="npc_"+this._npcConfig.ID&&(e=t);yx.zhaodianshiMgr.doAction(this._shopCfg.Type,this._shopCfg.Layer,e,yx.proto.XiJieType.Robbery)},onJiaohuBtn2Click:function onJiaohuBtn2Click(){for(var e=null,t=0;t<this._headIndexs.length;t++)this._headIndexs[t]=="npc_"+this._npcConfig.ID&&(e=t);yx.zhaodianshiMgr.doAction(this._shopCfg.Type,this._shopCfg.Layer,e,yx.proto.XiJieType.Help)},onJiaohuBtn3Click:function onJiaohuBtn3Click(){yx.windowMgr.goBack()},_diaryShow:function _diaryShow(e){yx.DiarysUtil.addShowTextToRichText(this.logRichText,"zhaodianshi",e),this.logScrollView.scrollToBottom()},onAddDairyLog:function onAddDairyLog(e){var t={index:0,str:e.talkContent};this._diaryShow(t)},onEventCurrencyChange:function onEventCurrencyChange(){this.isShown()&&(this.lingshiValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.LINGSHI),this.xianyuValueLabel.string=yx.playerMgr.getCurrency(yx.CyType.SHENYU))},onPKShow:function onPKShow(e){var t=e.defendName;yx.FightPanel.ShowFightResult(e.eason,t,e.result,!1,this._onFightCallBack.bind(this,e.resource,e.talkContent),this)},_onFightCallBack:function _onFightCallBack(e,t){yx.eventDispatch.dispatchMsg(yx.EventType.ZHAODIANSHI_ADD_DAIRY_LOG,{talkContent:t});var n={};if(n.resource=e,n.resource&&0<n.resource.length){yx.log("args.resource.length=="+n.resource.length);for(var i=0;i<n.resource.length;i++){var o=n.resource[i];yx.log("element id="+o.id),yx.log("element count="+o.count);var r=yx.bagMgr.GetItemName(o.id)+"<color=#ffd066>+"+o.count+"</color>";yx.ToastUtil.showListToast(r)}}else yx.log("resource is null")}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],ZhaoShiScrollItem:[function(e,t,n){cc._RF.push(t,"cc20742Sa1INJgx7pP8dZ2N","ZhaoShiScrollItem"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,detailLabel:cc.RichText,iconSprite:cc.Sprite,useBtn:cc.Button,useLabel:cc.Label,_gongfaId:Number},init:function init(e){this.titleLabel.string=e.cfg.Name,this.useBtn.node.on("click",this.onUseBtnClick,this),this.detailLabel.string="造成100%基础伤害\n",this._gongfaId=e.id,this.detailLabel.string=e.cfg.GongFaDesc,1==e.cfg.Type&&yx.resUtil.LoadSpriteFromResConfig(e.cfg.Icon,yx.ResType.SKILL,this.iconSprite),e.id==yx.gongfaMgr.getCurZhaoShi()?(this.useLabel.node.active=!0,this.useBtn.node.active=!1):(this.useLabel.node.active=!1,this.useBtn.node.active=!0),yx.BadgeMgr.addBadge(this.node,300,50),yx.BadgeMgr.showBadge(this.node,yx.gongfaMgr.isNewGongfa(e.gongFaType,e.id))},onUseBtnClick:function onUseBtnClick(){yx.log("[ZhaoShiScrollItem onUseBtnClick]"),yx.gongfaMgr.reqChangeZhaoShi(this._gongfaId)}}),cc._RF.pop()},{}],ZongMenHuoDongScrollItem:[function(e,t,n){cc._RF.push(t,"6a74e0IQEJHaI2XdN3wAFQ6","ZongMenHuoDongScrollItem");var i=e("BaseRepeatItem");cc.Class({extends:i,properties:{titleLabel:cc.Label,descRichText:cc.Label,conditionLabel:cc.Label,rewardLabel:cc.Label,startBtn:cc.Button,progressBar:cc.ProgressBar,timeLabel:cc.Label,descLabel:cc.Label,progressGroup:cc.Node},onStartTaskBtnClick:function onStartTaskBtnClick(){yx.log("开始任务"),yx.ZongMenMgr.doTask(this._data.ID)},update:function update(){if(this._isUpdate){var e=Math.max(0,yx.ZongMenMgr.getTaskEndTime()-yx.timeUtil.getServerTime());this.progressBar.progress=e/(60*this._data.Time*1e3),this.timeLabel.string=yx.timeUtil.seconds2hourMinSecond(e/1e3)}},_onUpdate:function _onUpdate(){this.startBtn.node.name="taskBtn_"+this._data.ID,this.titleLabel.string=this._data.Name,this.descRichText.string=this._data.DefDesc;var e=yx.cfgMgr.getOneRecord("ZongMenLevelConfig",{ID:this._data.ShengYu});this.conditionLabel.string="声誉达到"+e.DefName;for(var t="",n=0;n<this._data.Reward.length;n++){var i=this._data.Reward[n];t=t+yx.bagMgr.GetItemName(i.id)+"*"+i.count+","}t=t.substring(0,t.length-1),this.rewardLabel.string=t,this.descLabel.string="任务中...",yx.playerMgr.getCurrency(yx.CyType.SHENGYU)<e.ResourcesLimit[0].count?this.conditionLabel.node.color=new cc.Color(255,0,0):this.conditionLabel.node.color=new cc.Color(0,200,0),yx.ZongMenMgr.getCurTaskId()==this._data.ID?(this.startBtn.node.active=!1,this.progressGroup.active=!0,this._isUpdate=!0):(this.startBtn.node.active=!0,this.progressGroup.active=!1,this._isUpdate=!1)},_initItem:function _initItem(){this.startBtn.node.on("click",this.onStartTaskBtnClick,this)},_updateItem:function _updateItem(){}}),cc._RF.pop()},{BaseRepeatItem:"BaseRepeatItem"}],ZongMenHuoDongWindow:[function(e,t,n){cc._RF.push(t,"36e4eFjQ8NMs5AYlD4gx23i","ZongMenHuoDongWindow");var i=e("BaseWindow"),o=e("ScrollViewRepeat");cc.Class({extends:i,properties:{scrollView:cc.ScrollView,scrollContent:cc.Node,zongMenHuoDongScrollItemPrefab:cc.Prefab},_onInit:function _onInit(){yx.eventDispatch.addListener(yx.EventType.ZONGMENHUODONG_TASK_REFRESH,this.onRefresh,this)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){if(this._svr)this._svr.updateAllWithoutData();else{var e=yx.cfgMgr.getAllConfig("ZongMenQuestConfig");this._svr=this.scrollView.getComponent(o),this._svr.initialize(e,this.zongMenHuoDongScrollItemPrefab)}},onRefresh:function onRefresh(){this.isShown()&&this._svr&&this._svr.updateAllWithoutData()}}),cc._RF.pop()},{BaseWindow:"BaseWindow",ScrollViewRepeat:"ScrollViewRepeat"}],ZongMenMgr:[function(e,t,n){cc._RF.push(t,"5b7f7p2IfxFKbWalWfMuG6G","ZongMenMgr"),yx.ZongMenManager=function(){},yx.ZongMenManager.prototype={constructor:yx.ZongMenManager,init:function init(){yx.network.addHandler(yx.proto.CmdId.ZongMen,this.onMessageZongMenInfo),this._zongMenData=null,this._duBoCount=0,this._taskInfoMap={}},ZongMenInfo:function ZongMenInfo(){yx.log("[ZongMenManager] ZongMenInfo ");var e=new yx.proto.C2S_ZongMen;e.cmdType=yx.proto.ZongMenCmdType.GetZongMen_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,e)},createZongMen:function createZongMen(e,t){yx.log("[ZongMenManager] ZongMenInfo ");var n=new yx.proto.C2S_ZongMen;n.cmdType=yx.proto.ZongMenCmdType.CreateZongMen_Cmd;var i={};i.name=e,i.couplets=t,i.id=1,n.zongMenInfo=i,yx.network.sendMessage(yx.proto.CmdId.ZongMen,n)},changeDuiLian:function changeDuiLian(e){yx.log("[ZongMenManager] changeDuiLian ");var t=new yx.proto.C2S_ZongMen;t.cmdType=yx.proto.ZongMenCmdType.ChangeCouplets_Cmd;var n={};n.id=this._zongMenData.id,n.couplets=e,t.zongMenInfo=n,yx.network.sendMessage(yx.proto.CmdId.ZongMen,t)},getBoXi:function getBoXi(){yx.log("[ZongMenManager] getBoXi ");var e=new yx.proto.C2S_ZongMen;e.cmdType=yx.proto.ZongMenCmdType.GetDuBoInfo_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,e)},boxi:function boxi(){yx.log("[ZongMenManager] boxi ");var e=new yx.proto.C2S_ZongMen;e.cmdType=yx.proto.ZongMenCmdType.DuBo_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,e)},wuDao:function wuDao(){yx.log("[ZongMenManager] wuDao ");var e=new yx.proto.C2S_ZongMen;e.cmdType=yx.proto.ZongMenCmdType.WuDao_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,e)},ningTi:function ningTi(){yx.log("[ZongMenManager] ningTi ");var e=new yx.proto.C2S_ZongMen;e.cmdType=yx.proto.ZongMenCmdType.NingTi_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,e)},getWuDaoRewards:function getWuDaoRewards(){yx.log("[ZongMenManager] getWuDaoRewards ");var e=new yx.proto.C2S_ZongMen;e.cmdType=yx.proto.ZongMenCmdType.GetWuDaoShiActivity_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,e)},receiveWuDaoReward:function receiveWuDaoReward(e,t){yx.log("[ZongMenManager] receiveWuDaoReward ");var n=new yx.proto.C2S_ZongMen;n.activityID=e,n.rewardID=t,n.cmdType=yx.proto.ZongMenCmdType.ReceivedWuDaoShi_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,n)},doTask:function doTask(e){yx.log("[ZongMenManager] doTask ");var t=new yx.proto.C2S_ZongMen;t.taskID=e,t.cmdType=yx.proto.ZongMenCmdType.Change_Task_Cmd,yx.network.sendMessage(yx.proto.CmdId.ZongMen,t)},onMessageZongMenInfo:function onMessageZongMenInfo(e,t){if(yx.log("[ZongMenManager] onMessageZongMenInfo-----"),null!=e&&0<e.length)yx.log("[ZongMenManager onMessageZongMenInfo] error:"+e);else{var n=yx.proto.S2C_ZongMen.decode(t);switch(n.cmdType){case yx.proto.ZongMenCmdType.GetZongMen_Cmd:yx.ZongMenMgr.setZongMenData(n.zongMenInfo),yx.ZongMenMgr.setDuBoCount(n.duBoCount),yx.ZongMenMgr.setCurTaskId(n.taskID),yx.ZongMenMgr.setTaskEndTime(n.taskEndTime);break;case yx.proto.ZongMenCmdType.CreateZongMen_Cmd:yx.ZongMenMgr.setZongMenData(n.zongMenInfo),yx.eventDispatch.dispatchMsg(yx.EventType.CREATE_ZONGMEN);break;case yx.proto.ZongMenCmdType.ChangeCouplets_Cmd:yx.ZongMenMgr.setZongMenData(n.zongMenInfo),yx.eventDispatch.dispatchMsg(yx.EventType.CHANGE_DUILIAN),yx.ToastUtil.showListToast("更改对联成功");break;case yx.proto.ZongMenCmdType.DuBo_Cmd:yx.ZongMenMgr.setDuBoCount(n.duBoCount),yx.ZongMenMgr.showRewardToast(n.rewards),yx.eventDispatch.dispatchMsg(yx.EventType.SHISI_DUBO);break;case yx.proto.ZongMenCmdType.GetDuBoInfo_Cmd:yx.ZongMenMgr.setDuBoCount(n.duBoCount),yx.eventDispatch.dispatchMsg(yx.EventType.SHISI_DUBO);break;case yx.proto.ZongMenCmdType.WuDao_Cmd:var i={};i.wuDaoShiCount=n.wuDaoShiCount,i.wudaoShiType=yx.proto.ZongMenCmdType.WuDao_Cmd,yx.eventDispatch.dispatchMsg(yx.EventType.WUDAOSHI_REFRESH,i);break;case yx.proto.ZongMenCmdType.NingTi_Cmd:var o={};o.wuDaoShiCount=n.wuDaoShiCount,o.wudaoShiType=yx.proto.ZongMenCmdType.NingTi_Cmd,yx.eventDispatch.dispatchMsg(yx.EventType.WUDAOSHI_REFRESH,o);break;case yx.proto.ZongMenCmdType.GetWuDaoShiActivity_Cmd:case yx.proto.ZongMenCmdType.UpdateWuDaoShiActivity_Cmd:case yx.proto.ZongMenCmdType.ReceivedWuDaoShi_Cmd:yx.ZongMenMgr.setTaskInfo(n.taskInfo),yx.eventDispatch.dispatchMsg(yx.EventType.WUDAOSHIREWARD_REFRESH);break;case yx.proto.ZongMenCmdType.Change_Task_Cmd:yx.ZongMenMgr.setCurTaskId(n.taskID),yx.ZongMenMgr.setTaskEndTime(n.taskEndTime),yx.eventDispatch.dispatchMsg(yx.EventType.ZONGMENHUODONG_TASK_REFRESH)}}},showRewardToast:function showRewardToast(e){for(var t=0;t<e.length;t++){var n=e[t],i=yx.bagMgr.GetItemName(n.id)+"<color=#ffd066>+"+n.count+"</color>";yx.ToastUtil.showListToast(i)}},setZongMenData:function setZongMenData(e){this._zongMenData=e},getZongMenData:function getZongMenData(){return this._zongMenData},setDuBoCount:function setDuBoCount(e){this._duBoCount=e},getDuBoCount:function getDuBoCount(){return this._duBoCount},setTaskInfo:function setTaskInfo(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this._taskInfoMap[n.id+"_"+n.index]=n}},getTaskInfo:function getTaskInfo(e,t){return this._taskInfoMap[e+"_"+t]},setCurTaskId:function setCurTaskId(e){this._taskID=e},getCurTaskId:function getCurTaskId(){return this._taskID},setTaskEndTime:function setTaskEndTime(e){this._taskEndTime=e},getTaskEndTime:function getTaskEndTime(){return this._taskEndTime}},yx.ZongMenMgr=new yx.ZongMenManager,cc._RF.pop()},{}],ZongMenWindow:[function(e,t,n){cc._RF.push(t,"e76caMieGVGD6aeDXARJY16","ZongMenWindow");var i=e("BaseWindow");cc.Class({extends:i,properties:{zongmenJindiBtn:cc.Button,shiSiBtn:cc.Button,zhangMenDaTingBtn:cc.Button,wuDaoShiBtn:cc.Button,shanMenBtn:cc.Button,diziBtn:cc.Button,zongmenHuodongBtn:cc.Button,shiliText:cc.RichText,shengyuText:cc.RichText,gongdeText:cc.RichText},_onInit:function _onInit(){this.zongmenJindiBtn.node.on("click",this.onzongmenJindiBtnnClick,this),this.shiSiBtn.node.on("click",this.onshiSiBtnClick,this),this.zhangMenDaTingBtn.node.on("click",this.onzhangMenDaTingBtnClick,this),this.wuDaoShiBtn.node.on("click",this.onwuDaoShiBtnClick,this),this.shanMenBtn.node.on("click",this.onshanMenBtnClick,this),this.diziBtn.node.on("click",this.ondiziBtnClick,this),this.zongmenHuodongBtn.node.on("click",this.onzongmenHuodongBtnClick,this),yx.eventDispatch.addListener(yx.EventType.CURRENCY_CHANGE,this.onEventCurrencyChange,this),yx.eventDispatch.addListener(yx.EventType.BADGE_REFRESH,this.onEventRefreshBadge,this),yx.BadgeMgr.addBadge(this.wuDaoShiBtn.node,20,70)},_onShow:function _onShow(){this._refresh()},_onHide:function _onHide(){this.unscheduleAllCallbacks()},_onDeInit:function _onDeInit(){},_refresh:function _refresh(){this.onEventCurrencyChange(),this.onEventRefreshBadge()},onzongmenJindiBtnnClick:function onzongmenJindiBtnnClick(){yx.CodeHelper.checkFuncOpen(98)},onshiSiBtnClick:function onshiSiBtnClick(){yx.CodeHelper.checkFuncOpen(40)&&yx.windowMgr.showWindow("shiSi")},onwuDaoShiBtnClick:function onwuDaoShiBtnClick(){yx.CodeHelper.checkFuncOpen(37)&&yx.windowMgr.showWindow("wuDaoShi")},onzhangMenDaTingBtnClick:function onzhangMenDaTingBtnClick(){yx.CodeHelper.checkFuncOpen(100)},ondiziBtnClick:function ondiziBtnClick(){yx.CodeHelper.checkFuncOpen(38)},onshanMenBtnClick:function onshanMenBtnClick(){yx.CodeHelper.checkFuncOpen(95)&&yx.windowMgr.showWindow("shanMen")},onzongmenHuodongBtnClick:function onzongmenHuodongBtnClick(){yx.CodeHelper.checkFuncOpen(36)&&yx.windowMgr.showWindow("zongMenHuoDong")},getMaxShengYu:function getMaxShengYu(){var e=yx.cfgMgr.getAllConfig("ZongMenLevelConfig");if(e){for(var t=yx.playerMgr.getCurrency(yx.CyType.SHENGYU),n=-1,i=0;i<e.length;i++){var o=e[i];if(t<o.ResourcesLimit[0].count-1){n=o.ResourcesLimit[0].count-1;break}}return-1==n&&(n=e[e.length-1].ResourcesLimit[0].count-1),n}},onEventCurrencyChange:function onEventCurrencyChange(){if(this.isShown()){this.shengyuText.string="<color=#ffffff>声誉：</color><color=#00C800>{cur}/{max}</color>".format({cur:yx.playerMgr.getCurrency(yx.CyType.SHENGYU),max:this.getMaxShengYu()}),this.gongdeText.string="<color=#ffffff>功德：</color><color=#00C800>{cur}</color>".format({cur:yx.playerMgr.getCurrency(yx.CyType.GONGDE)});for(var e="",t=yx.playerMgr.getCurrency(yx.CyType.SHENGYU),n=yx.cfgMgr.getAllConfig("ZongMenLevelConfig"),i=0;i<n.length;i++){var o=n[i];t>=o.ResourcesLimit[0].count&&(e=o.DefName)}this.shiliText.string="<color=#ffffff>实力：</color><color=#00C800>"+e+"</color>"}},onEventRefreshBadge:function onEventRefreshBadge(){this.isShown()&&yx.BadgeMgr.showBadge(this.wuDaoShiBtn.node,yx.BadgeMgr.IsShow(yx.proto.RedDotType.ZongMenWuDaoShi))}}),cc._RF.pop()},{BaseWindow:"BaseWindow"}],protobuf:[function(require,module,exports){(function(global){cc._RF.push(module,"6b9bc+VcmNIOLvzsJhSoMGU","protobuf");var _typeof="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)};(function(undefined){var JSb,KSb,MSb;JSb={1:[function(e,t,n){t.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}})}},{}],2:[function(e,t,n){var i=n;i.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var l=new Array(64),c=new Array(123),o=0;o<64;)c[l[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;i.encode=function(e,t,n){for(var i,o=null,r=[],a=0,s=0;t<n;){var c=e[t++];switch(s){case 0:r[a++]=l[c>>2],i=(3&c)<<4,s=1;break;case 1:r[a++]=l[i|c>>4],i=(15&c)<<2,s=2;break;case 2:r[a++]=l[i|c>>6],r[a++]=l[63&c],s=0}8191<a&&((o=o||[]).push(String.fromCharCode.apply(String,r)),a=0)}return s&&(r[a++]=l[i],r[a++]=61,1===s&&(r[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,r.slice(0,a))),o.join("")):String.fromCharCode.apply(String,r.slice(0,a))};var u="invalid encoding";i.decode=function(e,t,n){for(var i,o=n,r=0,a=0;a<e.length;){var s=e.charCodeAt(a++);if(61===s&&1<r)break;if((s=c[s])===undefined)throw Error(u);switch(r){case 0:i=s,r=1;break;case 1:t[n++]=i<<2|(48&s)>>4,i=s,r=2;break;case 2:t[n++]=(15&i)<<4|(60&s)>>2,i=s,r=3;break;case 3:t[n++]=(3&i)<<6|s,r=0}}if(1===r)throw Error(u);return n-o},i.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){function i(t,n){"string"==typeof t&&(n=t,t=undefined);var d=[];function o(e){if("string"!=typeof e){var t=r();if(i.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var n=Object.keys(e),a=new Array(n.length+1),s=new Array(n.length),c=0;c<n.length;)a[c]=n[c],s[c]=e[n[c++]];return a[c]=t,Function.apply(null,a).apply(null,s)}return Function(t)()}for(var l=new Array(arguments.length-1),u=0;u<l.length;)l[u]=arguments[++u];if(u=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=l[u++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),u!==l.length)throw Error("parameter count mismatch");return d.push(e),o}function r(e){return"function "+(e||n||"")+"("+(t&&t.join(",")||"")+"){\n  "+d.join("\n  ")+"\n}"}return o.toString=r,o}(t.exports=i).verbose=!1},{}],4:[function(e,t,n){function i(){this._listeners={}}(t.exports=i).prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},i.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},i.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=r;var a=e(1),s=e(7)("fs");function r(n,i,o){return i="function"==typeof i?(o=i,{}):i||{},o?!i.xhr&&s&&s.readFile?s.readFile(n,function(e,t){return e&&"undefined"!=typeof XMLHttpRequest?r.xhr(n,i,o):e?o(e):o(null,i.binary?t:t.toString("utf8"))}):r.xhr(n,i,o):a(r,this,n,i)}r.xhr=function(e,n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4!==o.readyState)return undefined;if(0!==o.status&&200!==o.status)return i(Error("status "+o.status));if(n.binary){var e=o.response;if(!e){e=[];for(var t=0;t<o.responseText.length;++t)e.push(255&o.responseText.charCodeAt(t))}return i(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return i(null,o.responseText)},n.binary&&("overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.responseType="arraybuffer"),o.open("GET",e),o.send()}},{1:1,7:7}],6:[function(e,c,l){function i(l){return"undefined"!=typeof Float32Array?function(){var i=new Float32Array([-0]),c=new Uint8Array(i.buffer),e=128===c[3];function o(e,t,n){i[0]=e,t[n]=c[0],t[n+1]=c[1],t[n+2]=c[2],t[n+3]=c[3]}function r(e,t,n){i[0]=e,t[n]=c[3],t[n+1]=c[2],t[n+2]=c[1],t[n+3]=c[0]}function a(e,t){return c[0]=e[t],c[1]=e[t+1],c[2]=e[t+2],c[3]=e[t+3],i[0]}function s(e,t){return c[3]=e[t],c[2]=e[t+1],c[1]=e[t+2],c[0]=e[t+3],i[0]}l.writeFloatLE=e?o:r,l.writeFloatBE=e?r:o,l.readFloatLE=e?a:s,l.readFloatBE=e?s:a}():(l.writeFloatLE=t.bind(null,o),l.writeFloatBE=t.bind(null,r),l.readFloatLE=n.bind(null,a),l.readFloatBE=n.bind(null,s)),("undefined"!=typeof Float64Array?function(){var i=new Float64Array([-0]),c=new Uint8Array(i.buffer),e=128===c[7];function o(e,t,n){i[0]=e,t[n]=c[0],t[n+1]=c[1],t[n+2]=c[2],t[n+3]=c[3],t[n+4]=c[4],t[n+5]=c[5],t[n+6]=c[6],t[n+7]=c[7]}function r(e,t,n){i[0]=e,t[n]=c[7],t[n+1]=c[6],t[n+2]=c[5],t[n+3]=c[4],t[n+4]=c[3],t[n+5]=c[2],t[n+6]=c[1],t[n+7]=c[0]}function a(e,t){return c[0]=e[t],c[1]=e[t+1],c[2]=e[t+2],c[3]=e[t+3],c[4]=e[t+4],c[5]=e[t+5],c[6]=e[t+6],c[7]=e[t+7],i[0]}function s(e,t){return c[7]=e[t],c[6]=e[t+1],c[5]=e[t+2],c[4]=e[t+3],c[3]=e[t+4],c[2]=e[t+5],c[1]=e[t+6],c[0]=e[t+7],i[0]}l.writeDoubleLE=e?o:r,l.writeDoubleBE=e?r:o,l.readDoubleLE=e?a:s,l.readDoubleBE=e?s:a}:function(){function t(e,t,n,i,o,r){var a=i<0?1:0;if(a&&(i=-i),0===i)e(0,o,r+t),e(0<1/i?0:2147483648,o,r+n);else if(isNaN(i))e(0,o,r+t),e(2146959360,o,r+n);else if(17976931348623157e292<i)e(0,o,r+t),e((a<<31|2146435072)>>>0,o,r+n);else{var s;if(i<22250738585072014e-324)e((s=i/5e-324)>>>0,o,r+t),e((a<<31|s/4294967296)>>>0,o,r+n);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=i*Math.pow(2,-c))>>>0,o,r+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,r+n)}}}function n(e,t,n,i,o){var r=e(i,o+t),a=e(i,o+n),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+r;return 2047==c?l?NaN:1/0*s:0==c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}l.writeDoubleLE=t.bind(null,o,0,4),l.writeDoubleBE=t.bind(null,r,4,0),l.readDoubleLE=n.bind(null,a,0,4),l.readDoubleBE=n.bind(null,s,4,0)})(),l;function t(e,t,n,i){var o=t<0?1:0;if(o&&(t=-t),0===t)e(0<1/t?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(34028234663852886e22<t)e((o<<31|2139095040)>>>0,n,i);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,i);else{var r=Math.floor(Math.log(t)/Math.LN2);e((o<<31|r+127<<23|8388607&Math.round(t*Math.pow(2,-r)*8388608))>>>0,n,i)}}function n(e,t,n){var i=e(t,n),o=2*(i>>31)+1,r=i>>>23&255,a=8388607&i;return 255==r?a?NaN:1/0*o:0==r?1401298464324817e-60*o*a:o*Math.pow(2,r-150)*(8388608+a)}}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}c.exports=i(i)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,n){var i=n,r=i.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=i.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?0<o&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return i+t.join("/")};i.resolve=function(e,t,n){return n||(t=o(t)),r(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},{}],9:[function(e,t,n){t.exports=function(n,i,e){var o=e||8192,r=o>>>1,a=null,s=o;return function(e){if(e<1||r<e)return n(e);o<s+e&&(a=n(o),s=0);var t=i.call(a,s,s+=e);return 7&s&&(s=1+(7|s)),t}}},{}],10:[function(e,t,n){var i=n;i.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},i.read=function(e,t,n){if(n-t<1)return"";for(var i,o=null,r=[],a=0;t<n;)(i=e[t++])<128?r[a++]=i:191<i&&i<224?r[a++]=(31&i)<<6|63&e[t++]:239<i&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,r[a++]=55296+(i>>10),r[a++]=56320+(1023&i)):r[a++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((o=o||[]).push(String.fromCharCode.apply(String,r)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,r.slice(0,a))),o.join("")):String.fromCharCode.apply(String,r.slice(0,a))},i.write=function(e,t,n){for(var i,o,r=n,a=0;a<e.length;++a)(i=e.charCodeAt(a))<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(a+1)))?(i=65536+((1023&i)<<10)+(1023&o),++a,t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128);return n-r}},{}],11:[function(e,t,n){t.exports=r;var i,o=/\/|\./;function r(e,t){o.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:i={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:i}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},{}],12:[function(e,t,n){var i=n,g=e(15),p=e(37);function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof g){e("switch(d%s){",i);for(var o=t.resolvedType.values,r=Object.keys(o),a=0;a<r.length;++a)t.repeated&&o[r[a]]===t.typeDefault&&e("default:"),e("case%j:",r[a])("case %i:",o[r[a]])("m%s=%j",i,o[r[a]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,n,i);else{var s=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,s)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,s?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i)}}return e}function s(e,t,n,i){if(t.resolvedType)t.resolvedType instanceof g?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,n,i,i):e("d%s=types[%i].toObject(m%s,o)",i,n,i);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,o?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i)}}return e}i.fromObject=function(e){var t=e.fieldsArray,n=p.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),r=p.safeProp(o.name);o.map?(n("if(d%s){",r)('if(typeof d%s!=="object")',r)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",r)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",r),a(n,o,i,r+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",r)("if(!Array.isArray(d%s))",r)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",r)("for(var i=0;i<d%s.length;++i){",r),a(n,o,i,r+"[i]")("}")("}")):(o.resolvedType instanceof g||n("if(d%s!=null){",r),a(n,o,i,r),o.resolvedType instanceof g||n("}"))}return n("return m")},i.toObject=function(e){var t=e.fieldsArray.slice().sort(p.compareFieldsById);if(!t.length)return p.codegen()("return {}");for(var n=p.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],r=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?o:r).push(t[a]);if(i.length){for(n("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)n("d%s=[]",p.safeProp(i[a].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),a=0;a<o.length;++a)n("d%s={}",p.safeProp(o[a].name));n("}")}if(r.length){for(n("if(o.defaults){"),a=0;a<r.length;++a){var c=r[a],l=p.safeProp(c.name);if(c.resolvedType instanceof g)n("d%s=o.enums===String?%j:%j",l,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var u="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",l,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,c.typeDefault)}n("}")}var d=!1;for(a=0;a<t.length;++a){c=t[a];var h=e._fieldsArray.indexOf(c);l=p.safeProp(c.name),c.map?(d||(d=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),s(n,c,h,l+"[ks2[j]]")("}")):c.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),s(n,c,h,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,c.name),s(n,c,h,l),c.partOf&&n("if(o.oneofs)")("d%s=%j",p.safeProp(c.partOf.name),c.name)),n("}")}return n("return d")}},{15:15,37:37}],13:[function(e,t,n){t.exports=function(e){var t=l.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var i=e._fieldsArray[n].resolve(),o=i.resolvedType instanceof s?"int32":i.type,r="m"+l.safeProp(i.name);t("case %i:",i.id),i.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",r)("%s={}",r)("k=r.%s()",i.keyType)("r.pos++"),c.long[i.keyType]!==undefined?c.basic[o]===undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',r,n):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',r,o):c.basic[o]===undefined?t("%s[k]=types[%i].decode(r,r.uint32())",r,n):t("%s[k]=r.%s()",r,o)):i.repeated?(t("if(!(%s&&%s.length))",r,r)("%s=[]",r),c.packed[o]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",r,o)("}else"),c.basic[o]===undefined?t(i.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",r,n):t("%s.push(r.%s())",r,o)):c.basic[o]===undefined?t(i.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",r,n):t("%s=r.%s()",r,o),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var a=e._fieldsArray[n];a.required&&t("if(!m.hasOwnProperty(%j))",a.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+a.name+"'")}return t("return m")};var s=e(15),c=e(36),l=e(37)},{15:15,36:36,37:37}],14:[function(e,t,n){t.exports=function(e){for(var t,n=h.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),i=e.fieldsArray.slice().sort(h.compareFieldsById),o=0;o<i.length;++o){var r=i[o].resolve(),s=e._fieldsArray.indexOf(r),c=r.resolvedType instanceof u?"int32":r.type,l=d.basic[c];t="m"+h.safeProp(r.name),r.map?(n("if(%s!=null&&m.hasOwnProperty(%j)){",t,r.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(r.id<<3|2)>>>0,8|d.mapKey[r.keyType],r.keyType),l===undefined?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,c,t),n("}")("}")):r.repeated?(n("if(%s!=null&&%s.length){",t,t),r.packed&&d.packed[c]!==undefined?n("w.uint32(%i).fork()",(r.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",c,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),l===undefined?a(n,r,s,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(r.id<<3|l)>>>0,c,t)),n("}")):(r.optional&&n("if(%s!=null&&m.hasOwnProperty(%j))",t,r.name),l===undefined?a(n,r,s,t):n("w.uint32(%i).%s(%s)",(r.id<<3|l)>>>0,c,t))}return n("return w")};var u=e(15),d=e(36),h=e(37);function a(e,t,n,i){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,i,(t.id<<3|2)>>>0)}},{15:15,36:36,37:37}],15:[function(e,t,n){t.exports=a;var s=e(24);((a.prototype=Object.create(s.prototype)).constructor=a).className="Enum";var i=e(23),o=e(37);function a(e,t,n,i,o){if(s.call(this,e,n),t&&"object"!==(void 0===t?"undefined":_typeof(t)))throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=undefined,t)for(var r=Object.keys(t),a=0;a<r.length;++a)"number"==typeof t[r[a]]&&(this.valuesById[this.values[r[a]]=t[r[a]]]=r[a])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},a.prototype.add=function(e,t,n){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{23:23,24:24,37:37}],16:[function(e,t,n){t.exports=l;var s=e(24);((l.prototype=Object.create(s.prototype)).constructor=l).className="Field";var i,o=e(15),c=e(36),u=e(37),d=/^required|optional|repeated$/;function l(e,t,n,i,o,r,a){if(u.isObject(i)?(a=o,r=i,i=o=undefined):u.isObject(o)&&(a=r,r=o,o=undefined),s.call(this,e,r),!u.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!u.isString(n))throw TypeError("type must be a string");if(i!==undefined&&!d.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(o!==undefined&&!u.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:undefined,this.type=n,this.id=t,this.extend=o||undefined,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!u.Long&&c.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=a}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function get(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),s.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return u.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},l.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=c.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=u.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;u.base64.test(this.typeDefault)?u.base64.decode(this.typeDefault,e=u.newBuffer(u.base64.length(this.typeDefault)),0):u.utf8.write(this.typeDefault,e=u.newBuffer(u.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=u.emptyObject:this.repeated?this.defaultValue=u.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),s.prototype.resolve.call(this)},l.d=function(n,i,o,r){return"function"==typeof i?i=u.decorateType(i).name:i&&"object"===(void 0===i?"undefined":_typeof(i))&&(i=u.decorateEnum(i).name),function(e,t){u.decorateType(e.constructor).add(new l(t,n,i,o,{default:r}))}},l._configure=function(e){i=e}},{15:15,24:24,36:36,37:37}],17:[function(e,t,n){var i=t.exports=e(18);i.build="light",i.load=function(e,t,n){return(t="function"==typeof t?(n=t,new i.Root):t||new i.Root).load(e,n)},i.loadSync=function(e,t){return(t=t||new i.Root).loadSync(e)},i.encoder=e(14),i.decoder=e(13),i.verifier=e(40),i.converter=e(12),i.ReflectionObject=e(24),i.Namespace=e(23),i.Root=e(29),i.Enum=e(15),i.Type=e(35),i.Field=e(16),i.OneOf=e(25),i.MapField=e(20),i.Service=e(33),i.Method=e(22),i.Message=e(21),i.wrappers=e(41),i.types=e(36),i.util=e(37),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(e,t,n){var i=n;function o(){i.Reader._configure(i.BufferReader),i.util._configure()}i.build="minimal",i.Writer=e(42),i.BufferWriter=e(43),i.Reader=e(27),i.BufferReader=e(28),i.util=e(39),i.rpc=e(31),i.roots=e(30),i.configure=o,i.Writer._configure(i.BufferWriter),o()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t,n){var i=t.exports=e(17);i.build="full",i.tokenize=e(34),i.parse=e(26),i.common=e(11),i.Root._configure(i.Type,i.parse,i.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t,n){t.exports=a;var s=e(16);((a.prototype=Object.create(s.prototype)).constructor=a).className="MapField";var i=e(36),c=e(37);function a(e,t,n,i,o,r){if(s.call(this,e,t,i,undefined,undefined,o,r),!c.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return c.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},a.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return s.prototype.resolve.call(this)},a.d=function(n,i,o){return"function"==typeof o?o=c.decorateType(o).name:o&&"object"===(void 0===o?"undefined":_typeof(o))&&(o=c.decorateEnum(o).name),function(e,t){c.decorateType(e.constructor).add(new a(t,n,i,o))}}},{16:16,36:36,37:37}],21:[function(e,t,n){t.exports=o;var i=e(39);function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},{39:39}],22:[function(e,t,n){t.exports=r;var c=e(24);((r.prototype=Object.create(c.prototype)).constructor=r).className="Method";var l=e(37);function r(e,t,n,i,o,r,a,s){if(l.isObject(o)?(a=o,o=r=undefined):l.isObject(r)&&(a=r,r=undefined),t!==undefined&&!l.isString(t))throw TypeError("type must be a string");if(!l.isString(n))throw TypeError("requestType must be a string");if(!l.isString(i))throw TypeError("responseType must be a string");c.call(this,e,a),this.type=t||"rpc",this.requestType=n,this.requestStream=!!o||undefined,this.responseType=i,this.responseStream=!!r||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=s}r.fromJSON=function(e,t){return new r(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return l.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),c.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(e,t,n){t.exports=u;var i=e(24);((u.prototype=Object.create(i.prototype)).constructor=u).className="Namespace";var o,r,a,s=e(16),c=e(37);function l(e,t){if(!e||!e.length)return undefined;for(var n={},i=0;i<e.length;++i)n[e[i].name]=e[i].toJSON(t);return n}function u(e,t){i.call(this,e,t),this.nested=undefined,this._nestedArray=null}function d(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=l,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>=t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function get(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),i=0;i<n.length;++i)t=e[n[i]],this.add((t.fields!==undefined?o.fromJSON:t.values!==undefined?a.fromJSON:t.methods!==undefined?r.fromJSON:t.id!==undefined?s.fromJSON:u.fromJSON)(n[i],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&e.extend!==undefined||e instanceof o||e instanceof a||e instanceof r||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof o||t instanceof r)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return(this.nested[e.name]=e).onAdd(this),d(this)},u.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),d(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;0<e.length;){var i=e.shift();if(n.nested&&n.nested[i]){if(!((n=n.nested[i])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(i))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(1===e.length){if(!t||-1<t.indexOf(i.constructor))return i}else if(i instanceof u&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof u&&(i=this._nestedArray[o].lookup(e,t,!0)))return i;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[r]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){o=e,r=t,a=n}},{16:16,24:24,37:37}],24:[function(e,t,n){(t.exports=r).className="ReflectionObject";var i,o=e(37);function r(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(r.prototype,{root:{get:function get(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function get(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},r.prototype.onRemove=function(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved||this.root instanceof i&&(this.resolved=!0),this},r.prototype.getOption=function(e){return this.options?this.options[e]:undefined},r.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},r.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],t);return this},r.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},r._configure=function(e){i=e}},{37:37}],25:[function(e,t,n){t.exports=a;var o=e(24);((a.prototype=Object.create(o.prototype)).constructor=a).className="OneOf";var i=e(16),r=e(37);function a(e,t,n,i){if(Array.isArray(t)||(n=t,t=undefined),o.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),s(e.partOf=this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),-1<(t=this.oneof.indexOf(e.name))&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){o.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}s(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);o.prototype.onRemove.call(this,e)},a.d=function(){for(var n=new Array(arguments.length),e=0;e<arguments.length;)n[e]=arguments[e++];return function(e,t){r.decorateType(e.constructor).add(new a(t,n)),Object.defineProperty(e,t,{get:r.oneOfGetter(n),set:r.oneOfSetter(n)})}}},{16:16,24:24,37:37}],26:[function(e,t,n){(t.exports=T).filename=null,T.defaults={keepCase:!1};var v=e(34),x=e(29),w=e(35),C=e(16),I=e(20),b=e(25),_=e(15),S=e(33),k=e(22),L=e(36),M=e(37),B=/^[1-9][0-9]*$/,D=/^-?[1-9][0-9]*$/,P=/^0[x][0-9a-fA-F]+$/,N=/^-?0[x][0-9a-fA-F]+$/,O=/^0[0-7]+$/,R=/^-?0[0-7]+$/,A=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,E=/^[a-zA-Z_][a-zA-Z_0-9]*$/,F=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,G=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function T(e,t,n){t instanceof x||(n=t,t=new x);var i,o,r,a,s,c=v(e,(n=n||T.defaults).alternateCommentMode||!1),l=c.next,u=c.push,d=c.peek,h=c.skip,g=c.cmnt,p=!0,y=!1,f=t,m=n.keepCase?function(e){return e}:M.camelCase;function W(e,t,n){var i=T.filename;return n||(T.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+c.line+")")}function j(){var e,t=[];do{if('"'!==(e=l())&&"'"!==e)throw W(e);t.push(l()),h(e),e=d()}while('"'===e||"'"===e);return t.join("")}function U(t){var n=l();switch(n){case"'":case'"':return u(n),j();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function X(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(B.test(e))return n*parseInt(e,10);if(P.test(e))return n*parseInt(e,16);if(O.test(e))return n*parseInt(e,8);if(A.test(e))return n*parseFloat(e);throw W(e,"number",t)}(n,!0)}catch(e){if(t&&F.test(n))return n;throw W(n,"value")}}function H(e,t){for(var n,i;!t||'"'!==(n=d())&&"'"!==n?e.push([i=Z(l()),h("to",!0)?Z(l()):i]):e.push(j()),h(",",!0););h(";")}function Z(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw W(e,"id");if(D.test(e))return parseInt(e,10);if(N.test(e))return parseInt(e,16);if(R.test(e))return parseInt(e,8);throw W(e,"id")}function J(){if(i!==undefined)throw W("package");if(i=l(),!F.test(i))throw W(i,"name");f=f.define(i),h(";")}function Y(){var e,t=d();switch(t){case"weak":e=r=r||[],l();break;case"public":l();default:e=o=o||[]}t=j(),h(";"),e.push(t)}function q(){if(h("="),a=j(),!(y="proto3"===a)&&"proto2"!==a)throw W(a,"syntax");h(";")}function V(e,t){switch(t){case"option":return oe(e,t),h(";"),1;case"message":return function z(e,t){if(!E.test(t=l()))throw W(t,"type name");var n=new w(t);Q(n,function(e){if(!V(n,e))switch(e){case"map":!function ee(e){h("<");var t=l();if(L.mapKey[t]===undefined)throw W(t,"type");h(",");var n=l();if(!F.test(n))throw W(n,"type");h(">");var i=l();if(!E.test(i))throw W(i,"name");h("=");var o=new I(m(i),Z(l()),t,n);Q(o,function(e){if("option"!==e)throw W(e);oe(o,e),h(";")},function(){se(o)}),e.add(o)}(n);break;case"required":case"optional":case"repeated":K(n,e);break;case"oneof":!function te(e,t){if(!E.test(t=l()))throw W(t,"name");var n=new b(m(t));Q(n,function(e){"option"===e?(oe(n,e),h(";")):(u(e),K(n,"optional"))}),e.add(n)}(n,e);break;case"extensions":H(n.extensions||(n.extensions=[]));break;case"reserved":H(n.reserved||(n.reserved=[]),!0);break;default:if(!y||!F.test(e))throw W(e);u(e),K(n,"optional")}}),e.add(n)}(e,t),1;case"enum":return function ne(e,t){if(!E.test(t=l()))throw W(t,"name");var n=new _(t);Q(n,function(e){switch(e){case"option":oe(n,e),h(";");break;case"reserved":H(n.reserved||(n.reserved=[]),!0);break;default:!function ie(e,t){if(!E.test(t))throw W(t,"name");h("=");var n=Z(l(),!0),i={};Q(i,function(e){if("option"!==e)throw W(e);oe(i,e),h(";")},function(){se(i)}),e.add(t,n,i.comment)}(n,e)}}),e.add(n)}(e,t),1;case"service":return function ce(e,t){if(!E.test(t=l()))throw W(t,"service name");var n=new S(t);Q(n,function(e){if(!V(n,e)){if("rpc"!==e)throw W(e);!function le(e,t){var n=t;if(!E.test(t=l()))throw W(t,"name");var i,o,r,a,s=t;if(h("("),h("stream",!0)&&(o=!0),!F.test(t=l()))throw W(t);if(i=t,h(")"),h("returns"),h("("),h("stream",!0)&&(a=!0),!F.test(t=l()))throw W(t);r=t,h(")");var c=new k(s,n,i,r,o,a);Q(c,function(e){if("option"!==e)throw W(e);oe(c,e),h(";")}),e.add(c)}(n,e)}}),e.add(n)}(e,t),1;case"extend":return function ue(t,e){if(!F.test(e=l()))throw W(e,"reference");var n=e;Q(null,function(e){switch(e){case"required":case"repeated":case"optional":K(t,e,n);break;default:if(!y||!F.test(e))throw W(e);u(e),K(t,"optional",n)}})}(e,t),1}}function Q(e,t,n){var i=c.line;if(e&&(e.comment=g(),e.filename=T.filename),h("{",!0)){for(var o;"}"!==(o=l());)t(o);h(";",!0)}else n&&n(),h(";"),e&&"string"!=typeof e.comment&&(e.comment=g(i))}function K(e,t,n){var i=l();if("group"!==i){if(!F.test(i))throw W(i,"type");var o=l();if(!E.test(o))throw W(o,"name");o=m(o),h("=");var r=new C(o,Z(l()),i,t,n);Q(r,function(e){if("option"!==e)throw W(e);oe(r,e),h(";")},function(){se(r)}),e.add(r),y||!r.repeated||L.packed[i]===undefined&&L.basic[i]!==undefined||r.setOption("packed",!1,!0)}else!function $(e,t){var n=l();if(!E.test(n))throw W(n,"name");var i=M.lcFirst(n);n===i&&(n=M.ucFirst(n)),h("=");var o=Z(l()),r=new w(n);r.group=!0;var a=new C(i,o,n,t);a.filename=T.filename,Q(r,function(e){switch(e){case"option":oe(r,e),h(";");break;case"required":case"optional":case"repeated":K(r,e);break;default:throw W(e)}}),e.add(r).add(a)}(e,t)}function oe(e,t){var n=h("(",!0);if(!F.test(t=l()))throw W(t,"name");var i=t;n&&(h(")"),i="("+i+")",t=d(),G.test(t)&&(i+=t,l())),h("="),function re(e,t){if(h("{",!0))do{if(!E.test(s=l()))throw W(s,"name");"{"===d()?re(e,t+"."+s):(h(":"),"{"===d()?re(e,t+"."+s):ae(e,t+"."+s,U(!0))),h(",",!0)}while(!h("}",!0));else ae(e,t,U(!0))}(e,i)}function ae(e,t,n){e.setOption&&e.setOption(t,n)}function se(e){if(h("[",!0)){for(;oe(e,"option"),h(",",!0););h("]")}return e}for(;null!==(s=l());)switch(s){case"package":if(!p)throw W(s);J();break;case"import":if(!p)throw W(s);Y();break;case"syntax":if(!p)throw W(s);q();break;case"option":if(!p)throw W(s);oe(f,s),h(";");break;default:if(V(f,s)){p=!1;continue}throw W(s)}return T.filename=null,{package:i,imports:o,weakImports:r,syntax:a,root:t}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(e,t,n){t.exports=c;var i,o=e(39),r=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,g="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function u(){var e=new r(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new r(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new i(e):g(e)})(e)}:g,c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){i=e;var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function int64(){return u.call(this)[t](!1)},uint64:function uint64(){return u.call(this)[t](!0)},sint64:function sint64(){return u.call(this).zzDecode()[t](!1)},fixed64:function fixed64(){return h.call(this)[t](!0)},sfixed64:function sfixed64(){return h.call(this)[t](!1)}})}},{39:39}],28:[function(e,t,n){t.exports=r;var i=e(27);(r.prototype=Object.create(i.prototype)).constructor=r;var o=e(39);function r(e){i.call(this,e)}o.Buffer&&(r.prototype._slice=o.Buffer.prototype.slice),r.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{27:27,39:39}],29:[function(t,n,i){n.exports=d;var o=t(23);((d.prototype=Object.create(o.prototype)).constructor=d).className="Root";var r,y,f,a=t(16),s=t(15),u=t(25),m=t(37);function d(e){o.call(this,"",e),this.deferred=[],this.files=[]}function h(){}d.fromJSON=function(e,t){return t=t||new d,e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=m.path.resolve,d.prototype.load=function e(t,r,a){"function"==typeof r&&(a=r,r=undefined);var s=this;if(!a)return m.asPromise(e,s,t,r);var u=a===h;function c(e,t){if(a){var n=a;if(a=null,u)throw e;n(e,t)}}function l(e,t){try{if(m.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),m.isString(t)){y.filename=e;var n,i=y(t,s,r),o=0;if(i.imports)for(;o<i.imports.length;++o)(n=s.resolvePath(e,i.imports[o]))&&d(n);if(i.weakImports)for(o=0;o<i.weakImports.length;++o)(n=s.resolvePath(e,i.weakImports[o]))&&d(n,!0)}else s.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}u||g||c(null,s)}function d(n,i){var e=n.lastIndexOf("google/protobuf/");if(-1<e){var t=n.substring(e);t in f&&(n=t)}if(!(-1<s.files.indexOf(n)))if(s.files.push(n),n in f)u?l(n,f[n]):(++g,setTimeout(function(){--g,l(n,f[n])}));else if(u){var o;try{o=m.fs.readFileSync(n).toString("utf8")}catch(n){return void(i||c(n))}l(n,o)}else++g,m.fetch(n,function(e,t){--g,a&&(e?i?g||c(null,s):c(e):l(n,t))})}var g=0;m.isString(t)&&(t=[t]);for(var n,i=0;i<t.length;++i)(n=s.resolvePath("",t[i]))&&d(n);return u?s:(g||c(null,s),undefined)},d.prototype.loadSync=function(e,t){if(!m.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var g=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var i=new a(t.fullName,t.id,t.type,t.rule,undefined,t.options);return(i.declaringField=t).extensionField=i,n.add(i),1}}d.prototype._handleAdd=function(e){if(e instanceof a)e.extend===undefined||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof s)g.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof r)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);g.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);-1<t&&this.deferred.splice(t,1)}}else if(e instanceof s)g.test(e.name)&&delete e.parent[e.name];else if(e instanceof o){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);g.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){r=e,y=t,f=n}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t,n){t.exports={}},{}],31:[function(e,t,n){n.Service=e(32)},{32:32}],32:[function(t,n,i){n.exports=o;var s=t(39);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");s.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}((o.prototype=Object.create(s.EventEmitter.prototype)).constructor=o).prototype.rpcCall=function e(n,t,i,o,r){if(!o)throw TypeError("request must be specified");var a=this;if(!r)return s.asPromise(e,a,n,t,i,o);if(!a.rpcImpl)return setTimeout(function(){r(Error("already ended"))},0),undefined;try{return a.rpcImpl(n,t[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,t){if(e)return a.emit("error",e,n),r(e);if(null===t)return a.end(!0),undefined;if(!(t instanceof i))try{t=i[a.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return a.emit("error",e,n),r(e)}return a.emit("data",t,n),r(null,t)})}catch(e){return a.emit("error",e,n),setTimeout(function(){r(e)},0),undefined}},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(e,t,n){t.exports=s;var i=e(23);((s.prototype=Object.create(i.prototype)).constructor=s).className="Service";var r=e(22),l=e(37),u=e(31);function s(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)n.add(r.fromJSON(i[o],t.methods[i[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return l.toObject(["options",t&&t.options||undefined,"methods",i.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function get(){return this._methodsArray||(this._methodsArray=l.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||i.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return i.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof r?c((this.methods[e.name]=e).parent=this):i.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof r){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return i.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var i,o=new u.Service(e,t,n),r=0;r<this.methodsArray.length;++r){var a=l.lcFirst((i=this._methodsArray[r]).resolve().name).replace(/[^$\w_]/g,"");o[a]=l.codegen(["r","c"],l.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return o}},{22:22,23:23,31:31,37:37}],34:[function(e,t,n){t.exports=g;var v=/[\s{}=;:[\],'"()<>]/g,L=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,M=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,B=/^ *[*/]+ */,D=/^\s*\*?\/*/,P=/\n/g,N=/\s/,i=/\\(.?)/g,o={0:"\0",r:"\r",n:"\n",t:"\t"};function h(e){return e.replace(i,function(e,t){switch(t){case"\\":case"":return t;default:return o[t]||""}})}function g(s,c){var l=0,u=(s=s.toString()).length,d=1,a=null,g=null,p=0,y=!1,f=[],m=null;function x(e){return Error("illegal "+e+" (line "+d+")")}function b(e){return s.charAt(e)}function I(e,t){a=s.charAt(e++),p=d,y=!1;var n,i=e-(c?2:3);do{if(--i<0||"\n"===(n=s.charAt(i))){y=!0;break}}while(" "===n||"\t"===n);for(var o=s.substring(e,t).split(P),r=0;r<o.length;++r)o[r]=o[r].replace(c?D:B,"").trim();g=o.join("\n").trim()}function C(e){var t=T(e),n=s.substring(e,t);return/^\s*\/{1,2}/.test(n)}function T(e){for(var t=e;t<u&&"\n"!==b(t);)t++;return t}function _(){if(0<f.length)return f.shift();if(m)return function w(){var e="'"===m?M:L;e.lastIndex=l-1;var t=e.exec(s);if(!t)throw x("string");return l=e.lastIndex,S(m),m=null,h(t[1])}();var e,t,n,i,o;do{if(l===u)return null;for(e=!1;N.test(n=b(l));)if("\n"===n&&++d,++l===u)return null;if("/"===b(l)){if(++l===u)throw x("comment");if("/"===b(l))if(c){if(o=!1,C(i=l)){o=!0;do{if((l=T(l))===u)break;l++}while(C(l))}else l=Math.min(u,T(l)+1);o&&I(i,l),d++,e=!0}else{for(o="/"===b(i=l+1);"\n"!==b(++l);)if(l===u)return null;++l,o&&I(i,l-1),++d,e=!0}else{if("*"!==(n=b(l)))return"/";i=l+1,o=c||"*"===b(i);do{if("\n"===n&&++d,++l===u)throw x("comment");t=n,n=b(l)}while("*"!==t||"/"!==n);++l,o&&I(i,l-2),e=!0}}}while(e);var r=l;if(v.lastIndex=0,!v.test(b(r++)))for(;r<u&&!v.test(b(r));)++r;var a=s.substring(l,l=r);return'"'!==a&&"'"!==a||(m=a),a}function S(e){f.push(e)}function k(){if(!f.length){var e=_();if(null===e)return null;S(e)}return f[0]}return Object.defineProperty({next:_,peek:k,push:S,skip:function skip(e,t){var n=k();if(n===e)return _(),!0;if(!t)throw x("token '"+n+"', '"+e+"' expected");return!1},cmnt:function cmnt(e){var t=null;return e===undefined?p===d-1&&(c||"*"===a||y)&&(t=g):(p<e&&k(),p!==e||y||!c&&"/"!==a||(t=g)),t}},"line",{get:function get(){return d}})}g.unescape=h},{}],35:[function(e,t,n){t.exports=v;var a=e(23);((v.prototype=Object.create(a.prototype)).constructor=v).className="Type";var s=e(15),c=e(25),l=e(16),u=e(20),d=e(33),o=e(21),r=e(27),h=e(42),g=e(37),p=e(14),y=e(13),f=e(40),m=e(12),w=e(41);function v(e,t){a.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function x(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function get(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],i=n.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=n}return this._fieldsById}},fieldsArray:{get:function get(){return this._fieldsArray||(this._fieldsArray=g.toArray(this.fields))}},oneofsArray:{get:function get(){return this._oneofsArray||(this._oneofsArray=g.toArray(this.oneofs))}},ctor:{get:function get(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function set(e){var t=e.prototype;t instanceof o||((e.prototype=new o).constructor=e,g.merge(e.prototype,t)),e.$type=e.prototype.$type=this,g.merge(e,o,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var i={};for(n=0;n<this.oneofsArray.length;++n)i[this._oneofsArray[n].resolve().name]={get:g.oneOfGetter(this._oneofsArray[n].oneof),set:g.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,i)}}}),v.generateConstructor=function(e){for(var t,n=g.codegen(["p"],e.name),i=0;i<e.fieldsArray.length;++i)(t=e._fieldsArray[i]).map?n("this%s={}",g.safeProp(t.name)):t.repeated&&n("this%s=[]",g.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var n=new v(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var i=Object.keys(t.fields),o=0;o<i.length;++o)n.add((void 0!==t.fields[i[o]].keyType?u.fromJSON:l.fromJSON)(i[o],t.fields[i[o]]));if(t.oneofs)for(i=Object.keys(t.oneofs),o=0;o<i.length;++o)n.add(c.fromJSON(i[o],t.oneofs[i[o]]));if(t.nested)for(i=Object.keys(t.nested),o=0;o<i.length;++o){var r=t.nested[i[o]];n.add((r.id!==undefined?l.fromJSON:r.fields!==undefined?v.fromJSON:r.values!==undefined?s.fromJSON:r.methods!==undefined?d.fromJSON:a.fromJSON)(i[o],r))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},v.prototype.toJSON=function(e){var t=a.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return g.toObject(["options",t&&t.options||undefined,"oneofs",a.arrayToJSON(this.oneofsArray,e),"fields",a.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return a.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof l&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),(this.fields[e.name]=e).message=this,e.onAdd(this),x(this)}return e instanceof c?(this.oneofs||(this.oneofs={}),(this.oneofs[e.name]=e).onAdd(this),x(this)):a.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof l&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),x(this)}if(e instanceof c){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),x(this)}return a.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return a.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return a.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:h,types:t,util:g}),this.decode=y(this)({Reader:r,types:t,util:g}),this.verify=f(this)({types:t,util:g}),this.fromObject=m.fromObject(this)({types:t,util:g}),this.toObject=m.toObject(this)({types:t,util:g});var i=w[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof r||(e=r.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(t){return function(e){g.decorateType(e,t)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(e,t,n){var i=n,o=e(37),r=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,i={};for(t|=0;n<e.length;)i[r[n+t]]=e[n++];return i}i.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),i.long=a([0,0,0,1,1],7),i.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(i,e,t){var o,n,r=e.exports=i(39),a=i(30);r.codegen=i(3),r.fetch=i(5),r.path=i(8),r.fs=r.inquire("fs"),r.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),i=0;i<t.length;)n[i]=e[t[i++]];return n}return[]},r.toObject=function(e){for(var t={},n=0;n<e.length;){var i=e[n++],o=e[n++];o!==undefined&&(t[i]=o)}return t};var s=/\\/g,c=/"/g;r.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},r.safeProp=function(e){return!/^[$\w_]+$/.test(e)||r.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},r.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;r.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},r.compareFieldsById=function(e,t){return e.id-t.id},r.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(r.decorateRoot.remove(e.$type),e.$type.name=t,r.decorateRoot.add(e.$type)),e.$type;var n=new(o=o||i(35))(t||e.name);return r.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var u=0;r.decorateEnum=function(e){if(e.$type)return e.$type;var t=new(n=n||i(15))("Enum"+u++,e);return r.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(r,"decorateRoot",{get:function get(){return a.decorated||(a.decorated=new(i(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(e,t,n){t.exports=o;var i=e(39);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var r=o.zero=new o(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return r;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++i&&(i=0))),new o(n,i)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(i.isString(e)){if(!i.Long)return o.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):r},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?r:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{39:39}],39:[function(e,n,i){var a=i;function o(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;++o)e[i[o]]!==undefined&&n||(e[i[o]]=t[i[o]]);return e}function r(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function get(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function get(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}a.asPromise=e(1),a.base64=e(2),a.EventEmitter=e(4),a.float=e(6),a.inquire=e(7),a.utf8=e(10),a.pool=e(9),a.LongBits=e(38),a.global="undefined"!=typeof window&&window||void 0!==global&&global||"undefined"!=typeof self&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isNode=Boolean(a.global.process&&a.global.process.versions&&a.global.process.versions.node),a.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},a.isString=function(e){return"string"==typeof e||e instanceof String},a.isObject=function(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))},a.isset=a.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==(void 0===n?"undefined":_typeof(n))||0<(Array.isArray(n)?n.length:Object.keys(n).length))},a.Buffer=function(){try{var e=a.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(e){return"number"==typeof e?a.Buffer?a._Buffer_allocUnsafe(e):new a.Array(e):a.Buffer?a._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},a.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(e){return e?a.LongBits.from(e).toHash():a.LongBits.zeroHash},a.longFromHash=function(e,t){var n=a.LongBits.fromHash(e);return a.Long?a.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},a.merge=o,a.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},a.newError=r,a.ProtocolError=r("ProtocolError"),a.oneOfGetter=function(e){for(var n={},t=0;t<e.length;++t)n[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;-1<t;--t)if(1===n[e[t]]&&this[e[t]]!==undefined&&null!==this[e[t]])return e[t]}},a.oneOfSetter=function(n){return function(e){for(var t=0;t<n.length;++t)n[t]!==e&&delete this[n[t]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var n=a.Buffer;n?(a._Buffer_from=n.from!==Uint8Array.from&&n.from||function(e,t){return new n(e,t)},a._Buffer_allocUnsafe=n.allocUnsafe||function(e){return new n(e)}):a._Buffer_from=a._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t,n){t.exports=function(e){var t=u.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var i=0;i<e.fieldsArray.length;++i){var o=e._fieldsArray[i].resolve(),c="m"+u.safeProp(o.name);if(o.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,o.name),o.map)t("if(!util.isObject(%s))",c)("return%j",r(o,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),s(t,o,"k[i]"),a(t,o,i,c+"[k[i]]")("}");else if(o.repeated)t("if(!Array.isArray(%s))",c)("return%j",r(o,"array"))("for(var i=0;i<%s.length;++i){",c),a(t,o,i,c+"[i]")("}");else{if(o.partOf){var l=u.safeProp(o.partOf.name);1===n[o.partOf.name]&&t("if(p%s===1)",l)("return%j",o.partOf.name+": multiple values"),n[o.partOf.name]=1,t("p%s=1",l)}a(t,o,i,c)}o.optional&&t("}")}return t("return null")};var c=e(15),u=e(37);function r(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof c){e("switch(%s){",i)("default:")("return%j",r(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",r(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",r(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",r(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",r(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",r(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",r(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",r(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",r(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",r(t,"boolean key"))}return e}},{15:15,37:37}],41:[function(e,t,n){var i=n,r=e(21);i[".google.protobuf.Any"]={fromObject:function fromObject(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+n,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function toObject(e,t){if(t&&t.json&&e.type_url&&e.value){var n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),i=this.lookup(n);i&&(e=i.decode(e.value))}if(e instanceof this.ctor||!(e instanceof r))return this.toObject(e,t);var o=e.$type.toObject(e,t);return o["@type"]=e.$type.fullName,o}}},{21:21}],42:[function(e,t,n){t.exports=d;var i,o=e(39),r=o.LongBits,a=o.base64,s=o.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=undefined,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}function h(e,t,n){t[n]=255&e}function g(e,t){this.len=e,this.next=undefined,this.val=t}function p(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=o.Buffer?function(){return(d.create=function(){return new i})()}:function(){return new d},d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},(g.prototype=Object.create(c.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(p,10,r.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.int64=d.prototype.uint64=function(e){var t=r.from(e);return this._push(p,t.length(),t)},d.prototype.sint64=function(e){var t=r.from(e).zzEncode();return this._push(p,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.sfixed32=d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed64=d.prototype.fixed64=function(e){var t=r.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var f=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(f,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){i=e}},{39:39}],43:[function(e,t,n){t.exports=a;var i=e(42);(a.prototype=Object.create(i.prototype)).constructor=a;var o=e(39),r=o.Buffer;function a(){i.call(this)}a.alloc=function(e){return(a.alloc=o._Buffer_allocUnsafe)(e)};var s=r&&r.prototype instanceof Uint8Array&&"set"===r.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]};function c(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write(e,n)}a.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=r.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this}},{39:39,42:42}]},KSb={},MSb=function n(e){var t=KSb[e];return t||JSb[e][0].call(t=KSb[e]={exports:{}},n,t,t.exports),t.exports}(19),MSb.util.global.protobuf=MSb,"function"==typeof define&&__webpack_require__(3)&&define(["long"],function(e){return e&&e.isLong&&(MSb.util.Long=e,MSb.configure()),MSb}),"object"===(void 0===module?"undefined":_typeof(module))&&module&&module.exports&&(module.exports=MSb)})(),cc._RF.pop()}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:void 0,10:void 0,11:void 0,12:void 0,13:void 0,14:void 0,15:void 0,16:void 0,17:void 0,18:void 0,2:void 0,20:void 0,21:void 0,22:void 0,23:void 0,24:void 0,25:void 0,26:void 0,27:void 0,28:void 0,29:void 0,3:void 0,30:void 0,31:void 0,32:void 0,33:void 0,34:void 0,35:void 0,36:void 0,37:void 0,38:void 0,39:void 0,4:void 0,40:void 0,41:void 0,42:void 0,43:void 0,5:void 0,6:void 0,7:void 0,8:void 0,9:void 0}],protores:[function(t,n,i){cc._RF.push(n,"f9617nnIPVGA64BhXbqgHSM","protores");var o,r,a,s,c,l,u,d,h,g,p,y,f,m,v,x,w,C,I,b,_,T,S,k,L,M,B,D,P,N,O,R,A,E,F,G,W,j,U,H,X,Z,q,J,Y,Q,V,z,K,$,ee,te,ne,ie,oe,re,ae,se,ce,le,ue,de,he,ge,pe,ye,fe,me,ve,xe,we,Ce,Ie,be,_e,Te,Se,ke,Le,Me,Be,De,Pe,Ne,Oe,Re,Ae,Ee,Fe,Ge,We,je,Ue,He,Xe,Ze,qe,Je,Ye,Qe,Ve,ze,Ke,$e,et,tt,nt,it,ot,rt,at,st,ct,lt,ut,dt,ht,gt,pt,yt,ft,mt,vt,xt,wt,Ct,It,bt,_t,Tt,St,kt,Lt,Mt,Bt,Dt,Pt,Nt,Ot,Rt,At,Et,Ft,Gt,Wt,jt,Ut,Ht,Xt,Zt,qt,Jt,Yt,Qt,Vt,zt,Kt,$t,en,tn,nn,on,rn,an,sn,cn,ln,un,dn,hn,gn,pn,yn,fn,mn,vn,xn,wn,Cn,In,bn,_n,Tn,Sn,kn,Ln,Mn,Bn,Dn,Pn="function"==typeof Symbol&&"symbol"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator)?function(e){return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)},Nn=t("protobuf"),On=Nn.Reader,Rn=Nn.Writer,An=Nn.util,En=Nn.roots.default||(Nn.roots.default={});function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}En.base=((Dn={}).TaskStateType=(Mn={},(Bn=Object.create(Mn))[Mn[0]="Processing"]=0,Bn[Mn[1]="Finish"]=1,Bn[Mn[2]="Received"]=2,Bn[Mn[3]="Invalid"]=3,Bn),Dn.ActivityCmdType=(kn={},(Ln=Object.create(kn))[kn[1]="GetActivityConfig_Cmd"]=1,Ln[kn[2]="UpdateActivityConfig_Cmd"]=2,Ln),Dn.PlayerTaskCmdType=(Tn={},(Sn=Object.create(Tn))[Tn[1]="GetPlayerTask_Cmd"]=1,Sn[Tn[2]="UpdatePlayerTask_Cmd"]=2,Sn[Tn[3]="Received_Cmd"]=3,Sn[Tn[4]="PurchaseDiscountShop_Cmd"]=4,Sn[Tn[5]="GetPlayerTaskByID_Cmd"]=5,Sn),Dn.C2S_Activity=(e.prototype.cmdTyp=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdTyp),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Activity;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_Activity)return e;var t=new En.base.C2S_Activity;switch(e.cmdTyp){case"GetActivityConfig_Cmd":case 1:t.cmdTyp=1;break;case"UpdateActivityConfig_Cmd":case 2:t.cmdTyp=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdTyp=t.enums===String?"GetActivityConfig_Cmd":1),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.ActivityCmdType[e.cmdTyp]:e.cmdTyp),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e),Dn.S2C_Activity=function(){function e(e){if(this.activityConfig=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.activityConfig=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.activityConfig&&e.activityConfig.length)for(var n=0;n<e.activityConfig.length;++n)En.base.ActivityInfoPB.encode(e.activityConfig[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Activity;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 2:i.activityConfig&&i.activityConfig.length||(i.activityConfig=[]),i.activityConfig.push(En.base.ActivityInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:}if(null!=e.activityConfig&&e.hasOwnProperty("activityConfig")){if(!Array.isArray(e.activityConfig))return"activityConfig: array expected";for(var t=0;t<e.activityConfig.length;++t){var n=En.base.ActivityInfoPB.verify(e.activityConfig[t]);if(n)return"activityConfig."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_Activity)return e;var t=new En.base.S2C_Activity;switch(e.cmdTyp){case"GetActivityConfig_Cmd":case 1:t.cmdTyp=1;break;case"UpdateActivityConfig_Cmd":case 2:t.cmdTyp=2}if(e.activityConfig){if(!Array.isArray(e.activityConfig))throw TypeError(".base.S2C_Activity.activityConfig: array expected");t.activityConfig=[];for(var n=0;n<e.activityConfig.length;++n){if("object"!==Pn(e.activityConfig[n]))throw TypeError(".base.S2C_Activity.activityConfig: object expected");t.activityConfig[n]=En.base.ActivityInfoPB.fromObject(e.activityConfig[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.activityConfig=[]),t.defaults&&(n.cmdTyp=t.enums===String?"GetActivityConfig_Cmd":1),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.ActivityCmdType[e.cmdTyp]:e.cmdTyp),e.activityConfig&&e.activityConfig.length){n.activityConfig=[];for(var i=0;i<e.activityConfig.length;++i)n.activityConfig[i]=En.base.ActivityInfoPB.toObject(e.activityConfig[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PlayerTask=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.id=0,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(24).int32(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PlayerTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 2:i.id=e.int32();break;case 3:i.index=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.index&&e.hasOwnProperty("index")&&!An.isInteger(e.index)?"index: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_PlayerTask)return e;var t=new En.base.C2S_PlayerTask;switch(e.cmdTyp){case"GetPlayerTask_Cmd":case 1:t.cmdTyp=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdTyp=2;break;case"Received_Cmd":case 3:t.cmdTyp=3;break;case"PurchaseDiscountShop_Cmd":case 4:t.cmdTyp=4;break;case"GetPlayerTaskByID_Cmd":case 5:t.cmdTyp=5}return null!=e.id&&(t.id=0|e.id),null!=e.index&&(t.index=0|e.index),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdTyp=t.enums===String?"GetPlayerTask_Cmd":1,n.id=0,n.index=0),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.PlayerTaskCmdType[e.cmdTyp]:e.cmdTyp),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PlayerTask=function(){function e(e){if(this.taskInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.taskInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.taskInfo&&e.taskInfo.length)for(var n=0;n<e.taskInfo.length;++n)En.base.TaskInfoPB.encode(e.taskInfo[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PlayerTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 2:i.taskInfo&&i.taskInfo.length||(i.taskInfo=[]),i.taskInfo.push(En.base.TaskInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:case 3:case 4:case 5:}if(null!=e.taskInfo&&e.hasOwnProperty("taskInfo")){if(!Array.isArray(e.taskInfo))return"taskInfo: array expected";for(var t=0;t<e.taskInfo.length;++t){var n=En.base.TaskInfoPB.verify(e.taskInfo[t]);if(n)return"taskInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_PlayerTask)return e;var t=new En.base.S2C_PlayerTask;switch(e.cmdTyp){case"GetPlayerTask_Cmd":case 1:t.cmdTyp=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdTyp=2;break;case"Received_Cmd":case 3:t.cmdTyp=3;break;case"PurchaseDiscountShop_Cmd":case 4:t.cmdTyp=4;break;case"GetPlayerTaskByID_Cmd":case 5:t.cmdTyp=5}if(e.taskInfo){if(!Array.isArray(e.taskInfo))throw TypeError(".base.S2C_PlayerTask.taskInfo: array expected");t.taskInfo=[];for(var n=0;n<e.taskInfo.length;++n){if("object"!==Pn(e.taskInfo[n]))throw TypeError(".base.S2C_PlayerTask.taskInfo: object expected");t.taskInfo[n]=En.base.TaskInfoPB.fromObject(e.taskInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.taskInfo=[]),t.defaults&&(n.cmdTyp=t.enums===String?"GetPlayerTask_Cmd":1),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.PlayerTaskCmdType[e.cmdTyp]:e.cmdTyp),e.taskInfo&&e.taskInfo.length){n.taskInfo=[];for(var i=0;i<e.taskInfo.length;++i)n.taskInfo[i]=En.base.TaskInfoPB.toObject(e.taskInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ActivityInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.avalid=!1,e.prototype.startTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.avalid&&e.hasOwnProperty("avalid")&&t.uint32(16).bool(e.avalid),null!=e.startTime&&e.hasOwnProperty("startTime")&&t.uint32(24).int64(e.startTime),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(32).int64(e.endTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ActivityInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.avalid=e.bool();break;case 3:i.startTime=e.int64();break;case 4:i.endTime=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.avalid&&e.hasOwnProperty("avalid")&&"boolean"!=typeof e.avalid?"avalid: boolean expected":null!=e.startTime&&e.hasOwnProperty("startTime")&&!(An.isInteger(e.startTime)||e.startTime&&An.isInteger(e.startTime.low)&&An.isInteger(e.startTime.high))?"startTime: integer|Long expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high))?"endTime: integer|Long expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.ActivityInfoPB)return e;var t=new En.base.ActivityInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.avalid&&(t.avalid=Boolean(e.avalid)),null!=e.startTime&&(An.Long?(t.startTime=An.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"===Pn(e.startTime)&&(t.startTime=new An.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.id=0,n.avalid=!1,An.Long){var i=new An.Long(0,0,!1);n.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.startTime=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.endTime=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.avalid&&e.hasOwnProperty("avalid")&&(n.avalid=e.avalid),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?An.Long.prototype.toString.call(e.startTime):t.longs===Number?new An.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.TaskInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.index=0,e.prototype.processing=0,e.prototype.taskState=0,e.prototype.finishTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),t.uint32(16).int32(e.index),null!=e.processing&&e.hasOwnProperty("processing")&&t.uint32(24).int32(e.processing),null!=e.taskState&&e.hasOwnProperty("taskState")&&t.uint32(32).int32(e.taskState),null!=e.finishTime&&e.hasOwnProperty("finishTime")&&t.uint32(40).int64(e.finishTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.TaskInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.index=e.int32();break;case 3:i.processing=e.int32();break;case 4:i.taskState=e.int32();break;case 5:i.finishTime=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("index"))throw An.ProtocolError("missing required 'index'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?An.isInteger(e.index)?null!=e.processing&&e.hasOwnProperty("processing")&&!An.isInteger(e.processing)?"processing: integer expected":null!=e.taskState&&e.hasOwnProperty("taskState")&&!An.isInteger(e.taskState)?"taskState: integer expected":null!=e.finishTime&&e.hasOwnProperty("finishTime")&&!(An.isInteger(e.finishTime)||e.finishTime&&An.isInteger(e.finishTime.low)&&An.isInteger(e.finishTime.high))?"finishTime: integer|Long expected":null:"index: integer expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.TaskInfoPB)return e;var t=new En.base.TaskInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.index&&(t.index=0|e.index),null!=e.processing&&(t.processing=0|e.processing),null!=e.taskState&&(t.taskState=0|e.taskState),null!=e.finishTime&&(An.Long?(t.finishTime=An.Long.fromValue(e.finishTime)).unsigned=!1:"string"==typeof e.finishTime?t.finishTime=parseInt(e.finishTime,10):"number"==typeof e.finishTime?t.finishTime=e.finishTime:"object"===Pn(e.finishTime)&&(t.finishTime=new An.LongBits(e.finishTime.low>>>0,e.finishTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.id=0,n.index=0,n.processing=0,n.taskState=0,An.Long){var i=new An.Long(0,0,!1);n.finishTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.finishTime=t.longs===String?"0":0;return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.processing&&e.hasOwnProperty("processing")&&(n.processing=e.processing),null!=e.taskState&&e.hasOwnProperty("taskState")&&(n.taskState=e.taskState),null!=e.finishTime&&e.hasOwnProperty("finishTime")&&("number"==typeof e.finishTime?n.finishTime=t.longs===String?String(e.finishTime):e.finishTime:n.finishTime=t.longs===String?An.Long.prototype.toString.call(e.finishTime):t.longs===Number?new An.LongBits(e.finishTime.low>>>0,e.finishTime.high>>>0).toNumber():e.finishTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_FirstRecharge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_FirstRecharge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.id=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_FirstRecharge)return e;var t=new En.base.C2S_FirstRecharge;switch(e.cmdType){case"GetPlayerTask_Cmd":case 1:t.cmdType=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdType=2;break;case"Received_Cmd":case 3:t.cmdType=3;break;case"PurchaseDiscountShop_Cmd":case 4:t.cmdType=4;break;case"GetPlayerTaskByID_Cmd":case 5:t.cmdType=5}return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetPlayerTask_Cmd":1,n.id=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.PlayerTaskCmdType[e.cmdType]:e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_FirstRecharge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.id=0,e.prototype.state=0,e.prototype.unlockTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t.uint32(16).int32(e.id),t.uint32(24).int32(e.state),null!=e.unlockTime&&e.hasOwnProperty("unlockTime")&&t.uint32(32).int64(e.unlockTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_FirstRecharge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.id=e.int32();break;case 3:i.state=e.int32();break;case 4:i.unlockTime=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("state"))throw An.ProtocolError("missing required 'state'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:}return An.isInteger(e.id)?An.isInteger(e.state)?null!=e.unlockTime&&e.hasOwnProperty("unlockTime")&&!(An.isInteger(e.unlockTime)||e.unlockTime&&An.isInteger(e.unlockTime.low)&&An.isInteger(e.unlockTime.high))?"unlockTime: integer|Long expected":null:"state: integer expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_FirstRecharge)return e;var t=new En.base.S2C_FirstRecharge;switch(e.cmdType){case"GetPlayerTask_Cmd":case 1:t.cmdType=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdType=2;break;case"Received_Cmd":case 3:t.cmdType=3;break;case"PurchaseDiscountShop_Cmd":case 4:t.cmdType=4;break;case"GetPlayerTaskByID_Cmd":case 5:t.cmdType=5}return null!=e.id&&(t.id=0|e.id),null!=e.state&&(t.state=0|e.state),null!=e.unlockTime&&(An.Long?(t.unlockTime=An.Long.fromValue(e.unlockTime)).unsigned=!1:"string"==typeof e.unlockTime?t.unlockTime=parseInt(e.unlockTime,10):"number"==typeof e.unlockTime?t.unlockTime=e.unlockTime:"object"===Pn(e.unlockTime)&&(t.unlockTime=new An.LongBits(e.unlockTime.low>>>0,e.unlockTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.cmdType=t.enums===String?"GetPlayerTask_Cmd":1,n.id=0,n.state=0,An.Long){var i=new An.Long(0,0,!1);n.unlockTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.unlockTime=t.longs===String?"0":0;return null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.PlayerTaskCmdType[e.cmdType]:e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.unlockTime&&e.hasOwnProperty("unlockTime")&&("number"==typeof e.unlockTime?n.unlockTime=t.longs===String?String(e.unlockTime):e.unlockTime:n.unlockTime=t.longs===String?An.Long.prototype.toString.call(e.unlockTime):t.longs===Number?new An.LongBits(e.unlockTime.low>>>0,e.unlockTime.high>>>0).toNumber():e.unlockTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ActivityType=(bn={},(_n=Object.create(bn))[bn[1]="MiLing"]=1,_n[bn[4]="LevelUp1"]=4,_n[bn[5]="XiuLian"]=5,_n[bn[7]="AddUpRecharge"]=7,_n[bn[8]="InvestPlan"]=8,_n[bn[9]="DailyRechanrge"]=9,_n[bn[10]="LimitedTimeConsume"]=10,_n[bn[16]="Login"]=16,_n[bn[25]="NewYear"]=25,_n[bn[32]="Skin"]=32,_n[bn[34]="TurnTable"]=34,_n[bn[51]="Resource"]=51,_n[bn[101]="AttributeRank"]=101,_n[bn[102]="DiscountShop"]=102,_n[bn[103]="AddUpRecharge2"]=103,_n),Dn.TurnTableCmd=(Cn={},(In=Object.create(Cn))[Cn[1]="GetTurnTableInfo_Cmd"]=1,In[Cn[2]="ConsecutiveDraw_Cmd"]=2,In[Cn[3]="TenConsecutiveDraw_Cmd"]=3,In),Dn.TurnTableRewardType=(xn={},(wn=Object.create(xn))[xn[1]="Free"]=1,wn[xn[2]="One"]=2,wn[xn[3]="Ten"]=3,wn[xn[4]="Extra"]=4,wn[xn[5]="FirstTen"]=5,wn[xn[6]="Luck"]=6,wn),Dn.C2S_TurnTable=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.activityID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.activityID&&e.hasOwnProperty("activityID")&&t.uint32(16).int32(e.activityID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_TurnTable;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.activityID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null!=e.activityID&&e.hasOwnProperty("activityID")&&!An.isInteger(e.activityID)?"activityID: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_TurnTable)return e;var t=new En.base.C2S_TurnTable;switch(e.cmdType){case"GetTurnTableInfo_Cmd":case 1:t.cmdType=1;break;case"ConsecutiveDraw_Cmd":case 2:t.cmdType=2;break;case"TenConsecutiveDraw_Cmd":case 3:t.cmdType=3}return null!=e.activityID&&(t.activityID=0|e.activityID),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetTurnTableInfo_Cmd":1,n.activityID=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.TurnTableCmd[e.cmdType]:e.cmdType),null!=e.activityID&&e.hasOwnProperty("activityID")&&(n.activityID=e.activityID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_TurnTable=function(){function e(e){if(this.turnTableInfo=[],this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.turnTableInfo=An.emptyArray,e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.turnTableInfo&&e.turnTableInfo.length)for(var n=0;n<e.turnTableInfo.length;++n)En.base.TurnTableInfoPB.encode(e.turnTableInfo[n],t.uint32(18).fork()).ldelim();if(null!=e.rewards&&e.rewards.length)for(n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_TurnTable;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.turnTableInfo&&i.turnTableInfo.length||(i.turnTableInfo=[]),i.turnTableInfo.push(En.base.TurnTableInfoPB.decode(e,e.uint32()));break;case 3:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.turnTableInfo&&e.hasOwnProperty("turnTableInfo")){if(!Array.isArray(e.turnTableInfo))return"turnTableInfo: array expected";for(var t=0;t<e.turnTableInfo.length;++t)if(n=En.base.TurnTableInfoPB.verify(e.turnTableInfo[t]))return"turnTableInfo."+n}if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(t=0;t<e.rewards.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.rewards[t]))return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_TurnTable)return e;var t=new En.base.S2C_TurnTable;switch(e.cmdType){case"GetTurnTableInfo_Cmd":case 1:t.cmdType=1;break;case"ConsecutiveDraw_Cmd":case 2:t.cmdType=2;break;case"TenConsecutiveDraw_Cmd":case 3:t.cmdType=3}if(e.turnTableInfo){if(!Array.isArray(e.turnTableInfo))throw TypeError(".base.S2C_TurnTable.turnTableInfo: array expected");t.turnTableInfo=[];for(var n=0;n<e.turnTableInfo.length;++n){if("object"!==Pn(e.turnTableInfo[n]))throw TypeError(".base.S2C_TurnTable.turnTableInfo: object expected");t.turnTableInfo[n]=En.base.TurnTableInfoPB.fromObject(e.turnTableInfo[n])}}if(e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_TurnTable.rewards: array expected");for(t.rewards=[],n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_TurnTable.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.turnTableInfo=[],n.rewards=[]),t.defaults&&(n.cmdType=t.enums===String?"GetTurnTableInfo_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.TurnTableCmd[e.cmdType]:e.cmdType),e.turnTableInfo&&e.turnTableInfo.length){n.turnTableInfo=[];for(var i=0;i<e.turnTableInfo.length;++i)n.turnTableInfo[i]=En.base.TurnTableInfoPB.toObject(e.turnTableInfo[i],t)}if(e.rewards&&e.rewards.length)for(n.rewards=[],i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.TurnTableInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.activityID=0,e.prototype.freeTime=0,e.prototype.luckValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.activityID),null!=e.freeTime&&e.hasOwnProperty("freeTime")&&t.uint32(16).int32(e.freeTime),null!=e.luckValue&&e.hasOwnProperty("luckValue")&&t.uint32(24).int32(e.luckValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.TurnTableInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.activityID=e.int32();break;case 2:i.freeTime=e.int32();break;case 3:i.luckValue=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("activityID"))throw An.ProtocolError("missing required 'activityID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.activityID)?null!=e.freeTime&&e.hasOwnProperty("freeTime")&&!An.isInteger(e.freeTime)?"freeTime: integer expected":null!=e.luckValue&&e.hasOwnProperty("luckValue")&&!An.isInteger(e.luckValue)?"luckValue: integer expected":null:"activityID: integer expected"},e.fromObject=function(e){if(e instanceof En.base.TurnTableInfoPB)return e;var t=new En.base.TurnTableInfoPB;return null!=e.activityID&&(t.activityID=0|e.activityID),null!=e.freeTime&&(t.freeTime=0|e.freeTime),null!=e.luckValue&&(t.luckValue=0|e.luckValue),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.activityID=0,n.freeTime=0,n.luckValue=0),null!=e.activityID&&e.hasOwnProperty("activityID")&&(n.activityID=e.activityID),null!=e.freeTime&&e.hasOwnProperty("freeTime")&&(n.freeTime=e.freeTime),null!=e.luckValue&&e.hasOwnProperty("luckValue")&&(n.luckValue=e.luckValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MiLing=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.activityID=0,e.prototype.rewardID=0,e.prototype.levelCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.activityID&&e.hasOwnProperty("activityID")&&t.uint32(16).int32(e.activityID),null!=e.rewardID&&e.hasOwnProperty("rewardID")&&t.uint32(24).int32(e.rewardID),null!=e.levelCount&&e.hasOwnProperty("levelCount")&&t.uint32(32).int32(e.levelCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MiLing;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.activityID=e.int32();break;case 3:i.rewardID=e.int32();break;case 4:i.levelCount=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:}return null!=e.activityID&&e.hasOwnProperty("activityID")&&!An.isInteger(e.activityID)?"activityID: integer expected":null!=e.rewardID&&e.hasOwnProperty("rewardID")&&!An.isInteger(e.rewardID)?"rewardID: integer expected":null!=e.levelCount&&e.hasOwnProperty("levelCount")&&!An.isInteger(e.levelCount)?"levelCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MiLing)return e;var t=new En.base.C2S_MiLing;switch(e.cmdType){case"GetMiLingInfo_Cmd":case 1:t.cmdType=1;break;case"UpdateMiLingInfo_Cmd":case 2:t.cmdType=2;break;case"RewardMiLing_Cmd":case 3:t.cmdType=3;break;case"RewardTask_Cmd":case 4:t.cmdType=4;break;case"PurChaseLevel_Cmd":case 5:t.cmdType=5;break;case"RewardVip_Cmd":case 6:t.cmdType=6}return null!=e.activityID&&(t.activityID=0|e.activityID),null!=e.rewardID&&(t.rewardID=0|e.rewardID),null!=e.levelCount&&(t.levelCount=0|e.levelCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetMiLingInfo_Cmd":1,n.activityID=0,n.rewardID=0,n.levelCount=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.MiLingCmdType[e.cmdType]:e.cmdType),null!=e.activityID&&e.hasOwnProperty("activityID")&&(n.activityID=e.activityID),null!=e.rewardID&&e.hasOwnProperty("rewardID")&&(n.rewardID=e.rewardID),null!=e.levelCount&&e.hasOwnProperty("levelCount")&&(n.levelCount=e.levelCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MiLing=function(){function e(e){if(this.taskInfo=[],this.rewardInfo=[],this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.level=0,e.prototype.exp=0,e.prototype.vip=!1,e.prototype.svip=!1,e.prototype.avaliableVipReward=!1,e.prototype.taskInfo=An.emptyArray,e.prototype.rewardInfo=An.emptyArray,e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),null!=e.exp&&e.hasOwnProperty("exp")&&t.uint32(24).int32(e.exp),null!=e.vip&&e.hasOwnProperty("vip")&&t.uint32(32).bool(e.vip),null!=e.svip&&e.hasOwnProperty("svip")&&t.uint32(40).bool(e.svip),null!=e.avaliableVipReward&&e.hasOwnProperty("avaliableVipReward")&&t.uint32(48).bool(e.avaliableVipReward),null!=e.taskInfo&&e.taskInfo.length)for(var n=0;n<e.taskInfo.length;++n)En.base.TaskInfoPB.encode(e.taskInfo[n],t.uint32(58).fork()).ldelim();if(null!=e.rewardInfo&&e.rewardInfo.length)for(n=0;n<e.rewardInfo.length;++n)En.base.MiLingRewardInfoPB.encode(e.rewardInfo[n],t.uint32(66).fork()).ldelim();if(null!=e.rewards&&e.rewards.length)for(n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(74).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MiLing;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.level=e.int32();break;case 3:i.exp=e.int32();break;case 4:i.vip=e.bool();break;case 5:i.svip=e.bool();break;case 6:i.avaliableVipReward=e.bool();break;case 7:i.taskInfo&&i.taskInfo.length||(i.taskInfo=[]),i.taskInfo.push(En.base.TaskInfoPB.decode(e,e.uint32()));break;case 8:i.rewardInfo&&i.rewardInfo.length||(i.rewardInfo=[]),i.rewardInfo.push(En.base.MiLingRewardInfoPB.decode(e,e.uint32()));break;case 9:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level))return"level: integer expected";if(null!=e.exp&&e.hasOwnProperty("exp")&&!An.isInteger(e.exp))return"exp: integer expected";if(null!=e.vip&&e.hasOwnProperty("vip")&&"boolean"!=typeof e.vip)return"vip: boolean expected";if(null!=e.svip&&e.hasOwnProperty("svip")&&"boolean"!=typeof e.svip)return"svip: boolean expected";if(null!=e.avaliableVipReward&&e.hasOwnProperty("avaliableVipReward")&&"boolean"!=typeof e.avaliableVipReward)return"avaliableVipReward: boolean expected";if(null!=e.taskInfo&&e.hasOwnProperty("taskInfo")){if(!Array.isArray(e.taskInfo))return"taskInfo: array expected";for(var t=0;t<e.taskInfo.length;++t)if(n=En.base.TaskInfoPB.verify(e.taskInfo[t]))return"taskInfo."+n}if(null!=e.rewardInfo&&e.hasOwnProperty("rewardInfo")){if(!Array.isArray(e.rewardInfo))return"rewardInfo: array expected";for(t=0;t<e.rewardInfo.length;++t)if(n=En.base.MiLingRewardInfoPB.verify(e.rewardInfo[t]))return"rewardInfo."+n}if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(t=0;t<e.rewards.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.rewards[t]))return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MiLing)return e;var t=new En.base.S2C_MiLing;switch(e.cmdType){case"GetMiLingInfo_Cmd":case 1:t.cmdType=1;break;case"UpdateMiLingInfo_Cmd":case 2:t.cmdType=2;break;case"RewardMiLing_Cmd":case 3:t.cmdType=3;break;case"RewardTask_Cmd":case 4:t.cmdType=4;break;case"PurChaseLevel_Cmd":case 5:t.cmdType=5;break;case"RewardVip_Cmd":case 6:t.cmdType=6}if(null!=e.level&&(t.level=0|e.level),null!=e.exp&&(t.exp=0|e.exp),null!=e.vip&&(t.vip=Boolean(e.vip)),null!=e.svip&&(t.svip=Boolean(e.svip)),null!=e.avaliableVipReward&&(t.avaliableVipReward=Boolean(e.avaliableVipReward)),e.taskInfo){if(!Array.isArray(e.taskInfo))throw TypeError(".base.S2C_MiLing.taskInfo: array expected");t.taskInfo=[];for(var n=0;n<e.taskInfo.length;++n){if("object"!==Pn(e.taskInfo[n]))throw TypeError(".base.S2C_MiLing.taskInfo: object expected");t.taskInfo[n]=En.base.TaskInfoPB.fromObject(e.taskInfo[n])}}if(e.rewardInfo){if(!Array.isArray(e.rewardInfo))throw TypeError(".base.S2C_MiLing.rewardInfo: array expected");for(t.rewardInfo=[],n=0;n<e.rewardInfo.length;++n){if("object"!==Pn(e.rewardInfo[n]))throw TypeError(".base.S2C_MiLing.rewardInfo: object expected");t.rewardInfo[n]=En.base.MiLingRewardInfoPB.fromObject(e.rewardInfo[n])}}if(e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_MiLing.rewards: array expected");for(t.rewards=[],n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_MiLing.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.taskInfo=[],n.rewardInfo=[],n.rewards=[]),t.defaults&&(n.cmdType=t.enums===String?"GetMiLingInfo_Cmd":1,n.level=0,n.exp=0,n.vip=!1,n.svip=!1,n.avaliableVipReward=!1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.MiLingCmdType[e.cmdType]:e.cmdType),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.exp&&e.hasOwnProperty("exp")&&(n.exp=e.exp),null!=e.vip&&e.hasOwnProperty("vip")&&(n.vip=e.vip),null!=e.svip&&e.hasOwnProperty("svip")&&(n.svip=e.svip),null!=e.avaliableVipReward&&e.hasOwnProperty("avaliableVipReward")&&(n.avaliableVipReward=e.avaliableVipReward),e.taskInfo&&e.taskInfo.length){n.taskInfo=[];for(var i=0;i<e.taskInfo.length;++i)n.taskInfo[i]=En.base.TaskInfoPB.toObject(e.taskInfo[i],t)}if(e.rewardInfo&&e.rewardInfo.length)for(n.rewardInfo=[],i=0;i<e.rewardInfo.length;++i)n.rewardInfo[i]=En.base.MiLingRewardInfoPB.toObject(e.rewardInfo[i],t);if(e.rewards&&e.rewards.length)for(n.rewards=[],i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.MiLingRewardInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.index=0,e.prototype.reward=!1,e.prototype.vipReward=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),t.uint32(16).int32(e.index),null!=e.reward&&e.hasOwnProperty("reward")&&t.uint32(24).bool(e.reward),null!=e.vipReward&&e.hasOwnProperty("vipReward")&&t.uint32(32).bool(e.vipReward),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.MiLingRewardInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.index=e.int32();break;case 3:i.reward=e.bool();break;case 4:i.vipReward=e.bool();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("index"))throw An.ProtocolError("missing required 'index'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?An.isInteger(e.index)?null!=e.reward&&e.hasOwnProperty("reward")&&"boolean"!=typeof e.reward?"reward: boolean expected":null!=e.vipReward&&e.hasOwnProperty("vipReward")&&"boolean"!=typeof e.vipReward?"vipReward: boolean expected":null:"index: integer expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.MiLingRewardInfoPB)return e;var t=new En.base.MiLingRewardInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.index&&(t.index=0|e.index),null!=e.reward&&(t.reward=Boolean(e.reward)),null!=e.vipReward&&(t.vipReward=Boolean(e.vipReward)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.index=0,n.reward=!1,n.vipReward=!1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.reward&&e.hasOwnProperty("reward")&&(n.reward=e.reward),null!=e.vipReward&&e.hasOwnProperty("vipReward")&&(n.vipReward=e.vipReward),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.MiLingCmdType=(mn={},(vn=Object.create(mn))[mn[1]="GetMiLingInfo_Cmd"]=1,vn[mn[2]="UpdateMiLingInfo_Cmd"]=2,vn[mn[3]="RewardMiLing_Cmd"]=3,vn[mn[4]="RewardTask_Cmd"]=4,vn[mn[5]="PurChaseLevel_Cmd"]=5,vn[mn[6]="RewardVip_Cmd"]=6,vn),Dn.ConsumeType=(yn={},(fn=Object.create(yn))[yn[1]="Food"]=1,fn[yn[2]="Wood"]=2,fn[yn[3]="MeteoriteIron"]=3,fn[yn[4]="ThroughMap"]=4,fn),Dn.ResourceMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.count=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int64(e.count),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(24).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ResourceMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.count=e.int64();break;case 3:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!(An.isInteger(e.count)||e.count&&An.isInteger(e.count.low)&&An.isInteger(e.count.high))?"count: integer|Long expected":null!=e.type&&e.hasOwnProperty("type")&&!An.isInteger(e.type)?"type: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.ResourceMsg)return e;var t=new En.base.ResourceMsg;return null!=e.id&&(t.id=0|e.id),null!=e.count&&(An.Long?(t.count=An.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"===Pn(e.count)&&(t.count=new An.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.type&&(t.type=0|e.type),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.id=0,An.Long){var i=new An.Long(0,0,!1);n.count=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.count=t.longs===String?"0":0;n.type=0}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?n.count=t.longs===String?String(e.count):e.count:n.count=t.longs===String?An.Long.prototype.toString.call(e.count):t.longs===Number?new An.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ItemMsg=function(){function e(e){if(this.attr=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.itemId=0,e.prototype.amount=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.attr=An.emptyArray,e.prototype.wear=!1,e.prototype.type=0,e.prototype.itemInfo="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),null!=e.itemId&&e.hasOwnProperty("itemId")&&t.uint32(16).int32(e.itemId),null!=e.amount&&e.hasOwnProperty("amount")&&t.uint32(24).int64(e.amount),null!=e.attr&&e.attr.length)for(var n=0;n<e.attr.length;++n)En.base.EquipAttrMsg.encode(e.attr[n],t.uint32(34).fork()).ldelim();return null!=e.wear&&e.hasOwnProperty("wear")&&t.uint32(40).bool(e.wear),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(48).int32(e.type),null!=e.itemInfo&&e.hasOwnProperty("itemInfo")&&t.uint32(58).string(e.itemInfo),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ItemMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.itemId=e.int32();break;case 3:i.amount=e.int64();break;case 4:i.attr&&i.attr.length||(i.attr=[]),i.attr.push(En.base.EquipAttrMsg.decode(e,e.uint32()));break;case 5:i.wear=e.bool();break;case 6:i.type=e.int32();break;case 7:i.itemInfo=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high)))return"id: integer|Long expected";if(null!=e.itemId&&e.hasOwnProperty("itemId")&&!An.isInteger(e.itemId))return"itemId: integer expected";if(null!=e.amount&&e.hasOwnProperty("amount")&&!(An.isInteger(e.amount)||e.amount&&An.isInteger(e.amount.low)&&An.isInteger(e.amount.high)))return"amount: integer|Long expected";if(null!=e.attr&&e.hasOwnProperty("attr")){if(!Array.isArray(e.attr))return"attr: array expected";for(var t=0;t<e.attr.length;++t){var n=En.base.EquipAttrMsg.verify(e.attr[t]);if(n)return"attr."+n}}return null!=e.wear&&e.hasOwnProperty("wear")&&"boolean"!=typeof e.wear?"wear: boolean expected":null!=e.type&&e.hasOwnProperty("type")&&!An.isInteger(e.type)?"type: integer expected":null!=e.itemInfo&&e.hasOwnProperty("itemInfo")&&!An.isString(e.itemInfo)?"itemInfo: string expected":null},e.fromObject=function(e){if(e instanceof En.base.ItemMsg)return e;var t=new En.base.ItemMsg;if(null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.amount&&(An.Long?(t.amount=An.Long.fromValue(e.amount)).unsigned=!1:"string"==typeof e.amount?t.amount=parseInt(e.amount,10):"number"==typeof e.amount?t.amount=e.amount:"object"===Pn(e.amount)&&(t.amount=new An.LongBits(e.amount.low>>>0,e.amount.high>>>0).toNumber())),e.attr){if(!Array.isArray(e.attr))throw TypeError(".base.ItemMsg.attr: array expected");t.attr=[];for(var n=0;n<e.attr.length;++n){if("object"!==Pn(e.attr[n]))throw TypeError(".base.ItemMsg.attr: object expected");t.attr[n]=En.base.EquipAttrMsg.fromObject(e.attr[n])}}return null!=e.wear&&(t.wear=Boolean(e.wear)),null!=e.type&&(t.type=0|e.type),null!=e.itemInfo&&(t.itemInfo=String(e.itemInfo)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.attr=[]),t.defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.itemId=0,An.Long?(i=new An.Long(0,0,!1),n.amount=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.amount=t.longs===String?"0":0,n.wear=!1,n.type=0,n.itemInfo=""}if(null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.amount&&e.hasOwnProperty("amount")&&("number"==typeof e.amount?n.amount=t.longs===String?String(e.amount):e.amount:n.amount=t.longs===String?An.Long.prototype.toString.call(e.amount):t.longs===Number?new An.LongBits(e.amount.low>>>0,e.amount.high>>>0).toNumber():e.amount),e.attr&&e.attr.length){n.attr=[];for(var o=0;o<e.attr.length;++o)n.attr[o]=En.base.EquipAttrMsg.toObject(e.attr[o],t)}return null!=e.wear&&e.hasOwnProperty("wear")&&(n.wear=e.wear),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.itemInfo&&e.hasOwnProperty("itemInfo")&&(n.itemInfo=e.itemInfo),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ExchangeMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.amount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.amount&&e.hasOwnProperty("amount")&&t.uint32(16).int32(e.amount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ExchangeMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.amount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.amount&&e.hasOwnProperty("amount")&&!An.isInteger(e.amount)?"amount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.ExchangeMsg)return e;var t=new En.base.ExchangeMsg;return null!=e.id&&(t.id=0|e.id),null!=e.amount&&(t.amount=0|e.amount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.amount=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.amount&&e.hasOwnProperty("amount")&&(n.amount=e.amount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ItemUseMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.amount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.amount&&e.hasOwnProperty("amount")&&t.uint32(16).int32(e.amount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ItemUseMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.amount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.amount&&e.hasOwnProperty("amount")&&!An.isInteger(e.amount)?"amount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.ItemUseMsg)return e;var t=new En.base.ItemUseMsg;return null!=e.id&&(t.id=0|e.id),null!=e.amount&&(t.amount=0|e.amount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.amount=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.amount&&e.hasOwnProperty("amount")&&(n.amount=e.amount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.EquipAttrMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(16).int32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.EquipAttrMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.value=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!An.isInteger(e.type)?"type: integer expected":null!=e.value&&e.hasOwnProperty("value")&&!An.isInteger(e.value)?"value: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.EquipAttrMsg)return e;var t=new En.base.EquipAttrMsg;return null!=e.type&&(t.type=0|e.type),null!=e.value&&(t.value=0|e.value),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=0,n.value=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.CurrencyItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.itemId&&e.hasOwnProperty("itemId")&&t.uint32(8).int32(e.itemId),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.CurrencyItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemId=e.int32();break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!An.isInteger(e.itemId)?"itemId: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.CurrencyItem)return e;var t=new En.base.CurrencyItem;return null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.itemId=0,n.count=0),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ItemUseResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.result=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.itemId&&e.hasOwnProperty("itemId")&&t.uint32(8).int32(e.itemId),null!=e.result&&e.hasOwnProperty("result")&&t.uint32(16).bool(e.result),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ItemUseResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemId=e.int32();break;case 2:i.result=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!An.isInteger(e.itemId)?"itemId: integer expected":null!=e.result&&e.hasOwnProperty("result")&&"boolean"!=typeof e.result?"result: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ItemUseResult)return e;var t=new En.base.S2C_ItemUseResult;return null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.result&&(t.result=Boolean(e.result)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.itemId=0,n.result=!1),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ItemUseType=(gn={},(pn=Object.create(gn))[gn[1]="DuJieChance"]=1,pn[gn[2]="ExpendPackageNum"]=2,pn[gn[3]="DropItem"]=3,pn[gn[4]="ViewPropertyAuth"]=4,pn[gn[5]="UnlockNPC"]=5,pn[gn[6]="AddProperties"]=6,pn[gn[7]="UnlockDuanQiTuZhi"]=7,pn[gn[8]="ActivateQiDing"]=8,pn[gn[9]="UnlockDanYaoTuZhu"]=9,pn[gn[10]="ActivateDanLu"]=10,pn[gn[11]="ActivateSkillBook"]=11,pn[gn[13]="RenameCard"]=13,pn[gn[14]="ZhuanZhi"]=14,pn[gn[15]="ActivateWuDaoBook"]=15,pn[gn[16]="AddShenYouTime"]=16,pn[gn[18]="JoinMenPai"]=18,pn[gn[21]="GetPet"]=21,pn[gn[27]="ShenYouAutoSell"]=27,pn[gn[28]="UnlockAutoShenYou"]=28,pn[gn[29]="ShenYouCD"]=29,pn[gn[39]="ActivityFishingRod"]=39,pn[gn[44]="UnlockAutoWuDao"]=44,pn[gn[46]="TreasureBox"]=46,pn[gn[47]="AutoUpGradeDongFu"]=47,pn[gn[48]="LiaoYaoRate"]=48,pn[gn[49]="LianQiRate"]=49,pn[gn[50]="AutoGoFishing"]=50,pn[gn[52]="RoleSkin"]=52,pn[gn[53]="RoleChengHao"]=53,pn[gn[54]="RoleFuDi"]=54,pn[gn[55]="RoleFaXiang"]=55,pn[gn[56]="WaBao"]=56,pn),Dn.C2S_BaGuaZhen=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.baGuaType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.baGuaType&&e.hasOwnProperty("baGuaType")&&t.uint32(16).int32(e.baGuaType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_BaGuaZhen;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.baGuaType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}return null!=e.baGuaType&&e.hasOwnProperty("baGuaType")&&!An.isInteger(e.baGuaType)?"baGuaType: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_BaGuaZhen)return e;var t=new En.base.C2S_BaGuaZhen;switch(e.cmdType){case"GetBaGuaZhen_Cmd":case 1:t.cmdType=1;break;case"Upgrade_Cmd":case 2:t.cmdType=2}return null!=e.baGuaType&&(t.baGuaType=0|e.baGuaType),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetBaGuaZhen_Cmd":1,n.baGuaType=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.BaGuaZhenCmdType[e.cmdType]:e.cmdType),null!=e.baGuaType&&e.hasOwnProperty("baGuaType")&&(n.baGuaType=e.baGuaType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_BaGuaZhen=function(){function e(e){if(this.baGuaInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.baGuaInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.baGuaInfo&&e.baGuaInfo.length)for(var n=0;n<e.baGuaInfo.length;++n)En.base.BaGuaInfoPB.encode(e.baGuaInfo[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_BaGuaZhen;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.baGuaInfo&&i.baGuaInfo.length||(i.baGuaInfo=[]),i.baGuaInfo.push(En.base.BaGuaInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}if(null!=e.baGuaInfo&&e.hasOwnProperty("baGuaInfo")){if(!Array.isArray(e.baGuaInfo))return"baGuaInfo: array expected";for(var t=0;t<e.baGuaInfo.length;++t){var n=En.base.BaGuaInfoPB.verify(e.baGuaInfo[t]);if(n)return"baGuaInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_BaGuaZhen)return e;var t=new En.base.S2C_BaGuaZhen;switch(e.cmdType){case"GetBaGuaZhen_Cmd":case 1:t.cmdType=1;break;case"Upgrade_Cmd":case 2:t.cmdType=2}if(e.baGuaInfo){if(!Array.isArray(e.baGuaInfo))throw TypeError(".base.S2C_BaGuaZhen.baGuaInfo: array expected");t.baGuaInfo=[];for(var n=0;n<e.baGuaInfo.length;++n){if("object"!==Pn(e.baGuaInfo[n]))throw TypeError(".base.S2C_BaGuaZhen.baGuaInfo: object expected");t.baGuaInfo[n]=En.base.BaGuaInfoPB.fromObject(e.baGuaInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.baGuaInfo=[]),t.defaults&&(n.cmdType=t.enums===String?"GetBaGuaZhen_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.BaGuaZhenCmdType[e.cmdType]:e.cmdType),e.baGuaInfo&&e.baGuaInfo.length){n.baGuaInfo=[];for(var i=0;i<e.baGuaInfo.length;++i)n.baGuaInfo[i]=En.base.BaGuaInfoPB.toObject(e.baGuaInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.BaGuaZhenCmdType=(dn={},(hn=Object.create(dn))[dn[1]="GetBaGuaZhen_Cmd"]=1,hn[dn[2]="Upgrade_Cmd"]=2,hn),Dn.BaGuaInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.level=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.level),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.BaGuaInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.level=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("level"))throw An.ProtocolError("missing required 'level'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.type)?An.isInteger(e.level)?null:"level: integer expected":"type: integer expected"},e.fromObject=function(e){if(e instanceof En.base.BaGuaInfoPB)return e;var t=new En.base.BaGuaInfoPB;return null!=e.type&&(t.type=0|e.type),null!=e.level&&(t.level=0|e.level),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=0,n.level=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.BaGuaType=(ln={},(un=Object.create(ln))[ln[1]="Li"]=1,un[ln[2]="Kun"]=2,un[ln[3]="Dui"]=3,un[ln[4]="Qian"]=4,un[ln[5]="Kan"]=5,un[ln[6]="Gen"]=6,un[ln[7]="Zhen"]=7,un[ln[8]="Xun"]=8,un),Dn.FaZhenType=(sn={},(cn=Object.create(sn))[sn[1]="QingLong"]=1,cn[sn[2]="BaiHuZhen"]=2,cn[sn[3]="ZhuQue"]=3,cn[sn[4]="XuanWu"]=4,cn[sn[5]="PiXiu"]=5,cn),Dn.C2S_BiWu=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.challengerID=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.challengerID&&e.hasOwnProperty("challengerID")&&t.uint32(16).int64(e.challengerID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_BiWu;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.challengerID=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null!=e.challengerID&&e.hasOwnProperty("challengerID")&&!(An.isInteger(e.challengerID)||e.challengerID&&An.isInteger(e.challengerID.low)&&An.isInteger(e.challengerID.high))?"challengerID: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_BiWu)return e;var t=new En.base.C2S_BiWu;switch(e.cmdType){case"MatchingInfo_Cmd":case 1:t.cmdType=1;break;case"GetRankInfo_Cmd":case 2:t.cmdType=2;break;case"Fight_Cmd":case 3:t.cmdType=3}return null!=e.challengerID&&(An.Long?(t.challengerID=An.Long.fromValue(e.challengerID)).unsigned=!1:"string"==typeof e.challengerID?t.challengerID=parseInt(e.challengerID,10):"number"==typeof e.challengerID?t.challengerID=e.challengerID:"object"===Pn(e.challengerID)&&(t.challengerID=new An.LongBits(e.challengerID.low>>>0,e.challengerID.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.cmdType=t.enums===String?"MatchingInfo_Cmd":1,An.Long){var i=new An.Long(0,0,!1);n.challengerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.challengerID=t.longs===String?"0":0;return null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.BiWuCmdType[e.cmdType]:e.cmdType),null!=e.challengerID&&e.hasOwnProperty("challengerID")&&("number"==typeof e.challengerID?n.challengerID=t.longs===String?String(e.challengerID):e.challengerID:n.challengerID=t.longs===String?An.Long.prototype.toString.call(e.challengerID):t.longs===Number?new An.LongBits(e.challengerID.low>>>0,e.challengerID.high>>>0).toNumber():e.challengerID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_BiWu=function(){function e(e){if(this.biWuInfo=[],this.reward=[],this.extraReward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.biWuInfo=An.emptyArray,e.prototype.selfRankIndex=0,e.prototype.highestRankIndex=0,e.prototype.result=null,e.prototype.reward=An.emptyArray,e.prototype.extraReward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.biWuInfo&&e.biWuInfo.length)for(var n=0;n<e.biWuInfo.length;++n)En.base.BiWuInfoPB.encode(e.biWuInfo[n],t.uint32(18).fork()).ldelim();if(null!=e.selfRankIndex&&e.hasOwnProperty("selfRankIndex")&&t.uint32(24).int32(e.selfRankIndex),null!=e.highestRankIndex&&e.hasOwnProperty("highestRankIndex")&&t.uint32(32).int32(e.highestRankIndex),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(42).fork()).ldelim(),null!=e.reward&&e.reward.length)for(n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(50).fork()).ldelim();if(null!=e.extraReward&&e.extraReward.length)for(n=0;n<e.extraReward.length;++n)En.base.ResourceMsg.encode(e.extraReward[n],t.uint32(58).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_BiWu;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.biWuInfo&&i.biWuInfo.length||(i.biWuInfo=[]),i.biWuInfo.push(En.base.BiWuInfoPB.decode(e,e.uint32()));break;case 3:i.selfRankIndex=e.int32();break;case 4:i.highestRankIndex=e.int32();break;case 5:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;case 6:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 7:i.extraReward&&i.extraReward.length||(i.extraReward=[]),i.extraReward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.biWuInfo&&e.hasOwnProperty("biWuInfo")){if(!Array.isArray(e.biWuInfo))return"biWuInfo: array expected";for(var t=0;t<e.biWuInfo.length;++t)if(n=En.base.BiWuInfoPB.verify(e.biWuInfo[t]))return"biWuInfo."+n}if(null!=e.selfRankIndex&&e.hasOwnProperty("selfRankIndex")&&!An.isInteger(e.selfRankIndex))return"selfRankIndex: integer expected";if(null!=e.highestRankIndex&&e.hasOwnProperty("highestRankIndex")&&!An.isInteger(e.highestRankIndex))return"highestRankIndex: integer expected";if(null!=e.result&&e.hasOwnProperty("result")&&(n=En.base.FightResultMsg.verify(e.result)))return"result."+n;if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(t=0;t<e.reward.length;++t)if(n=En.base.ResourceMsg.verify(e.reward[t]))return"reward."+n}if(null!=e.extraReward&&e.hasOwnProperty("extraReward")){if(!Array.isArray(e.extraReward))return"extraReward: array expected";for(t=0;t<e.extraReward.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.extraReward[t]))return"extraReward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_BiWu)return e;var t=new En.base.S2C_BiWu;switch(e.cmdType){case"MatchingInfo_Cmd":case 1:t.cmdType=1;break;case"GetRankInfo_Cmd":case 2:t.cmdType=2;break;case"Fight_Cmd":case 3:t.cmdType=3}if(e.biWuInfo){if(!Array.isArray(e.biWuInfo))throw TypeError(".base.S2C_BiWu.biWuInfo: array expected");t.biWuInfo=[];for(var n=0;n<e.biWuInfo.length;++n){if("object"!==Pn(e.biWuInfo[n]))throw TypeError(".base.S2C_BiWu.biWuInfo: object expected");t.biWuInfo[n]=En.base.BiWuInfoPB.fromObject(e.biWuInfo[n])}}if(null!=e.selfRankIndex&&(t.selfRankIndex=0|e.selfRankIndex),null!=e.highestRankIndex&&(t.highestRankIndex=0|e.highestRankIndex),null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_BiWu.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}if(e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_BiWu.reward: array expected");for(t.reward=[],n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_BiWu.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}if(e.extraReward){if(!Array.isArray(e.extraReward))throw TypeError(".base.S2C_BiWu.extraReward: array expected");for(t.extraReward=[],n=0;n<e.extraReward.length;++n){if("object"!==Pn(e.extraReward[n]))throw TypeError(".base.S2C_BiWu.extraReward: object expected");t.extraReward[n]=En.base.ResourceMsg.fromObject(e.extraReward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.biWuInfo=[],n.reward=[],n.extraReward=[]),t.defaults&&(n.cmdType=t.enums===String?"MatchingInfo_Cmd":1,n.selfRankIndex=0,n.highestRankIndex=0,n.result=null),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.BiWuCmdType[e.cmdType]:e.cmdType),e.biWuInfo&&e.biWuInfo.length){n.biWuInfo=[];for(var i=0;i<e.biWuInfo.length;++i)n.biWuInfo[i]=En.base.BiWuInfoPB.toObject(e.biWuInfo[i],t)}if(null!=e.selfRankIndex&&e.hasOwnProperty("selfRankIndex")&&(n.selfRankIndex=e.selfRankIndex),null!=e.highestRankIndex&&e.hasOwnProperty("highestRankIndex")&&(n.highestRankIndex=e.highestRankIndex),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),e.reward&&e.reward.length)for(n.reward=[],i=0;i<e.reward.length;++i)n.reward[i]=En.base.ResourceMsg.toObject(e.reward[i],t);if(e.extraReward&&e.extraReward.length)for(n.extraReward=[],i=0;i<e.extraReward.length;++i)n.extraReward[i]=En.base.ResourceMsg.toObject(e.extraReward[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.BiWuCmdType=(rn={},(an=Object.create(rn))[rn[1]="MatchingInfo_Cmd"]=1,an[rn[2]="GetRankInfo_Cmd"]=2,an[rn[3]="Fight_Cmd"]=3,an),Dn.BiWuInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.rankIndex=0,e.prototype.level=0,e.prototype.nickName="",e.prototype.zhongZu=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.id),null!=e.rankIndex&&e.hasOwnProperty("rankIndex")&&t.uint32(16).int32(e.rankIndex),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(24).int32(e.level),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(34).string(e.nickName),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(40).int32(e.zhongZu),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.BiWuInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.rankIndex=e.int32();break;case 3:i.level=e.int32();break;case 4:i.nickName=e.string();break;case 5:i.zhongZu=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high)?null!=e.rankIndex&&e.hasOwnProperty("rankIndex")&&!An.isInteger(e.rankIndex)?"rankIndex: integer expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu)?"zhongZu: integer expected":null:"id: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.BiWuInfoPB)return e;var t=new En.base.BiWuInfoPB;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.rankIndex&&(t.rankIndex=0|e.rankIndex),null!=e.level&&(t.level=0|e.level),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.rankIndex=0,n.level=0,n.nickName="",n.zhongZu=0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.rankIndex&&e.hasOwnProperty("rankIndex")&&(n.rankIndex=e.rankIndex),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FightInitInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.skill=0,e.prototype.hp=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),null!=e.skill&&e.hasOwnProperty("skill")&&t.uint32(16).int32(e.skill),null!=e.hp&&e.hasOwnProperty("hp")&&t.uint32(24).int64(e.hp),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.FightInitInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.skill=e.int32();break;case 3:i.hp=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null!=e.skill&&e.hasOwnProperty("skill")&&!An.isInteger(e.skill)?"skill: integer expected":null!=e.hp&&e.hasOwnProperty("hp")&&!(An.isInteger(e.hp)||e.hp&&An.isInteger(e.hp.low)&&An.isInteger(e.hp.high))?"hp: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.FightInitInfo)return e;var t=new En.base.FightInitInfo;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.skill&&(t.skill=0|e.skill),null!=e.hp&&(An.Long?(t.hp=An.Long.fromValue(e.hp)).unsigned=!1:"string"==typeof e.hp?t.hp=parseInt(e.hp,10):"number"==typeof e.hp?t.hp=e.hp:"object"===Pn(e.hp)&&(t.hp=new An.LongBits(e.hp.low>>>0,e.hp.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.skill=0,An.Long?(i=new An.Long(0,0,!1),n.hp=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.hp=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.skill&&e.hasOwnProperty("skill")&&(n.skill=e.skill),null!=e.hp&&e.hasOwnProperty("hp")&&("number"==typeof e.hp?n.hp=t.longs===String?String(e.hp):e.hp:n.hp=t.longs===String?An.Long.prototype.toString.call(e.hp):t.longs===Number?new An.LongBits(e.hp.low>>>0,e.hp.high>>>0).toNumber():e.hp),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FightInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attack=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.defense=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.status=0,e.prototype.hurt=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.attack&&e.hasOwnProperty("attack")&&t.uint32(8).int64(e.attack),null!=e.defense&&e.hasOwnProperty("defense")&&t.uint32(16).int64(e.defense),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(24).int32(e.status),null!=e.hurt&&e.hasOwnProperty("hurt")&&t.uint32(32).int32(e.hurt),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.FightInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.attack=e.int64();break;case 2:i.defense=e.int64();break;case 3:i.status=e.int32();break;case 4:i.hurt=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.attack&&e.hasOwnProperty("attack")&&!(An.isInteger(e.attack)||e.attack&&An.isInteger(e.attack.low)&&An.isInteger(e.attack.high))?"attack: integer|Long expected":null!=e.defense&&e.hasOwnProperty("defense")&&!(An.isInteger(e.defense)||e.defense&&An.isInteger(e.defense.low)&&An.isInteger(e.defense.high))?"defense: integer|Long expected":null!=e.status&&e.hasOwnProperty("status")&&!An.isInteger(e.status)?"status: integer expected":null!=e.hurt&&e.hasOwnProperty("hurt")&&!An.isInteger(e.hurt)?"hurt: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.FightInfo)return e;var t=new En.base.FightInfo;return null!=e.attack&&(An.Long?(t.attack=An.Long.fromValue(e.attack)).unsigned=!1:"string"==typeof e.attack?t.attack=parseInt(e.attack,10):"number"==typeof e.attack?t.attack=e.attack:"object"===Pn(e.attack)&&(t.attack=new An.LongBits(e.attack.low>>>0,e.attack.high>>>0).toNumber())),null!=e.defense&&(An.Long?(t.defense=An.Long.fromValue(e.defense)).unsigned=!1:"string"==typeof e.defense?t.defense=parseInt(e.defense,10):"number"==typeof e.defense?t.defense=e.defense:"object"===Pn(e.defense)&&(t.defense=new An.LongBits(e.defense.low>>>0,e.defense.high>>>0).toNumber())),null!=e.status&&(t.status=0|e.status),null!=e.hurt&&(t.hurt=0|e.hurt),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.attack=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.attack=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.defense=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.defense=t.longs===String?"0":0,n.status=0,n.hurt=0}return null!=e.attack&&e.hasOwnProperty("attack")&&("number"==typeof e.attack?n.attack=t.longs===String?String(e.attack):e.attack:n.attack=t.longs===String?An.Long.prototype.toString.call(e.attack):t.longs===Number?new An.LongBits(e.attack.low>>>0,e.attack.high>>>0).toNumber():e.attack),null!=e.defense&&e.hasOwnProperty("defense")&&("number"==typeof e.defense?n.defense=t.longs===String?String(e.defense):e.defense:n.defense=t.longs===String?An.Long.prototype.toString.call(e.defense):t.longs===Number?new An.LongBits(e.defense.low>>>0,e.defense.high>>>0).toNumber():e.defense),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.hurt&&e.hasOwnProperty("hurt")&&(n.hurt=e.hurt),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FightResultMsg=function(){function e(e){if(this.fightInfo=[],this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.init1=null,e.prototype.init2=null,e.prototype.fightInfo=An.emptyArray,e.prototype.win=!1,e.prototype.drop=An.emptyArray,e.prototype.packageFull=!1,e.prototype.npcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.init1&&e.hasOwnProperty("init1")&&En.base.FightInitInfo.encode(e.init1,t.uint32(10).fork()).ldelim(),null!=e.init2&&e.hasOwnProperty("init2")&&En.base.FightInitInfo.encode(e.init2,t.uint32(18).fork()).ldelim(),null!=e.fightInfo&&e.fightInfo.length)for(var n=0;n<e.fightInfo.length;++n)En.base.FightInfo.encode(e.fightInfo[n],t.uint32(26).fork()).ldelim();if(null!=e.win&&e.hasOwnProperty("win")&&t.uint32(32).bool(e.win),null!=e.drop&&e.drop.length)for(n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(42).fork()).ldelim();return null!=e.packageFull&&e.hasOwnProperty("packageFull")&&t.uint32(48).bool(e.packageFull),null!=e.npcId&&e.hasOwnProperty("npcId")&&t.uint32(56).int32(e.npcId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.FightResultMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.init1=En.base.FightInitInfo.decode(e,e.uint32());break;case 2:i.init2=En.base.FightInitInfo.decode(e,e.uint32());break;case 3:i.fightInfo&&i.fightInfo.length||(i.fightInfo=[]),i.fightInfo.push(En.base.FightInfo.decode(e,e.uint32()));break;case 4:i.win=e.bool();break;case 5:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 6:i.packageFull=e.bool();break;case 7:i.npcId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.init1&&e.hasOwnProperty("init1")&&(n=En.base.FightInitInfo.verify(e.init1)))return"init1."+n;if(null!=e.init2&&e.hasOwnProperty("init2")&&(n=En.base.FightInitInfo.verify(e.init2)))return"init2."+n;if(null!=e.fightInfo&&e.hasOwnProperty("fightInfo")){if(!Array.isArray(e.fightInfo))return"fightInfo: array expected";for(var t=0;t<e.fightInfo.length;++t)if(n=En.base.FightInfo.verify(e.fightInfo[t]))return"fightInfo."+n}if(null!=e.win&&e.hasOwnProperty("win")&&"boolean"!=typeof e.win)return"win: boolean expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(t=0;t<e.drop.length;++t){var n;if(n=En.base.ItemMsg.verify(e.drop[t]))return"drop."+n}}return null!=e.packageFull&&e.hasOwnProperty("packageFull")&&"boolean"!=typeof e.packageFull?"packageFull: boolean expected":null!=e.npcId&&e.hasOwnProperty("npcId")&&!An.isInteger(e.npcId)?"npcId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.FightResultMsg)return e;var t=new En.base.FightResultMsg;if(null!=e.init1){if("object"!==Pn(e.init1))throw TypeError(".base.FightResultMsg.init1: object expected");t.init1=En.base.FightInitInfo.fromObject(e.init1)}if(null!=e.init2){if("object"!==Pn(e.init2))throw TypeError(".base.FightResultMsg.init2: object expected");t.init2=En.base.FightInitInfo.fromObject(e.init2)}if(e.fightInfo){if(!Array.isArray(e.fightInfo))throw TypeError(".base.FightResultMsg.fightInfo: array expected");t.fightInfo=[];for(var n=0;n<e.fightInfo.length;++n){if("object"!==Pn(e.fightInfo[n]))throw TypeError(".base.FightResultMsg.fightInfo: object expected");t.fightInfo[n]=En.base.FightInfo.fromObject(e.fightInfo[n])}}if(null!=e.win&&(t.win=Boolean(e.win)),e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.FightResultMsg.drop: array expected");for(t.drop=[],n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.FightResultMsg.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}return null!=e.packageFull&&(t.packageFull=Boolean(e.packageFull)),null!=e.npcId&&(t.npcId=0|e.npcId),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.fightInfo=[],n.drop=[]),t.defaults&&(n.init1=null,n.init2=null,n.win=!1,n.packageFull=!1,n.npcId=0),null!=e.init1&&e.hasOwnProperty("init1")&&(n.init1=En.base.FightInitInfo.toObject(e.init1,t)),null!=e.init2&&e.hasOwnProperty("init2")&&(n.init2=En.base.FightInitInfo.toObject(e.init2,t)),e.fightInfo&&e.fightInfo.length){n.fightInfo=[];for(var i=0;i<e.fightInfo.length;++i)n.fightInfo[i]=En.base.FightInfo.toObject(e.fightInfo[i],t)}if(null!=e.win&&e.hasOwnProperty("win")&&(n.win=e.win),e.drop&&e.drop.length)for(n.drop=[],i=0;i<e.drop.length;++i)n.drop[i]=En.base.ItemMsg.toObject(e.drop[i],t);return null!=e.packageFull&&e.hasOwnProperty("packageFull")&&(n.packageFull=e.packageFull),null!=e.npcId&&e.hasOwnProperty("npcId")&&(n.npcId=e.npcId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.CmdId=(nn={},(on=Object.create(nn))[nn[1]="LOGIN"]=1,on[nn[2]="REGISTER"]=2,on[nn[3]="GET_PLAYER_INFO"]=3,on[nn[4]="RECONNECT"]=4,on[nn[5]="ITEM_CHANGE"]=5,on[nn[6]="ALL_ITEM"]=6,on[nn[7]="USE_ITEM"]=7,on[nn[8]="EXCHANGE_ITEM"]=8,on[nn[9]="SELL_ITEM"]=9,on[nn[10]="CURRENCY_CHANGE"]=10,on[nn[11]="LEVEL_UP"]=11,on[nn[12]="XIU_LIAN"]=12,on[nn[13]="SELL_MANY_EQUIP"]=13,on[nn[14]="UPGRADE_PKG"]=14,on[nn[15]="ALL_PROPERTY"]=15,on[nn[16]="EQUIPMENT_OPT"]=16,on[nn[17]="LEVEL_UP_RATE"]=17,on[nn[18]="ITEM_USE_INFO"]=18,on[nn[19]="ITEM_EXCHANGE_INFO"]=19,on[nn[20]="PKG_LEVEL_CHANGE"]=20,on[nn[21]="DU_JIE_CHANGE"]=21,on[nn[22]="DAN_YAO"]=22,on[nn[23]="SWITCH"]=23,on[nn[24]="JOIN_QQ_GROUP"]=24,on[nn[25]="CDKEY"]=25,on[nn[26]="ACTIVATE"]=26,on[nn[27]="WEAR_LIST"]=27,on[nn[28]="WEAR_SKIN"]=28,on[nn[29]="OFFINE"]=29,on[nn[30]="WORLD"]=30,on[nn[31]="WE_CHAT_SHARE"]=31,on[nn[32]="UPDATE_EXCHANGE"]=32,on[nn[33]="WE_CHAT_FOLLOW"]=33,on[nn[34]="UPDATE_PLAYER_INFO"]=34,on[nn[35]="ITEM_USE_RESULT"]=35,on[nn[36]="MONTH_CARD_REWARD"]=36,on[nn[101]="WUDAO"]=101,on[nn[102]="UPGRADE_WUDAO"]=102,on[nn[103]="UPGRADE_WUDAO_ATTR"]=103,on[nn[201]="MAIL_LIST"]=201,on[nn[202]="MAIL_OPT"]=202,on[nn[203]="MAIL_PUSH"]=203,on[nn[204]="MSG_PUSH"]=204,on[nn[205]="SEND_MSG"]=205,on[nn[301]="DONGFU"]=301,on[nn[302]="UPGRADE_DONGFU"]=302,on[nn[303]="CHANGE_WORKER"]=303,on[nn[304]="ADD_WORKER"]=304,on[nn[305]="XIULIAN_OPT"]=305,on[nn[306]="BUY_WINE"]=306,on[nn[307]="MAKE_ROOM"]=307,on[nn[308]="MAKE_TREASURE"]=308,on[nn[309]="TAKE_TREASURE"]=309,on[nn[310]="READ_BOOK"]=310,on[nn[311]="READ_BOOK_LEVEL_UP"]=311,on[nn[312]="DONGFU_BUILD"]=312,on[nn[313]="DONGFU_SHUGE"]=313,on[nn[314]="STOP_MAKE"]=314,on[nn[315]="ALL_BOOK"]=315,on[nn[316]="BOOKING"]=316,on[nn[317]="MAKE_ROOM_UPDATE"]=317,on[nn[401]="GONG_FA"]=401,on[nn[402]="ADD_MEN_PAI_SKILL_NUM"]=402,on[nn[403]="GONG_FA_CHANGE"]=403,on[nn[501]="JOIN_MENPAI"]=501,on[nn[502]="QUIT_MENPAI"]=502,on[nn[503]="MENPAI"]=503,on[nn[504]="MENPAI_START_TASK"]=504,on[nn[505]="MENPAI_PAY"]=505,on[nn[506]="LIANGONG"]=506,on[nn[507]="MENPAI_GIFT"]=507,on[nn[508]="MENPAI_CHALLENGE"]=508,on[nn[509]="MENPAI_PROMOTION"]=509,on[nn[510]="MENPAI_SAYHI"]=510,on[nn[511]="MENPAI_STUDY_SKILL"]=511,on[nn[512]="MENPAI_STUDY"]=512,on[nn[513]="LIANGONG_COUNT"]=513,on[nn[514]="LING_QUAN_PRACTICE"]=514,on[nn[601]="FANG_SHI_LIST"]=601,on[nn[602]="PURCHASE_GOODS"]=602,on[nn[603]="HEI_SHI"]=603,on[nn[604]="XI_JIE"]=604,on[nn[701]="GO_FISHING"]=701,on[nn[801]="ACTIVITY_CONFIG"]=801,on[nn[802]="PLAYER_TASK"]=802,on[nn[803]="DAILY"]=803,on[nn[804]="GUIDANCE_ACTIVITY"]=804,on[nn[805]="FIRST_RECHARGE"]=805,on[nn[806]="TURN_TABLE"]=806,on[nn[807]="GROW_GIFT"]=807,on[nn[808]="MI_LING"]=808,on[nn[809]="THROUGH_MAP_REWARD"]=809,on[nn[810]="DAILY_RECHARGE"]=810,on[nn[901]="LILIAN_MAP"]=901,on[nn[902]="ENTER_MAP"]=902,on[nn[903]="STEP_IN_MAP"]=903,on[nn[904]="FIGHT_MONSTER"]=904,on[nn[905]="BUY_SHENYOU_ITEM"]=905,on[nn[906]="SET_AUTO_SELL"]=906,on[nn[907]="SHENYOU"]=907,on[nn[908]="STOP_SHENYOU"]=908,on[nn[909]="SHENYOU_LOG"]=909,on[nn[910]="SHENYOU_INFO"]=910,on[nn[911]="MIJING_OPT"]=911,on[nn[912]="CHAPTER_REWARD"]=912,on[nn[913]="CHAPTER_BOSS"]=913,on[nn[914]="NEXT_CHAPTER_MAP"]=914,on[nn[915]="ENTER_CHAPTER"]=915,on[nn[916]="QUICK_CHAPTER"]=916,on[nn[1001]="XI_SUI"]=1001,on[nn[1101]="FENG_YIN_BOSS"]=1101,on[nn[1201]="DaoLv"]=1201,on[nn[1301]="GET_JI_YUAN"]=1301,on[nn[1302]="JI_YUAN"]=1302,on[nn[1303]="GET_QI_YUA"]=1303,on[nn[1401]="RECHARGE"]=1401,on[nn[1402]="RECHARGE_ORDER"]=1402,on[nn[1501]="RedDot"]=1501,on[nn[1601]="FlyUp"]=1601,on[nn[1701]="ZongMen"]=1701,on[nn[1801]="XIAN_FANG_SHOP_LIST"]=1801,on[nn[1802]="PURCHASE_XIAN_FANG_GOODS"]=1802,on[nn[1901]="BiWu"]=1901,on[nn[2001]="BAN_PLAYER"]=2001,on[nn[2002]="ANNOUNCE"]=2002,on[nn[2003]="REFRESH_TABLE"]=2003,on[nn[2004]="SEND_MAIL"]=2004,on[nn[2005]="UPDATE_PLAYER"]=2005,on[nn[2006]="GET_ITEM"]=2006,on[nn[2007]="SERVER_SWICH"]=2007,on[nn[2008]="RECHARGE_CALLBACK"]=2008,on[nn[2009]="HTTP_TEST"]=2009,on[nn[2010]="ADMIN_RECHARGE"]=2010,on[nn[2201]="DA_ZUO"]=2201,on[nn[2202]="DA_ZUO_SPEED_UP"]=2202,on[nn[2203]="PROMOTE_PINZHI"]=2203,on[nn[2204]="TOP_PINZHI"]=2204,on[nn[2205]="ROB"]=2205,on[nn[2206]="MY_DA_ZUO"]=2206,on[nn[2207]="ROB_LIST"]=2207,on[nn[2208]="BUY_ROB"]=2208,on[nn[2209]="XIULIAN_REWARD"]=2209,on[nn[2210]="DA_ZUO_LOG"]=2210,on[nn[3001]="Pet"]=3001,on[nn[3101]="YOU_LI"]=3101,on[nn[3102]="YOU_LI_SHEN_YOU"]=3102,on[nn[3201]="ShenJie"]=3201,on[nn[3301]="FeedBack"]=3301,on[nn[3302]="RANK_LIST"]=3302,on[nn[3303]="RANK_REWARD"]=3303,on[nn[3304]="ATTRIBUTE_RANK_LIST"]=3304,on[nn[3305]="QQ_QUN"]=3305,on[nn[3306]="RANK_FLY_UP_CONFIG"]=3306,on[nn[3307]="RANK_FLY_UP_TIME"]=3307,on[nn[3308]="POP_MSG_PUSH"]=3308,on[nn[3401]="LingMai"]=3401,on[nn[3402]="QI_LING_ACTIVITY"]=3402,on[nn[3501]="DI_GONG"]=3501,on[nn[3502]="RANK_DI_GONG_CID"]=3502,on[nn[3601]="XIAN_MENG"]=3601,on[nn[3701]="WA_BAO"]=3701,on[nn[3801]="BaGuaZhen"]=3801,on[nn[3901]="HUO_LANG_SHOP_LIST"]=3901,on[nn[3902]="PURCHASE_HUO_LANG_GOODS"]=3902,on),Dn.ErrorMsgType=(en={},(tn=Object.create(en))[en[1]="FLOATING"]=1,tn[en[2]="POP_UP"]=2,tn),Dn.ErrorMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.msg="",e.prototype.logout=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.msg&&e.hasOwnProperty("msg")&&t.uint32(18).string(e.msg),null!=e.logout&&e.hasOwnProperty("logout")&&t.uint32(24).bool(e.logout),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ErrorMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.msg=e.string();break;case 3:i.logout=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null!=e.msg&&e.hasOwnProperty("msg")&&!An.isString(e.msg)?"msg: string expected":null!=e.logout&&e.hasOwnProperty("logout")&&"boolean"!=typeof e.logout?"logout: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.ErrorMsg)return e;var t=new En.base.ErrorMsg;switch(e.type){case"FLOATING":case 1:t.type=1;break;case"POP_UP":case 2:t.type=2}return null!=e.msg&&(t.msg=String(e.msg)),null!=e.logout&&(t.logout=Boolean(e.logout)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"FLOATING":1,n.msg="",n.logout=!1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.ErrorMsgType[e.type]:e.type),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),null!=e.logout&&e.hasOwnProperty("logout")&&(n.logout=e.logout),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MsgPack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmd=0,e.prototype.data=An.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmd),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(18).bytes(e.data),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MsgPack;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmd=e.int32();break;case 2:i.data=e.bytes();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmd"))throw An.ProtocolError("missing required 'cmd'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.cmd)?null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||An.isString(e.data))?"data: buffer expected":null:"cmd: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_MsgPack)return e;var t=new En.base.C2S_MsgPack;return null!=e.cmd&&(t.cmd=0|e.cmd),null!=e.data&&("string"==typeof e.data?An.base64.decode(e.data,t.data=An.newBuffer(An.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmd=0,t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=An.newBuffer(n.data)))),null!=e.cmd&&e.hasOwnProperty("cmd")&&(n.cmd=e.cmd),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?An.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MsgPack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmd=0,e.prototype.msg="",e.prototype.data=An.newBuffer([]),e.prototype.errorMsg=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmd),null!=e.msg&&e.hasOwnProperty("msg")&&t.uint32(18).string(e.msg),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(26).bytes(e.data),null!=e.errorMsg&&e.hasOwnProperty("errorMsg")&&En.base.ErrorMsg.encode(e.errorMsg,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MsgPack;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmd=e.int32();break;case 2:i.msg=e.string();break;case 3:i.data=e.bytes();break;case 4:i.errorMsg=En.base.ErrorMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmd"))throw An.ProtocolError("missing required 'cmd'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!An.isInteger(e.cmd))return"cmd: integer expected";if(null!=e.msg&&e.hasOwnProperty("msg")&&!An.isString(e.msg))return"msg: string expected";if(null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||An.isString(e.data)))return"data: buffer expected";if(null!=e.errorMsg&&e.hasOwnProperty("errorMsg")){var t=En.base.ErrorMsg.verify(e.errorMsg);if(t)return"errorMsg."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MsgPack)return e;var t=new En.base.S2C_MsgPack;if(null!=e.cmd&&(t.cmd=0|e.cmd),null!=e.msg&&(t.msg=String(e.msg)),null!=e.data&&("string"==typeof e.data?An.base64.decode(e.data,t.data=An.newBuffer(An.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.errorMsg){if("object"!==Pn(e.errorMsg))throw TypeError(".base.S2C_MsgPack.errorMsg: object expected");t.errorMsg=En.base.ErrorMsg.fromObject(e.errorMsg)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmd=0,n.msg="",t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=An.newBuffer(n.data))),n.errorMsg=null),null!=e.cmd&&e.hasOwnProperty("cmd")&&(n.cmd=e.cmd),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?An.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.errorMsg&&e.hasOwnProperty("errorMsg")&&(n.errorMsg=En.base.ErrorMsg.toObject(e.errorMsg,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ForwardToMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.sid&&e.hasOwnProperty("sid")&&t.uint32(8).int32(e.sid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ForwardToMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.sid=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.sid&&e.hasOwnProperty("sid")&&!An.isInteger(e.sid)?"sid: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_ForwardToMsg)return e;var t=new En.base.C2S_ForwardToMsg;return null!=e.sid&&(t.sid=0|e.sid),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.sid=0),null!=e.sid&&e.hasOwnProperty("sid")&&(n.sid=e.sid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ForwardToMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.sid&&e.hasOwnProperty("sid")&&t.uint32(8).int32(e.sid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ForwardToMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.sid=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.sid&&e.hasOwnProperty("sid")&&!An.isInteger(e.sid)?"sid: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ForwardToMsg)return e;var t=new En.base.S2C_ForwardToMsg;return null!=e.sid&&(t.sid=0|e.sid),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.sid=0),null!=e.sid&&e.hasOwnProperty("sid")&&(n.sid=e.sid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.Gate2LogicMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.msg=null,e.prototype.channelId=An.newBuffer([]),e.prototype.pid=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.ip="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),En.base.C2S_MsgPack.encode(e.msg,t.uint32(10).fork()).ldelim(),null!=e.channelId&&e.hasOwnProperty("channelId")&&t.uint32(18).bytes(e.channelId),null!=e.pid&&e.hasOwnProperty("pid")&&t.uint32(24).int64(e.pid),null!=e.ip&&e.hasOwnProperty("ip")&&t.uint32(34).string(e.ip),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.Gate2LogicMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.msg=En.base.C2S_MsgPack.decode(e,e.uint32());break;case 2:i.channelId=e.bytes();break;case 3:i.pid=e.int64();break;case 4:i.ip=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("msg"))throw An.ProtocolError("missing required 'msg'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";var t=En.base.C2S_MsgPack.verify(e.msg);return t?"msg."+t:null!=e.channelId&&e.hasOwnProperty("channelId")&&!(e.channelId&&"number"==typeof e.channelId.length||An.isString(e.channelId))?"channelId: buffer expected":null!=e.pid&&e.hasOwnProperty("pid")&&!(An.isInteger(e.pid)||e.pid&&An.isInteger(e.pid.low)&&An.isInteger(e.pid.high))?"pid: integer|Long expected":null!=e.ip&&e.hasOwnProperty("ip")&&!An.isString(e.ip)?"ip: string expected":null},e.fromObject=function(e){if(e instanceof En.base.Gate2LogicMsg)return e;var t=new En.base.Gate2LogicMsg;if(null!=e.msg){if("object"!==Pn(e.msg))throw TypeError(".base.Gate2LogicMsg.msg: object expected");t.msg=En.base.C2S_MsgPack.fromObject(e.msg)}return null!=e.channelId&&("string"==typeof e.channelId?An.base64.decode(e.channelId,t.channelId=An.newBuffer(An.base64.length(e.channelId)),0):e.channelId.length&&(t.channelId=e.channelId)),null!=e.pid&&(An.Long?(t.pid=An.Long.fromValue(e.pid)).unsigned=!1:"string"==typeof e.pid?t.pid=parseInt(e.pid,10):"number"==typeof e.pid?t.pid=e.pid:"object"===Pn(e.pid)&&(t.pid=new An.LongBits(e.pid.low>>>0,e.pid.high>>>0).toNumber())),null!=e.ip&&(t.ip=String(e.ip)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.msg=null,t.bytes===String?n.channelId="":(n.channelId=[],t.bytes!==Array&&(n.channelId=An.newBuffer(n.channelId))),An.Long){var i=new An.Long(0,0,!1);n.pid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.pid=t.longs===String?"0":0;n.ip=""}return null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=En.base.C2S_MsgPack.toObject(e.msg,t)),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=t.bytes===String?An.base64.encode(e.channelId,0,e.channelId.length):t.bytes===Array?Array.prototype.slice.call(e.channelId):e.channelId),null!=e.pid&&e.hasOwnProperty("pid")&&("number"==typeof e.pid?n.pid=t.longs===String?String(e.pid):e.pid:n.pid=t.longs===String?An.Long.prototype.toString.call(e.pid):t.longs===Number?new An.LongBits(e.pid.low>>>0,e.pid.high>>>0).toNumber():e.pid),null!=e.ip&&e.hasOwnProperty("ip")&&(n.ip=e.ip),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.Logic2GateMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.msg=null,e.prototype.channelId=An.newBuffer([]),e.prototype.pid=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.close=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.msg&&e.hasOwnProperty("msg")&&En.base.S2C_MsgPack.encode(e.msg,t.uint32(10).fork()).ldelim(),null!=e.channelId&&e.hasOwnProperty("channelId")&&t.uint32(18).bytes(e.channelId),null!=e.pid&&e.hasOwnProperty("pid")&&t.uint32(24).int64(e.pid),null!=e.close&&e.hasOwnProperty("close")&&t.uint32(32).bool(e.close),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.Logic2GateMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.msg=En.base.S2C_MsgPack.decode(e,e.uint32());break;case 2:i.channelId=e.bytes();break;case 3:i.pid=e.int64();break;case 4:i.close=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.msg&&e.hasOwnProperty("msg")){var t=En.base.S2C_MsgPack.verify(e.msg);if(t)return"msg."+t}return null!=e.channelId&&e.hasOwnProperty("channelId")&&!(e.channelId&&"number"==typeof e.channelId.length||An.isString(e.channelId))?"channelId: buffer expected":null!=e.pid&&e.hasOwnProperty("pid")&&!(An.isInteger(e.pid)||e.pid&&An.isInteger(e.pid.low)&&An.isInteger(e.pid.high))?"pid: integer|Long expected":null!=e.close&&e.hasOwnProperty("close")&&"boolean"!=typeof e.close?"close: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.Logic2GateMsg)return e;var t=new En.base.Logic2GateMsg;if(null!=e.msg){if("object"!==Pn(e.msg))throw TypeError(".base.Logic2GateMsg.msg: object expected");t.msg=En.base.S2C_MsgPack.fromObject(e.msg)}return null!=e.channelId&&("string"==typeof e.channelId?An.base64.decode(e.channelId,t.channelId=An.newBuffer(An.base64.length(e.channelId)),0):e.channelId.length&&(t.channelId=e.channelId)),null!=e.pid&&(An.Long?(t.pid=An.Long.fromValue(e.pid)).unsigned=!1:"string"==typeof e.pid?t.pid=parseInt(e.pid,10):"number"==typeof e.pid?t.pid=e.pid:"object"===Pn(e.pid)&&(t.pid=new An.LongBits(e.pid.low>>>0,e.pid.high>>>0).toNumber())),null!=e.close&&(t.close=Boolean(e.close)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.msg=null,t.bytes===String?n.channelId="":(n.channelId=[],t.bytes!==Array&&(n.channelId=An.newBuffer(n.channelId))),An.Long){var i=new An.Long(0,0,!1);n.pid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.pid=t.longs===String?"0":0;n.close=!1}return null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=En.base.S2C_MsgPack.toObject(e.msg,t)),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=t.bytes===String?An.base64.encode(e.channelId,0,e.channelId.length):t.bytes===Array?Array.prototype.slice.call(e.channelId):e.channelId),null!=e.pid&&e.hasOwnProperty("pid")&&("number"==typeof e.pid?n.pid=t.longs===String?String(e.pid):e.pid:n.pid=t.longs===String?An.Long.prototype.toString.call(e.pid):t.longs===Number?new An.LongBits(e.pid.low>>>0,e.pid.high>>>0).toNumber():e.pid),null!=e.close&&e.hasOwnProperty("close")&&(n.close=e.close),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.PropertyType=(Kt={},($t=Object.create(Kt))[Kt[1]="TiPo"]=1,$t[Kt[2]="ZhenQi"]=2,$t[Kt[3]="GenGu"]=3,$t[Kt[4]="ShenFa"]=4,$t[Kt[5]="LingLi"]=5,$t[Kt[6]="WuXing"]=6,$t[Kt[7]="JiYuan"]=7,$t[Kt[101]="JinXi"]=101,$t[Kt[102]="MuXi"]=102,$t[Kt[103]="ShuiXi"]=103,$t[Kt[104]="HuoXi"]=104,$t[Kt[105]="TuXi"]=105,$t[Kt[201]="RenZu"]=201,$t[Kt[202]="YaoZu"]=202,$t[Kt[203]="MoZu"]=203,$t[Kt[204]="ShouZu"]=204,$t[Kt[205]="LongZu"]=205,$t[Kt[206]="XianRen"]=206,$t[Kt[301]="ZhengQi"]=301,$t[Kt[302]="XieQi"]=302,$t[Kt[1001]="ShengMing"]=1001,$t[Kt[1002]="GongJi"]=1002,$t[Kt[1003]="FangYu"]=1003,$t[Kt[1004]="ShanBi"]=1004,$t[Kt[1005]="BaoJi"]=1005,$t[Kt[1006]="XiuLianSuDu"]=1006,$t[Kt[1007]="LingLiHuoQu"]=1007,$t),Dn.ItemType=(Vt={},(zt=Object.create(Vt))[Vt[0]="CURRENCY"]=0,zt[Vt[1]="ITEM"]=1,zt[Vt[2]="EQUIPMENT"]=2,zt[Vt[3]="MEDICINE"]=3,zt[Vt[4]="WINE"]=4,zt[Vt[5]="FISH"]=5,zt[Vt[14]="TreasureMap"]=14,zt),Dn.ZhongZuType=(Yt={},(Qt=Object.create(Yt))[Yt[1]="REN"]=1,Qt[Yt[2]="YAO"]=2,Qt[Yt[3]="MO"]=3,Qt[Yt[4]="XIAN"]=4,Qt[Yt[5]="LONG"]=5,Qt[Yt[6]="SHOU"]=6,Qt),Dn.ZhiWeiType=(qt={},(Jt=Object.create(qt))[qt[0]="WaiMen"]=0,Jt[qt[1]="NeiMen"]=1,Jt[qt[2]="QinChuan"]=2,Jt[qt[3]="GongFeng"]=3,Jt[qt[4]="HuFa"]=4,Jt[qt[5]="DaiLiZhangMen"]=5,Jt),Dn.PlayerTaskType=(Xt={},(Zt=Object.create(Xt))[Xt[1]="Login"]=1,Zt[Xt[2]="LiLian"]=2,Zt[Xt[3]="HeiShi"]=3,Zt[Xt[4]="DaoLvGivingGift"]=4,Zt[Xt[5]="MakeTea"]=5,Zt[Xt[6]="PracticeRoom"]=6,Zt[Xt[7]="MenPaiSalary"]=7,Zt[Xt[8]="PracticeDanDao"]=8,Zt[Xt[9]="PracticeQiDao"]=9,Zt[Xt[10]="LianDan"]=10,Zt[Xt[11]="LianQi"]=11,Zt[Xt[12]="MakeXianNiang"]=12,Zt[Xt[13]="WuDao"]=13,Zt[Xt[14]="ShuangXiu"]=14,Zt[Xt[15]="GoFishing"]=15,Zt[Xt[16]="MenPaiExchange"]=16,Zt[Xt[17]="FengYinBoss"]=17,Zt[Xt[18]="ShopXiJie"]=18,Zt[Xt[19]="DongFuUpgrade"]=19,Zt[Xt[20]="XiuLian"]=20,Zt[Xt[21]="UseItem"]=21,Zt[Xt[22]="UpgradeLingChi"]=22,Zt[Xt[23]="GetXianPu"]=23,Zt[Xt[24]="XianPuDistribute"]=24,Zt[Xt[25]="JoinInMenPai"]=25,Zt[Xt[26]="StudyMenPaiGongFa"]=26,Zt[Xt[27]="UpgradeSkill"]=27,Zt[Xt[28]="AddDaoLvIntimacy"]=28,Zt[Xt[29]="ThroughMap"]=29,Zt[Xt[30]="PurchaseByType"]=30,Zt[Xt[31]="LevelUp"]=31,Zt[Xt[32]="CreateDanFang"]=32,Zt[Xt[33]="LevelUpDanDao"]=33,Zt[Xt[34]="PurchaseByItemID"]=34,Zt[Xt[35]="MakeDanYao"]=35,Zt[Xt[36]="GetMakeDanYao"]=36,Zt[Xt[37]="CreateQiShi"]=37,Zt[Xt[38]="LevelUpQiDao"]=38,Zt[Xt[39]="MakeQi"]=39,Zt[Xt[40]="GetMakeQi"]=40,Zt[Xt[41]="WearEquipment"]=41,Zt[Xt[42]="MenPaiTask"]=42,Zt[Xt[43]="CreateShuGe"]=43,Zt[Xt[44]="UseTypeItem"]=44,Zt[Xt[45]="UpgradeWuDao"]=45,Zt[Xt[46]="UpgradeProductFood"]=46,Zt[Xt[47]="DoJiYuan"]=47,Zt[Xt[48]="WearEquipmentTimes"]=48,Zt[Xt[49]="UpgradeProductMood"]=49,Zt[Xt[50]="BreakThrough"]=50,Zt[Xt[51]="QiYu"]=51,Zt[Xt[52]="GoFishingExchange"]=52,Zt[Xt[53]="PurchaseXianNiang"]=53,Zt[Xt[54]="MakeTypeXianNiang"]=54,Zt[Xt[55]="UseItemType"]=55,Zt[Xt[57]="ExchangeByID"]=57,Zt[Xt[58]="MenPaiDutyLevel"]=58,Zt[Xt[59]="ThroughNewMap"]=59,Zt[Xt[60]="ThroughChapter"]=60,Zt[Xt[61]="LingQuanXiuLian"]=61,Zt[Xt[62]="ThroughFlyUpMap"]=62,Zt[Xt[63]="ChapterQuickFight"]=63,Zt[Xt[64]="SellOut"]=64,Zt),Dn.SwitchType=(Ut={},(Ht=Object.create(Ut))[Ut[-1]="GetAll"]=-1,Ht[Ut[0]="WuDaoAuto"]=0,Ht[Ut[1]="GongFaAuto"]=1,Ht[Ut[2]="GoFishingAuto"]=2,Ht[Ut[3]="DongFuAuto"]=3,Ht[Ut[4]="PiXiuZhen"]=4,Ht[Ut[62]="UnSetBit"]=62,Ht),Dn.WearType=(Wt={},(jt=Object.create(Wt))[Wt[1]="Fudi"]=1,jt[Wt[2]="Title"]=2,jt[Wt[3]="Skin"]=3,jt[Wt[4]="FaXiang"]=4,jt),Dn.VipType=(Ft={},(Gt=Object.create(Ft))[Ft[1]="MonthlyCard"]=1,Gt[Ft[2]="ForverCard"]=2,Gt),Dn.C2S_PlayerDailyTask=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PlayerDailyTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 2:i.id=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_PlayerDailyTask)return e;var t=new En.base.C2S_PlayerDailyTask;switch(e.cmdTyp){case"GetDailyTask_Cmd":case 1:t.cmdTyp=1;break;case"UpdateDaily_Cmd":case 2:t.cmdTyp=2;break;case"Received_Cmd":case 3:t.cmdTyp=3;break;case"Retrieve_Cmd":case 4:t.cmdTyp=4;break;case"UpgradeDailyAttr_Cmd":case 5:t.cmdTyp=5}return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdTyp=t.enums===String?"GetDailyTask_Cmd":1,n.id=0),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.DailyCmdType[e.cmdTyp]:e.cmdTyp),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PlayerDailyTask=function(){function e(e){if(this.dailyTask=[],this.dailyRewardInfo=[],this.retrieveRewardInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.todayActivityLevel=0,e.prototype.totalActivityLevel=0,e.prototype.dailyLevel=0,e.prototype.dailyTask=An.emptyArray,e.prototype.dailyRewardInfo=An.emptyArray,e.prototype.retrieveRewardInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.todayActivityLevel&&e.hasOwnProperty("todayActivityLevel")&&t.uint32(16).int32(e.todayActivityLevel),null!=e.totalActivityLevel&&e.hasOwnProperty("totalActivityLevel")&&t.uint32(24).int32(e.totalActivityLevel),null!=e.dailyLevel&&e.hasOwnProperty("dailyLevel")&&t.uint32(32).int32(e.dailyLevel),null!=e.dailyTask&&e.dailyTask.length)for(var n=0;n<e.dailyTask.length;++n)En.base.DailyEventInfoPB.encode(e.dailyTask[n],t.uint32(42).fork()).ldelim();if(null!=e.dailyRewardInfo&&e.dailyRewardInfo.length)for(n=0;n<e.dailyRewardInfo.length;++n)En.base.DailyRewardInfoPB.encode(e.dailyRewardInfo[n],t.uint32(50).fork()).ldelim();if(null!=e.retrieveRewardInfo&&e.retrieveRewardInfo.length)for(n=0;n<e.retrieveRewardInfo.length;++n)En.base.DailyRewardInfoPB.encode(e.retrieveRewardInfo[n],t.uint32(58).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PlayerDailyTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 2:i.todayActivityLevel=e.int32();break;case 3:i.totalActivityLevel=e.int32();break;case 4:i.dailyLevel=e.int32();break;case 5:i.dailyTask&&i.dailyTask.length||(i.dailyTask=[]),i.dailyTask.push(En.base.DailyEventInfoPB.decode(e,e.uint32()));break;case 6:i.dailyRewardInfo&&i.dailyRewardInfo.length||(i.dailyRewardInfo=[]),i.dailyRewardInfo.push(En.base.DailyRewardInfoPB.decode(e,e.uint32()));break;case 7:i.retrieveRewardInfo&&i.retrieveRewardInfo.length||(i.retrieveRewardInfo=[]),i.retrieveRewardInfo.push(En.base.DailyRewardInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:case 3:case 4:case 5:}if(null!=e.todayActivityLevel&&e.hasOwnProperty("todayActivityLevel")&&!An.isInteger(e.todayActivityLevel))return"todayActivityLevel: integer expected";if(null!=e.totalActivityLevel&&e.hasOwnProperty("totalActivityLevel")&&!An.isInteger(e.totalActivityLevel))return"totalActivityLevel: integer expected";if(null!=e.dailyLevel&&e.hasOwnProperty("dailyLevel")&&!An.isInteger(e.dailyLevel))return"dailyLevel: integer expected";if(null!=e.dailyTask&&e.hasOwnProperty("dailyTask")){if(!Array.isArray(e.dailyTask))return"dailyTask: array expected";for(var t=0;t<e.dailyTask.length;++t)if(n=En.base.DailyEventInfoPB.verify(e.dailyTask[t]))return"dailyTask."+n}if(null!=e.dailyRewardInfo&&e.hasOwnProperty("dailyRewardInfo")){if(!Array.isArray(e.dailyRewardInfo))return"dailyRewardInfo: array expected";for(t=0;t<e.dailyRewardInfo.length;++t)if(n=En.base.DailyRewardInfoPB.verify(e.dailyRewardInfo[t]))return"dailyRewardInfo."+n}if(null!=e.retrieveRewardInfo&&e.hasOwnProperty("retrieveRewardInfo")){if(!Array.isArray(e.retrieveRewardInfo))return"retrieveRewardInfo: array expected";for(t=0;t<e.retrieveRewardInfo.length;++t){var n;if(n=En.base.DailyRewardInfoPB.verify(e.retrieveRewardInfo[t]))return"retrieveRewardInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_PlayerDailyTask)return e;var t=new En.base.S2C_PlayerDailyTask;switch(e.cmdTyp){case"GetDailyTask_Cmd":case 1:t.cmdTyp=1;break;case"UpdateDaily_Cmd":case 2:t.cmdTyp=2;break;case"Received_Cmd":case 3:t.cmdTyp=3;break;case"Retrieve_Cmd":case 4:t.cmdTyp=4;break;case"UpgradeDailyAttr_Cmd":case 5:t.cmdTyp=5}if(null!=e.todayActivityLevel&&(t.todayActivityLevel=0|e.todayActivityLevel),null!=e.totalActivityLevel&&(t.totalActivityLevel=0|e.totalActivityLevel),null!=e.dailyLevel&&(t.dailyLevel=0|e.dailyLevel),e.dailyTask){if(!Array.isArray(e.dailyTask))throw TypeError(".base.S2C_PlayerDailyTask.dailyTask: array expected");t.dailyTask=[];for(var n=0;n<e.dailyTask.length;++n){if("object"!==Pn(e.dailyTask[n]))throw TypeError(".base.S2C_PlayerDailyTask.dailyTask: object expected");t.dailyTask[n]=En.base.DailyEventInfoPB.fromObject(e.dailyTask[n])}}if(e.dailyRewardInfo){if(!Array.isArray(e.dailyRewardInfo))throw TypeError(".base.S2C_PlayerDailyTask.dailyRewardInfo: array expected");for(t.dailyRewardInfo=[],n=0;n<e.dailyRewardInfo.length;++n){if("object"!==Pn(e.dailyRewardInfo[n]))throw TypeError(".base.S2C_PlayerDailyTask.dailyRewardInfo: object expected");t.dailyRewardInfo[n]=En.base.DailyRewardInfoPB.fromObject(e.dailyRewardInfo[n])}}if(e.retrieveRewardInfo){if(!Array.isArray(e.retrieveRewardInfo))throw TypeError(".base.S2C_PlayerDailyTask.retrieveRewardInfo: array expected");for(t.retrieveRewardInfo=[],n=0;n<e.retrieveRewardInfo.length;++n){if("object"!==Pn(e.retrieveRewardInfo[n]))throw TypeError(".base.S2C_PlayerDailyTask.retrieveRewardInfo: object expected");t.retrieveRewardInfo[n]=En.base.DailyRewardInfoPB.fromObject(e.retrieveRewardInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dailyTask=[],n.dailyRewardInfo=[],n.retrieveRewardInfo=[]),t.defaults&&(n.cmdTyp=t.enums===String?"GetDailyTask_Cmd":1,n.todayActivityLevel=0,n.totalActivityLevel=0,n.dailyLevel=0),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.DailyCmdType[e.cmdTyp]:e.cmdTyp),null!=e.todayActivityLevel&&e.hasOwnProperty("todayActivityLevel")&&(n.todayActivityLevel=e.todayActivityLevel),null!=e.totalActivityLevel&&e.hasOwnProperty("totalActivityLevel")&&(n.totalActivityLevel=e.totalActivityLevel),null!=e.dailyLevel&&e.hasOwnProperty("dailyLevel")&&(n.dailyLevel=e.dailyLevel),e.dailyTask&&e.dailyTask.length){n.dailyTask=[];for(var i=0;i<e.dailyTask.length;++i)n.dailyTask[i]=En.base.DailyEventInfoPB.toObject(e.dailyTask[i],t)}if(e.dailyRewardInfo&&e.dailyRewardInfo.length)for(n.dailyRewardInfo=[],i=0;i<e.dailyRewardInfo.length;++i)n.dailyRewardInfo[i]=En.base.DailyRewardInfoPB.toObject(e.dailyRewardInfo[i],t);if(e.retrieveRewardInfo&&e.retrieveRewardInfo.length)for(n.retrieveRewardInfo=[],i=0;i<e.retrieveRewardInfo.length;++i)n.retrieveRewardInfo[i]=En.base.DailyRewardInfoPB.toObject(e.retrieveRewardInfo[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DailyEventInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.processing=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.processing&&e.hasOwnProperty("processing")&&t.uint32(16).int32(e.processing),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.DailyEventInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.processing=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.processing&&e.hasOwnProperty("processing")&&!An.isInteger(e.processing)?"processing: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.DailyEventInfoPB)return e;var t=new En.base.DailyEventInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.processing&&(t.processing=0|e.processing),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.processing=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.processing&&e.hasOwnProperty("processing")&&(n.processing=e.processing),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DailyRewardInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.state=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.state&&e.hasOwnProperty("state")&&t.uint32(16).int32(e.state),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.DailyRewardInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.state=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.state&&e.hasOwnProperty("state")&&!An.isInteger(e.state)?"state: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.DailyRewardInfoPB)return e;var t=new En.base.DailyRewardInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.state&&(t.state=0|e.state),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.state=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DailyCmdType=(At={},(Et=Object.create(At))[At[1]="GetDailyTask_Cmd"]=1,Et[At[2]="UpdateDaily_Cmd"]=2,Et[At[3]="Received_Cmd"]=3,Et[At[4]="Retrieve_Cmd"]=4,Et[At[5]="UpgradeDailyAttr_Cmd"]=5,Et),Dn.DailyStateType=(Ot={},(Rt=Object.create(Ot))[Ot[0]="Processing"]=0,Rt[Ot[1]="Finish"]=1,Rt[Ot[2]="Received"]=2,Rt[Ot[3]="Retrieve"]=3,Rt),Dn.DailyRewardType=(Pt={},(Nt=Object.create(Pt))[Pt[1]="Today"]=1,Nt[Pt[2]="YesterdayRetrieve"]=2,Nt),Dn.C2S_DaoLv=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DaoLv;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.id=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_DaoLv)return e;var t=new En.base.C2S_DaoLv;switch(e.cmdType){case"GetDaoLv_Cmd":case 1:t.cmdType=1;break;case"GifgGiving_Cmd":case 2:t.cmdType=2;break;case"TakeHome_Cmd":case 3:t.cmdType=3;break;case"YuanJin_Cmd":case 4:t.cmdType=4;break;case"TakeRoom_Cmd":case 5:t.cmdType=5;break;case"ShuangXiu_Cmd":case 6:t.cmdType=6;break;case"ShuangXiuLog_Cmd":case 7:t.cmdType=7;break;case"CompareNotes_Cmd":case 8:t.cmdType=8}return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetDaoLv_Cmd":1,n.id=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.DaoLvCmdType[e.cmdType]:e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DaoLv=function(){function e(e){if(this.daoLvInfo=[],this.natureOtherValue=[],this.xiuLianLog=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.daoLvInfo=An.emptyArray,e.prototype.curShungXiuCount=0,e.prototype.natureOtherValue=An.emptyArray,e.prototype.natureEffect=0,e.prototype.physiqueReduceEffect=0,e.prototype.xiuLianLog=An.emptyArray,e.prototype.natureRefuseShuangXiu=!1,e.prototype.result=null,e.prototype.fightResult=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.daoLvInfo&&e.daoLvInfo.length)for(var n=0;n<e.daoLvInfo.length;++n)En.base.DaoLvInfoPB.encode(e.daoLvInfo[n],t.uint32(18).fork()).ldelim();if(null!=e.curShungXiuCount&&e.hasOwnProperty("curShungXiuCount")&&t.uint32(24).int32(e.curShungXiuCount),null!=e.natureOtherValue&&e.natureOtherValue.length)for(n=0;n<e.natureOtherValue.length;++n)En.base.ResourceMsg.encode(e.natureOtherValue[n],t.uint32(34).fork()).ldelim();if(null!=e.natureEffect&&e.hasOwnProperty("natureEffect")&&t.uint32(40).int32(e.natureEffect),null!=e.physiqueReduceEffect&&e.hasOwnProperty("physiqueReduceEffect")&&t.uint32(48).int32(e.physiqueReduceEffect),null!=e.xiuLianLog&&e.xiuLianLog.length)for(n=0;n<e.xiuLianLog.length;++n)En.base.ShuangXiuLogInfoPB.encode(e.xiuLianLog[n],t.uint32(58).fork()).ldelim();return null!=e.natureRefuseShuangXiu&&e.hasOwnProperty("natureRefuseShuangXiu")&&t.uint32(64).bool(e.natureRefuseShuangXiu),null!=e.result&&e.hasOwnProperty("result")&&En.base.ResultInfoPB.encode(e.result,t.uint32(74).fork()).ldelim(),null!=e.fightResult&&e.hasOwnProperty("fightResult")&&En.base.FightResultMsg.encode(e.fightResult,t.uint32(82).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DaoLv;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.daoLvInfo&&i.daoLvInfo.length||(i.daoLvInfo=[]),i.daoLvInfo.push(En.base.DaoLvInfoPB.decode(e,e.uint32()));break;case 3:i.curShungXiuCount=e.int32();break;case 4:i.natureOtherValue&&i.natureOtherValue.length||(i.natureOtherValue=[]),i.natureOtherValue.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 5:i.natureEffect=e.int32();break;case 6:i.physiqueReduceEffect=e.int32();break;case 7:i.xiuLianLog&&i.xiuLianLog.length||(i.xiuLianLog=[]),i.xiuLianLog.push(En.base.ShuangXiuLogInfoPB.decode(e,e.uint32()));break;case 8:i.natureRefuseShuangXiu=e.bool();break;case 9:i.result=En.base.ResultInfoPB.decode(e,e.uint32());break;case 10:i.fightResult=En.base.FightResultMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}if(null!=e.daoLvInfo&&e.hasOwnProperty("daoLvInfo")){if(!Array.isArray(e.daoLvInfo))return"daoLvInfo: array expected";for(var t=0;t<e.daoLvInfo.length;++t)if(n=En.base.DaoLvInfoPB.verify(e.daoLvInfo[t]))return"daoLvInfo."+n}if(null!=e.curShungXiuCount&&e.hasOwnProperty("curShungXiuCount")&&!An.isInteger(e.curShungXiuCount))return"curShungXiuCount: integer expected";if(null!=e.natureOtherValue&&e.hasOwnProperty("natureOtherValue")){if(!Array.isArray(e.natureOtherValue))return"natureOtherValue: array expected";for(t=0;t<e.natureOtherValue.length;++t)if(n=En.base.ResourceMsg.verify(e.natureOtherValue[t]))return"natureOtherValue."+n}if(null!=e.natureEffect&&e.hasOwnProperty("natureEffect")&&!An.isInteger(e.natureEffect))return"natureEffect: integer expected";if(null!=e.physiqueReduceEffect&&e.hasOwnProperty("physiqueReduceEffect")&&!An.isInteger(e.physiqueReduceEffect))return"physiqueReduceEffect: integer expected";if(null!=e.xiuLianLog&&e.hasOwnProperty("xiuLianLog")){if(!Array.isArray(e.xiuLianLog))return"xiuLianLog: array expected";for(t=0;t<e.xiuLianLog.length;++t)if(n=En.base.ShuangXiuLogInfoPB.verify(e.xiuLianLog[t]))return"xiuLianLog."+n}return null!=e.natureRefuseShuangXiu&&e.hasOwnProperty("natureRefuseShuangXiu")&&"boolean"!=typeof e.natureRefuseShuangXiu?"natureRefuseShuangXiu: boolean expected":null!=e.result&&e.hasOwnProperty("result")&&(n=En.base.ResultInfoPB.verify(e.result))?"result."+n:null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n=En.base.FightResultMsg.verify(e.fightResult))?"fightResult."+n:null;var n},e.fromObject=function(e){if(e instanceof En.base.S2C_DaoLv)return e;var t=new En.base.S2C_DaoLv;switch(e.cmdType){case"GetDaoLv_Cmd":case 1:t.cmdType=1;break;case"GifgGiving_Cmd":case 2:t.cmdType=2;break;case"TakeHome_Cmd":case 3:t.cmdType=3;break;case"YuanJin_Cmd":case 4:t.cmdType=4;break;case"TakeRoom_Cmd":case 5:t.cmdType=5;break;case"ShuangXiu_Cmd":case 6:t.cmdType=6;break;case"ShuangXiuLog_Cmd":case 7:t.cmdType=7;break;case"CompareNotes_Cmd":case 8:t.cmdType=8}if(e.daoLvInfo){if(!Array.isArray(e.daoLvInfo))throw TypeError(".base.S2C_DaoLv.daoLvInfo: array expected");t.daoLvInfo=[];for(var n=0;n<e.daoLvInfo.length;++n){if("object"!==Pn(e.daoLvInfo[n]))throw TypeError(".base.S2C_DaoLv.daoLvInfo: object expected");t.daoLvInfo[n]=En.base.DaoLvInfoPB.fromObject(e.daoLvInfo[n])}}if(null!=e.curShungXiuCount&&(t.curShungXiuCount=0|e.curShungXiuCount),e.natureOtherValue){if(!Array.isArray(e.natureOtherValue))throw TypeError(".base.S2C_DaoLv.natureOtherValue: array expected");for(t.natureOtherValue=[],n=0;n<e.natureOtherValue.length;++n){if("object"!==Pn(e.natureOtherValue[n]))throw TypeError(".base.S2C_DaoLv.natureOtherValue: object expected");t.natureOtherValue[n]=En.base.ResourceMsg.fromObject(e.natureOtherValue[n])}}if(null!=e.natureEffect&&(t.natureEffect=0|e.natureEffect),null!=e.physiqueReduceEffect&&(t.physiqueReduceEffect=0|e.physiqueReduceEffect),e.xiuLianLog){if(!Array.isArray(e.xiuLianLog))throw TypeError(".base.S2C_DaoLv.xiuLianLog: array expected");for(t.xiuLianLog=[],n=0;n<e.xiuLianLog.length;++n){if("object"!==Pn(e.xiuLianLog[n]))throw TypeError(".base.S2C_DaoLv.xiuLianLog: object expected");t.xiuLianLog[n]=En.base.ShuangXiuLogInfoPB.fromObject(e.xiuLianLog[n])}}if(null!=e.natureRefuseShuangXiu&&(t.natureRefuseShuangXiu=Boolean(e.natureRefuseShuangXiu)),null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_DaoLv.result: object expected");t.result=En.base.ResultInfoPB.fromObject(e.result)}if(null!=e.fightResult){if("object"!==Pn(e.fightResult))throw TypeError(".base.S2C_DaoLv.fightResult: object expected");t.fightResult=En.base.FightResultMsg.fromObject(e.fightResult)}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.daoLvInfo=[],n.natureOtherValue=[],n.xiuLianLog=[]),t.defaults&&(n.cmdType=t.enums===String?"GetDaoLv_Cmd":1,n.curShungXiuCount=0,n.natureEffect=0,n.physiqueReduceEffect=0,n.natureRefuseShuangXiu=!1,n.result=null,n.fightResult=null),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.DaoLvCmdType[e.cmdType]:e.cmdType),e.daoLvInfo&&e.daoLvInfo.length){n.daoLvInfo=[];for(var i=0;i<e.daoLvInfo.length;++i)n.daoLvInfo[i]=En.base.DaoLvInfoPB.toObject(e.daoLvInfo[i],t)}if(null!=e.curShungXiuCount&&e.hasOwnProperty("curShungXiuCount")&&(n.curShungXiuCount=e.curShungXiuCount),e.natureOtherValue&&e.natureOtherValue.length)for(n.natureOtherValue=[],i=0;i<e.natureOtherValue.length;++i)n.natureOtherValue[i]=En.base.ResourceMsg.toObject(e.natureOtherValue[i],t);if(null!=e.natureEffect&&e.hasOwnProperty("natureEffect")&&(n.natureEffect=e.natureEffect),null!=e.physiqueReduceEffect&&e.hasOwnProperty("physiqueReduceEffect")&&(n.physiqueReduceEffect=e.physiqueReduceEffect),e.xiuLianLog&&e.xiuLianLog.length)for(n.xiuLianLog=[],i=0;i<e.xiuLianLog.length;++i)n.xiuLianLog[i]=En.base.ShuangXiuLogInfoPB.toObject(e.xiuLianLog[i],t);return null!=e.natureRefuseShuangXiu&&e.hasOwnProperty("natureRefuseShuangXiu")&&(n.natureRefuseShuangXiu=e.natureRefuseShuangXiu),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.ResultInfoPB.toObject(e.result,t)),null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n.fightResult=En.base.FightResultMsg.toObject(e.fightResult,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.RelationshipType=(Bt={},(Dt=Object.create(Bt))[Bt[1]="Stranger"]=1,Dt[Bt[2]="SoulMate"]=2,Dt[Bt[3]="HappyCouple"]=3,Dt[Bt[4]="ShuangXiu"]=4,Dt),Dn.DaoLvCmdType=(Lt={},(Mt=Object.create(Lt))[Lt[1]="GetDaoLv_Cmd"]=1,Mt[Lt[2]="GifgGiving_Cmd"]=2,Mt[Lt[3]="TakeHome_Cmd"]=3,Mt[Lt[4]="YuanJin_Cmd"]=4,Mt[Lt[5]="TakeRoom_Cmd"]=5,Mt[Lt[6]="ShuangXiu_Cmd"]=6,Mt[Lt[7]="ShuangXiuLog_Cmd"]=7,Mt[Lt[8]="CompareNotes_Cmd"]=8,Mt),Dn.PhysiqueType1=(St={},(kt=Object.create(St))[St[0]="ShuGe"]=0,kt[St[1]="Currency"]=1,kt[St[2]="XiuWeiPerent"]=2,kt[St[3]="DuJiePercent"]=3,kt),Dn.PhysiqueType2=(_t={},(Tt=Object.create(_t))[_t[1]="WeiWang"]=1,Tt[_t[2]="ReduceXiuWeiPerent"]=2,Tt),Dn.NatureOtherType=(It={},(bt=Object.create(It))[It[1]="ChillDown"]=1,bt[It[2]="UnwillingShuangXiu"]=2,bt[It[3]="NotConsumeShuangXiuTime"]=3,bt[It[4]="DanYaoGiving"]=4,bt),Dn.NatureEffectType=(wt={},(Ct=Object.create(wt))[wt[1]="DoubleEffect"]=1,Ct[wt[2]="MultiplePower"]=2,Ct[wt[3]="AllPower"]=3,Ct),Dn.DaoLvInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.relationship=0,e.prototype.intimacy=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.relationship&&e.hasOwnProperty("relationship")&&t.uint32(16).int32(e.relationship),null!=e.intimacy&&e.hasOwnProperty("intimacy")&&t.uint32(24).int32(e.intimacy),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.DaoLvInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.relationship=e.int32();break;case 3:i.intimacy=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.relationship&&e.hasOwnProperty("relationship")&&!An.isInteger(e.relationship)?"relationship: integer expected":null!=e.intimacy&&e.hasOwnProperty("intimacy")&&!An.isInteger(e.intimacy)?"intimacy: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.DaoLvInfoPB)return e;var t=new En.base.DaoLvInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.relationship&&(t.relationship=0|e.relationship),null!=e.intimacy&&(t.intimacy=0|e.intimacy),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.relationship=0,n.intimacy=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.relationship&&e.hasOwnProperty("relationship")&&(n.relationship=e.relationship),null!=e.intimacy&&e.hasOwnProperty("intimacy")&&(n.intimacy=e.intimacy),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ShuangXiuLogInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.shuangXiuTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.xiuLianInfo=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.shuangXiuTime&&e.hasOwnProperty("shuangXiuTime")&&t.uint32(8).int64(e.shuangXiuTime),null!=e.xiuLianInfo&&e.hasOwnProperty("xiuLianInfo")&&En.base.S2C_DaoLv.encode(e.xiuLianInfo,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ShuangXiuLogInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.shuangXiuTime=e.int64();break;case 2:i.xiuLianInfo=En.base.S2C_DaoLv.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.shuangXiuTime&&e.hasOwnProperty("shuangXiuTime")&&!(An.isInteger(e.shuangXiuTime)||e.shuangXiuTime&&An.isInteger(e.shuangXiuTime.low)&&An.isInteger(e.shuangXiuTime.high)))return"shuangXiuTime: integer|Long expected";if(null!=e.xiuLianInfo&&e.hasOwnProperty("xiuLianInfo")){var t=En.base.S2C_DaoLv.verify(e.xiuLianInfo);if(t)return"xiuLianInfo."+t}return null},e.fromObject=function(e){if(e instanceof En.base.ShuangXiuLogInfoPB)return e;var t=new En.base.ShuangXiuLogInfoPB;if(null!=e.shuangXiuTime&&(An.Long?(t.shuangXiuTime=An.Long.fromValue(e.shuangXiuTime)).unsigned=!1:"string"==typeof e.shuangXiuTime?t.shuangXiuTime=parseInt(e.shuangXiuTime,10):"number"==typeof e.shuangXiuTime?t.shuangXiuTime=e.shuangXiuTime:"object"===Pn(e.shuangXiuTime)&&(t.shuangXiuTime=new An.LongBits(e.shuangXiuTime.low>>>0,e.shuangXiuTime.high>>>0).toNumber())),null!=e.xiuLianInfo){if("object"!==Pn(e.xiuLianInfo))throw TypeError(".base.ShuangXiuLogInfoPB.xiuLianInfo: object expected");t.xiuLianInfo=En.base.S2C_DaoLv.fromObject(e.xiuLianInfo)}return t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.shuangXiuTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.shuangXiuTime=t.longs===String?"0":0;n.xiuLianInfo=null}return null!=e.shuangXiuTime&&e.hasOwnProperty("shuangXiuTime")&&("number"==typeof e.shuangXiuTime?n.shuangXiuTime=t.longs===String?String(e.shuangXiuTime):e.shuangXiuTime:n.shuangXiuTime=t.longs===String?An.Long.prototype.toString.call(e.shuangXiuTime):t.longs===Number?new An.LongBits(e.shuangXiuTime.low>>>0,e.shuangXiuTime.high>>>0).toNumber():e.shuangXiuTime),null!=e.xiuLianInfo&&e.hasOwnProperty("xiuLianInfo")&&(n.xiuLianInfo=En.base.S2C_DaoLv.toObject(e.xiuLianInfo,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ResultInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=!1,e.prototype.errorCode=0,e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&t.uint32(8).bool(e.result),null!=e.errorCode&&e.hasOwnProperty("errorCode")&&t.uint32(16).int32(e.errorCode),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(24).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ResultInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=e.bool();break;case 2:i.errorCode=e.int32();break;case 3:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.result&&e.hasOwnProperty("result")&&"boolean"!=typeof e.result?"result: boolean expected":null!=e.errorCode&&e.hasOwnProperty("errorCode")&&!An.isInteger(e.errorCode)?"errorCode: integer expected":null!=e.type&&e.hasOwnProperty("type")&&!An.isInteger(e.type)?"type: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.ResultInfoPB)return e;var t=new En.base.ResultInfoPB;return null!=e.result&&(t.result=Boolean(e.result)),null!=e.errorCode&&(t.errorCode=0|e.errorCode),null!=e.type&&(t.type=0|e.type),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.result=!1,n.errorCode=0,n.type=0),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),null!=e.errorCode&&e.hasOwnProperty("errorCode")&&(n.errorCode=e.errorCode),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ErrorTipsType=(vt={},(xt=Object.create(vt))[vt[1]="Tips"]=1,xt[vt[2]="Console"]=2,xt),Dn.ErrorCodeType=(ft={},(mt=Object.create(ft))[ft[1]="DAO_LV_INTIMACY_MAX"]=1,mt[ft[2]="DAO_LV_ALREADY_IN_HOME"]=2,mt[ft[3]="DAO_LV_INTIMACY_LOWER"]=3,mt[ft[4]="DAO_LV_ALREADY_NOT_IN_HOME"]=4,mt[ft[5]="DAO_LV_SHUANG_XIU_MAX"]=5,mt[ft[6]="DAO_LV_SHUANG_XIU_CHILL_DOWN"]=6,mt[ft[7]="DAO_LV_ALREADY_SHUANG_XIU"]=7,mt[ft[8]="DAO_LV_SHUANG_XIU_COUNT_MAX"]=8,mt[ft[9]="DAO_LV_REFUSE_SHUANG_XIU"]=9,mt[ft[10]="DAO_LV_CAN_NOT_GIFT_GIVING"]=10,mt[ft[11]="NO_AVALIABLE_GIFT"]=11,mt[ft[12]="DAO_LV_STRAGE"]=12,mt[ft[13]="COMPARE_NOTES_LEVEL_LIMIT"]=13,mt),Dn.C2S_DiGong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DiGong;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_DiGong)return e;var t=new En.base.C2S_DiGong;switch(e.cmdType){case"GetDiGong_Cmd":case 1:t.cmdType=1;break;case"Challenge_Cmd":case 2:t.cmdType=2;break;case"Sweep_Cmd":case 3:t.cmdType=3;break;case"PurchaseCount_Cmd":case 4:t.cmdType=4}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetDiGong_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.DiGongCmdType[e.cmdType]:e.cmdType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DiGong=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.cid=0,e.prototype.count=0,e.prototype.sweepCount=0,e.prototype.purchaseCount=0,e.prototype.result=null,e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.cid&&e.hasOwnProperty("cid")&&t.uint32(16).int32(e.cid),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(24).int32(e.count),null!=e.sweepCount&&e.hasOwnProperty("sweepCount")&&t.uint32(32).int32(e.sweepCount),null!=e.purchaseCount&&e.hasOwnProperty("purchaseCount")&&t.uint32(40).int32(e.purchaseCount),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(50).fork()).ldelim(),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(58).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DiGong;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.cid=e.int32();break;case 3:i.count=e.int32();break;case 4:i.sweepCount=e.int32();break;case 5:i.purchaseCount=e.int32();break;case 6:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;case 7:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:}if(null!=e.cid&&e.hasOwnProperty("cid")&&!An.isInteger(e.cid))return"cid: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count))return"count: integer expected";if(null!=e.sweepCount&&e.hasOwnProperty("sweepCount")&&!An.isInteger(e.sweepCount))return"sweepCount: integer expected";if(null!=e.purchaseCount&&e.hasOwnProperty("purchaseCount")&&!An.isInteger(e.purchaseCount))return"purchaseCount: integer expected";if(null!=e.result&&e.hasOwnProperty("result")&&(n=En.base.FightResultMsg.verify(e.result)))return"result."+n;if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.reward[t]))return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_DiGong)return e;var t=new En.base.S2C_DiGong;switch(e.cmdType){case"GetDiGong_Cmd":case 1:t.cmdType=1;break;case"Challenge_Cmd":case 2:t.cmdType=2;break;case"Sweep_Cmd":case 3:t.cmdType=3;break;case"PurchaseCount_Cmd":case 4:t.cmdType=4}if(null!=e.cid&&(t.cid=0|e.cid),null!=e.count&&(t.count=0|e.count),null!=e.sweepCount&&(t.sweepCount=0|e.sweepCount),null!=e.purchaseCount&&(t.purchaseCount=0|e.purchaseCount),null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_DiGong.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}if(e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_DiGong.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_DiGong.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),t.defaults&&(n.cmdType=t.enums===String?"GetDiGong_Cmd":1,n.cid=0,n.count=0,n.sweepCount=0,n.purchaseCount=0,n.result=null),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.DiGongCmdType[e.cmdType]:e.cmdType),null!=e.cid&&e.hasOwnProperty("cid")&&(n.cid=e.cid),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.sweepCount&&e.hasOwnProperty("sweepCount")&&(n.sweepCount=e.sweepCount),null!=e.purchaseCount&&e.hasOwnProperty("purchaseCount")&&(n.purchaseCount=e.purchaseCount),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ResourceMsg.toObject(e.reward[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DiGongCmdType=(pt={},(yt=Object.create(pt))[pt[1]="GetDiGong_Cmd"]=1,yt[pt[2]="Challenge_Cmd"]=2,yt[pt[3]="Sweep_Cmd"]=3,yt[pt[4]="PurchaseCount_Cmd"]=4,yt),Dn.DongfuType=(ht={},(gt=Object.create(ht))[ht[1]="LingShi"]=1,gt[ht[2]="ShiWu"]=2,gt[ht[3]="MuChai"]=3,gt[ht[4]="YunTie"]=4,gt),Dn.DongfuMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.level=0,e.prototype.worker=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),null!=e.worker&&e.hasOwnProperty("worker")&&t.uint32(24).int32(e.worker),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.DongfuMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.level=e.int32();break;case 3:i.worker=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.worker&&e.hasOwnProperty("worker")&&!An.isInteger(e.worker)?"worker: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.DongfuMsg)return e;var t=new En.base.DongfuMsg;switch(e.type){case"LingShi":case 1:t.type=1;break;case"ShiWu":case 2:t.type=2;break;case"MuChai":case 3:t.type=3;break;case"YunTie":case 4:t.type=4}return null!=e.level&&(t.level=0|e.level),null!=e.worker&&(t.worker=0|e.worker),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LingShi":1,n.level=0,n.worker=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.DongfuType[e.type]:e.type),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.worker&&e.hasOwnProperty("worker")&&(n.worker=e.worker),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Dongfu=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Dongfu;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_Dongfu?e:new En.base.C2S_Dongfu},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Dongfu=function(){function e(e){if(this.dongfuRes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dongfuRes=An.emptyArray,e.prototype.buyTimes=0,e.prototype.shuGe=!1,e.prototype.danFang=!1,e.prototype.qiShi=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.dongfuRes&&e.dongfuRes.length)for(var n=0;n<e.dongfuRes.length;++n)En.base.DongfuMsg.encode(e.dongfuRes[n],t.uint32(10).fork()).ldelim();return null!=e.buyTimes&&e.hasOwnProperty("buyTimes")&&t.uint32(16).int32(e.buyTimes),null!=e.shuGe&&e.hasOwnProperty("shuGe")&&t.uint32(24).bool(e.shuGe),null!=e.danFang&&e.hasOwnProperty("danFang")&&t.uint32(32).bool(e.danFang),null!=e.qiShi&&e.hasOwnProperty("qiShi")&&t.uint32(40).bool(e.qiShi),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Dongfu;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.dongfuRes&&i.dongfuRes.length||(i.dongfuRes=[]),i.dongfuRes.push(En.base.DongfuMsg.decode(e,e.uint32()));break;case 2:i.buyTimes=e.int32();break;case 3:i.shuGe=e.bool();break;case 4:i.danFang=e.bool();break;case 5:i.qiShi=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.dongfuRes&&e.hasOwnProperty("dongfuRes")){if(!Array.isArray(e.dongfuRes))return"dongfuRes: array expected";for(var t=0;t<e.dongfuRes.length;++t){var n=En.base.DongfuMsg.verify(e.dongfuRes[t]);if(n)return"dongfuRes."+n}}return null!=e.buyTimes&&e.hasOwnProperty("buyTimes")&&!An.isInteger(e.buyTimes)?"buyTimes: integer expected":null!=e.shuGe&&e.hasOwnProperty("shuGe")&&"boolean"!=typeof e.shuGe?"shuGe: boolean expected":null!=e.danFang&&e.hasOwnProperty("danFang")&&"boolean"!=typeof e.danFang?"danFang: boolean expected":null!=e.qiShi&&e.hasOwnProperty("qiShi")&&"boolean"!=typeof e.qiShi?"qiShi: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Dongfu)return e;var t=new En.base.S2C_Dongfu;if(e.dongfuRes){if(!Array.isArray(e.dongfuRes))throw TypeError(".base.S2C_Dongfu.dongfuRes: array expected");t.dongfuRes=[];for(var n=0;n<e.dongfuRes.length;++n){if("object"!==Pn(e.dongfuRes[n]))throw TypeError(".base.S2C_Dongfu.dongfuRes: object expected");t.dongfuRes[n]=En.base.DongfuMsg.fromObject(e.dongfuRes[n])}}return null!=e.buyTimes&&(t.buyTimes=0|e.buyTimes),null!=e.shuGe&&(t.shuGe=Boolean(e.shuGe)),null!=e.danFang&&(t.danFang=Boolean(e.danFang)),null!=e.qiShi&&(t.qiShi=Boolean(e.qiShi)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dongfuRes=[]),t.defaults&&(n.buyTimes=0,n.shuGe=!1,n.danFang=!1,n.qiShi=!1),e.dongfuRes&&e.dongfuRes.length){n.dongfuRes=[];for(var i=0;i<e.dongfuRes.length;++i)n.dongfuRes[i]=En.base.DongfuMsg.toObject(e.dongfuRes[i],t)}return null!=e.buyTimes&&e.hasOwnProperty("buyTimes")&&(n.buyTimes=e.buyTimes),null!=e.shuGe&&e.hasOwnProperty("shuGe")&&(n.shuGe=e.shuGe),null!=e.danFang&&e.hasOwnProperty("danFang")&&(n.danFang=e.danFang),null!=e.qiShi&&e.hasOwnProperty("qiShi")&&(n.qiShi=e.qiShi),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_UpgradeDongfu=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_UpgradeDongfu;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_UpgradeDongfu)return e;var t=new En.base.C2S_UpgradeDongfu;switch(e.type){case"LingShi":case 1:t.type=1;break;case"ShiWu":case 2:t.type=2;break;case"MuChai":case 3:t.type=3;break;case"YunTie":case 4:t.type=4}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LingShi":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.DongfuType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_UpgradeDongfu=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_UpgradeDongfu;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_UpgradeDongfu)return e;var t=new En.base.S2C_UpgradeDongfu;switch(e.type){case"LingShi":case 1:t.type=1;break;case"ShiWu":case 2:t.type=2;break;case"MuChai":case 3:t.type=3;break;case"YunTie":case 4:t.type=4}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LingShi":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.DongfuType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ChangeWorker=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ChangeWorker;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_ChangeWorker)return e;var t=new En.base.C2S_ChangeWorker;switch(e.type){case"LingShi":case 1:t.type=1;break;case"ShiWu":case 2:t.type=2;break;case"MuChai":case 3:t.type=3;break;case"YunTie":case 4:t.type=4}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LingShi":1,n.count=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.DongfuType[e.type]:e.type),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ChangeWorker=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ChangeWorker;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ChangeWorker)return e;var t=new En.base.S2C_ChangeWorker;switch(e.type){case"LingShi":case 1:t.type=1;break;case"ShiWu":case 2:t.type=2;break;case"MuChai":case 3:t.type=3;break;case"YunTie":case 4:t.type=4}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LingShi":1,n.count=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.DongfuType[e.type]:e.type),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_AddWorker=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_AddWorker;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_AddWorker?e:new En.base.C2S_AddWorker},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_AddWorker=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_AddWorker;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_AddWorker?e:new En.base.S2C_AddWorker},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XiuLianType=(ut={},(dt=Object.create(ut))[ut[1]="LianYao"]=1,dt[ut[2]="LianQi"]=2,dt[ut[3]="WuXing"]=3,dt),Dn.C2S_XiuLianOpt=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.year=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.year&&e.hasOwnProperty("year")&&t.uint32(16).int32(e.year),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_XiuLianOpt;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.year=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:}return null!=e.year&&e.hasOwnProperty("year")&&!An.isInteger(e.year)?"year: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_XiuLianOpt)return e;var t=new En.base.C2S_XiuLianOpt;switch(e.type){case"LianYao":case 1:t.type=1;break;case"LianQi":case 2:t.type=2;break;case"WuXing":case 3:t.type=3}return null!=e.year&&(t.year=0|e.year),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LianYao":1,n.year=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.XiuLianType[e.type]:e.type),null!=e.year&&e.hasOwnProperty("year")&&(n.year=e.year),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_XiuLianOpt=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.year=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.year&&e.hasOwnProperty("year")&&t.uint32(16).int32(e.year),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_XiuLianOpt;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.year=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:}return null!=e.year&&e.hasOwnProperty("year")&&!An.isInteger(e.year)?"year: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_XiuLianOpt)return e;var t=new En.base.S2C_XiuLianOpt;switch(e.type){case"LianYao":case 1:t.type=1;break;case"LianQi":case 2:t.type=2;break;case"WuXing":case 3:t.type=3}return null!=e.year&&(t.year=0|e.year),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LianYao":1,n.year=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.XiuLianType[e.type]:e.type),null!=e.year&&e.hasOwnProperty("year")&&(n.year=e.year),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_BuyWine=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_BuyWine;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_BuyWine)return e;var t=new En.base.C2S_BuyWine;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_BuyWine=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_BuyWine;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_BuyWine)return e;var t=new En.base.S2C_BuyWine;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.BuildType=(ct={},(lt=Object.create(ct))[ct[1]="ShuGe"]=1,lt[ct[2]="DanFang"]=2,lt[ct[3]="QiShi"]=3,lt[ct[4]="YaoGu"]=4,lt[ct[5]="XianNiang"]=5,lt),Dn.C2S_MakeRoom=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MakeRoom;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_MakeRoom)return e;var t=new En.base.C2S_MakeRoom;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MakeRoom=function(){function e(e){if(this.instructions=[],this.machine=[],this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instructions=An.emptyArray,e.prototype.machine=An.emptyArray,e.prototype.autoChoose=!1,e.prototype.normalLeft=0,e.prototype.bestLeft=0,e.prototype.type=1,e.prototype.makeId=0,e.prototype.makeCount=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.make_Machine=0,e.prototype.succCount=0,e.prototype.level=0,e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.instructions&&e.instructions.length)for(var n=0;n<e.instructions.length;++n)t.uint32(8).int32(e.instructions[n]);if(null!=e.machine&&e.machine.length)for(n=0;n<e.machine.length;++n)t.uint32(16).int32(e.machine[n]);if(null!=e.autoChoose&&e.hasOwnProperty("autoChoose")&&t.uint32(24).bool(e.autoChoose),null!=e.normalLeft&&e.hasOwnProperty("normalLeft")&&t.uint32(32).int32(e.normalLeft),null!=e.bestLeft&&e.hasOwnProperty("bestLeft")&&t.uint32(40).int32(e.bestLeft),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(48).int32(e.type),null!=e.makeId&&e.hasOwnProperty("makeId")&&t.uint32(56).int32(e.makeId),null!=e.makeCount&&e.hasOwnProperty("makeCount")&&t.uint32(64).int32(e.makeCount),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(72).int64(e.endTime),null!=e.make_Machine&&e.hasOwnProperty("make_Machine")&&t.uint32(80).int32(e.make_Machine),null!=e.succCount&&e.hasOwnProperty("succCount")&&t.uint32(88).int32(e.succCount),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(96).int32(e.level),null!=e.reward&&e.reward.length)for(n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(106).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MakeRoom;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(i.instructions&&i.instructions.length||(i.instructions=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.instructions.push(e.int32());else i.instructions.push(e.int32());break;case 2:if(i.machine&&i.machine.length||(i.machine=[]),2==(7&o))for(r=e.uint32()+e.pos;e.pos<r;)i.machine.push(e.int32());else i.machine.push(e.int32());break;case 3:i.autoChoose=e.bool();break;case 4:i.normalLeft=e.int32();break;case 5:i.bestLeft=e.int32();break;case 6:i.type=e.int32();break;case 7:i.makeId=e.int32();break;case 8:i.makeCount=e.int32();break;case 9:i.endTime=e.int64();break;case 10:i.make_Machine=e.int32();break;case 11:i.succCount=e.int32();break;case 12:i.level=e.int32();break;case 13:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.instructions&&e.hasOwnProperty("instructions")){if(!Array.isArray(e.instructions))return"instructions: array expected";for(var t=0;t<e.instructions.length;++t)if(!An.isInteger(e.instructions[t]))return"instructions: integer[] expected"}if(null!=e.machine&&e.hasOwnProperty("machine")){if(!Array.isArray(e.machine))return"machine: array expected";for(t=0;t<e.machine.length;++t)if(!An.isInteger(e.machine[t]))return"machine: integer[] expected"}if(null!=e.autoChoose&&e.hasOwnProperty("autoChoose")&&"boolean"!=typeof e.autoChoose)return"autoChoose: boolean expected";if(null!=e.normalLeft&&e.hasOwnProperty("normalLeft")&&!An.isInteger(e.normalLeft))return"normalLeft: integer expected";if(null!=e.bestLeft&&e.hasOwnProperty("bestLeft")&&!An.isInteger(e.bestLeft))return"bestLeft: integer expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}if(null!=e.makeId&&e.hasOwnProperty("makeId")&&!An.isInteger(e.makeId))return"makeId: integer expected";if(null!=e.makeCount&&e.hasOwnProperty("makeCount")&&!An.isInteger(e.makeCount))return"makeCount: integer expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.make_Machine&&e.hasOwnProperty("make_Machine")&&!An.isInteger(e.make_Machine))return"make_Machine: integer expected";if(null!=e.succCount&&e.hasOwnProperty("succCount")&&!An.isInteger(e.succCount))return"succCount: integer expected";if(null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level))return"level: integer expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(t=0;t<e.reward.length;++t){var n=En.base.ResourceMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MakeRoom)return e;var t=new En.base.S2C_MakeRoom;if(e.instructions){if(!Array.isArray(e.instructions))throw TypeError(".base.S2C_MakeRoom.instructions: array expected");t.instructions=[];for(var n=0;n<e.instructions.length;++n)t.instructions[n]=0|e.instructions[n]}if(e.machine){if(!Array.isArray(e.machine))throw TypeError(".base.S2C_MakeRoom.machine: array expected");for(t.machine=[],n=0;n<e.machine.length;++n)t.machine[n]=0|e.machine[n]}switch(null!=e.autoChoose&&(t.autoChoose=Boolean(e.autoChoose)),null!=e.normalLeft&&(t.normalLeft=0|e.normalLeft),null!=e.bestLeft&&(t.bestLeft=0|e.bestLeft),e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}if(null!=e.makeId&&(t.makeId=0|e.makeId),null!=e.makeCount&&(t.makeCount=0|e.makeCount),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.make_Machine&&(t.make_Machine=0|e.make_Machine),null!=e.succCount&&(t.succCount=0|e.succCount),null!=e.level&&(t.level=0|e.level),e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_MakeRoom.reward: array expected");for(t.reward=[],n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_MakeRoom.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.instructions=[],n.machine=[],n.reward=[]),t.defaults){if(n.autoChoose=!1,n.normalLeft=0,n.bestLeft=0,n.type=t.enums===String?"ShuGe":1,n.makeId=0,n.makeCount=0,An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.make_Machine=0,n.succCount=0,n.level=0}if(e.instructions&&e.instructions.length){n.instructions=[];for(var o=0;o<e.instructions.length;++o)n.instructions[o]=e.instructions[o]}if(e.machine&&e.machine.length)for(n.machine=[],o=0;o<e.machine.length;++o)n.machine[o]=e.machine[o];if(null!=e.autoChoose&&e.hasOwnProperty("autoChoose")&&(n.autoChoose=e.autoChoose),null!=e.normalLeft&&e.hasOwnProperty("normalLeft")&&(n.normalLeft=e.normalLeft),null!=e.bestLeft&&e.hasOwnProperty("bestLeft")&&(n.bestLeft=e.bestLeft),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),null!=e.makeId&&e.hasOwnProperty("makeId")&&(n.makeId=e.makeId),null!=e.makeCount&&e.hasOwnProperty("makeCount")&&(n.makeCount=e.makeCount),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.make_Machine&&e.hasOwnProperty("make_Machine")&&(n.make_Machine=e.make_Machine),null!=e.succCount&&e.hasOwnProperty("succCount")&&(n.succCount=e.succCount),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),e.reward&&e.reward.length)for(n.reward=[],o=0;o<e.reward.length;++o)n.reward[o]=En.base.ResourceMsg.toObject(e.reward[o],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MakeTreasure=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.id=0,e.prototype.machinePinZhi=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),null!=e.machinePinZhi&&e.hasOwnProperty("machinePinZhi")&&t.uint32(24).int32(e.machinePinZhi),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(32).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MakeTreasure;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.id=e.int32();break;case 3:i.machinePinZhi=e.int32();break;case 4:i.count=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.machinePinZhi&&e.hasOwnProperty("machinePinZhi")&&!An.isInteger(e.machinePinZhi)?"machinePinZhi: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MakeTreasure)return e;var t=new En.base.C2S_MakeTreasure;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return null!=e.id&&(t.id=0|e.id),null!=e.machinePinZhi&&(t.machinePinZhi=0|e.machinePinZhi),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1,n.id=0,n.machinePinZhi=0,n.count=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.machinePinZhi&&e.hasOwnProperty("machinePinZhi")&&(n.machinePinZhi=e.machinePinZhi),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MakeTreasure=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.id=0,e.prototype.machinePinZhi=0,e.prototype.count=0,e.prototype.succCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),null!=e.machinePinZhi&&e.hasOwnProperty("machinePinZhi")&&t.uint32(24).int32(e.machinePinZhi),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(32).int32(e.count),null!=e.succCount&&e.hasOwnProperty("succCount")&&t.uint32(40).int32(e.succCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MakeTreasure;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.id=e.int32();break;case 3:i.machinePinZhi=e.int32();break;case 4:i.count=e.int32();break;case 5:i.succCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.machinePinZhi&&e.hasOwnProperty("machinePinZhi")&&!An.isInteger(e.machinePinZhi)?"machinePinZhi: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null!=e.succCount&&e.hasOwnProperty("succCount")&&!An.isInteger(e.succCount)?"succCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MakeTreasure)return e;var t=new En.base.S2C_MakeTreasure;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return null!=e.id&&(t.id=0|e.id),null!=e.machinePinZhi&&(t.machinePinZhi=0|e.machinePinZhi),null!=e.count&&(t.count=0|e.count),null!=e.succCount&&(t.succCount=0|e.succCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1,n.id=0,n.machinePinZhi=0,n.count=0,n.succCount=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.machinePinZhi&&e.hasOwnProperty("machinePinZhi")&&(n.machinePinZhi=e.machinePinZhi),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.succCount&&e.hasOwnProperty("succCount")&&(n.succCount=e.succCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_TakeTreasure=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_TakeTreasure;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_TakeTreasure)return e;var t=new En.base.C2S_TakeTreasure;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_TakeTreasure=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.succCount=0,e.prototype.failCount=0,e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.succCount&&e.hasOwnProperty("succCount")&&t.uint32(16).int32(e.succCount),null!=e.failCount&&e.hasOwnProperty("failCount")&&t.uint32(24).int32(e.failCount),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_TakeTreasure;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.succCount=e.int32();break;case 3:i.failCount=e.int32();break;case 4:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}if(null!=e.succCount&&e.hasOwnProperty("succCount")&&!An.isInteger(e.succCount))return"succCount: integer expected";if(null!=e.failCount&&e.hasOwnProperty("failCount")&&!An.isInteger(e.failCount))return"failCount: integer expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n=En.base.ResourceMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_TakeTreasure)return e;var t=new En.base.S2C_TakeTreasure;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}if(null!=e.succCount&&(t.succCount=0|e.succCount),null!=e.failCount&&(t.failCount=0|e.failCount),e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_TakeTreasure.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_TakeTreasure.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),t.defaults&&(n.type=t.enums===String?"ShuGe":1,n.succCount=0,n.failCount=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),null!=e.succCount&&e.hasOwnProperty("succCount")&&(n.succCount=e.succCount),null!=e.failCount&&e.hasOwnProperty("failCount")&&(n.failCount=e.failCount),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ResourceMsg.toObject(e.reward[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ReadBook=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ReadBook;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_ReadBook)return e;var t=new En.base.C2S_ReadBook;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ReadBook=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ReadBook;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ReadBook)return e;var t=new En.base.S2C_ReadBook;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ReadBookLevelUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ReadBookLevelUp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_ReadBookLevelUp)return e;var t=new En.base.C2S_ReadBookLevelUp;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ReadBookLevelUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ReadBookLevelUp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ReadBookLevelUp)return e;var t=new En.base.S2C_ReadBookLevelUp;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_DongfuBuild=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DongfuBuild;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_DongfuBuild)return e;var t=new En.base.C2S_DongfuBuild;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DongfuBuild=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DongfuBuild;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_DongfuBuild)return e;var t=new En.base.S2C_DongfuBuild;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_DongfuShuge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DongfuShuge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_DongfuShuge)return e;var t=new En.base.C2S_DongfuShuge;switch(e.type){case"LianYao":case 1:t.type=1;break;case"LianQi":case 2:t.type=2;break;case"WuXing":case 3:t.type=3}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"LianYao":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.XiuLianType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DongfuShuge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.level=0,e.prototype.exp=0,e.prototype.year=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.bookId=0,e.prototype.nextBookId=0,e.prototype.effectType=0,e.prototype.effectValue=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),null!=e.exp&&e.hasOwnProperty("exp")&&t.uint32(24).int32(e.exp),null!=e.year&&e.hasOwnProperty("year")&&t.uint32(32).int32(e.year),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(40).int64(e.endTime),null!=e.bookId&&e.hasOwnProperty("bookId")&&t.uint32(48).int32(e.bookId),null!=e.nextBookId&&e.hasOwnProperty("nextBookId")&&t.uint32(56).int32(e.nextBookId),null!=e.effectType&&e.hasOwnProperty("effectType")&&t.uint32(64).int32(e.effectType),null!=e.effectValue&&e.hasOwnProperty("effectValue")&&t.uint32(72).int64(e.effectValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DongfuShuge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.level=e.int32();break;case 3:i.exp=e.int32();break;case 4:i.year=e.int32();break;case 5:i.endTime=e.int64();break;case 6:i.bookId=e.int32();break;case 7:i.nextBookId=e.int32();break;case 8:i.effectType=e.int32();break;case 9:i.effectValue=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:}return null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.exp&&e.hasOwnProperty("exp")&&!An.isInteger(e.exp)?"exp: integer expected":null!=e.year&&e.hasOwnProperty("year")&&!An.isInteger(e.year)?"year: integer expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high))?"endTime: integer|Long expected":null!=e.bookId&&e.hasOwnProperty("bookId")&&!An.isInteger(e.bookId)?"bookId: integer expected":null!=e.nextBookId&&e.hasOwnProperty("nextBookId")&&!An.isInteger(e.nextBookId)?"nextBookId: integer expected":null!=e.effectType&&e.hasOwnProperty("effectType")&&!An.isInteger(e.effectType)?"effectType: integer expected":null!=e.effectValue&&e.hasOwnProperty("effectValue")&&!(An.isInteger(e.effectValue)||e.effectValue&&An.isInteger(e.effectValue.low)&&An.isInteger(e.effectValue.high))?"effectValue: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_DongfuShuge)return e;var t=new En.base.S2C_DongfuShuge;switch(e.type){case"LianYao":case 1:t.type=1;break;case"LianQi":case 2:t.type=2;break;case"WuXing":case 3:t.type=3}return null!=e.level&&(t.level=0|e.level),null!=e.exp&&(t.exp=0|e.exp),null!=e.year&&(t.year=0|e.year),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.bookId&&(t.bookId=0|e.bookId),null!=e.nextBookId&&(t.nextBookId=0|e.nextBookId),null!=e.effectType&&(t.effectType=0|e.effectType),null!=e.effectValue&&(An.Long?(t.effectValue=An.Long.fromValue(e.effectValue)).unsigned=!1:"string"==typeof e.effectValue?t.effectValue=parseInt(e.effectValue,10):"number"==typeof e.effectValue?t.effectValue=e.effectValue:"object"===Pn(e.effectValue)&&(t.effectValue=new An.LongBits(e.effectValue.low>>>0,e.effectValue.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.type=t.enums===String?"LianYao":1,n.level=0,n.exp=0,n.year=0,An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.bookId=0,n.nextBookId=0,n.effectType=0,An.Long?(i=new An.Long(0,0,!1),n.effectValue=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.effectValue=t.longs===String?"0":0}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.XiuLianType[e.type]:e.type),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.exp&&e.hasOwnProperty("exp")&&(n.exp=e.exp),null!=e.year&&e.hasOwnProperty("year")&&(n.year=e.year),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.bookId&&e.hasOwnProperty("bookId")&&(n.bookId=e.bookId),null!=e.nextBookId&&e.hasOwnProperty("nextBookId")&&(n.nextBookId=e.nextBookId),null!=e.effectType&&e.hasOwnProperty("effectType")&&(n.effectType=e.effectType),null!=e.effectValue&&e.hasOwnProperty("effectValue")&&("number"==typeof e.effectValue?n.effectValue=t.longs===String?String(e.effectValue):e.effectValue:n.effectValue=t.longs===String?An.Long.prototype.toString.call(e.effectValue):t.longs===Number?new An.LongBits(e.effectValue.low>>>0,e.effectValue.high>>>0).toNumber():e.effectValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_StopMake=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_StopMake;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_StopMake)return e;var t=new En.base.C2S_StopMake;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_StopMake=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_StopMake;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_StopMake)return e;var t=new En.base.S2C_StopMake;switch(e.type){case"ShuGe":case 1:t.type=1;break;case"DanFang":case 2:t.type=2;break;case"QiShi":case 3:t.type=3;break;case"YaoGu":case 4:t.type=4;break;case"XianNiang":case 5:t.type=5}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"ShuGe":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.BuildType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.WudaoBook=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.level=0,e.prototype.readNum=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),null!=e.readNum&&e.hasOwnProperty("readNum")&&t.uint32(24).int32(e.readNum),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(32).int64(e.endTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.WudaoBook;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.level=e.int32();break;case 3:i.readNum=e.int32();break;case 4:i.endTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.readNum&&e.hasOwnProperty("readNum")&&!An.isInteger(e.readNum)?"readNum: integer expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high))?"endTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.WudaoBook)return e;var t=new En.base.WudaoBook;return null!=e.id&&(t.id=0|e.id),null!=e.level&&(t.level=0|e.level),null!=e.readNum&&(t.readNum=0|e.readNum),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.id=0,n.level=0,n.readNum=0,An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.readNum&&e.hasOwnProperty("readNum")&&(n.readNum=e.readNum),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_AllBook=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_AllBook;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_AllBook?e:new En.base.C2S_AllBook},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_AllBook=function(){function e(e){if(this.book=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.book=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.book&&e.book.length)for(var n=0;n<e.book.length;++n)En.base.WudaoBook.encode(e.book[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_AllBook;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.book&&i.book.length||(i.book=[]),i.book.push(En.base.WudaoBook.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.book&&e.hasOwnProperty("book")){if(!Array.isArray(e.book))return"book: array expected";for(var t=0;t<e.book.length;++t){var n=En.base.WudaoBook.verify(e.book[t]);if(n)return"book."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_AllBook)return e;var t=new En.base.S2C_AllBook;if(e.book){if(!Array.isArray(e.book))throw TypeError(".base.S2C_AllBook.book: array expected");t.book=[];for(var n=0;n<e.book.length;++n){if("object"!==Pn(e.book[n]))throw TypeError(".base.S2C_AllBook.book: object expected");t.book[n]=En.base.WudaoBook.fromObject(e.book[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.book=[]),e.book&&e.book.length){n.book=[];for(var i=0;i<e.book.length;++i)n.book[i]=En.base.WudaoBook.toObject(e.book[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Booking=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Booking;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Booking)return e;var t=new En.base.C2S_Booking;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Booking=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Booking;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Booking)return e;var t=new En.base.S2C_Booking;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ShuGeEffectType=(at={},(st=Object.create(at))[at[1]="NONE"]=1,st[at[2]="MenPai"]=2,st[at[3]="Item"]=3,st),Dn.C2S_DaZuo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DaZuo;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_DaZuo?e:new En.base.C2S_DaZuo},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_DaZuoSpeedUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DaZuoSpeedUp;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_DaZuoSpeedUp?e:new En.base.C2S_DaZuoSpeedUp},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PromotePinzhi=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PromotePinzhi;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_PromotePinzhi?e:new En.base.C2S_PromotePinzhi},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PromotePinzhi=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.succ=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.succ&&e.hasOwnProperty("succ")&&t.uint32(8).bool(e.succ),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PromotePinzhi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.succ=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.succ&&e.hasOwnProperty("succ")&&"boolean"!=typeof e.succ?"succ: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_PromotePinzhi)return e;var t=new En.base.S2C_PromotePinzhi;return null!=e.succ&&(t.succ=Boolean(e.succ)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.succ=!1),null!=e.succ&&e.hasOwnProperty("succ")&&(n.succ=e.succ),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_TopPinzhi=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_TopPinzhi;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_TopPinzhi?e:new En.base.C2S_TopPinzhi},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Rob=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Rob;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Rob)return e;var t=new En.base.C2S_Rob;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Rob=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Rob;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.result&&e.hasOwnProperty("result")){var t=En.base.FightResultMsg.verify(e.result);if(t)return"result."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_Rob)return e;var t=new En.base.S2C_Rob;if(null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_Rob.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.result=null),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DaZuoStatus=(ot={},(rt=Object.create(ot))[ot[0]="NotStart"]=0,rt[ot[1]="DaZuo"]=1,rt[ot[2]="DaZuoOver"]=2,rt),Dn.C2S_MyDaZuo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MyDaZuo;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_MyDaZuo?e:new En.base.C2S_MyDaZuo},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MyDaZuo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xiulianLeft=0,e.prototype.robLeft=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.quickLeft=0,e.prototype.status=0,e.prototype.freeLeft=0,e.prototype.pinzhi=0,e.prototype.beRobLeft=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.xiulianLeft&&e.hasOwnProperty("xiulianLeft")&&t.uint32(8).int32(e.xiulianLeft),null!=e.robLeft&&e.hasOwnProperty("robLeft")&&t.uint32(16).int32(e.robLeft),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(24).int64(e.endTime),null!=e.quickLeft&&e.hasOwnProperty("quickLeft")&&t.uint32(32).int32(e.quickLeft),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(40).int32(e.status),null!=e.freeLeft&&e.hasOwnProperty("freeLeft")&&t.uint32(48).int32(e.freeLeft),null!=e.pinzhi&&e.hasOwnProperty("pinzhi")&&t.uint32(56).int32(e.pinzhi),null!=e.beRobLeft&&e.hasOwnProperty("beRobLeft")&&t.uint32(64).int32(e.beRobLeft),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MyDaZuo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xiulianLeft=e.int32();break;case 2:i.robLeft=e.int32();break;case 3:i.endTime=e.int64();break;case 4:i.quickLeft=e.int32();break;case 5:i.status=e.int32();break;case 6:i.freeLeft=e.int32();break;case 7:i.pinzhi=e.int32();break;case 8:i.beRobLeft=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.xiulianLeft&&e.hasOwnProperty("xiulianLeft")&&!An.isInteger(e.xiulianLeft))return"xiulianLeft: integer expected";if(null!=e.robLeft&&e.hasOwnProperty("robLeft")&&!An.isInteger(e.robLeft))return"robLeft: integer expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.quickLeft&&e.hasOwnProperty("quickLeft")&&!An.isInteger(e.quickLeft))return"quickLeft: integer expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:}return null!=e.freeLeft&&e.hasOwnProperty("freeLeft")&&!An.isInteger(e.freeLeft)?"freeLeft: integer expected":null!=e.pinzhi&&e.hasOwnProperty("pinzhi")&&!An.isInteger(e.pinzhi)?"pinzhi: integer expected":null!=e.beRobLeft&&e.hasOwnProperty("beRobLeft")&&!An.isInteger(e.beRobLeft)?"beRobLeft: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MyDaZuo)return e;var t=new En.base.S2C_MyDaZuo;switch(null!=e.xiulianLeft&&(t.xiulianLeft=0|e.xiulianLeft),null!=e.robLeft&&(t.robLeft=0|e.robLeft),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.quickLeft&&(t.quickLeft=0|e.quickLeft),e.status){case"NotStart":case 0:t.status=0;break;case"DaZuo":case 1:t.status=1;break;case"DaZuoOver":case 2:t.status=2}return null!=e.freeLeft&&(t.freeLeft=0|e.freeLeft),null!=e.pinzhi&&(t.pinzhi=0|e.pinzhi),null!=e.beRobLeft&&(t.beRobLeft=0|e.beRobLeft),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.xiulianLeft=0,n.robLeft=0,An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.quickLeft=0,n.status=t.enums===String?"NotStart":0,n.freeLeft=0,n.pinzhi=0,n.beRobLeft=0}return null!=e.xiulianLeft&&e.hasOwnProperty("xiulianLeft")&&(n.xiulianLeft=e.xiulianLeft),null!=e.robLeft&&e.hasOwnProperty("robLeft")&&(n.robLeft=e.robLeft),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.quickLeft&&e.hasOwnProperty("quickLeft")&&(n.quickLeft=e.quickLeft),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?En.base.DaZuoStatus[e.status]:e.status),null!=e.freeLeft&&e.hasOwnProperty("freeLeft")&&(n.freeLeft=e.freeLeft),null!=e.pinzhi&&e.hasOwnProperty("pinzhi")&&(n.pinzhi=e.pinzhi),null!=e.beRobLeft&&e.hasOwnProperty("beRobLeft")&&(n.beRobLeft=e.beRobLeft),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.RobMemberMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.level=0,e.prototype.avatarId=0,e.prototype.pinzhi=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(24).int32(e.level),null!=e.avatarId&&e.hasOwnProperty("avatarId")&&t.uint32(32).int32(e.avatarId),null!=e.pinzhi&&e.hasOwnProperty("pinzhi")&&t.uint32(40).int32(e.pinzhi),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.RobMemberMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.name=e.string();break;case 3:i.level=e.int32();break;case 4:i.avatarId=e.int32();break;case 5:i.pinzhi=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name)?"name: string expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.avatarId&&e.hasOwnProperty("avatarId")&&!An.isInteger(e.avatarId)?"avatarId: integer expected":null!=e.pinzhi&&e.hasOwnProperty("pinzhi")&&!An.isInteger(e.pinzhi)?"pinzhi: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.RobMemberMsg)return e;var t=new En.base.RobMemberMsg;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.level&&(t.level=0|e.level),null!=e.avatarId&&(t.avatarId=0|e.avatarId),null!=e.pinzhi&&(t.pinzhi=0|e.pinzhi),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.name="",n.level=0,n.avatarId=0,n.pinzhi=0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.avatarId&&e.hasOwnProperty("avatarId")&&(n.avatarId=e.avatarId),null!=e.pinzhi&&e.hasOwnProperty("pinzhi")&&(n.pinzhi=e.pinzhi),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_RobList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.page=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.page&&e.hasOwnProperty("page")&&t.uint32(8).int32(e.page),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_RobList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.page=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.page&&e.hasOwnProperty("page")&&!An.isInteger(e.page)?"page: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_RobList)return e;var t=new En.base.C2S_RobList;return null!=e.page&&(t.page=0|e.page),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.page=0),null!=e.page&&e.hasOwnProperty("page")&&(n.page=e.page),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_RobList=function(){function e(e){if(this.member=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.member=An.emptyArray,e.prototype.page=0,e.prototype.totalPage=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.member&&e.member.length)for(var n=0;n<e.member.length;++n)En.base.RobMemberMsg.encode(e.member[n],t.uint32(10).fork()).ldelim();return null!=e.page&&e.hasOwnProperty("page")&&t.uint32(16).int32(e.page),null!=e.totalPage&&e.hasOwnProperty("totalPage")&&t.uint32(24).int32(e.totalPage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_RobList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.member&&i.member.length||(i.member=[]),i.member.push(En.base.RobMemberMsg.decode(e,e.uint32()));break;case 2:i.page=e.int32();break;case 3:i.totalPage=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.member&&e.hasOwnProperty("member")){if(!Array.isArray(e.member))return"member: array expected";for(var t=0;t<e.member.length;++t){var n=En.base.RobMemberMsg.verify(e.member[t]);if(n)return"member."+n}}return null!=e.page&&e.hasOwnProperty("page")&&!An.isInteger(e.page)?"page: integer expected":null!=e.totalPage&&e.hasOwnProperty("totalPage")&&!An.isInteger(e.totalPage)?"totalPage: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_RobList)return e;var t=new En.base.S2C_RobList;if(e.member){if(!Array.isArray(e.member))throw TypeError(".base.S2C_RobList.member: array expected");t.member=[];for(var n=0;n<e.member.length;++n){if("object"!==Pn(e.member[n]))throw TypeError(".base.S2C_RobList.member: object expected");t.member[n]=En.base.RobMemberMsg.fromObject(e.member[n])}}return null!=e.page&&(t.page=0|e.page),null!=e.totalPage&&(t.totalPage=0|e.totalPage),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.member=[]),t.defaults&&(n.page=0,n.totalPage=0),e.member&&e.member.length){n.member=[];for(var i=0;i<e.member.length;++i)n.member[i]=En.base.RobMemberMsg.toObject(e.member[i],t)}return null!=e.page&&e.hasOwnProperty("page")&&(n.page=e.page),null!=e.totalPage&&e.hasOwnProperty("totalPage")&&(n.totalPage=e.totalPage),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_BuyRob=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_BuyRob;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_BuyRob?e:new En.base.C2S_BuyRob},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_XiuLianReward=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_XiuLianReward;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_XiuLianReward?e:new En.base.C2S_XiuLianReward},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_XiuLianReward=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ItemMsg.encode(e.reward[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_XiuLianReward;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n=En.base.ItemMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_XiuLianReward)return e;var t=new En.base.S2C_XiuLianReward;if(e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_XiuLianReward.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_XiuLianReward.reward: object expected");t.reward[n]=En.base.ItemMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ItemMsg.toObject(e.reward[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_DaZuoLog=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DaZuoLog;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_DaZuoLog?e:new En.base.C2S_DaZuoLog},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DaZuoLog=function(){function e(e){if(this.log=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.log=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.log&&e.log.length)for(var n=0;n<e.log.length;++n)t.uint32(10).string(e.log[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DaZuoLog;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.log&&i.log.length||(i.log=[]),i.log.push(e.string());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.log&&e.hasOwnProperty("log")){if(!Array.isArray(e.log))return"log: array expected";for(var t=0;t<e.log.length;++t)if(!An.isString(e.log[t]))return"log: string[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_DaZuoLog)return e;var t=new En.base.S2C_DaZuoLog;if(e.log){if(!Array.isArray(e.log))throw TypeError(".base.S2C_DaZuoLog.log: array expected");t.log=[];for(var n=0;n<e.log.length;++n)t.log[n]=String(e.log[n])}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.log=[]),e.log&&e.log.length){n.log=[];for(var i=0;i<e.log.length;++i)n.log[i]=e.log[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FengYinBossType=(nt={},(it=Object.create(nt))[nt[1]="QiLin"]=1,it[nt[3]="JuKun"]=3,it[nt[2]="SuanNi"]=2,it[nt[4]="XuanWU"]=4,it[nt[5]="GuLong"]=5,it),Dn.FengYinStateType=(et={},(tt=Object.create(et))[et[1]="Ordering"]=1,tt[et[2]="Fighting"]=2,tt[et[3]="GameOver"]=3,tt),Dn.FengYinCmdType=(Ke={},($e=Object.create(Ke))[Ke[1]="GetFengYinBoss_Cmd"]=1,$e[Ke[2]="OrderFengYinBoss_Cmd"]=2,$e),Dn.C2S_FengYinBoss=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_FengYinBoss;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_FengYinBoss)return e;var t=new En.base.C2S_FengYinBoss;switch(e.cmdType){case"GetFengYinBoss_Cmd":case 1:t.cmdType=1;break;case"OrderFengYinBoss_Cmd":case 2:t.cmdType=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetFengYinBoss_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.FengYinCmdType[e.cmdType]:e.cmdType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_FengYinBoss=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.bossID=0,e.prototype.isOrder=!1,e.prototype.fengYinState=0,e.prototype.fightingBossInfo=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.bossID&&e.hasOwnProperty("bossID")&&t.uint32(16).int32(e.bossID),null!=e.isOrder&&e.hasOwnProperty("isOrder")&&t.uint32(24).bool(e.isOrder),null!=e.fengYinState&&e.hasOwnProperty("fengYinState")&&t.uint32(32).int32(e.fengYinState),null!=e.fightingBossInfo&&e.hasOwnProperty("fightingBossInfo")&&En.base.FightingBossInfoPB.encode(e.fightingBossInfo,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_FengYinBoss;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.bossID=e.int32();break;case 3:i.isOrder=e.bool();break;case 4:i.fengYinState=e.int32();break;case 5:i.fightingBossInfo=En.base.FightingBossInfoPB.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}if(null!=e.bossID&&e.hasOwnProperty("bossID")&&!An.isInteger(e.bossID))return"bossID: integer expected";if(null!=e.isOrder&&e.hasOwnProperty("isOrder")&&"boolean"!=typeof e.isOrder)return"isOrder: boolean expected";if(null!=e.fengYinState&&e.hasOwnProperty("fengYinState")&&!An.isInteger(e.fengYinState))return"fengYinState: integer expected";if(null!=e.fightingBossInfo&&e.hasOwnProperty("fightingBossInfo")){var t=En.base.FightingBossInfoPB.verify(e.fightingBossInfo);if(t)return"fightingBossInfo."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_FengYinBoss)return e;var t=new En.base.S2C_FengYinBoss;switch(e.cmdType){case"GetFengYinBoss_Cmd":case 1:t.cmdType=1;break;case"OrderFengYinBoss_Cmd":case 2:t.cmdType=2}if(null!=e.bossID&&(t.bossID=0|e.bossID),null!=e.isOrder&&(t.isOrder=Boolean(e.isOrder)),null!=e.fengYinState&&(t.fengYinState=0|e.fengYinState),null!=e.fightingBossInfo){if("object"!==Pn(e.fightingBossInfo))throw TypeError(".base.S2C_FengYinBoss.fightingBossInfo: object expected");t.fightingBossInfo=En.base.FightingBossInfoPB.fromObject(e.fightingBossInfo)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetFengYinBoss_Cmd":1,n.bossID=0,n.isOrder=!1,n.fengYinState=0,n.fightingBossInfo=null),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.FengYinCmdType[e.cmdType]:e.cmdType),null!=e.bossID&&e.hasOwnProperty("bossID")&&(n.bossID=e.bossID),null!=e.isOrder&&e.hasOwnProperty("isOrder")&&(n.isOrder=e.isOrder),null!=e.fengYinState&&e.hasOwnProperty("fengYinState")&&(n.fengYinState=e.fengYinState),null!=e.fightingBossInfo&&e.hasOwnProperty("fightingBossInfo")&&(n.fightingBossInfo=En.base.FightingBossInfoPB.toObject(e.fightingBossInfo,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FightingBossInfoPB=function(){function e(e){if(this.orderInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.curBloodVolume=0,e.prototype.averagePlayerLevel=0,e.prototype.totalOrder=0,e.prototype.orderInfos=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.curBloodVolume),t.uint32(16).int32(e.averagePlayerLevel),t.uint32(24).int32(e.totalOrder),null!=e.orderInfos&&e.orderInfos.length)for(var n=0;n<e.orderInfos.length;++n)En.base.PlayerOrderInfoPB.encode(e.orderInfos[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.FightingBossInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.curBloodVolume=e.int32();break;case 2:i.averagePlayerLevel=e.int32();break;case 3:i.totalOrder=e.int32();break;case 4:i.orderInfos&&i.orderInfos.length||(i.orderInfos=[]),i.orderInfos.push(En.base.PlayerOrderInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("curBloodVolume"))throw An.ProtocolError("missing required 'curBloodVolume'",{instance:i});if(!i.hasOwnProperty("averagePlayerLevel"))throw An.ProtocolError("missing required 'averagePlayerLevel'",{instance:i});if(!i.hasOwnProperty("totalOrder"))throw An.ProtocolError("missing required 'totalOrder'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!An.isInteger(e.curBloodVolume))return"curBloodVolume: integer expected";if(!An.isInteger(e.averagePlayerLevel))return"averagePlayerLevel: integer expected";if(!An.isInteger(e.totalOrder))return"totalOrder: integer expected";if(null!=e.orderInfos&&e.hasOwnProperty("orderInfos")){if(!Array.isArray(e.orderInfos))return"orderInfos: array expected";for(var t=0;t<e.orderInfos.length;++t){var n=En.base.PlayerOrderInfoPB.verify(e.orderInfos[t]);if(n)return"orderInfos."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.FightingBossInfoPB)return e;var t=new En.base.FightingBossInfoPB;if(null!=e.curBloodVolume&&(t.curBloodVolume=0|e.curBloodVolume),null!=e.averagePlayerLevel&&(t.averagePlayerLevel=0|e.averagePlayerLevel),null!=e.totalOrder&&(t.totalOrder=0|e.totalOrder),e.orderInfos){if(!Array.isArray(e.orderInfos))throw TypeError(".base.FightingBossInfoPB.orderInfos: array expected");t.orderInfos=[];for(var n=0;n<e.orderInfos.length;++n){if("object"!==Pn(e.orderInfos[n]))throw TypeError(".base.FightingBossInfoPB.orderInfos: object expected");t.orderInfos[n]=En.base.PlayerOrderInfoPB.fromObject(e.orderInfos[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.orderInfos=[]),t.defaults&&(n.curBloodVolume=0,n.averagePlayerLevel=0,n.totalOrder=0),null!=e.curBloodVolume&&e.hasOwnProperty("curBloodVolume")&&(n.curBloodVolume=e.curBloodVolume),null!=e.averagePlayerLevel&&e.hasOwnProperty("averagePlayerLevel")&&(n.averagePlayerLevel=e.averagePlayerLevel),null!=e.totalOrder&&e.hasOwnProperty("totalOrder")&&(n.totalOrder=e.totalOrder),e.orderInfos&&e.orderInfos.length){n.orderInfos=[];for(var i=0;i<e.orderInfos.length;++i)n.orderInfos[i]=En.base.PlayerOrderInfoPB.toObject(e.orderInfos[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.PlayerOrderInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.nickName="",e.prototype.registerTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.level=0,e.prototype.output=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.playerID),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(18).string(e.nickName),null!=e.registerTime&&e.hasOwnProperty("registerTime")&&t.uint32(24).int64(e.registerTime),t.uint32(32).int32(e.level),null!=e.output&&e.hasOwnProperty("output")&&t.uint32(40).int32(e.output),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.PlayerOrderInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.playerID=e.int64();break;case 2:i.nickName=e.string();break;case 3:i.registerTime=e.int64();break;case 4:i.level=e.int32();break;case 5:i.output=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("playerID"))throw An.ProtocolError("missing required 'playerID'",{instance:i});if(!i.hasOwnProperty("level"))throw An.ProtocolError("missing required 'level'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high)?null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null!=e.registerTime&&e.hasOwnProperty("registerTime")&&!(An.isInteger(e.registerTime)||e.registerTime&&An.isInteger(e.registerTime.low)&&An.isInteger(e.registerTime.high))?"registerTime: integer|Long expected":An.isInteger(e.level)?null!=e.output&&e.hasOwnProperty("output")&&!An.isInteger(e.output)?"output: integer expected":null:"level: integer expected":"playerID: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.PlayerOrderInfoPB)return e;var t=new En.base.PlayerOrderInfoPB;return null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.registerTime&&(An.Long?(t.registerTime=An.Long.fromValue(e.registerTime)).unsigned=!1:"string"==typeof e.registerTime?t.registerTime=parseInt(e.registerTime,10):"number"==typeof e.registerTime?t.registerTime=e.registerTime:"object"===Pn(e.registerTime)&&(t.registerTime=new An.LongBits(e.registerTime.low>>>0,e.registerTime.high>>>0).toNumber())),null!=e.level&&(t.level=0|e.level),null!=e.output&&(t.output=0|e.output),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerID=t.longs===String?"0":0;n.nickName="",An.Long?(i=new An.Long(0,0,!1),n.registerTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.registerTime=t.longs===String?"0":0,n.level=0,n.output=0}return null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.registerTime&&e.hasOwnProperty("registerTime")&&("number"==typeof e.registerTime?n.registerTime=t.longs===String?String(e.registerTime):e.registerTime:n.registerTime=t.longs===String?An.Long.prototype.toString.call(e.registerTime):t.longs===Number?new An.LongBits(e.registerTime.low>>>0,e.registerTime.high>>>0).toNumber():e.registerTime),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.output&&e.hasOwnProperty("output")&&(n.output=e.output),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_FlyUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_FlyUp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_FlyUp)return e;var t=new En.base.C2S_FlyUp;switch(e.type){case"GetFlyUp_Cmd":case 1:t.type=1;break;case"ThroughMap_Cmd":case 2:t.type=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"GetFlyUp_Cmd":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.FlyCmdType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_FlyUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.canFlyUp=!1,e.prototype.flyUpOver=!1,e.prototype.mapID=0,e.prototype.npcID=0,e.prototype.fightResult=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).bool(e.canFlyUp),t.uint32(24).bool(e.flyUpOver),null!=e.mapID&&e.hasOwnProperty("mapID")&&t.uint32(40).int32(e.mapID),null!=e.npcID&&e.hasOwnProperty("npcID")&&t.uint32(48).int32(e.npcID),null!=e.fightResult&&e.hasOwnProperty("fightResult")&&En.base.FightResultMsg.encode(e.fightResult,t.uint32(58).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_FlyUp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.canFlyUp=e.bool();break;case 3:i.flyUpOver=e.bool();break;case 5:i.mapID=e.int32();break;case 6:i.npcID=e.int32();break;case 7:i.fightResult=En.base.FightResultMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("canFlyUp"))throw An.ProtocolError("missing required 'canFlyUp'",{instance:i});if(!i.hasOwnProperty("flyUpOver"))throw An.ProtocolError("missing required 'flyUpOver'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:}if("boolean"!=typeof e.canFlyUp)return"canFlyUp: boolean expected";if("boolean"!=typeof e.flyUpOver)return"flyUpOver: boolean expected";if(null!=e.mapID&&e.hasOwnProperty("mapID")&&!An.isInteger(e.mapID))return"mapID: integer expected";if(null!=e.npcID&&e.hasOwnProperty("npcID")&&!An.isInteger(e.npcID))return"npcID: integer expected";if(null!=e.fightResult&&e.hasOwnProperty("fightResult")){var t=En.base.FightResultMsg.verify(e.fightResult);if(t)return"fightResult."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_FlyUp)return e;var t=new En.base.S2C_FlyUp;switch(e.type){case"GetFlyUp_Cmd":case 1:t.type=1;break;case"ThroughMap_Cmd":case 2:t.type=2}if(null!=e.canFlyUp&&(t.canFlyUp=Boolean(e.canFlyUp)),null!=e.flyUpOver&&(t.flyUpOver=Boolean(e.flyUpOver)),null!=e.mapID&&(t.mapID=0|e.mapID),null!=e.npcID&&(t.npcID=0|e.npcID),null!=e.fightResult){if("object"!==Pn(e.fightResult))throw TypeError(".base.S2C_FlyUp.fightResult: object expected");t.fightResult=En.base.FightResultMsg.fromObject(e.fightResult)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"GetFlyUp_Cmd":1,n.canFlyUp=!1,n.flyUpOver=!1,n.mapID=0,n.npcID=0,n.fightResult=null),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.FlyCmdType[e.type]:e.type),null!=e.canFlyUp&&e.hasOwnProperty("canFlyUp")&&(n.canFlyUp=e.canFlyUp),null!=e.flyUpOver&&e.hasOwnProperty("flyUpOver")&&(n.flyUpOver=e.flyUpOver),null!=e.mapID&&e.hasOwnProperty("mapID")&&(n.mapID=e.mapID),null!=e.npcID&&e.hasOwnProperty("npcID")&&(n.npcID=e.npcID),null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n.fightResult=En.base.FightResultMsg.toObject(e.fightResult,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FlyCmdType=(Ve={},(ze=Object.create(Ve))[Ve[1]="GetFlyUp_Cmd"]=1,ze[Ve[2]="ThroughMap_Cmd"]=2,ze),Dn.C2S_GoFishing=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.fieldType=1,e.prototype.piaoType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t.uint32(16).int32(e.fieldType),null!=e.piaoType&&e.hasOwnProperty("piaoType")&&t.uint32(24).int32(e.piaoType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GoFishing;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.fieldType=e.int32();break;case 3:i.piaoType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});if(!i.hasOwnProperty("fieldType"))throw An.ProtocolError("missing required 'fieldType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}switch(e.fieldType){default:return"fieldType: enum value expected";case 1:case 2:}return null!=e.piaoType&&e.hasOwnProperty("piaoType")&&!An.isInteger(e.piaoType)?"piaoType: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_GoFishing)return e;var t=new En.base.C2S_GoFishing;switch(e.cmdType){case"EnterField_Cmd":case 1:t.cmdType=1;break;case"PaoGan_Cmd":case 2:t.cmdType=2;break;case"System_Calc_LaGan":case 3:t.cmdType=3;break;case"LaGan_Cmd":case 4:t.cmdType=4;break;case"ChangeState_Cmd":case 5:t.cmdType=5;break;case"Reconnect_Cmd":case 6:t.cmdType=6;break;case"GetConsume_Cmd":case 7:t.cmdType=7;break;case"GetFishingRod_Cmd":case 8:t.cmdType=8}switch(e.fieldType){case"AboveGround":case 1:t.fieldType=1;break;case"TheSky":case 2:t.fieldType=2}return null!=e.piaoType&&(t.piaoType=0|e.piaoType),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"EnterField_Cmd":1,n.fieldType=t.enums===String?"AboveGround":1,n.piaoType=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.GoFishingCmdType[e.cmdType]:e.cmdType),null!=e.fieldType&&e.hasOwnProperty("fieldType")&&(n.fieldType=t.enums===String?En.base.GoFishingFieldType[e.fieldType]:e.fieldType),null!=e.piaoType&&e.hasOwnProperty("piaoType")&&(n.piaoType=e.piaoType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GoFishing=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.piaoType=0,e.prototype.reward=An.emptyArray,e.prototype.countDown=0,e.prototype.gameState=0,e.prototype.fieldType=1,e.prototype.gameRemainTime=0,e.prototype.consume=null,e.prototype.fishingRodInfo=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.piaoType&&e.hasOwnProperty("piaoType")&&t.uint32(16).int32(e.piaoType),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.RewardInfoPB.encode(e.reward[n],t.uint32(26).fork()).ldelim();return null!=e.countDown&&e.hasOwnProperty("countDown")&&t.uint32(32).int32(e.countDown),null!=e.gameState&&e.hasOwnProperty("gameState")&&t.uint32(40).int32(e.gameState),null!=e.fieldType&&e.hasOwnProperty("fieldType")&&t.uint32(48).int32(e.fieldType),null!=e.gameRemainTime&&e.hasOwnProperty("gameRemainTime")&&t.uint32(56).int32(e.gameRemainTime),null!=e.consume&&e.hasOwnProperty("consume")&&En.base.GoFishingConsumeInfoPB.encode(e.consume,t.uint32(66).fork()).ldelim(),null!=e.fishingRodInfo&&e.hasOwnProperty("fishingRodInfo")&&En.base.FishingRodInfoPB.encode(e.fishingRodInfo,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GoFishing;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.piaoType=e.int32();break;case 3:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.RewardInfoPB.decode(e,e.uint32()));break;case 4:i.countDown=e.int32();break;case 5:i.gameState=e.int32();break;case 6:i.fieldType=e.int32();break;case 7:i.gameRemainTime=e.int32();break;case 8:i.consume=En.base.GoFishingConsumeInfoPB.decode(e,e.uint32());break;case 9:i.fishingRodInfo=En.base.FishingRodInfoPB.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}if(null!=e.piaoType&&e.hasOwnProperty("piaoType")&&!An.isInteger(e.piaoType))return"piaoType: integer expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t)if(n=En.base.RewardInfoPB.verify(e.reward[t]))return"reward."+n}if(null!=e.countDown&&e.hasOwnProperty("countDown")&&!An.isInteger(e.countDown))return"countDown: integer expected";if(null!=e.gameState&&e.hasOwnProperty("gameState")&&!An.isInteger(e.gameState))return"gameState: integer expected";if(null!=e.fieldType&&e.hasOwnProperty("fieldType"))switch(e.fieldType){default:return"fieldType: enum value expected";case 1:case 2:}return null!=e.gameRemainTime&&e.hasOwnProperty("gameRemainTime")&&!An.isInteger(e.gameRemainTime)?"gameRemainTime: integer expected":null!=e.consume&&e.hasOwnProperty("consume")&&(n=En.base.GoFishingConsumeInfoPB.verify(e.consume))?"consume."+n:null!=e.fishingRodInfo&&e.hasOwnProperty("fishingRodInfo")&&(n=En.base.FishingRodInfoPB.verify(e.fishingRodInfo))?"fishingRodInfo."+n:null;var n},e.fromObject=function(e){if(e instanceof En.base.S2C_GoFishing)return e;var t=new En.base.S2C_GoFishing;switch(e.cmdType){case"EnterField_Cmd":case 1:t.cmdType=1;break;case"PaoGan_Cmd":case 2:t.cmdType=2;break;case"System_Calc_LaGan":case 3:t.cmdType=3;break;case"LaGan_Cmd":case 4:t.cmdType=4;break;case"ChangeState_Cmd":case 5:t.cmdType=5;break;case"Reconnect_Cmd":case 6:t.cmdType=6;break;case"GetConsume_Cmd":case 7:t.cmdType=7;break;case"GetFishingRod_Cmd":case 8:t.cmdType=8}if(null!=e.piaoType&&(t.piaoType=0|e.piaoType),e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_GoFishing.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_GoFishing.reward: object expected");t.reward[n]=En.base.RewardInfoPB.fromObject(e.reward[n])}}switch(null!=e.countDown&&(t.countDown=0|e.countDown),null!=e.gameState&&(t.gameState=0|e.gameState),e.fieldType){case"AboveGround":case 1:t.fieldType=1;break;case"TheSky":case 2:t.fieldType=2}if(null!=e.gameRemainTime&&(t.gameRemainTime=0|e.gameRemainTime),null!=e.consume){if("object"!==Pn(e.consume))throw TypeError(".base.S2C_GoFishing.consume: object expected");t.consume=En.base.GoFishingConsumeInfoPB.fromObject(e.consume)}if(null!=e.fishingRodInfo){if("object"!==Pn(e.fishingRodInfo))throw TypeError(".base.S2C_GoFishing.fishingRodInfo: object expected");t.fishingRodInfo=En.base.FishingRodInfoPB.fromObject(e.fishingRodInfo)}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),t.defaults&&(n.cmdType=t.enums===String?"EnterField_Cmd":1,n.piaoType=0,n.countDown=0,n.gameState=0,n.fieldType=t.enums===String?"AboveGround":1,n.gameRemainTime=0,n.consume=null,n.fishingRodInfo=null),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.GoFishingCmdType[e.cmdType]:e.cmdType),null!=e.piaoType&&e.hasOwnProperty("piaoType")&&(n.piaoType=e.piaoType),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.RewardInfoPB.toObject(e.reward[i],t)}return null!=e.countDown&&e.hasOwnProperty("countDown")&&(n.countDown=e.countDown),null!=e.gameState&&e.hasOwnProperty("gameState")&&(n.gameState=e.gameState),null!=e.fieldType&&e.hasOwnProperty("fieldType")&&(n.fieldType=t.enums===String?En.base.GoFishingFieldType[e.fieldType]:e.fieldType),null!=e.gameRemainTime&&e.hasOwnProperty("gameRemainTime")&&(n.gameRemainTime=e.gameRemainTime),null!=e.consume&&e.hasOwnProperty("consume")&&(n.consume=En.base.GoFishingConsumeInfoPB.toObject(e.consume,t)),null!=e.fishingRodInfo&&e.hasOwnProperty("fishingRodInfo")&&(n.fishingRodInfo=En.base.FishingRodInfoPB.toObject(e.fishingRodInfo,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.GoFishingFieldType=(Ye={},(Qe=Object.create(Ye))[Ye[1]="AboveGround"]=1,Qe[Ye[2]="TheSky"]=2,Qe),Dn.GoFishingCmdType=(qe={},(Je=Object.create(qe))[qe[1]="EnterField_Cmd"]=1,Je[qe[2]="PaoGan_Cmd"]=2,Je[qe[3]="System_Calc_LaGan"]=3,Je[qe[4]="LaGan_Cmd"]=4,Je[qe[5]="ChangeState_Cmd"]=5,Je[qe[6]="Reconnect_Cmd"]=6,Je[qe[7]="GetConsume_Cmd"]=7,Je[qe[8]="GetFishingRod_Cmd"]=8,Je),Dn.PiaoType=(Xe={},(Ze=Object.create(Xe))[Xe[1]="DaLi"]=1,Ze[Xe[2]="YuHui"]=2,Ze[Xe[3]="KuaiSu"]=3,Ze),Dn.GameState=(Ue={},(He=Object.create(Ue))[Ue[1]="Inited"]=1,He[Ue[2]="PaoGan"]=2,He[Ue[3]="LaGan"]=3,He[Ue[4]="GameOver"]=4,He[Ue[5]="Stop"]=5,He),Dn.RewardInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemID=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.itemID),t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.RewardInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemID=e.int32();break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("itemID"))throw An.ProtocolError("missing required 'itemID'",{instance:i});if(!i.hasOwnProperty("count"))throw An.ProtocolError("missing required 'count'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.itemID)?An.isInteger(e.count)?null:"count: integer expected":"itemID: integer expected"},e.fromObject=function(e){if(e instanceof En.base.RewardInfoPB)return e;var t=new En.base.RewardInfoPB;return null!=e.itemID&&(t.itemID=0|e.itemID),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.itemID=0,n.count=0),null!=e.itemID&&e.hasOwnProperty("itemID")&&(n.itemID=e.itemID),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.GoFishingConsumeInfoPB=function(){function e(e){if(this.resource=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resource=An.emptyArray,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.resource&&e.resource.length)for(var n=0;n<e.resource.length;++n)En.base.ResourceMsg.encode(e.resource[n],t.uint32(10).fork()).ldelim();return null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.GoFishingConsumeInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.resource&&i.resource.length||(i.resource=[]),i.resource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){if(!Array.isArray(e.resource))return"resource: array expected";for(var t=0;t<e.resource.length;++t){var n=En.base.ResourceMsg.verify(e.resource[t]);if(n)return"resource."+n}}return null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.GoFishingConsumeInfoPB)return e;var t=new En.base.GoFishingConsumeInfoPB;if(e.resource){if(!Array.isArray(e.resource))throw TypeError(".base.GoFishingConsumeInfoPB.resource: array expected");t.resource=[];for(var n=0;n<e.resource.length;++n){if("object"!==Pn(e.resource[n]))throw TypeError(".base.GoFishingConsumeInfoPB.resource: object expected");t.resource[n]=En.base.ResourceMsg.fromObject(e.resource[n])}}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.resource=[]),t.defaults&&(n.count=0),e.resource&&e.resource.length){n.resource=[];for(var i=0;i<e.resource.length;++i)n.resource[i]=En.base.ResourceMsg.toObject(e.resource[i],t)}return null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FishingRodInfoPB=function(){function e(e){if(this.ownedFishingRod=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.useing=0,e.prototype.ownedFishingRod=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.useing&&e.hasOwnProperty("useing")&&t.uint32(8).int32(e.useing),null!=e.ownedFishingRod&&e.ownedFishingRod.length)for(var n=0;n<e.ownedFishingRod.length;++n)t.uint32(16).int32(e.ownedFishingRod[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.FishingRodInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.useing=e.int32();break;case 2:if(i.ownedFishingRod&&i.ownedFishingRod.length||(i.ownedFishingRod=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.ownedFishingRod.push(e.int32());else i.ownedFishingRod.push(e.int32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.useing&&e.hasOwnProperty("useing")&&!An.isInteger(e.useing))return"useing: integer expected";if(null!=e.ownedFishingRod&&e.hasOwnProperty("ownedFishingRod")){if(!Array.isArray(e.ownedFishingRod))return"ownedFishingRod: array expected";for(var t=0;t<e.ownedFishingRod.length;++t)if(!An.isInteger(e.ownedFishingRod[t]))return"ownedFishingRod: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.FishingRodInfoPB)return e;var t=new En.base.FishingRodInfoPB;if(null!=e.useing&&(t.useing=0|e.useing),e.ownedFishingRod){if(!Array.isArray(e.ownedFishingRod))throw TypeError(".base.FishingRodInfoPB.ownedFishingRod: array expected");t.ownedFishingRod=[];for(var n=0;n<e.ownedFishingRod.length;++n)t.ownedFishingRod[n]=0|e.ownedFishingRod[n]}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.ownedFishingRod=[]),t.defaults&&(n.useing=0),null!=e.useing&&e.hasOwnProperty("useing")&&(n.useing=e.useing),e.ownedFishingRod&&e.ownedFishingRod.length){n.ownedFishingRod=[];for(var i=0;i<e.ownedFishingRod.length;++i)n.ownedFishingRod[i]=e.ownedFishingRod[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GetGongFa=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetGongFa;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetGongFa?e:new En.base.C2S_GetGongFa},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetGongFa=function(){function e(e){if(this.gongFaInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.gongFaInfo=An.emptyArray,e.prototype.skillNumID=0,e.prototype.zhaoShi=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.gongFaInfo&&e.gongFaInfo.length)for(var n=0;n<e.gongFaInfo.length;++n)En.base.GongFaInfoPB.encode(e.gongFaInfo[n],t.uint32(10).fork()).ldelim();return t.uint32(16).int32(e.skillNumID),t.uint32(24).int32(e.zhaoShi),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetGongFa;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.gongFaInfo&&i.gongFaInfo.length||(i.gongFaInfo=[]),i.gongFaInfo.push(En.base.GongFaInfoPB.decode(e,e.uint32()));break;case 2:i.skillNumID=e.int32();break;case 3:i.zhaoShi=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("skillNumID"))throw An.ProtocolError("missing required 'skillNumID'",{instance:i});if(!i.hasOwnProperty("zhaoShi"))throw An.ProtocolError("missing required 'zhaoShi'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.gongFaInfo&&e.hasOwnProperty("gongFaInfo")){if(!Array.isArray(e.gongFaInfo))return"gongFaInfo: array expected";for(var t=0;t<e.gongFaInfo.length;++t){var n=En.base.GongFaInfoPB.verify(e.gongFaInfo[t]);if(n)return"gongFaInfo."+n}}return An.isInteger(e.skillNumID)?An.isInteger(e.zhaoShi)?null:"zhaoShi: integer expected":"skillNumID: integer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_GetGongFa)return e;var t=new En.base.S2C_GetGongFa;if(e.gongFaInfo){if(!Array.isArray(e.gongFaInfo))throw TypeError(".base.S2C_GetGongFa.gongFaInfo: array expected");t.gongFaInfo=[];for(var n=0;n<e.gongFaInfo.length;++n){if("object"!==Pn(e.gongFaInfo[n]))throw TypeError(".base.S2C_GetGongFa.gongFaInfo: object expected");t.gongFaInfo[n]=En.base.GongFaInfoPB.fromObject(e.gongFaInfo[n])}}return null!=e.skillNumID&&(t.skillNumID=0|e.skillNumID),null!=e.zhaoShi&&(t.zhaoShi=0|e.zhaoShi),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.gongFaInfo=[]),t.defaults&&(n.skillNumID=0,n.zhaoShi=0),e.gongFaInfo&&e.gongFaInfo.length){n.gongFaInfo=[];for(var i=0;i<e.gongFaInfo.length;++i)n.gongFaInfo[i]=En.base.GongFaInfoPB.toObject(e.gongFaInfo[i],t)}return null!=e.skillNumID&&e.hasOwnProperty("skillNumID")&&(n.skillNumID=e.skillNumID),null!=e.zhaoShi&&e.hasOwnProperty("zhaoShi")&&(n.zhaoShi=e.zhaoShi),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_AddMenPaiSkillNumID=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_AddMenPaiSkillNumID;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_AddMenPaiSkillNumID?e:new En.base.C2S_AddMenPaiSkillNumID},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_AddMenPaiSkillNumID=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.skillNumID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.skillNumID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_AddMenPaiSkillNumID;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.skillNumID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("skillNumID"))throw An.ProtocolError("missing required 'skillNumID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.skillNumID)?null:"skillNumID: integer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_AddMenPaiSkillNumID)return e;var t=new En.base.S2C_AddMenPaiSkillNumID;return null!=e.skillNumID&&(t.skillNumID=0|e.skillNumID),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.skillNumID=0),null!=e.skillNumID&&e.hasOwnProperty("skillNumID")&&(n.skillNumID=e.skillNumID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GongFaChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.operateType=1,e.prototype.gongFaType=0,e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.operateType),t.uint32(16).int32(e.gongFaType),t.uint32(24).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GongFaChange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.operateType=e.int32();break;case 2:i.gongFaType=e.int32();break;case 3:i.id=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("operateType"))throw An.ProtocolError("missing required 'operateType'",{instance:i});if(!i.hasOwnProperty("gongFaType"))throw An.ProtocolError("missing required 'gongFaType'",{instance:i});if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.operateType){default:return"operateType: enum value expected";case 1:case 2:case 3:case 4:}return An.isInteger(e.gongFaType)?An.isInteger(e.id)?null:"id: integer expected":"gongFaType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_GongFaChange)return e;var t=new En.base.C2S_GongFaChange;switch(e.operateType){case"AddSkill":case 1:t.operateType=1;break;case"UpGradeSkill":case 2:t.operateType=2;break;case"DeleteMenPaiSkill":case 3:t.operateType=3;break;case"ChangeZhaoShi":case 4:t.operateType=4}return null!=e.gongFaType&&(t.gongFaType=0|e.gongFaType),null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.operateType=t.enums===String?"AddSkill":1,n.gongFaType=0,n.id=0),null!=e.operateType&&e.hasOwnProperty("operateType")&&(n.operateType=t.enums===String?En.base.GongFaCmdType[e.operateType]:e.operateType),null!=e.gongFaType&&e.hasOwnProperty("gongFaType")&&(n.gongFaType=e.gongFaType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GongFaChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.operateType=1,e.prototype.gongFaInfo=null,e.prototype.zhaoShi=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.operateType),En.base.GongFaInfoPB.encode(e.gongFaInfo,t.uint32(18).fork()).ldelim(),null!=e.zhaoShi&&e.hasOwnProperty("zhaoShi")&&t.uint32(24).int32(e.zhaoShi),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GongFaChange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.operateType=e.int32();break;case 2:i.gongFaInfo=En.base.GongFaInfoPB.decode(e,e.uint32());break;case 3:i.zhaoShi=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("operateType"))throw An.ProtocolError("missing required 'operateType'",{instance:i});if(!i.hasOwnProperty("gongFaInfo"))throw An.ProtocolError("missing required 'gongFaInfo'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.operateType){default:return"operateType: enum value expected";case 1:case 2:case 3:case 4:}var t=En.base.GongFaInfoPB.verify(e.gongFaInfo);return t?"gongFaInfo."+t:null!=e.zhaoShi&&e.hasOwnProperty("zhaoShi")&&!An.isInteger(e.zhaoShi)?"zhaoShi: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_GongFaChange)return e;var t=new En.base.S2C_GongFaChange;switch(e.operateType){case"AddSkill":case 1:t.operateType=1;break;case"UpGradeSkill":case 2:t.operateType=2;break;case"DeleteMenPaiSkill":case 3:t.operateType=3;break;case"ChangeZhaoShi":case 4:t.operateType=4}if(null!=e.gongFaInfo){if("object"!==Pn(e.gongFaInfo))throw TypeError(".base.S2C_GongFaChange.gongFaInfo: object expected");t.gongFaInfo=En.base.GongFaInfoPB.fromObject(e.gongFaInfo)}return null!=e.zhaoShi&&(t.zhaoShi=0|e.zhaoShi),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.operateType=t.enums===String?"AddSkill":1,n.gongFaInfo=null,n.zhaoShi=0),null!=e.operateType&&e.hasOwnProperty("operateType")&&(n.operateType=t.enums===String?En.base.GongFaCmdType[e.operateType]:e.operateType),null!=e.gongFaInfo&&e.hasOwnProperty("gongFaInfo")&&(n.gongFaInfo=En.base.GongFaInfoPB.toObject(e.gongFaInfo,t)),null!=e.zhaoShi&&e.hasOwnProperty("zhaoShi")&&(n.zhaoShi=e.zhaoShi),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.GongFaType=(We={},(je=Object.create(We))[We[5]="XinJing"]=5,je[We[1]="ZhaoShi"]=1,je[We[2]="MiJi"]=2,je[We[3]="DunShu"]=3,je[We[4]="JueXue"]=4,je[We[6]="ZhenJue"]=6,je[We[7]="CanYe"]=7,je[We[8]="MenPai"]=8,je),Dn.GongFaCmdType=(Fe={},(Ge=Object.create(Fe))[Fe[1]="AddSkill"]=1,Ge[Fe[2]="UpGradeSkill"]=2,Ge[Fe[3]="DeleteMenPaiSkill"]=3,Ge[Fe[4]="ChangeZhaoShi"]=4,Ge),Dn.GongFaInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.gongFaType=0,e.prototype.id=0,e.prototype.level=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.gongFaType),t.uint32(16).int32(e.id),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(24).int32(e.level),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.GongFaInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.gongFaType=e.int32();break;case 2:i.id=e.int32();break;case 3:i.level=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("gongFaType"))throw An.ProtocolError("missing required 'gongFaType'",{instance:i});if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.gongFaType)?An.isInteger(e.id)?null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null:"id: integer expected":"gongFaType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.GongFaInfoPB)return e;var t=new En.base.GongFaInfoPB;return null!=e.gongFaType&&(t.gongFaType=0|e.gongFaType),null!=e.id&&(t.id=0|e.id),null!=e.level&&(t.level=0|e.level),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.gongFaType=0,n.id=0,n.level=0),null!=e.gongFaType&&e.hasOwnProperty("gongFaType")&&(n.gongFaType=e.gongFaType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GrowGift=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GrowGift;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.id=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_GrowGift)return e;var t=new En.base.C2S_GrowGift;switch(e.cmdType){case"GetPlayerTask_Cmd":case 1:t.cmdType=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdType=2;break;case"Received_Cmd":case 3:t.cmdType=3}return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetPlayerTask_Cmd":1,n.id=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.GrowGiftCmdType[e.cmdType]:e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2S_GrowGift=function(){function e(e){if(this.taskInfo=[],this.resource=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.taskInfo=An.emptyArray,e.prototype.resource=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.taskInfo&&e.taskInfo.length)for(var n=0;n<e.taskInfo.length;++n)En.base.GrowGiftInfoPB.encode(e.taskInfo[n],t.uint32(18).fork()).ldelim();if(null!=e.resource&&e.resource.length)for(n=0;n<e.resource.length;++n)En.base.ResourceMsg.encode(e.resource[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2S_GrowGift;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.taskInfo&&i.taskInfo.length||(i.taskInfo=[]),i.taskInfo.push(En.base.GrowGiftInfoPB.decode(e,e.uint32()));break;case 3:i.resource&&i.resource.length||(i.resource=[]),i.resource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.taskInfo&&e.hasOwnProperty("taskInfo")){if(!Array.isArray(e.taskInfo))return"taskInfo: array expected";for(var t=0;t<e.taskInfo.length;++t)if(n=En.base.GrowGiftInfoPB.verify(e.taskInfo[t]))return"taskInfo."+n}if(null!=e.resource&&e.hasOwnProperty("resource")){if(!Array.isArray(e.resource))return"resource: array expected";for(t=0;t<e.resource.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.resource[t]))return"resource."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2S_GrowGift)return e;var t=new En.base.S2S_GrowGift;switch(e.cmdType){case"GetPlayerTask_Cmd":case 1:t.cmdType=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdType=2;break;case"Received_Cmd":case 3:t.cmdType=3}if(e.taskInfo){if(!Array.isArray(e.taskInfo))throw TypeError(".base.S2S_GrowGift.taskInfo: array expected");t.taskInfo=[];for(var n=0;n<e.taskInfo.length;++n){if("object"!==Pn(e.taskInfo[n]))throw TypeError(".base.S2S_GrowGift.taskInfo: object expected");t.taskInfo[n]=En.base.GrowGiftInfoPB.fromObject(e.taskInfo[n])}}if(e.resource){if(!Array.isArray(e.resource))throw TypeError(".base.S2S_GrowGift.resource: array expected");for(t.resource=[],n=0;n<e.resource.length;++n){if("object"!==Pn(e.resource[n]))throw TypeError(".base.S2S_GrowGift.resource: object expected");t.resource[n]=En.base.ResourceMsg.fromObject(e.resource[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.taskInfo=[],n.resource=[]),t.defaults&&(n.cmdType=t.enums===String?"GetPlayerTask_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.GrowGiftCmdType[e.cmdType]:e.cmdType),e.taskInfo&&e.taskInfo.length){n.taskInfo=[];for(var i=0;i<e.taskInfo.length;++i)n.taskInfo[i]=En.base.GrowGiftInfoPB.toObject(e.taskInfo[i],t)}if(e.resource&&e.resource.length)for(n.resource=[],i=0;i<e.resource.length;++i)n.resource[i]=En.base.ResourceMsg.toObject(e.resource[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.GrowGiftCmdType=(Ae={},(Ee=Object.create(Ae))[Ae[1]="GetPlayerTask_Cmd"]=1,Ee[Ae[2]="UpdatePlayerTask_Cmd"]=2,Ee[Ae[3]="Received_Cmd"]=3,Ee),Dn.GrowGiftInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.taskState=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(16).int64(e.endTime),null!=e.taskState&&e.hasOwnProperty("taskState")&&t.uint32(24).int32(e.taskState),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.GrowGiftInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.endTime=e.int64();break;case 3:i.taskState=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high))?"endTime: integer|Long expected":null!=e.taskState&&e.hasOwnProperty("taskState")&&!An.isInteger(e.taskState)?"taskState: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.GrowGiftInfoPB)return e;var t=new En.base.GrowGiftInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.taskState&&(t.taskState=0|e.taskState),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.id=0,An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.taskState=0}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.taskState&&e.hasOwnProperty("taskState")&&(n.taskState=e.taskState),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PlayerGuidanceTask=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PlayerGuidanceTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 2:i.id=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:case 3:}return null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_PlayerGuidanceTask)return e;var t=new En.base.C2S_PlayerGuidanceTask;switch(e.cmdTyp){case"GetGuidanceTask_Cmd":case 1:t.cmdTyp=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdTyp=2;break;case"Received_Cmd":case 3:t.cmdTyp=3}return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdTyp=t.enums===String?"GetGuidanceTask_Cmd":1,n.id=0),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.GuidanceCmdType[e.cmdTyp]:e.cmdTyp),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PlayerGuidanceTask=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdTyp=1,e.prototype.guidanceInfo=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdTyp),null!=e.guidanceInfo&&e.hasOwnProperty("guidanceInfo")&&En.base.GuidanceInfoPB.encode(e.guidanceInfo,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PlayerGuidanceTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdTyp=e.int32();break;case 6:i.guidanceInfo=En.base.GuidanceInfoPB.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdTyp"))throw An.ProtocolError("missing required 'cmdTyp'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdTyp){default:return"cmdTyp: enum value expected";case 1:case 2:case 3:}if(null!=e.guidanceInfo&&e.hasOwnProperty("guidanceInfo")){var t=En.base.GuidanceInfoPB.verify(e.guidanceInfo);if(t)return"guidanceInfo."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_PlayerGuidanceTask)return e;var t=new En.base.S2C_PlayerGuidanceTask;switch(e.cmdTyp){case"GetGuidanceTask_Cmd":case 1:t.cmdTyp=1;break;case"UpdatePlayerTask_Cmd":case 2:t.cmdTyp=2;break;case"Received_Cmd":case 3:t.cmdTyp=3}if(null!=e.guidanceInfo){if("object"!==Pn(e.guidanceInfo))throw TypeError(".base.S2C_PlayerGuidanceTask.guidanceInfo: object expected");t.guidanceInfo=En.base.GuidanceInfoPB.fromObject(e.guidanceInfo)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdTyp=t.enums===String?"GetGuidanceTask_Cmd":1,n.guidanceInfo=null),null!=e.cmdTyp&&e.hasOwnProperty("cmdTyp")&&(n.cmdTyp=t.enums===String?En.base.GuidanceCmdType[e.cmdTyp]:e.cmdTyp),null!=e.guidanceInfo&&e.hasOwnProperty("guidanceInfo")&&(n.guidanceInfo=En.base.GuidanceInfoPB.toObject(e.guidanceInfo,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.GuidanceInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.process1=0,e.prototype.process2=0,e.prototype.state=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.process1&&e.hasOwnProperty("process1")&&t.uint32(16).int32(e.process1),null!=e.process2&&e.hasOwnProperty("process2")&&t.uint32(24).int32(e.process2),null!=e.state&&e.hasOwnProperty("state")&&t.uint32(32).int32(e.state),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.GuidanceInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.process1=e.int32();break;case 3:i.process2=e.int32();break;case 4:i.state=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.process1&&e.hasOwnProperty("process1")&&!An.isInteger(e.process1)?"process1: integer expected":null!=e.process2&&e.hasOwnProperty("process2")&&!An.isInteger(e.process2)?"process2: integer expected":null!=e.state&&e.hasOwnProperty("state")&&!An.isInteger(e.state)?"state: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.GuidanceInfoPB)return e;var t=new En.base.GuidanceInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.process1&&(t.process1=0|e.process1),null!=e.process2&&(t.process2=0|e.process2),null!=e.state&&(t.state=0|e.state),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.process1=0,n.process2=0,n.state=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.process1&&e.hasOwnProperty("process1")&&(n.process1=e.process1),null!=e.process2&&e.hasOwnProperty("process2")&&(n.process2=e.process2),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.GuidanceCmdType=(Oe={},(Re=Object.create(Oe))[Oe[1]="GetGuidanceTask_Cmd"]=1,Re[Oe[2]="UpdatePlayerTask_Cmd"]=2,Re[Oe[3]="Received_Cmd"]=3,Re),Dn.GuidanceStateType=(Pe={},(Ne=Object.create(Pe))[Pe[0]="Processing"]=0,Ne[Pe[1]="Finish"]=1,Ne[Pe[2]="Received"]=2,Ne),Dn.C2S_GetHuoLangList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetHuoLangList;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetHuoLangList?e:new En.base.C2S_GetHuoLangList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetHuoLangList=function(){function e(e){if(this.huoLangInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.huoLangInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.huoLangInfo&&e.huoLangInfo.length)for(var n=0;n<e.huoLangInfo.length;++n)En.base.HuoLangInfoPB.encode(e.huoLangInfo[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetHuoLangList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.huoLangInfo&&i.huoLangInfo.length||(i.huoLangInfo=[]),i.huoLangInfo.push(En.base.HuoLangInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.huoLangInfo&&e.hasOwnProperty("huoLangInfo")){if(!Array.isArray(e.huoLangInfo))return"huoLangInfo: array expected";for(var t=0;t<e.huoLangInfo.length;++t){var n=En.base.HuoLangInfoPB.verify(e.huoLangInfo[t]);if(n)return"huoLangInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_GetHuoLangList)return e;var t=new En.base.S2C_GetHuoLangList;if(e.huoLangInfo){if(!Array.isArray(e.huoLangInfo))throw TypeError(".base.S2C_GetHuoLangList.huoLangInfo: array expected");t.huoLangInfo=[];for(var n=0;n<e.huoLangInfo.length;++n){if("object"!==Pn(e.huoLangInfo[n]))throw TypeError(".base.S2C_GetHuoLangList.huoLangInfo: object expected");t.huoLangInfo[n]=En.base.HuoLangInfoPB.fromObject(e.huoLangInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.huoLangInfo=[]),e.huoLangInfo&&e.huoLangInfo.length){n.huoLangInfo=[];for(var i=0;i<e.huoLangInfo.length;++i)n.huoLangInfo[i]=En.base.HuoLangInfoPB.toObject(e.huoLangInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PurchaseHuoLangGoods=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.huoLangType=0,e.prototype.layer=0,e.prototype.goodsID=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.huoLangType),t.uint32(16).int32(e.layer),t.uint32(24).int32(e.goodsID),t.uint32(32).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PurchaseHuoLangGoods;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.huoLangType=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.goodsID=e.int32();break;case 4:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("huoLangType"))throw An.ProtocolError("missing required 'huoLangType'",{instance:i});if(!i.hasOwnProperty("layer"))throw An.ProtocolError("missing required 'layer'",{instance:i});if(!i.hasOwnProperty("goodsID"))throw An.ProtocolError("missing required 'goodsID'",{instance:i});if(!i.hasOwnProperty("count"))throw An.ProtocolError("missing required 'count'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.huoLangType)?An.isInteger(e.layer)?An.isInteger(e.goodsID)?An.isInteger(e.count)?null:"count: integer expected":"goodsID: integer expected":"layer: integer expected":"huoLangType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_PurchaseHuoLangGoods)return e;var t=new En.base.C2S_PurchaseHuoLangGoods;return null!=e.huoLangType&&(t.huoLangType=0|e.huoLangType),null!=e.layer&&(t.layer=0|e.layer),null!=e.goodsID&&(t.goodsID=0|e.goodsID),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.huoLangType=0,n.layer=0,n.goodsID=0,n.count=0),null!=e.huoLangType&&e.hasOwnProperty("huoLangType")&&(n.huoLangType=e.huoLangType),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.goodsID&&e.hasOwnProperty("goodsID")&&(n.goodsID=e.goodsID),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PurchaseHuoLangGoods=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.huoLangInfo=null,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),En.base.HuoLangInfoPB.encode(e.huoLangInfo,t.uint32(10).fork()).ldelim(),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PurchaseHuoLangGoods;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.huoLangInfo=En.base.HuoLangInfoPB.decode(e,e.uint32());break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("huoLangInfo"))throw An.ProtocolError("missing required 'huoLangInfo'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";var t=En.base.HuoLangInfoPB.verify(e.huoLangInfo);return t?"huoLangInfo."+t:null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_PurchaseHuoLangGoods)return e;var t=new En.base.S2C_PurchaseHuoLangGoods;if(null!=e.huoLangInfo){if("object"!==Pn(e.huoLangInfo))throw TypeError(".base.S2C_PurchaseHuoLangGoods.huoLangInfo: object expected");t.huoLangInfo=En.base.HuoLangInfoPB.fromObject(e.huoLangInfo)}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.huoLangInfo=null,n.count=0),null!=e.huoLangInfo&&e.hasOwnProperty("huoLangInfo")&&(n.huoLangInfo=En.base.HuoLangInfoPB.toObject(e.huoLangInfo,t)),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.HuoLangType=(Be={},(De=Object.create(Be))[Be[1]="XianYuLou"]=1,De[Be[2]="GongDeLou"]=2,De[Be[3]="XianDanLou"]=3,De),Dn.HuoLangInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.huoLangType=0,e.prototype.layer=0,e.prototype.goodsID=0,e.prototype.remainCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.huoLangType),t.uint32(16).int32(e.layer),t.uint32(24).int32(e.goodsID),t.uint32(32).int32(e.remainCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.HuoLangInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.huoLangType=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.goodsID=e.int32();break;case 4:i.remainCount=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("huoLangType"))throw An.ProtocolError("missing required 'huoLangType'",{instance:i});if(!i.hasOwnProperty("layer"))throw An.ProtocolError("missing required 'layer'",{instance:i});if(!i.hasOwnProperty("goodsID"))throw An.ProtocolError("missing required 'goodsID'",{instance:i});if(!i.hasOwnProperty("remainCount"))throw An.ProtocolError("missing required 'remainCount'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.huoLangType)?An.isInteger(e.layer)?An.isInteger(e.goodsID)?An.isInteger(e.remainCount)?null:"remainCount: integer expected":"goodsID: integer expected":"layer: integer expected":"huoLangType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.HuoLangInfoPB)return e;var t=new En.base.HuoLangInfoPB;return null!=e.huoLangType&&(t.huoLangType=0|e.huoLangType),null!=e.layer&&(t.layer=0|e.layer),null!=e.goodsID&&(t.goodsID=0|e.goodsID),null!=e.remainCount&&(t.remainCount=0|e.remainCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.huoLangType=0,n.layer=0,n.goodsID=0,n.remainCount=0),null!=e.huoLangType&&e.hasOwnProperty("huoLangType")&&(n.huoLangType=e.huoLangType),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.goodsID&&e.hasOwnProperty("goodsID")&&(n.goodsID=e.goodsID),null!=e.remainCount&&e.hasOwnProperty("remainCount")&&(n.remainCount=e.remainCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.JiYuanTriggerType=(Le={},(Me=Object.create(Le))[Le[1]="Level"]=1,Me[Le[2]="Properties"]=2,Me),Dn.JiYuanType=(Se={},(ke=Object.create(Se))[Se[1]="GuDing"]=1,ke[Se[2]="DaoLv"]=2,ke[Se[3]="MenPai"]=3,ke[Se[4]="DuBo"]=4,ke[Se[5]="QiYu"]=5,ke),Dn.C2S_GetJiYuan=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetJiYuan;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetJiYuan?e:new En.base.C2S_GetJiYuan},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetJiYuan=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.infos=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.infos&&e.infos.length)for(var n=0;n<e.infos.length;++n)En.base.JiYuanInfoPB.encode(e.infos[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetJiYuan;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.infos&&i.infos.length||(i.infos=[]),i.infos.push(En.base.JiYuanInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.infos&&e.hasOwnProperty("infos")){if(!Array.isArray(e.infos))return"infos: array expected";for(var t=0;t<e.infos.length;++t){var n=En.base.JiYuanInfoPB.verify(e.infos[t]);if(n)return"infos."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_GetJiYuan)return e;var t=new En.base.S2C_GetJiYuan;if(e.infos){if(!Array.isArray(e.infos))throw TypeError(".base.S2C_GetJiYuan.infos: array expected");t.infos=[];for(var n=0;n<e.infos.length;++n){if("object"!==Pn(e.infos[n]))throw TypeError(".base.S2C_GetJiYuan.infos: object expected");t.infos[n]=En.base.JiYuanInfoPB.fromObject(e.infos[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.infos=[]),e.infos&&e.infos.length){n.infos=[];for(var i=0;i<e.infos.length;++i)n.infos[i]=En.base.JiYuanInfoPB.toObject(e.infos[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_JiYuan=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.info=null,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),En.base.JiYuanInfoPB.encode(e.info,t.uint32(10).fork()).ldelim(),t.uint32(16).int32(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_JiYuan;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.info=En.base.JiYuanInfoPB.decode(e,e.uint32());break;case 2:i.index=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("info"))throw An.ProtocolError("missing required 'info'",{instance:i});if(!i.hasOwnProperty("index"))throw An.ProtocolError("missing required 'index'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";var t=En.base.JiYuanInfoPB.verify(e.info);return t?"info."+t:An.isInteger(e.index)?null:"index: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_JiYuan)return e;var t=new En.base.C2S_JiYuan;if(null!=e.info){if("object"!==Pn(e.info))throw TypeError(".base.C2S_JiYuan.info: object expected");t.info=En.base.JiYuanInfoPB.fromObject(e.info)}return null!=e.index&&(t.index=0|e.index),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.info=null,n.index=0),null!=e.info&&e.hasOwnProperty("info")&&(n.info=En.base.JiYuanInfoPB.toObject(e.info,t)),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_JiYuan=function(){function e(e){if(this.cost=[],this.resource=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cost=An.emptyArray,e.prototype.resource=An.emptyArray,e.prototype.intimacy=0,e.prototype.info=null,e.prototype.index=0,e.prototype.result=null,e.prototype.jieShi=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.cost&&e.cost.length)for(var n=0;n<e.cost.length;++n)En.base.ResourceMsg.encode(e.cost[n],t.uint32(10).fork()).ldelim();if(null!=e.resource&&e.resource.length)for(n=0;n<e.resource.length;++n)En.base.ResourceMsg.encode(e.resource[n],t.uint32(18).fork()).ldelim();return null!=e.intimacy&&e.hasOwnProperty("intimacy")&&t.uint32(24).int32(e.intimacy),null!=e.info&&e.hasOwnProperty("info")&&En.base.JiYuanInfoPB.encode(e.info,t.uint32(34).fork()).ldelim(),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(40).int32(e.index),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(50).fork()).ldelim(),null!=e.jieShi&&e.hasOwnProperty("jieShi")&&t.uint32(56).bool(e.jieShi),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_JiYuan;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cost&&i.cost.length||(i.cost=[]),i.cost.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 2:i.resource&&i.resource.length||(i.resource=[]),i.resource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 3:i.intimacy=e.int32();break;case 4:i.info=En.base.JiYuanInfoPB.decode(e,e.uint32());break;case 5:i.index=e.int32();break;case 6:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;case 7:i.jieShi=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.cost&&e.hasOwnProperty("cost")){if(!Array.isArray(e.cost))return"cost: array expected";for(var t=0;t<e.cost.length;++t)if(n=En.base.ResourceMsg.verify(e.cost[t]))return"cost."+n}if(null!=e.resource&&e.hasOwnProperty("resource")){if(!Array.isArray(e.resource))return"resource: array expected";for(t=0;t<e.resource.length;++t)if(n=En.base.ResourceMsg.verify(e.resource[t]))return"resource."+n}return null!=e.intimacy&&e.hasOwnProperty("intimacy")&&!An.isInteger(e.intimacy)?"intimacy: integer expected":null!=e.info&&e.hasOwnProperty("info")&&(n=En.base.JiYuanInfoPB.verify(e.info))?"info."+n:null!=e.index&&e.hasOwnProperty("index")&&!An.isInteger(e.index)?"index: integer expected":null!=e.result&&e.hasOwnProperty("result")&&(n=En.base.FightResultMsg.verify(e.result))?"result."+n:null!=e.jieShi&&e.hasOwnProperty("jieShi")&&"boolean"!=typeof e.jieShi?"jieShi: boolean expected":null;var n},e.fromObject=function(e){if(e instanceof En.base.S2C_JiYuan)return e;var t=new En.base.S2C_JiYuan;if(e.cost){if(!Array.isArray(e.cost))throw TypeError(".base.S2C_JiYuan.cost: array expected");t.cost=[];for(var n=0;n<e.cost.length;++n){if("object"!==Pn(e.cost[n]))throw TypeError(".base.S2C_JiYuan.cost: object expected");t.cost[n]=En.base.ResourceMsg.fromObject(e.cost[n])}}if(e.resource){if(!Array.isArray(e.resource))throw TypeError(".base.S2C_JiYuan.resource: array expected");for(t.resource=[],n=0;n<e.resource.length;++n){if("object"!==Pn(e.resource[n]))throw TypeError(".base.S2C_JiYuan.resource: object expected");t.resource[n]=En.base.ResourceMsg.fromObject(e.resource[n])}}if(null!=e.intimacy&&(t.intimacy=0|e.intimacy),null!=e.info){if("object"!==Pn(e.info))throw TypeError(".base.S2C_JiYuan.info: object expected");t.info=En.base.JiYuanInfoPB.fromObject(e.info)}if(null!=e.index&&(t.index=0|e.index),null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_JiYuan.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}return null!=e.jieShi&&(t.jieShi=Boolean(e.jieShi)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.cost=[],n.resource=[]),t.defaults&&(n.intimacy=0,n.info=null,n.index=0,n.result=null,n.jieShi=!1),e.cost&&e.cost.length){n.cost=[];for(var i=0;i<e.cost.length;++i)n.cost[i]=En.base.ResourceMsg.toObject(e.cost[i],t)}if(e.resource&&e.resource.length)for(n.resource=[],i=0;i<e.resource.length;++i)n.resource[i]=En.base.ResourceMsg.toObject(e.resource[i],t);return null!=e.intimacy&&e.hasOwnProperty("intimacy")&&(n.intimacy=e.intimacy),null!=e.info&&e.hasOwnProperty("info")&&(n.info=En.base.JiYuanInfoPB.toObject(e.info,t)),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),null!=e.jieShi&&e.hasOwnProperty("jieShi")&&(n.jieShi=e.jieShi),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.QiYuRewardType=(_e={},(Te=Object.create(_e))[_e[1]="GetResource"]=1,Te[_e[2]="GetProp"]=2,Te[_e[3]="LossProp"]=3,Te[_e[4]="None"]=4,Te[_e[5]="Fight"]=5,Te),Dn.JiYuanInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.id=0,e.prototype.npcID=0,e.prototype.uid=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.id),null!=e.npcID&&e.hasOwnProperty("npcID")&&t.uint32(24).int32(e.npcID),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(32).int64(e.uid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.JiYuanInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.id=e.int32();break;case 3:i.npcID=e.int32();break;case 4:i.uid=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.type)?An.isInteger(e.id)?null!=e.npcID&&e.hasOwnProperty("npcID")&&!An.isInteger(e.npcID)?"npcID: integer expected":null!=e.uid&&e.hasOwnProperty("uid")&&!(An.isInteger(e.uid)||e.uid&&An.isInteger(e.uid.low)&&An.isInteger(e.uid.high))?"uid: integer|Long expected":null:"id: integer expected":"type: integer expected"},e.fromObject=function(e){if(e instanceof En.base.JiYuanInfoPB)return e;var t=new En.base.JiYuanInfoPB;return null!=e.type&&(t.type=0|e.type),null!=e.id&&(t.id=0|e.id),null!=e.npcID&&(t.npcID=0|e.npcID),null!=e.uid&&(An.Long?(t.uid=An.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"===Pn(e.uid)&&(t.uid=new An.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.type=0,n.id=0,n.npcID=0,An.Long){var i=new An.Long(0,0,!1);n.uid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.uid=t.longs===String?"0":0;return null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.npcID&&e.hasOwnProperty("npcID")&&(n.npcID=e.npcID),null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?An.Long.prototype.toString.call(e.uid):t.longs===Number?new An.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.MapInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.posX=0,e.prototype.posY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.posX&&e.hasOwnProperty("posX")&&t.uint32(8).int32(e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&t.uint32(16).int32(e.posY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.MapInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.posX=e.int32();break;case 2:i.posY=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.posX&&e.hasOwnProperty("posX")&&!An.isInteger(e.posX)?"posX: integer expected":null!=e.posY&&e.hasOwnProperty("posY")&&!An.isInteger(e.posY)?"posY: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.MapInfo)return e;var t=new En.base.MapInfo;return null!=e.posX&&(t.posX=0|e.posX),null!=e.posY&&(t.posY=0|e.posY),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.posX=0,n.posY=0),null!=e.posX&&e.hasOwnProperty("posX")&&(n.posX=e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&(n.posY=e.posY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_LilianMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_LilianMap;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_LilianMap?e:new En.base.C2S_LilianMap},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_LilianMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.currentMapId=0,e.prototype.topMapId=0,e.prototype.shenyouTopMapId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.currentMapId&&e.hasOwnProperty("currentMapId")&&t.uint32(8).int32(e.currentMapId),null!=e.topMapId&&e.hasOwnProperty("topMapId")&&t.uint32(16).int32(e.topMapId),null!=e.shenyouTopMapId&&e.hasOwnProperty("shenyouTopMapId")&&t.uint32(24).int32(e.shenyouTopMapId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_LilianMap;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.currentMapId=e.int32();break;case 2:i.topMapId=e.int32();break;case 3:i.shenyouTopMapId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.currentMapId&&e.hasOwnProperty("currentMapId")&&!An.isInteger(e.currentMapId)?"currentMapId: integer expected":null!=e.topMapId&&e.hasOwnProperty("topMapId")&&!An.isInteger(e.topMapId)?"topMapId: integer expected":null!=e.shenyouTopMapId&&e.hasOwnProperty("shenyouTopMapId")&&!An.isInteger(e.shenyouTopMapId)?"shenyouTopMapId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_LilianMap)return e;var t=new En.base.S2C_LilianMap;return null!=e.currentMapId&&(t.currentMapId=0|e.currentMapId),null!=e.topMapId&&(t.topMapId=0|e.topMapId),null!=e.shenyouTopMapId&&(t.shenyouTopMapId=0|e.shenyouTopMapId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.currentMapId=0,n.topMapId=0,n.shenyouTopMapId=0),null!=e.currentMapId&&e.hasOwnProperty("currentMapId")&&(n.currentMapId=e.currentMapId),null!=e.topMapId&&e.hasOwnProperty("topMapId")&&(n.topMapId=e.topMapId),null!=e.shenyouTopMapId&&e.hasOwnProperty("shenyouTopMapId")&&(n.shenyouTopMapId=e.shenyouTopMapId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_EnterMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mapId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.mapId&&e.hasOwnProperty("mapId")&&t.uint32(8).int32(e.mapId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_EnterMap;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mapId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.mapId&&e.hasOwnProperty("mapId")&&!An.isInteger(e.mapId)?"mapId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_EnterMap)return e;var t=new En.base.C2S_EnterMap;return null!=e.mapId&&(t.mapId=0|e.mapId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.mapId=0),null!=e.mapId&&e.hasOwnProperty("mapId")&&(n.mapId=e.mapId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_EnterMap=function(){function e(e){if(this.mapInfo=[],this.qiyu=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.posX=0,e.prototype.posY=0,e.prototype.mapInfo=An.emptyArray,e.prototype.backX=0,e.prototype.backY=0,e.prototype.mapId=0,e.prototype.qiyu=An.emptyArray,e.prototype.mijingEventId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.posX&&e.hasOwnProperty("posX")&&t.uint32(8).int32(e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&t.uint32(16).int32(e.posY),null!=e.mapInfo&&e.mapInfo.length)for(var n=0;n<e.mapInfo.length;++n)En.base.MapInfo.encode(e.mapInfo[n],t.uint32(26).fork()).ldelim();if(null!=e.backX&&e.hasOwnProperty("backX")&&t.uint32(32).int32(e.backX),null!=e.backY&&e.hasOwnProperty("backY")&&t.uint32(40).int32(e.backY),null!=e.mapId&&e.hasOwnProperty("mapId")&&t.uint32(48).int32(e.mapId),null!=e.qiyu&&e.qiyu.length)for(n=0;n<e.qiyu.length;++n)t.uint32(56).int32(e.qiyu[n]);return null!=e.mijingEventId&&e.hasOwnProperty("mijingEventId")&&t.uint32(64).int32(e.mijingEventId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_EnterMap;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.posX=e.int32();break;case 2:i.posY=e.int32();break;case 3:i.mapInfo&&i.mapInfo.length||(i.mapInfo=[]),i.mapInfo.push(En.base.MapInfo.decode(e,e.uint32()));break;case 4:i.backX=e.int32();break;case 5:i.backY=e.int32();break;case 6:i.mapId=e.int32();break;case 7:if(i.qiyu&&i.qiyu.length||(i.qiyu=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.qiyu.push(e.int32());else i.qiyu.push(e.int32());break;case 8:i.mijingEventId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.posX&&e.hasOwnProperty("posX")&&!An.isInteger(e.posX))return"posX: integer expected";if(null!=e.posY&&e.hasOwnProperty("posY")&&!An.isInteger(e.posY))return"posY: integer expected";if(null!=e.mapInfo&&e.hasOwnProperty("mapInfo")){if(!Array.isArray(e.mapInfo))return"mapInfo: array expected";for(var t=0;t<e.mapInfo.length;++t){var n=En.base.MapInfo.verify(e.mapInfo[t]);if(n)return"mapInfo."+n}}if(null!=e.backX&&e.hasOwnProperty("backX")&&!An.isInteger(e.backX))return"backX: integer expected";if(null!=e.backY&&e.hasOwnProperty("backY")&&!An.isInteger(e.backY))return"backY: integer expected";if(null!=e.mapId&&e.hasOwnProperty("mapId")&&!An.isInteger(e.mapId))return"mapId: integer expected";if(null!=e.qiyu&&e.hasOwnProperty("qiyu")){if(!Array.isArray(e.qiyu))return"qiyu: array expected";for(t=0;t<e.qiyu.length;++t)if(!An.isInteger(e.qiyu[t]))return"qiyu: integer[] expected"}return null!=e.mijingEventId&&e.hasOwnProperty("mijingEventId")&&!An.isInteger(e.mijingEventId)?"mijingEventId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_EnterMap)return e;var t=new En.base.S2C_EnterMap;if(null!=e.posX&&(t.posX=0|e.posX),null!=e.posY&&(t.posY=0|e.posY),e.mapInfo){if(!Array.isArray(e.mapInfo))throw TypeError(".base.S2C_EnterMap.mapInfo: array expected");t.mapInfo=[];for(var n=0;n<e.mapInfo.length;++n){if("object"!==Pn(e.mapInfo[n]))throw TypeError(".base.S2C_EnterMap.mapInfo: object expected");t.mapInfo[n]=En.base.MapInfo.fromObject(e.mapInfo[n])}}if(null!=e.backX&&(t.backX=0|e.backX),null!=e.backY&&(t.backY=0|e.backY),null!=e.mapId&&(t.mapId=0|e.mapId),e.qiyu){if(!Array.isArray(e.qiyu))throw TypeError(".base.S2C_EnterMap.qiyu: array expected");for(t.qiyu=[],n=0;n<e.qiyu.length;++n)t.qiyu[n]=0|e.qiyu[n]}return null!=e.mijingEventId&&(t.mijingEventId=0|e.mijingEventId),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.mapInfo=[],n.qiyu=[]),t.defaults&&(n.posX=0,n.posY=0,n.backX=0,n.backY=0,n.mapId=0,n.mijingEventId=0),null!=e.posX&&e.hasOwnProperty("posX")&&(n.posX=e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&(n.posY=e.posY),e.mapInfo&&e.mapInfo.length){n.mapInfo=[];for(var i=0;i<e.mapInfo.length;++i)n.mapInfo[i]=En.base.MapInfo.toObject(e.mapInfo[i],t)}if(null!=e.backX&&e.hasOwnProperty("backX")&&(n.backX=e.backX),null!=e.backY&&e.hasOwnProperty("backY")&&(n.backY=e.backY),null!=e.mapId&&e.hasOwnProperty("mapId")&&(n.mapId=e.mapId),e.qiyu&&e.qiyu.length)for(n.qiyu=[],i=0;i<e.qiyu.length;++i)n.qiyu[i]=e.qiyu[i];return null!=e.mijingEventId&&e.hasOwnProperty("mijingEventId")&&(n.mijingEventId=e.mijingEventId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_StepInMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.posX=0,e.prototype.posY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.posX&&e.hasOwnProperty("posX")&&t.uint32(8).int32(e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&t.uint32(16).int32(e.posY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_StepInMap;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.posX=e.int32();break;case 2:i.posY=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.posX&&e.hasOwnProperty("posX")&&!An.isInteger(e.posX)?"posX: integer expected":null!=e.posY&&e.hasOwnProperty("posY")&&!An.isInteger(e.posY)?"posY: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_StepInMap)return e;var t=new En.base.C2S_StepInMap;return null!=e.posX&&(t.posX=0|e.posX),null!=e.posY&&(t.posY=0|e.posY),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.posX=0,n.posY=0),null!=e.posX&&e.hasOwnProperty("posX")&&(n.posX=e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&(n.posY=e.posY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_StepInMap=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.posX=0,e.prototype.posY=0,e.prototype.ResType=0,e.prototype.ResValue=0,e.prototype.drop=An.emptyArray,e.prototype.packageFull=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.posX&&e.hasOwnProperty("posX")&&t.uint32(8).int32(e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&t.uint32(16).int32(e.posY),null!=e.ResType&&e.hasOwnProperty("ResType")&&t.uint32(24).int32(e.ResType),null!=e.ResValue&&e.hasOwnProperty("ResValue")&&t.uint32(32).int32(e.ResValue),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(42).fork()).ldelim();return null!=e.packageFull&&e.hasOwnProperty("packageFull")&&t.uint32(48).bool(e.packageFull),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_StepInMap;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.posX=e.int32();break;case 2:i.posY=e.int32();break;case 3:i.ResType=e.int32();break;case 4:i.ResValue=e.int32();break;case 5:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 6:i.packageFull=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.posX&&e.hasOwnProperty("posX")&&!An.isInteger(e.posX))return"posX: integer expected";if(null!=e.posY&&e.hasOwnProperty("posY")&&!An.isInteger(e.posY))return"posY: integer expected";if(null!=e.ResType&&e.hasOwnProperty("ResType")&&!An.isInteger(e.ResType))return"ResType: integer expected";if(null!=e.ResValue&&e.hasOwnProperty("ResValue")&&!An.isInteger(e.ResValue))return"ResValue: integer expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t){var n=En.base.ItemMsg.verify(e.drop[t]);if(n)return"drop."+n}}return null!=e.packageFull&&e.hasOwnProperty("packageFull")&&"boolean"!=typeof e.packageFull?"packageFull: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_StepInMap)return e;var t=new En.base.S2C_StepInMap;if(null!=e.posX&&(t.posX=0|e.posX),null!=e.posY&&(t.posY=0|e.posY),null!=e.ResType&&(t.ResType=0|e.ResType),null!=e.ResValue&&(t.ResValue=0|e.ResValue),e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_StepInMap.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_StepInMap.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}return null!=e.packageFull&&(t.packageFull=Boolean(e.packageFull)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),t.defaults&&(n.posX=0,n.posY=0,n.ResType=0,n.ResValue=0,n.packageFull=!1),null!=e.posX&&e.hasOwnProperty("posX")&&(n.posX=e.posX),null!=e.posY&&e.hasOwnProperty("posY")&&(n.posY=e.posY),null!=e.ResType&&e.hasOwnProperty("ResType")&&(n.ResType=e.ResType),null!=e.ResValue&&e.hasOwnProperty("ResValue")&&(n.ResValue=e.ResValue),e.drop&&e.drop.length){n.drop=[];for(var i=0;i<e.drop.length;++i)n.drop[i]=En.base.ItemMsg.toObject(e.drop[i],t)}return null!=e.packageFull&&e.hasOwnProperty("packageFull")&&(n.packageFull=e.packageFull),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_FightMonster=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_FightMonster;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_FightMonster?e:new En.base.C2S_FightMonster},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_FightMonster=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_FightMonster;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.result&&e.hasOwnProperty("result")){var t=En.base.FightResultMsg.verify(e.result);if(t)return"result."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_FightMonster)return e;var t=new En.base.S2C_FightMonster;if(null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_FightMonster.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.result=null),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_BuyShenyouItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.systemId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.systemId&&e.hasOwnProperty("systemId")&&t.uint32(8).int32(e.systemId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_BuyShenyouItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.systemId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.systemId&&e.hasOwnProperty("systemId")&&!An.isInteger(e.systemId)?"systemId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_BuyShenyouItem)return e;var t=new En.base.C2S_BuyShenyouItem;return null!=e.systemId&&(t.systemId=0|e.systemId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.systemId=0),null!=e.systemId&&e.hasOwnProperty("systemId")&&(n.systemId=e.systemId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_BuyShenyouItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.systemId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.systemId&&e.hasOwnProperty("systemId")&&t.uint32(8).int32(e.systemId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_BuyShenyouItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.systemId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.systemId&&e.hasOwnProperty("systemId")&&!An.isInteger(e.systemId)?"systemId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_BuyShenyouItem)return e;var t=new En.base.S2C_BuyShenyouItem;return null!=e.systemId&&(t.systemId=0|e.systemId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.systemId=0),null!=e.systemId&&e.hasOwnProperty("systemId")&&(n.systemId=e.systemId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_SetAutoSell=function(){function e(e){if(this.pinzhi=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pinzhi=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.pinzhi&&e.pinzhi.length)for(var n=0;n<e.pinzhi.length;++n)t.uint32(8).int32(e.pinzhi[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_SetAutoSell;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(i.pinzhi&&i.pinzhi.length||(i.pinzhi=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.pinzhi.push(e.int32());else i.pinzhi.push(e.int32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.pinzhi&&e.hasOwnProperty("pinzhi")){if(!Array.isArray(e.pinzhi))return"pinzhi: array expected";for(var t=0;t<e.pinzhi.length;++t)if(!An.isInteger(e.pinzhi[t]))return"pinzhi: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_SetAutoSell)return e;var t=new En.base.C2S_SetAutoSell;if(e.pinzhi){if(!Array.isArray(e.pinzhi))throw TypeError(".base.C2S_SetAutoSell.pinzhi: array expected");t.pinzhi=[];for(var n=0;n<e.pinzhi.length;++n)t.pinzhi[n]=0|e.pinzhi[n]}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.pinzhi=[]),e.pinzhi&&e.pinzhi.length){n.pinzhi=[];for(var i=0;i<e.pinzhi.length;++i)n.pinzhi[i]=e.pinzhi[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_SetAutoSell=function(){function e(e){if(this.pinzhi=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pinzhi=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.pinzhi&&e.pinzhi.length)for(var n=0;n<e.pinzhi.length;++n)t.uint32(8).int32(e.pinzhi[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_SetAutoSell;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(i.pinzhi&&i.pinzhi.length||(i.pinzhi=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.pinzhi.push(e.int32());else i.pinzhi.push(e.int32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.pinzhi&&e.hasOwnProperty("pinzhi")){if(!Array.isArray(e.pinzhi))return"pinzhi: array expected";for(var t=0;t<e.pinzhi.length;++t)if(!An.isInteger(e.pinzhi[t]))return"pinzhi: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_SetAutoSell)return e;var t=new En.base.S2C_SetAutoSell;if(e.pinzhi){if(!Array.isArray(e.pinzhi))throw TypeError(".base.S2C_SetAutoSell.pinzhi: array expected");t.pinzhi=[];for(var n=0;n<e.pinzhi.length;++n)t.pinzhi[n]=0|e.pinzhi[n]}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.pinzhi=[]),e.pinzhi&&e.pinzhi.length){n.pinzhi=[];for(var i=0;i<e.pinzhi.length;++i)n.pinzhi[i]=e.pinzhi[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Shenyou=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.count=0,e.prototype.mapId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(8).int32(e.count),null!=e.mapId&&e.hasOwnProperty("mapId")&&t.uint32(16).int32(e.mapId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Shenyou;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.count=e.int32();break;case 2:i.mapId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null!=e.mapId&&e.hasOwnProperty("mapId")&&!An.isInteger(e.mapId)?"mapId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Shenyou)return e;var t=new En.base.C2S_Shenyou;return null!=e.count&&(t.count=0|e.count),null!=e.mapId&&(t.mapId=0|e.mapId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.count=0,n.mapId=0),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.mapId&&e.hasOwnProperty("mapId")&&(n.mapId=e.mapId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Shenyou=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.count=0,e.prototype.mapId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(8).int32(e.count),null!=e.mapId&&e.hasOwnProperty("mapId")&&t.uint32(16).int32(e.mapId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Shenyou;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.count=e.int32();break;case 2:i.mapId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null!=e.mapId&&e.hasOwnProperty("mapId")&&!An.isInteger(e.mapId)?"mapId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Shenyou)return e;var t=new En.base.S2C_Shenyou;return null!=e.count&&(t.count=0|e.count),null!=e.mapId&&(t.mapId=0|e.mapId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.count=0,n.mapId=0),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.mapId&&e.hasOwnProperty("mapId")&&(n.mapId=e.mapId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_StopShenyou=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_StopShenyou;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_StopShenyou?e:new En.base.C2S_StopShenyou},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_StopShenyou=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_StopShenyou;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_StopShenyou?e:new En.base.S2C_StopShenyou},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ShenyouLog=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mapId=0,e.prototype.npcName="",e.prototype.drop=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.mapId&&e.hasOwnProperty("mapId")&&t.uint32(8).int32(e.mapId),null!=e.npcName&&e.hasOwnProperty("npcName")&&t.uint32(18).string(e.npcName),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ResourceMsg.encode(e.drop[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ShenyouLog;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mapId=e.int32();break;case 2:i.npcName=e.string();break;case 5:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.mapId&&e.hasOwnProperty("mapId")&&!An.isInteger(e.mapId))return"mapId: integer expected";if(null!=e.npcName&&e.hasOwnProperty("npcName")&&!An.isString(e.npcName))return"npcName: string expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t){var n=En.base.ResourceMsg.verify(e.drop[t]);if(n)return"drop."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_ShenyouLog)return e;var t=new En.base.S2C_ShenyouLog;if(null!=e.mapId&&(t.mapId=0|e.mapId),null!=e.npcName&&(t.npcName=String(e.npcName)),e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_ShenyouLog.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_ShenyouLog.drop: object expected");t.drop[n]=En.base.ResourceMsg.fromObject(e.drop[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),t.defaults&&(n.mapId=0,n.npcName=""),null!=e.mapId&&e.hasOwnProperty("mapId")&&(n.mapId=e.mapId),null!=e.npcName&&e.hasOwnProperty("npcName")&&(n.npcName=e.npcName),e.drop&&e.drop.length){n.drop=[];for(var i=0;i<e.drop.length;++i)n.drop[i]=En.base.ResourceMsg.toObject(e.drop[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ShenyouInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ShenyouInfo;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_ShenyouInfo?e:new En.base.C2S_ShenyouInfo},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ShenyouInfo=function(){function e(e){if(this.autoSellItem=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mapId=0,e.prototype.autoSell=!1,e.prototype.autoSellItem=An.emptyArray,e.prototype.quick=!1,e.prototype.autoFight=!1,e.prototype.count=0,e.prototype.currentCount=0,e.prototype.stepIndex=0,e.prototype.startTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.fightMapCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.mapId&&e.hasOwnProperty("mapId")&&t.uint32(8).int32(e.mapId),null!=e.autoSell&&e.hasOwnProperty("autoSell")&&t.uint32(16).bool(e.autoSell),null!=e.autoSellItem&&e.autoSellItem.length)for(var n=0;n<e.autoSellItem.length;++n)t.uint32(24).int32(e.autoSellItem[n]);return null!=e.quick&&e.hasOwnProperty("quick")&&t.uint32(32).bool(e.quick),null!=e.autoFight&&e.hasOwnProperty("autoFight")&&t.uint32(40).bool(e.autoFight),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(48).int32(e.count),null!=e.currentCount&&e.hasOwnProperty("currentCount")&&t.uint32(56).int32(e.currentCount),null!=e.stepIndex&&e.hasOwnProperty("stepIndex")&&t.uint32(64).int32(e.stepIndex),null!=e.startTime&&e.hasOwnProperty("startTime")&&t.uint32(72).int64(e.startTime),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(80).int64(e.endTime),null!=e.fightMapCount&&e.hasOwnProperty("fightMapCount")&&t.uint32(88).int32(e.fightMapCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ShenyouInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mapId=e.int32();break;case 2:i.autoSell=e.bool();break;case 3:if(i.autoSellItem&&i.autoSellItem.length||(i.autoSellItem=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.autoSellItem.push(e.int32());else i.autoSellItem.push(e.int32());break;case 4:i.quick=e.bool();break;case 5:i.autoFight=e.bool();break;case 6:i.count=e.int32();break;case 7:i.currentCount=e.int32();break;case 8:i.stepIndex=e.int32();break;case 9:i.startTime=e.int64();break;case 10:i.endTime=e.int64();break;case 11:i.fightMapCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.mapId&&e.hasOwnProperty("mapId")&&!An.isInteger(e.mapId))return"mapId: integer expected";if(null!=e.autoSell&&e.hasOwnProperty("autoSell")&&"boolean"!=typeof e.autoSell)return"autoSell: boolean expected";if(null!=e.autoSellItem&&e.hasOwnProperty("autoSellItem")){if(!Array.isArray(e.autoSellItem))return"autoSellItem: array expected";for(var t=0;t<e.autoSellItem.length;++t)if(!An.isInteger(e.autoSellItem[t]))return"autoSellItem: integer[] expected"}return null!=e.quick&&e.hasOwnProperty("quick")&&"boolean"!=typeof e.quick?"quick: boolean expected":null!=e.autoFight&&e.hasOwnProperty("autoFight")&&"boolean"!=typeof e.autoFight?"autoFight: boolean expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null!=e.currentCount&&e.hasOwnProperty("currentCount")&&!An.isInteger(e.currentCount)?"currentCount: integer expected":null!=e.stepIndex&&e.hasOwnProperty("stepIndex")&&!An.isInteger(e.stepIndex)?"stepIndex: integer expected":null!=e.startTime&&e.hasOwnProperty("startTime")&&!(An.isInteger(e.startTime)||e.startTime&&An.isInteger(e.startTime.low)&&An.isInteger(e.startTime.high))?"startTime: integer|Long expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high))?"endTime: integer|Long expected":null!=e.fightMapCount&&e.hasOwnProperty("fightMapCount")&&!An.isInteger(e.fightMapCount)?"fightMapCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ShenyouInfo)return e;var t=new En.base.S2C_ShenyouInfo;if(null!=e.mapId&&(t.mapId=0|e.mapId),null!=e.autoSell&&(t.autoSell=Boolean(e.autoSell)),e.autoSellItem){if(!Array.isArray(e.autoSellItem))throw TypeError(".base.S2C_ShenyouInfo.autoSellItem: array expected");t.autoSellItem=[];for(var n=0;n<e.autoSellItem.length;++n)t.autoSellItem[n]=0|e.autoSellItem[n]}return null!=e.quick&&(t.quick=Boolean(e.quick)),null!=e.autoFight&&(t.autoFight=Boolean(e.autoFight)),null!=e.count&&(t.count=0|e.count),null!=e.currentCount&&(t.currentCount=0|e.currentCount),null!=e.stepIndex&&(t.stepIndex=0|e.stepIndex),null!=e.startTime&&(An.Long?(t.startTime=An.Long.fromValue(e.startTime)).unsigned=!1:"string"==typeof e.startTime?t.startTime=parseInt(e.startTime,10):"number"==typeof e.startTime?t.startTime=e.startTime:"object"===Pn(e.startTime)&&(t.startTime=new An.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber())),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.fightMapCount&&(t.fightMapCount=0|e.fightMapCount),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.autoSellItem=[]),t.defaults){if(n.mapId=0,n.autoSell=!1,n.quick=!1,n.autoFight=!1,n.count=0,n.currentCount=0,n.stepIndex=0,An.Long){var i=new An.Long(0,0,!1);n.startTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.startTime=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.endTime=t.longs===String?"0":0,n.fightMapCount=0}if(null!=e.mapId&&e.hasOwnProperty("mapId")&&(n.mapId=e.mapId),null!=e.autoSell&&e.hasOwnProperty("autoSell")&&(n.autoSell=e.autoSell),e.autoSellItem&&e.autoSellItem.length){n.autoSellItem=[];for(var o=0;o<e.autoSellItem.length;++o)n.autoSellItem[o]=e.autoSellItem[o]}return null!=e.quick&&e.hasOwnProperty("quick")&&(n.quick=e.quick),null!=e.autoFight&&e.hasOwnProperty("autoFight")&&(n.autoFight=e.autoFight),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.currentCount&&e.hasOwnProperty("currentCount")&&(n.currentCount=e.currentCount),null!=e.stepIndex&&e.hasOwnProperty("stepIndex")&&(n.stepIndex=e.stepIndex),null!=e.startTime&&e.hasOwnProperty("startTime")&&("number"==typeof e.startTime?n.startTime=t.longs===String?String(e.startTime):e.startTime:n.startTime=t.longs===String?An.Long.prototype.toString.call(e.startTime):t.longs===Number?new An.LongBits(e.startTime.low>>>0,e.startTime.high>>>0).toNumber():e.startTime),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.fightMapCount&&e.hasOwnProperty("fightMapCount")&&(n.fightMapCount=e.fightMapCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MiJingOpt=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.eventId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.eventId&&e.hasOwnProperty("eventId")&&t.uint32(8).int32(e.eventId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MiJingOpt;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.eventId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.eventId&&e.hasOwnProperty("eventId")&&!An.isInteger(e.eventId)?"eventId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MiJingOpt)return e;var t=new En.base.C2S_MiJingOpt;return null!=e.eventId&&(t.eventId=0|e.eventId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.eventId=0),null!=e.eventId&&e.hasOwnProperty("eventId")&&(n.eventId=e.eventId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MiJingOpt=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nextEventId=0,e.prototype.drop=An.emptyArray,e.prototype.fightResult=null,e.prototype.packageFull=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.nextEventId&&e.hasOwnProperty("nextEventId")&&t.uint32(8).int32(e.nextEventId),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(18).fork()).ldelim();return null!=e.fightResult&&e.hasOwnProperty("fightResult")&&En.base.FightResultMsg.encode(e.fightResult,t.uint32(26).fork()).ldelim(),null!=e.packageFull&&e.hasOwnProperty("packageFull")&&t.uint32(32).bool(e.packageFull),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MiJingOpt;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.nextEventId=e.int32();break;case 2:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 3:i.fightResult=En.base.FightResultMsg.decode(e,e.uint32());break;case 4:i.packageFull=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.nextEventId&&e.hasOwnProperty("nextEventId")&&!An.isInteger(e.nextEventId))return"nextEventId: integer expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t)if(n=En.base.ItemMsg.verify(e.drop[t]))return"drop."+n}var n;return null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n=En.base.FightResultMsg.verify(e.fightResult))?"fightResult."+n:null!=e.packageFull&&e.hasOwnProperty("packageFull")&&"boolean"!=typeof e.packageFull?"packageFull: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MiJingOpt)return e;var t=new En.base.S2C_MiJingOpt;if(null!=e.nextEventId&&(t.nextEventId=0|e.nextEventId),e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_MiJingOpt.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_MiJingOpt.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}if(null!=e.fightResult){if("object"!==Pn(e.fightResult))throw TypeError(".base.S2C_MiJingOpt.fightResult: object expected");t.fightResult=En.base.FightResultMsg.fromObject(e.fightResult)}return null!=e.packageFull&&(t.packageFull=Boolean(e.packageFull)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),t.defaults&&(n.nextEventId=0,n.fightResult=null,n.packageFull=!1),null!=e.nextEventId&&e.hasOwnProperty("nextEventId")&&(n.nextEventId=e.nextEventId),e.drop&&e.drop.length){n.drop=[];for(var i=0;i<e.drop.length;++i)n.drop[i]=En.base.ItemMsg.toObject(e.drop[i],t)}return null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n.fightResult=En.base.FightResultMsg.toObject(e.fightResult,t)),null!=e.packageFull&&e.hasOwnProperty("packageFull")&&(n.packageFull=e.packageFull),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ChapterReward=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ChapterReward;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_ChapterReward?e:new En.base.C2S_ChapterReward},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ChapterReward=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.drop=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ChapterReward;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t){var n=En.base.ItemMsg.verify(e.drop[t]);if(n)return"drop."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_ChapterReward)return e;var t=new En.base.S2C_ChapterReward;if(e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_ChapterReward.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_ChapterReward.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),e.drop&&e.drop.length){n.drop=[];for(var i=0;i<e.drop.length;++i)n.drop[i]=En.base.ItemMsg.toObject(e.drop[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ChapterBoss=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ChapterBoss;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_ChapterBoss?e:new En.base.C2S_ChapterBoss},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ChapterBoss=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.drop=An.emptyArray,e.prototype.fightResult=null,e.prototype.packageFull=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(10).fork()).ldelim();return null!=e.fightResult&&e.hasOwnProperty("fightResult")&&En.base.FightResultMsg.encode(e.fightResult,t.uint32(18).fork()).ldelim(),null!=e.packageFull&&e.hasOwnProperty("packageFull")&&t.uint32(24).bool(e.packageFull),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ChapterBoss;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 2:i.fightResult=En.base.FightResultMsg.decode(e,e.uint32());break;case 3:i.packageFull=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t)if(n=En.base.ItemMsg.verify(e.drop[t]))return"drop."+n}var n;return null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n=En.base.FightResultMsg.verify(e.fightResult))?"fightResult."+n:null!=e.packageFull&&e.hasOwnProperty("packageFull")&&"boolean"!=typeof e.packageFull?"packageFull: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ChapterBoss)return e;var t=new En.base.S2C_ChapterBoss;if(e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_ChapterBoss.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_ChapterBoss.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}if(null!=e.fightResult){if("object"!==Pn(e.fightResult))throw TypeError(".base.S2C_ChapterBoss.fightResult: object expected");t.fightResult=En.base.FightResultMsg.fromObject(e.fightResult)}return null!=e.packageFull&&(t.packageFull=Boolean(e.packageFull)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),t.defaults&&(n.fightResult=null,n.packageFull=!1),e.drop&&e.drop.length){n.drop=[];for(var i=0;i<e.drop.length;++i)n.drop[i]=En.base.ItemMsg.toObject(e.drop[i],t)}return null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n.fightResult=En.base.FightResultMsg.toObject(e.fightResult,t)),null!=e.packageFull&&e.hasOwnProperty("packageFull")&&(n.packageFull=e.packageFull),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_NextChapterMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_NextChapterMap;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_NextChapterMap?e:new En.base.C2S_NextChapterMap},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_NextChapterMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_NextChapterMap;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_NextChapterMap?e:new En.base.S2C_NextChapterMap},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_EnterChapter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_EnterChapter;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_EnterChapter?e:new En.base.C2S_EnterChapter},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_EnterChapter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cid=0,e.prototype.pass=!1,e.prototype.quickCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.cid&&e.hasOwnProperty("cid")&&t.uint32(8).int32(e.cid),null!=e.pass&&e.hasOwnProperty("pass")&&t.uint32(16).bool(e.pass),null!=e.quickCount&&e.hasOwnProperty("quickCount")&&t.uint32(24).int32(e.quickCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_EnterChapter;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cid=e.int32();break;case 2:i.pass=e.bool();break;case 3:i.quickCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.cid&&e.hasOwnProperty("cid")&&!An.isInteger(e.cid)?"cid: integer expected":null!=e.pass&&e.hasOwnProperty("pass")&&"boolean"!=typeof e.pass?"pass: boolean expected":null!=e.quickCount&&e.hasOwnProperty("quickCount")&&!An.isInteger(e.quickCount)?"quickCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_EnterChapter)return e;var t=new En.base.S2C_EnterChapter;return null!=e.cid&&(t.cid=0|e.cid),null!=e.pass&&(t.pass=Boolean(e.pass)),null!=e.quickCount&&(t.quickCount=0|e.quickCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cid=0,n.pass=!1,n.quickCount=0),null!=e.cid&&e.hasOwnProperty("cid")&&(n.cid=e.cid),null!=e.pass&&e.hasOwnProperty("pass")&&(n.pass=e.pass),null!=e.quickCount&&e.hasOwnProperty("quickCount")&&(n.quickCount=e.quickCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_QuickChapter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_QuickChapter;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_QuickChapter?e:new En.base.C2S_QuickChapter},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_QuickChapter=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.drop=An.emptyArray,e.prototype.quickCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(10).fork()).ldelim();return null!=e.quickCount&&e.hasOwnProperty("quickCount")&&t.uint32(16).int32(e.quickCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_QuickChapter;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 2:i.quickCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t){var n=En.base.ItemMsg.verify(e.drop[t]);if(n)return"drop."+n}}return null!=e.quickCount&&e.hasOwnProperty("quickCount")&&!An.isInteger(e.quickCount)?"quickCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_QuickChapter)return e;var t=new En.base.S2C_QuickChapter;if(e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_QuickChapter.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_QuickChapter.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}return null!=e.quickCount&&(t.quickCount=0|e.quickCount),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),t.defaults&&(n.quickCount=0),e.drop&&e.drop.length){n.drop=[];for(var i=0;i<e.drop.length;++i)n.drop[i]=En.base.ItemMsg.toObject(e.drop[i],t)}return null!=e.quickCount&&e.hasOwnProperty("quickCount")&&(n.quickCount=e.quickCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_LingMai=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.lingMaiType=1,e.prototype.qiLingType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.lingMaiType&&e.hasOwnProperty("lingMaiType")&&t.uint32(16).int32(e.lingMaiType),null!=e.qiLingType&&e.hasOwnProperty("qiLingType")&&t.uint32(24).int32(e.qiLingType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_LingMai;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.lingMaiType=e.int32();break;case 3:i.qiLingType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.lingMaiType&&e.hasOwnProperty("lingMaiType"))switch(e.lingMaiType){default:return"lingMaiType: enum value expected";case 1:case 2:}return null!=e.qiLingType&&e.hasOwnProperty("qiLingType")&&!An.isInteger(e.qiLingType)?"qiLingType: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_LingMai)return e;var t=new En.base.C2S_LingMai;switch(e.cmdType){case"GetLingMai_Cmd":case 1:t.cmdType=1;break;case"Upgrade_Cmd":case 2:t.cmdType=2;break;case"OneClickUpgrade_Cmd":case 3:t.cmdType=3;break;case"GetQiLing_Cmd":case 4:t.cmdType=4;break;case"UpgradeQiLing_Cmd":case 5:t.cmdType=5;break;case"MiFaBaoZang_Cmd":case 6:t.cmdType=6}switch(e.lingMaiType){case"JingMai":case 1:t.lingMaiType=1;break;case"QiLing":case 2:t.lingMaiType=2}return null!=e.qiLingType&&(t.qiLingType=0|e.qiLingType),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetLingMai_Cmd":1,n.lingMaiType=t.enums===String?"JingMai":1,n.qiLingType=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.LingMaiCmdType[e.cmdType]:e.cmdType),null!=e.lingMaiType&&e.hasOwnProperty("lingMaiType")&&(n.lingMaiType=t.enums===String?En.base.LingMaiType[e.lingMaiType]:e.lingMaiType),null!=e.qiLingType&&e.hasOwnProperty("qiLingType")&&(n.qiLingType=e.qiLingType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_LingMai=function(){function e(e){if(this.qiLing=[],this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.lingMaiType=1,e.prototype.level=0,e.prototype.qiLing=An.emptyArray,e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.lingMaiType&&e.hasOwnProperty("lingMaiType")&&t.uint32(16).int32(e.lingMaiType),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(24).int32(e.level),null!=e.qiLing&&e.qiLing.length)for(var n=0;n<e.qiLing.length;++n)En.base.QiLingInfoPB.encode(e.qiLing[n],t.uint32(34).fork()).ldelim();if(null!=e.rewards&&e.rewards.length)for(n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_LingMai;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.lingMaiType=e.int32();break;case 3:i.level=e.int32();break;case 4:i.qiLing&&i.qiLing.length||(i.qiLing=[]),i.qiLing.push(En.base.QiLingInfoPB.decode(e,e.uint32()));break;case 5:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.lingMaiType&&e.hasOwnProperty("lingMaiType"))switch(e.lingMaiType){default:return"lingMaiType: enum value expected";case 1:case 2:}if(null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level))return"level: integer expected";if(null!=e.qiLing&&e.hasOwnProperty("qiLing")){if(!Array.isArray(e.qiLing))return"qiLing: array expected";for(var t=0;t<e.qiLing.length;++t)if(n=En.base.QiLingInfoPB.verify(e.qiLing[t]))return"qiLing."+n}if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(t=0;t<e.rewards.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.rewards[t]))return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_LingMai)return e;var t=new En.base.S2C_LingMai;switch(e.cmdType){case"GetLingMai_Cmd":case 1:t.cmdType=1;break;case"Upgrade_Cmd":case 2:t.cmdType=2;break;case"OneClickUpgrade_Cmd":case 3:t.cmdType=3;break;case"GetQiLing_Cmd":case 4:t.cmdType=4;break;case"UpgradeQiLing_Cmd":case 5:t.cmdType=5;break;case"MiFaBaoZang_Cmd":case 6:t.cmdType=6}switch(e.lingMaiType){case"JingMai":case 1:t.lingMaiType=1;break;case"QiLing":case 2:t.lingMaiType=2}if(null!=e.level&&(t.level=0|e.level),e.qiLing){if(!Array.isArray(e.qiLing))throw TypeError(".base.S2C_LingMai.qiLing: array expected");t.qiLing=[];for(var n=0;n<e.qiLing.length;++n){if("object"!==Pn(e.qiLing[n]))throw TypeError(".base.S2C_LingMai.qiLing: object expected");t.qiLing[n]=En.base.QiLingInfoPB.fromObject(e.qiLing[n])}}if(e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_LingMai.rewards: array expected");for(t.rewards=[],n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_LingMai.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.qiLing=[],n.rewards=[]),t.defaults&&(n.cmdType=t.enums===String?"GetLingMai_Cmd":1,n.lingMaiType=t.enums===String?"JingMai":1,n.level=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.LingMaiCmdType[e.cmdType]:e.cmdType),null!=e.lingMaiType&&e.hasOwnProperty("lingMaiType")&&(n.lingMaiType=t.enums===String?En.base.LingMaiType[e.lingMaiType]:e.lingMaiType),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),e.qiLing&&e.qiLing.length){n.qiLing=[];for(var i=0;i<e.qiLing.length;++i)n.qiLing[i]=En.base.QiLingInfoPB.toObject(e.qiLing[i],t)}if(e.rewards&&e.rewards.length)for(n.rewards=[],i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.LingMaiCmdType=(Ie={},(be=Object.create(Ie))[Ie[1]="GetLingMai_Cmd"]=1,be[Ie[2]="Upgrade_Cmd"]=2,be[Ie[3]="OneClickUpgrade_Cmd"]=3,be[Ie[4]="GetQiLing_Cmd"]=4,be[Ie[5]="UpgradeQiLing_Cmd"]=5,be[Ie[6]="MiFaBaoZang_Cmd"]=6,be),Dn.LingMaiType=(we={},(Ce=Object.create(we))[we[1]="JingMai"]=1,Ce[we[2]="QiLing"]=2,Ce),Dn.QiLingInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.level=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.QiLingInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.level=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.type)?null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null:"type: integer expected"},e.fromObject=function(e){if(e instanceof En.base.QiLingInfoPB)return e;var t=new En.base.QiLingInfoPB;return null!=e.type&&(t.type=0|e.type),null!=e.level&&(t.level=0|e.level),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=0,n.level=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.QiLingType=(ve={},(xe=Object.create(ve))[ve[1]="KuangXiong"]=1,xe[ve[2]="ChiHu"]=2,xe[ve[3]="XuanBao"]=3,xe[ve[4]="WuLuo"]=4,xe[ve[5]="LuWu"]=5,xe[ve[6]="TaiFeng"]=6,xe[ve[7]="PiXiu"]=7,xe[ve[8]="SuanNi"]=8,xe),Dn.MailMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.title="",e.prototype.content="",e.prototype.reward="",e.prototype.received=!1,e.prototype.read=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),null!=e.title&&e.hasOwnProperty("title")&&t.uint32(18).string(e.title),null!=e.content&&e.hasOwnProperty("content")&&t.uint32(26).string(e.content),null!=e.reward&&e.hasOwnProperty("reward")&&t.uint32(34).string(e.reward),null!=e.received&&e.hasOwnProperty("received")&&t.uint32(40).bool(e.received),null!=e.read&&e.hasOwnProperty("read")&&t.uint32(48).bool(e.read),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.MailMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.title=e.string();break;case 3:i.content=e.string();break;case 4:i.reward=e.string();break;case 5:i.received=e.bool();break;case 6:i.read=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null!=e.title&&e.hasOwnProperty("title")&&!An.isString(e.title)?"title: string expected":null!=e.content&&e.hasOwnProperty("content")&&!An.isString(e.content)?"content: string expected":null!=e.reward&&e.hasOwnProperty("reward")&&!An.isString(e.reward)?"reward: string expected":null!=e.received&&e.hasOwnProperty("received")&&"boolean"!=typeof e.received?"received: boolean expected":null!=e.read&&e.hasOwnProperty("read")&&"boolean"!=typeof e.read?"read: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.MailMsg)return e;var t=new En.base.MailMsg;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.title&&(t.title=String(e.title)),null!=e.content&&(t.content=String(e.content)),null!=e.reward&&(t.reward=String(e.reward)),null!=e.received&&(t.received=Boolean(e.received)),null!=e.read&&(t.read=Boolean(e.read)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.title="",n.content="",n.reward="",n.received=!1,n.read=!1}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.title&&e.hasOwnProperty("title")&&(n.title=e.title),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.reward&&e.hasOwnProperty("reward")&&(n.reward=e.reward),null!=e.received&&e.hasOwnProperty("received")&&(n.received=e.received),null!=e.read&&e.hasOwnProperty("read")&&(n.read=e.read),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.MailOptType=(fe={},(me=Object.create(fe))[fe[1]="READ"]=1,me[fe[2]="RECEIVE"]=2,me[fe[3]="DELETE"]=3,me),Dn.C2S_MailList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MailList;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_MailList?e:new En.base.C2S_MailList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MailList=function(){function e(e){if(this.mails=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mails=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.mails&&e.mails.length)for(var n=0;n<e.mails.length;++n)En.base.MailMsg.encode(e.mails[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MailList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mails&&i.mails.length||(i.mails=[]),i.mails.push(En.base.MailMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.mails&&e.hasOwnProperty("mails")){if(!Array.isArray(e.mails))return"mails: array expected";for(var t=0;t<e.mails.length;++t){var n=En.base.MailMsg.verify(e.mails[t]);if(n)return"mails."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MailList)return e;var t=new En.base.S2C_MailList;if(e.mails){if(!Array.isArray(e.mails))throw TypeError(".base.S2C_MailList.mails: array expected");t.mails=[];for(var n=0;n<e.mails.length;++n){if("object"!==Pn(e.mails[n]))throw TypeError(".base.S2C_MailList.mails: object expected");t.mails[n]=En.base.MailMsg.fromObject(e.mails[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.mails=[]),e.mails&&e.mails.length){n.mails=[];for(var i=0;i<e.mails.length;++i)n.mails[i]=En.base.MailMsg.toObject(e.mails[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MailOperate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int64(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MailOperate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.id=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:}return null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MailOperate)return e;var t=new En.base.C2S_MailOperate;switch(e.type){case"READ":case 1:t.type=1;break;case"RECEIVE":case 2:t.type=2;break;case"DELETE":case 3:t.type=3}return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.type=t.enums===String?"READ":1,An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.MailOptType[e.type]:e.type),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MailOperate=function(){function e(e){if(this.mails=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mails=An.emptyArray,e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.mails&&e.mails.length)for(var n=0;n<e.mails.length;++n)En.base.MailMsg.encode(e.mails[n],t.uint32(10).fork()).ldelim();return null!=e.type&&e.hasOwnProperty("type")&&t.uint32(16).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MailOperate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.mails&&i.mails.length||(i.mails=[]),i.mails.push(En.base.MailMsg.decode(e,e.uint32()));break;case 2:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.mails&&e.hasOwnProperty("mails")){if(!Array.isArray(e.mails))return"mails: array expected";for(var t=0;t<e.mails.length;++t){var n=En.base.MailMsg.verify(e.mails[t]);if(n)return"mails."+n}}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MailOperate)return e;var t=new En.base.S2C_MailOperate;if(e.mails){if(!Array.isArray(e.mails))throw TypeError(".base.S2C_MailOperate.mails: array expected");t.mails=[];for(var n=0;n<e.mails.length;++n){if("object"!==Pn(e.mails[n]))throw TypeError(".base.S2C_MailOperate.mails: object expected");t.mails[n]=En.base.MailMsg.fromObject(e.mails[n])}}switch(e.type){case"READ":case 1:t.type=1;break;case"RECEIVE":case 2:t.type=2;break;case"DELETE":case 3:t.type=3}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.mails=[]),t.defaults&&(n.type=t.enums===String?"READ":1),e.mails&&e.mails.length){n.mails=[];for(var i=0;i<e.mails.length;++i)n.mails[i]=En.base.MailMsg.toObject(e.mails[i],t)}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.MailOptType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_NewMail=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.nCount&&e.hasOwnProperty("nCount")&&t.uint32(8).int32(e.nCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_NewMail;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.nCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.nCount&&e.hasOwnProperty("nCount")&&!An.isInteger(e.nCount)?"nCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_NewMail)return e;var t=new En.base.S2C_NewMail;return null!=e.nCount&&(t.nCount=0|e.nCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.nCount=0),null!=e.nCount&&e.hasOwnProperty("nCount")&&(n.nCount=e.nCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.MsgType=(pe={},(ye=Object.create(pe))[pe[1]="World"]=1,ye),Dn.TalkMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerId=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.playerName="",e.prototype.serverName="",e.prototype.level=0,e.prototype.icon=0,e.prototype.msg="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.playerId&&e.hasOwnProperty("playerId")&&t.uint32(8).int64(e.playerId),null!=e.playerName&&e.hasOwnProperty("playerName")&&t.uint32(18).string(e.playerName),null!=e.serverName&&e.hasOwnProperty("serverName")&&t.uint32(26).string(e.serverName),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(32).int32(e.level),null!=e.icon&&e.hasOwnProperty("icon")&&t.uint32(40).int32(e.icon),null!=e.msg&&e.hasOwnProperty("msg")&&t.uint32(50).string(e.msg),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.TalkMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.playerId=e.int64();break;case 2:i.playerName=e.string();break;case 3:i.serverName=e.string();break;case 4:i.level=e.int32();break;case 5:i.icon=e.int32();break;case 6:i.msg=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.playerId&&e.hasOwnProperty("playerId")&&!(An.isInteger(e.playerId)||e.playerId&&An.isInteger(e.playerId.low)&&An.isInteger(e.playerId.high))?"playerId: integer|Long expected":null!=e.playerName&&e.hasOwnProperty("playerName")&&!An.isString(e.playerName)?"playerName: string expected":null!=e.serverName&&e.hasOwnProperty("serverName")&&!An.isString(e.serverName)?"serverName: string expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.icon&&e.hasOwnProperty("icon")&&!An.isInteger(e.icon)?"icon: integer expected":null!=e.msg&&e.hasOwnProperty("msg")&&!An.isString(e.msg)?"msg: string expected":null},e.fromObject=function(e){if(e instanceof En.base.TalkMsg)return e;var t=new En.base.TalkMsg;return null!=e.playerId&&(An.Long?(t.playerId=An.Long.fromValue(e.playerId)).unsigned=!1:"string"==typeof e.playerId?t.playerId=parseInt(e.playerId,10):"number"==typeof e.playerId?t.playerId=e.playerId:"object"===Pn(e.playerId)&&(t.playerId=new An.LongBits(e.playerId.low>>>0,e.playerId.high>>>0).toNumber())),null!=e.playerName&&(t.playerName=String(e.playerName)),null!=e.serverName&&(t.serverName=String(e.serverName)),null!=e.level&&(t.level=0|e.level),null!=e.icon&&(t.icon=0|e.icon),null!=e.msg&&(t.msg=String(e.msg)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.playerId=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerId=t.longs===String?"0":0;n.playerName="",n.serverName="",n.level=0,n.icon=0,n.msg=""}return null!=e.playerId&&e.hasOwnProperty("playerId")&&("number"==typeof e.playerId?n.playerId=t.longs===String?String(e.playerId):e.playerId:n.playerId=t.longs===String?An.Long.prototype.toString.call(e.playerId):t.longs===Number?new An.LongBits(e.playerId.low>>>0,e.playerId.high>>>0).toNumber():e.playerId),null!=e.playerName&&e.hasOwnProperty("playerName")&&(n.playerName=e.playerName),null!=e.serverName&&e.hasOwnProperty("serverName")&&(n.serverName=e.serverName),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.icon&&e.hasOwnProperty("icon")&&(n.icon=e.icon),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MsgPush=function(){function e(e){if(this.talkMsg=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.talkMsg=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.type),null!=e.talkMsg&&e.talkMsg.length)for(var n=0;n<e.talkMsg.length;++n)En.base.TalkMsg.encode(e.talkMsg[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MsgPush;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.talkMsg&&i.talkMsg.length||(i.talkMsg=[]),i.talkMsg.push(En.base.TalkMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:}if(null!=e.talkMsg&&e.hasOwnProperty("talkMsg")){if(!Array.isArray(e.talkMsg))return"talkMsg: array expected";for(var t=0;t<e.talkMsg.length;++t){var n=En.base.TalkMsg.verify(e.talkMsg[t]);if(n)return"talkMsg."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MsgPush)return e;var t=new En.base.S2C_MsgPush;switch(e.type){case"World":case 1:t.type=1}if(e.talkMsg){if(!Array.isArray(e.talkMsg))throw TypeError(".base.S2C_MsgPush.talkMsg: array expected");t.talkMsg=[];for(var n=0;n<e.talkMsg.length;++n){if("object"!==Pn(e.talkMsg[n]))throw TypeError(".base.S2C_MsgPush.talkMsg: object expected");t.talkMsg[n]=En.base.TalkMsg.fromObject(e.talkMsg[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.talkMsg=[]),t.defaults&&(n.type=t.enums===String?"World":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.MsgType[e.type]:e.type),e.talkMsg&&e.talkMsg.length){n.talkMsg=[];for(var i=0;i<e.talkMsg.length;++i)n.talkMsg[i]=En.base.TalkMsg.toObject(e.talkMsg[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_SendMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.msg="",e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(18).string(e.msg),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_SendMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.msg=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("msg"))throw An.ProtocolError("missing required 'msg'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:}return An.isString(e.msg)?null:"msg: string expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_SendMsg)return e;var t=new En.base.C2S_SendMsg;switch(e.type){case"World":case 1:t.type=1}return null!=e.msg&&(t.msg=String(e.msg)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"World":1,n.msg=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.MsgType[e.type]:e.type),null!=e.msg&&e.hasOwnProperty("msg")&&(n.msg=e.msg),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_SendMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_SendMsg;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_SendMsg?e:new En.base.S2C_SendMsg},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_JoinMenpai=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.star=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.star&&e.hasOwnProperty("star")&&t.uint32(8).int32(e.star),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_JoinMenpai;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.star=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.star&&e.hasOwnProperty("star")&&!An.isInteger(e.star)?"star: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_JoinMenpai)return e;var t=new En.base.C2S_JoinMenpai;return null!=e.star&&(t.star=0|e.star),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.star=0),null!=e.star&&e.hasOwnProperty("star")&&(n.star=e.star),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_JoinMenpai=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_JoinMenpai;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_JoinMenpai?e:new En.base.S2C_JoinMenpai},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_QuitMenpai=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_QuitMenpai;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_QuitMenpai?e:new En.base.C2S_QuitMenpai},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_QuitMenpai=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_QuitMenpai;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_QuitMenpai?e:new En.base.S2C_QuitMenpai},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.LianGongMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.start=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.end=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.start&&e.hasOwnProperty("start")&&t.uint32(16).int64(e.start),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(24).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.LianGongMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.start=e.int64();break;case 3:i.end=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.start&&e.hasOwnProperty("start")&&!(An.isInteger(e.start)||e.start&&An.isInteger(e.start.low)&&An.isInteger(e.start.high))?"start: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(An.isInteger(e.end)||e.end&&An.isInteger(e.end.low)&&An.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.LianGongMsg)return e;var t=new En.base.LianGongMsg;return null!=e.id&&(t.id=0|e.id),null!=e.start&&(An.Long?(t.start=An.Long.fromValue(e.start)).unsigned=!1:"string"==typeof e.start?t.start=parseInt(e.start,10):"number"==typeof e.start?t.start=e.start:"object"===Pn(e.start)&&(t.start=new An.LongBits(e.start.low>>>0,e.start.high>>>0).toNumber())),null!=e.end&&(An.Long?(t.end=An.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"===Pn(e.end)&&(t.end=new An.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.id=0,An.Long){var i=new An.Long(0,0,!1);n.start=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.start=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.end=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.end=t.longs===String?"0":0}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.start&&e.hasOwnProperty("start")&&("number"==typeof e.start?n.start=t.longs===String?String(e.start):e.start:n.start=t.longs===String?An.Long.prototype.toString.call(e.start):t.longs===Number?new An.LongBits(e.start.low>>>0,e.start.high>>>0).toNumber():e.start),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?An.Long.prototype.toString.call(e.end):t.longs===Number?new An.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Menpai=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Menpai;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_Menpai?e:new En.base.C2S_Menpai},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Menpai=function(){function e(e){if(this.liangong=[],this.joinId=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.menpaiId=0,e.prototype.zhangmenId=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.zhangmenName="",e.prototype.liangong=An.emptyArray,e.prototype.taskId=0,e.prototype.taskStartTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.lastPayTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.lastSayHiTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.zhiwei=0,e.prototype.zhangmenIcon=0,e.prototype.challengeEndTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.ticketEndTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.joinId=An.emptyArray,e.prototype.lingQuanCount=0,e.prototype.lingQuanMaxCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.menpaiId&&e.hasOwnProperty("menpaiId")&&t.uint32(8).int32(e.menpaiId),null!=e.zhangmenId&&e.hasOwnProperty("zhangmenId")&&t.uint32(16).int64(e.zhangmenId),null!=e.zhangmenName&&e.hasOwnProperty("zhangmenName")&&t.uint32(26).string(e.zhangmenName),null!=e.liangong&&e.liangong.length)for(var n=0;n<e.liangong.length;++n)En.base.LianGongMsg.encode(e.liangong[n],t.uint32(34).fork()).ldelim();if(null!=e.taskId&&e.hasOwnProperty("taskId")&&t.uint32(40).int32(e.taskId),null!=e.taskStartTime&&e.hasOwnProperty("taskStartTime")&&t.uint32(48).int64(e.taskStartTime),null!=e.lastPayTime&&e.hasOwnProperty("lastPayTime")&&t.uint32(56).int64(e.lastPayTime),null!=e.lastSayHiTime&&e.hasOwnProperty("lastSayHiTime")&&t.uint32(64).int64(e.lastSayHiTime),null!=e.zhiwei&&e.hasOwnProperty("zhiwei")&&t.uint32(72).int32(e.zhiwei),null!=e.zhangmenIcon&&e.hasOwnProperty("zhangmenIcon")&&t.uint32(80).int32(e.zhangmenIcon),null!=e.challengeEndTime&&e.hasOwnProperty("challengeEndTime")&&t.uint32(88).int64(e.challengeEndTime),null!=e.ticketEndTime&&e.hasOwnProperty("ticketEndTime")&&t.uint32(96).int64(e.ticketEndTime),null!=e.joinId&&e.joinId.length)for(n=0;n<e.joinId.length;++n)t.uint32(104).int32(e.joinId[n]);return null!=e.lingQuanCount&&e.hasOwnProperty("lingQuanCount")&&t.uint32(112).int32(e.lingQuanCount),null!=e.lingQuanMaxCount&&e.hasOwnProperty("lingQuanMaxCount")&&t.uint32(120).int32(e.lingQuanMaxCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Menpai;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.menpaiId=e.int32();break;case 2:i.zhangmenId=e.int64();break;case 3:i.zhangmenName=e.string();break;case 4:i.liangong&&i.liangong.length||(i.liangong=[]),i.liangong.push(En.base.LianGongMsg.decode(e,e.uint32()));break;case 5:i.taskId=e.int32();break;case 6:i.taskStartTime=e.int64();break;case 7:i.lastPayTime=e.int64();break;case 8:i.lastSayHiTime=e.int64();break;case 9:i.zhiwei=e.int32();break;case 10:i.zhangmenIcon=e.int32();break;case 11:i.challengeEndTime=e.int64();break;case 12:i.ticketEndTime=e.int64();break;case 13:if(i.joinId&&i.joinId.length||(i.joinId=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.joinId.push(e.int32());else i.joinId.push(e.int32());break;case 14:i.lingQuanCount=e.int32();break;case 15:i.lingQuanMaxCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.menpaiId&&e.hasOwnProperty("menpaiId")&&!An.isInteger(e.menpaiId))return"menpaiId: integer expected";if(null!=e.zhangmenId&&e.hasOwnProperty("zhangmenId")&&!(An.isInteger(e.zhangmenId)||e.zhangmenId&&An.isInteger(e.zhangmenId.low)&&An.isInteger(e.zhangmenId.high)))return"zhangmenId: integer|Long expected";if(null!=e.zhangmenName&&e.hasOwnProperty("zhangmenName")&&!An.isString(e.zhangmenName))return"zhangmenName: string expected";if(null!=e.liangong&&e.hasOwnProperty("liangong")){if(!Array.isArray(e.liangong))return"liangong: array expected";for(var t=0;t<e.liangong.length;++t){var n=En.base.LianGongMsg.verify(e.liangong[t]);if(n)return"liangong."+n}}if(null!=e.taskId&&e.hasOwnProperty("taskId")&&!An.isInteger(e.taskId))return"taskId: integer expected";if(null!=e.taskStartTime&&e.hasOwnProperty("taskStartTime")&&!(An.isInteger(e.taskStartTime)||e.taskStartTime&&An.isInteger(e.taskStartTime.low)&&An.isInteger(e.taskStartTime.high)))return"taskStartTime: integer|Long expected";if(null!=e.lastPayTime&&e.hasOwnProperty("lastPayTime")&&!(An.isInteger(e.lastPayTime)||e.lastPayTime&&An.isInteger(e.lastPayTime.low)&&An.isInteger(e.lastPayTime.high)))return"lastPayTime: integer|Long expected";if(null!=e.lastSayHiTime&&e.hasOwnProperty("lastSayHiTime")&&!(An.isInteger(e.lastSayHiTime)||e.lastSayHiTime&&An.isInteger(e.lastSayHiTime.low)&&An.isInteger(e.lastSayHiTime.high)))return"lastSayHiTime: integer|Long expected";if(null!=e.zhiwei&&e.hasOwnProperty("zhiwei")&&!An.isInteger(e.zhiwei))return"zhiwei: integer expected";if(null!=e.zhangmenIcon&&e.hasOwnProperty("zhangmenIcon")&&!An.isInteger(e.zhangmenIcon))return"zhangmenIcon: integer expected";if(null!=e.challengeEndTime&&e.hasOwnProperty("challengeEndTime")&&!(An.isInteger(e.challengeEndTime)||e.challengeEndTime&&An.isInteger(e.challengeEndTime.low)&&An.isInteger(e.challengeEndTime.high)))return"challengeEndTime: integer|Long expected";if(null!=e.ticketEndTime&&e.hasOwnProperty("ticketEndTime")&&!(An.isInteger(e.ticketEndTime)||e.ticketEndTime&&An.isInteger(e.ticketEndTime.low)&&An.isInteger(e.ticketEndTime.high)))return"ticketEndTime: integer|Long expected";if(null!=e.joinId&&e.hasOwnProperty("joinId")){if(!Array.isArray(e.joinId))return"joinId: array expected";for(t=0;t<e.joinId.length;++t)if(!An.isInteger(e.joinId[t]))return"joinId: integer[] expected"}return null!=e.lingQuanCount&&e.hasOwnProperty("lingQuanCount")&&!An.isInteger(e.lingQuanCount)?"lingQuanCount: integer expected":null!=e.lingQuanMaxCount&&e.hasOwnProperty("lingQuanMaxCount")&&!An.isInteger(e.lingQuanMaxCount)?"lingQuanMaxCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Menpai)return e;var t=new En.base.S2C_Menpai;if(null!=e.menpaiId&&(t.menpaiId=0|e.menpaiId),null!=e.zhangmenId&&(An.Long?(t.zhangmenId=An.Long.fromValue(e.zhangmenId)).unsigned=!1:"string"==typeof e.zhangmenId?t.zhangmenId=parseInt(e.zhangmenId,10):"number"==typeof e.zhangmenId?t.zhangmenId=e.zhangmenId:"object"===Pn(e.zhangmenId)&&(t.zhangmenId=new An.LongBits(e.zhangmenId.low>>>0,e.zhangmenId.high>>>0).toNumber())),null!=e.zhangmenName&&(t.zhangmenName=String(e.zhangmenName)),e.liangong){if(!Array.isArray(e.liangong))throw TypeError(".base.S2C_Menpai.liangong: array expected");t.liangong=[];for(var n=0;n<e.liangong.length;++n){if("object"!==Pn(e.liangong[n]))throw TypeError(".base.S2C_Menpai.liangong: object expected");t.liangong[n]=En.base.LianGongMsg.fromObject(e.liangong[n])}}if(null!=e.taskId&&(t.taskId=0|e.taskId),null!=e.taskStartTime&&(An.Long?(t.taskStartTime=An.Long.fromValue(e.taskStartTime)).unsigned=!1:"string"==typeof e.taskStartTime?t.taskStartTime=parseInt(e.taskStartTime,10):"number"==typeof e.taskStartTime?t.taskStartTime=e.taskStartTime:"object"===Pn(e.taskStartTime)&&(t.taskStartTime=new An.LongBits(e.taskStartTime.low>>>0,e.taskStartTime.high>>>0).toNumber())),null!=e.lastPayTime&&(An.Long?(t.lastPayTime=An.Long.fromValue(e.lastPayTime)).unsigned=!1:"string"==typeof e.lastPayTime?t.lastPayTime=parseInt(e.lastPayTime,10):"number"==typeof e.lastPayTime?t.lastPayTime=e.lastPayTime:"object"===Pn(e.lastPayTime)&&(t.lastPayTime=new An.LongBits(e.lastPayTime.low>>>0,e.lastPayTime.high>>>0).toNumber())),null!=e.lastSayHiTime&&(An.Long?(t.lastSayHiTime=An.Long.fromValue(e.lastSayHiTime)).unsigned=!1:"string"==typeof e.lastSayHiTime?t.lastSayHiTime=parseInt(e.lastSayHiTime,10):"number"==typeof e.lastSayHiTime?t.lastSayHiTime=e.lastSayHiTime:"object"===Pn(e.lastSayHiTime)&&(t.lastSayHiTime=new An.LongBits(e.lastSayHiTime.low>>>0,e.lastSayHiTime.high>>>0).toNumber())),null!=e.zhiwei&&(t.zhiwei=0|e.zhiwei),null!=e.zhangmenIcon&&(t.zhangmenIcon=0|e.zhangmenIcon),null!=e.challengeEndTime&&(An.Long?(t.challengeEndTime=An.Long.fromValue(e.challengeEndTime)).unsigned=!1:"string"==typeof e.challengeEndTime?t.challengeEndTime=parseInt(e.challengeEndTime,10):"number"==typeof e.challengeEndTime?t.challengeEndTime=e.challengeEndTime:"object"===Pn(e.challengeEndTime)&&(t.challengeEndTime=new An.LongBits(e.challengeEndTime.low>>>0,e.challengeEndTime.high>>>0).toNumber())),null!=e.ticketEndTime&&(An.Long?(t.ticketEndTime=An.Long.fromValue(e.ticketEndTime)).unsigned=!1:"string"==typeof e.ticketEndTime?t.ticketEndTime=parseInt(e.ticketEndTime,10):"number"==typeof e.ticketEndTime?t.ticketEndTime=e.ticketEndTime:"object"===Pn(e.ticketEndTime)&&(t.ticketEndTime=new An.LongBits(e.ticketEndTime.low>>>0,e.ticketEndTime.high>>>0).toNumber())),e.joinId){if(!Array.isArray(e.joinId))throw TypeError(".base.S2C_Menpai.joinId: array expected");for(t.joinId=[],n=0;n<e.joinId.length;++n)t.joinId[n]=0|e.joinId[n]}return null!=e.lingQuanCount&&(t.lingQuanCount=0|e.lingQuanCount),null!=e.lingQuanMaxCount&&(t.lingQuanMaxCount=0|e.lingQuanMaxCount),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.liangong=[],n.joinId=[]),t.defaults){if(n.menpaiId=0,An.Long){var i=new An.Long(0,0,!1);n.zhangmenId=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.zhangmenId=t.longs===String?"0":0;n.zhangmenName="",n.taskId=0,An.Long?(i=new An.Long(0,0,!1),n.taskStartTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.taskStartTime=t.longs===String?"0":0,An.Long?(i=new An.Long(0,0,!1),n.lastPayTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.lastPayTime=t.longs===String?"0":0,An.Long?(i=new An.Long(0,0,!1),n.lastSayHiTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.lastSayHiTime=t.longs===String?"0":0,n.zhiwei=0,n.zhangmenIcon=0,An.Long?(i=new An.Long(0,0,!1),n.challengeEndTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.challengeEndTime=t.longs===String?"0":0,An.Long?(i=new An.Long(0,0,!1),n.ticketEndTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.ticketEndTime=t.longs===String?"0":0,n.lingQuanCount=0,n.lingQuanMaxCount=0}if(null!=e.menpaiId&&e.hasOwnProperty("menpaiId")&&(n.menpaiId=e.menpaiId),null!=e.zhangmenId&&e.hasOwnProperty("zhangmenId")&&("number"==typeof e.zhangmenId?n.zhangmenId=t.longs===String?String(e.zhangmenId):e.zhangmenId:n.zhangmenId=t.longs===String?An.Long.prototype.toString.call(e.zhangmenId):t.longs===Number?new An.LongBits(e.zhangmenId.low>>>0,e.zhangmenId.high>>>0).toNumber():e.zhangmenId),null!=e.zhangmenName&&e.hasOwnProperty("zhangmenName")&&(n.zhangmenName=e.zhangmenName),e.liangong&&e.liangong.length){n.liangong=[];for(var o=0;o<e.liangong.length;++o)n.liangong[o]=En.base.LianGongMsg.toObject(e.liangong[o],t)}if(null!=e.taskId&&e.hasOwnProperty("taskId")&&(n.taskId=e.taskId),null!=e.taskStartTime&&e.hasOwnProperty("taskStartTime")&&("number"==typeof e.taskStartTime?n.taskStartTime=t.longs===String?String(e.taskStartTime):e.taskStartTime:n.taskStartTime=t.longs===String?An.Long.prototype.toString.call(e.taskStartTime):t.longs===Number?new An.LongBits(e.taskStartTime.low>>>0,e.taskStartTime.high>>>0).toNumber():e.taskStartTime),null!=e.lastPayTime&&e.hasOwnProperty("lastPayTime")&&("number"==typeof e.lastPayTime?n.lastPayTime=t.longs===String?String(e.lastPayTime):e.lastPayTime:n.lastPayTime=t.longs===String?An.Long.prototype.toString.call(e.lastPayTime):t.longs===Number?new An.LongBits(e.lastPayTime.low>>>0,e.lastPayTime.high>>>0).toNumber():e.lastPayTime),null!=e.lastSayHiTime&&e.hasOwnProperty("lastSayHiTime")&&("number"==typeof e.lastSayHiTime?n.lastSayHiTime=t.longs===String?String(e.lastSayHiTime):e.lastSayHiTime:n.lastSayHiTime=t.longs===String?An.Long.prototype.toString.call(e.lastSayHiTime):t.longs===Number?new An.LongBits(e.lastSayHiTime.low>>>0,e.lastSayHiTime.high>>>0).toNumber():e.lastSayHiTime),null!=e.zhiwei&&e.hasOwnProperty("zhiwei")&&(n.zhiwei=e.zhiwei),null!=e.zhangmenIcon&&e.hasOwnProperty("zhangmenIcon")&&(n.zhangmenIcon=e.zhangmenIcon),null!=e.challengeEndTime&&e.hasOwnProperty("challengeEndTime")&&("number"==typeof e.challengeEndTime?n.challengeEndTime=t.longs===String?String(e.challengeEndTime):e.challengeEndTime:n.challengeEndTime=t.longs===String?An.Long.prototype.toString.call(e.challengeEndTime):t.longs===Number?new An.LongBits(e.challengeEndTime.low>>>0,e.challengeEndTime.high>>>0).toNumber():e.challengeEndTime),null!=e.ticketEndTime&&e.hasOwnProperty("ticketEndTime")&&("number"==typeof e.ticketEndTime?n.ticketEndTime=t.longs===String?String(e.ticketEndTime):e.ticketEndTime:n.ticketEndTime=t.longs===String?An.Long.prototype.toString.call(e.ticketEndTime):t.longs===Number?new An.LongBits(e.ticketEndTime.low>>>0,e.ticketEndTime.high>>>0).toNumber():e.ticketEndTime),e.joinId&&e.joinId.length)for(n.joinId=[],o=0;o<e.joinId.length;++o)n.joinId[o]=e.joinId[o];return null!=e.lingQuanCount&&e.hasOwnProperty("lingQuanCount")&&(n.lingQuanCount=e.lingQuanCount),null!=e.lingQuanMaxCount&&e.hasOwnProperty("lingQuanMaxCount")&&(n.lingQuanMaxCount=e.lingQuanMaxCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiStartTask=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.taskId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.taskId&&e.hasOwnProperty("taskId")&&t.uint32(8).int32(e.taskId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiStartTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.taskId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.taskId&&e.hasOwnProperty("taskId")&&!An.isInteger(e.taskId)?"taskId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiStartTask)return e;var t=new En.base.C2S_MenpaiStartTask;return null!=e.taskId&&(t.taskId=0|e.taskId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.taskId=0),null!=e.taskId&&e.hasOwnProperty("taskId")&&(n.taskId=e.taskId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiStartTask=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.taskId=0,e.prototype.taskStartTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.taskId&&e.hasOwnProperty("taskId")&&t.uint32(8).int32(e.taskId),null!=e.taskStartTime&&e.hasOwnProperty("taskStartTime")&&t.uint32(16).int64(e.taskStartTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiStartTask;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.taskId=e.int32();break;case 2:i.taskStartTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.taskId&&e.hasOwnProperty("taskId")&&!An.isInteger(e.taskId)?"taskId: integer expected":null!=e.taskStartTime&&e.hasOwnProperty("taskStartTime")&&!(An.isInteger(e.taskStartTime)||e.taskStartTime&&An.isInteger(e.taskStartTime.low)&&An.isInteger(e.taskStartTime.high))?"taskStartTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MenpaiStartTask)return e;var t=new En.base.S2C_MenpaiStartTask;return null!=e.taskId&&(t.taskId=0|e.taskId),null!=e.taskStartTime&&(An.Long?(t.taskStartTime=An.Long.fromValue(e.taskStartTime)).unsigned=!1:"string"==typeof e.taskStartTime?t.taskStartTime=parseInt(e.taskStartTime,10):"number"==typeof e.taskStartTime?t.taskStartTime=e.taskStartTime:"object"===Pn(e.taskStartTime)&&(t.taskStartTime=new An.LongBits(e.taskStartTime.low>>>0,e.taskStartTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.taskId=0,An.Long){var i=new An.Long(0,0,!1);n.taskStartTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.taskStartTime=t.longs===String?"0":0;return null!=e.taskId&&e.hasOwnProperty("taskId")&&(n.taskId=e.taskId),null!=e.taskStartTime&&e.hasOwnProperty("taskStartTime")&&("number"==typeof e.taskStartTime?n.taskStartTime=t.longs===String?String(e.taskStartTime):e.taskStartTime:n.taskStartTime=t.longs===String?An.Long.prototype.toString.call(e.taskStartTime):t.longs===Number?new An.LongBits(e.taskStartTime.low>>>0,e.taskStartTime.high>>>0).toNumber():e.taskStartTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiPay=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiPay;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_MenpaiPay?e:new En.base.C2S_MenpaiPay},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiPay=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.payTime&&e.hasOwnProperty("payTime")&&t.uint32(8).int64(e.payTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiPay;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.payTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.payTime&&e.hasOwnProperty("payTime")&&!(An.isInteger(e.payTime)||e.payTime&&An.isInteger(e.payTime.low)&&An.isInteger(e.payTime.high))?"payTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MenpaiPay)return e;var t=new En.base.S2C_MenpaiPay;return null!=e.payTime&&(An.Long?(t.payTime=An.Long.fromValue(e.payTime)).unsigned=!1:"string"==typeof e.payTime?t.payTime=parseInt(e.payTime,10):"number"==typeof e.payTime?t.payTime=e.payTime:"object"===Pn(e.payTime)&&(t.payTime=new An.LongBits(e.payTime.low>>>0,e.payTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(An.Long){var i=new An.Long(0,0,!1);n.payTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.payTime=t.longs===String?"0":0;return null!=e.payTime&&e.hasOwnProperty("payTime")&&("number"==typeof e.payTime?n.payTime=t.longs===String?String(e.payTime):e.payTime:n.payTime=t.longs===String?An.Long.prototype.toString.call(e.payTime):t.longs===Number?new An.LongBits(e.payTime.low>>>0,e.payTime.high>>>0).toNumber():e.payTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Liangong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.configId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.configId&&e.hasOwnProperty("configId")&&t.uint32(8).int32(e.configId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Liangong;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.configId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.configId&&e.hasOwnProperty("configId")&&!An.isInteger(e.configId)?"configId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Liangong)return e;var t=new En.base.C2S_Liangong;return null!=e.configId&&(t.configId=0|e.configId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.configId=0),null!=e.configId&&e.hasOwnProperty("configId")&&(n.configId=e.configId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Liangong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.liangong=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.liangong&&e.hasOwnProperty("liangong")&&En.base.LianGongMsg.encode(e.liangong,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Liangong;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.liangong=En.base.LianGongMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.liangong&&e.hasOwnProperty("liangong")){var t=En.base.LianGongMsg.verify(e.liangong);if(t)return"liangong."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_Liangong)return e;var t=new En.base.S2C_Liangong;if(null!=e.liangong){if("object"!==Pn(e.liangong))throw TypeError(".base.S2C_Liangong.liangong: object expected");t.liangong=En.base.LianGongMsg.fromObject(e.liangong)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.liangong=null),null!=e.liangong&&e.hasOwnProperty("liangong")&&(n.liangong=En.base.LianGongMsg.toObject(e.liangong,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiGift=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.npcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.npcId&&e.hasOwnProperty("npcId")&&t.uint32(8).int32(e.npcId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiGift;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.npcId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.npcId&&e.hasOwnProperty("npcId")&&!An.isInteger(e.npcId)?"npcId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiGift)return e;var t=new En.base.C2S_MenpaiGift;return null!=e.npcId&&(t.npcId=0|e.npcId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.npcId=0),null!=e.npcId&&e.hasOwnProperty("npcId")&&(n.npcId=e.npcId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiGift=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiGift;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_MenpaiGift?e:new En.base.S2C_MenpaiGift},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiChallenge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.lingPai=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.lingPai&&e.hasOwnProperty("lingPai")&&t.uint32(8).bool(e.lingPai),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiChallenge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.lingPai=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.lingPai&&e.hasOwnProperty("lingPai")&&"boolean"!=typeof e.lingPai?"lingPai: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiChallenge)return e;var t=new En.base.C2S_MenpaiChallenge;return null!=e.lingPai&&(t.lingPai=Boolean(e.lingPai)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.lingPai=!1),null!=e.lingPai&&e.hasOwnProperty("lingPai")&&(n.lingPai=e.lingPai),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiChallenge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=null,e.prototype.challengeEndTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.ticketEndTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(10).fork()).ldelim(),null!=e.challengeEndTime&&e.hasOwnProperty("challengeEndTime")&&t.uint32(16).int64(e.challengeEndTime),null!=e.ticketEndTime&&e.hasOwnProperty("ticketEndTime")&&t.uint32(24).int64(e.ticketEndTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiChallenge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;case 2:i.challengeEndTime=e.int64();break;case 3:i.ticketEndTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.result&&e.hasOwnProperty("result")){var t=En.base.FightResultMsg.verify(e.result);if(t)return"result."+t}return null!=e.challengeEndTime&&e.hasOwnProperty("challengeEndTime")&&!(An.isInteger(e.challengeEndTime)||e.challengeEndTime&&An.isInteger(e.challengeEndTime.low)&&An.isInteger(e.challengeEndTime.high))?"challengeEndTime: integer|Long expected":null!=e.ticketEndTime&&e.hasOwnProperty("ticketEndTime")&&!(An.isInteger(e.ticketEndTime)||e.ticketEndTime&&An.isInteger(e.ticketEndTime.low)&&An.isInteger(e.ticketEndTime.high))?"ticketEndTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MenpaiChallenge)return e;var t=new En.base.S2C_MenpaiChallenge;if(null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_MenpaiChallenge.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}return null!=e.challengeEndTime&&(An.Long?(t.challengeEndTime=An.Long.fromValue(e.challengeEndTime)).unsigned=!1:"string"==typeof e.challengeEndTime?t.challengeEndTime=parseInt(e.challengeEndTime,10):"number"==typeof e.challengeEndTime?t.challengeEndTime=e.challengeEndTime:"object"===Pn(e.challengeEndTime)&&(t.challengeEndTime=new An.LongBits(e.challengeEndTime.low>>>0,e.challengeEndTime.high>>>0).toNumber())),null!=e.ticketEndTime&&(An.Long?(t.ticketEndTime=An.Long.fromValue(e.ticketEndTime)).unsigned=!1:"string"==typeof e.ticketEndTime?t.ticketEndTime=parseInt(e.ticketEndTime,10):"number"==typeof e.ticketEndTime?t.ticketEndTime=e.ticketEndTime:"object"===Pn(e.ticketEndTime)&&(t.ticketEndTime=new An.LongBits(e.ticketEndTime.low>>>0,e.ticketEndTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.result=null,An.Long){var i=new An.Long(0,0,!1);n.challengeEndTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.challengeEndTime=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.ticketEndTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.ticketEndTime=t.longs===String?"0":0}return null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),null!=e.challengeEndTime&&e.hasOwnProperty("challengeEndTime")&&("number"==typeof e.challengeEndTime?n.challengeEndTime=t.longs===String?String(e.challengeEndTime):e.challengeEndTime:n.challengeEndTime=t.longs===String?An.Long.prototype.toString.call(e.challengeEndTime):t.longs===Number?new An.LongBits(e.challengeEndTime.low>>>0,e.challengeEndTime.high>>>0).toNumber():e.challengeEndTime),null!=e.ticketEndTime&&e.hasOwnProperty("ticketEndTime")&&("number"==typeof e.ticketEndTime?n.ticketEndTime=t.longs===String?String(e.ticketEndTime):e.ticketEndTime:n.ticketEndTime=t.longs===String?An.Long.prototype.toString.call(e.ticketEndTime):t.longs===Number?new An.LongBits(e.ticketEndTime.low>>>0,e.ticketEndTime.high>>>0).toNumber():e.ticketEndTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiPromotion=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.zhiwu=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.zhiwu&&e.hasOwnProperty("zhiwu")&&t.uint32(8).int32(e.zhiwu),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiPromotion;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.zhiwu=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.zhiwu&&e.hasOwnProperty("zhiwu")&&!An.isInteger(e.zhiwu)?"zhiwu: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiPromotion)return e;var t=new En.base.C2S_MenpaiPromotion;return null!=e.zhiwu&&(t.zhiwu=0|e.zhiwu),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.zhiwu=0),null!=e.zhiwu&&e.hasOwnProperty("zhiwu")&&(n.zhiwu=e.zhiwu),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiPromotion=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.zhiwu=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.zhiwu&&e.hasOwnProperty("zhiwu")&&t.uint32(8).int32(e.zhiwu),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiPromotion;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.zhiwu=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.zhiwu&&e.hasOwnProperty("zhiwu")&&!An.isInteger(e.zhiwu)?"zhiwu: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_MenpaiPromotion)return e;var t=new En.base.S2C_MenpaiPromotion;return null!=e.zhiwu&&(t.zhiwu=0|e.zhiwu),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.zhiwu=0),null!=e.zhiwu&&e.hasOwnProperty("zhiwu")&&(n.zhiwu=e.zhiwu),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiSayHi=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiSayHi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiSayHi)return e;var t=new En.base.C2S_MenpaiSayHi;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiSayHi=function(){function e(e){if(this.drop=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sayHiTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.id=0,e.prototype.drop=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.sayHiTime&&e.hasOwnProperty("sayHiTime")&&t.uint32(8).int64(e.sayHiTime),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),null!=e.drop&&e.drop.length)for(var n=0;n<e.drop.length;++n)En.base.ItemMsg.encode(e.drop[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiSayHi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.sayHiTime=e.int64();break;case 2:i.id=e.int32();break;case 3:i.drop&&i.drop.length||(i.drop=[]),i.drop.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.sayHiTime&&e.hasOwnProperty("sayHiTime")&&!(An.isInteger(e.sayHiTime)||e.sayHiTime&&An.isInteger(e.sayHiTime.low)&&An.isInteger(e.sayHiTime.high)))return"sayHiTime: integer|Long expected";if(null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id))return"id: integer expected";if(null!=e.drop&&e.hasOwnProperty("drop")){if(!Array.isArray(e.drop))return"drop: array expected";for(var t=0;t<e.drop.length;++t){var n=En.base.ItemMsg.verify(e.drop[t]);if(n)return"drop."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MenpaiSayHi)return e;var t=new En.base.S2C_MenpaiSayHi;if(null!=e.sayHiTime&&(An.Long?(t.sayHiTime=An.Long.fromValue(e.sayHiTime)).unsigned=!1:"string"==typeof e.sayHiTime?t.sayHiTime=parseInt(e.sayHiTime,10):"number"==typeof e.sayHiTime?t.sayHiTime=e.sayHiTime:"object"===Pn(e.sayHiTime)&&(t.sayHiTime=new An.LongBits(e.sayHiTime.low>>>0,e.sayHiTime.high>>>0).toNumber())),null!=e.id&&(t.id=0|e.id),e.drop){if(!Array.isArray(e.drop))throw TypeError(".base.S2C_MenpaiSayHi.drop: array expected");t.drop=[];for(var n=0;n<e.drop.length;++n){if("object"!==Pn(e.drop[n]))throw TypeError(".base.S2C_MenpaiSayHi.drop: object expected");t.drop[n]=En.base.ItemMsg.fromObject(e.drop[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.drop=[]),t.defaults){if(An.Long){var i=new An.Long(0,0,!1);n.sayHiTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.sayHiTime=t.longs===String?"0":0;n.id=0}if(null!=e.sayHiTime&&e.hasOwnProperty("sayHiTime")&&("number"==typeof e.sayHiTime?n.sayHiTime=t.longs===String?String(e.sayHiTime):e.sayHiTime:n.sayHiTime=t.longs===String?An.Long.prototype.toString.call(e.sayHiTime):t.longs===Number?new An.LongBits(e.sayHiTime.low>>>0,e.sayHiTime.high>>>0).toNumber():e.sayHiTime),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),e.drop&&e.drop.length){n.drop=[];for(var o=0;o<e.drop.length;++o)n.drop[o]=En.base.ItemMsg.toObject(e.drop[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiStudySkill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.gongfaId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.gongfaId&&e.hasOwnProperty("gongfaId")&&t.uint32(8).int32(e.gongfaId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiStudySkill;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.gongfaId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.gongfaId&&e.hasOwnProperty("gongfaId")&&!An.isInteger(e.gongfaId)?"gongfaId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiStudySkill)return e;var t=new En.base.C2S_MenpaiStudySkill;return null!=e.gongfaId&&(t.gongfaId=0|e.gongfaId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.gongfaId=0),null!=e.gongfaId&&e.hasOwnProperty("gongfaId")&&(n.gongfaId=e.gongfaId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiStudySkill=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiStudySkill;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_MenpaiStudySkill?e:new En.base.S2C_MenpaiStudySkill},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MenpaiStudy=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.npcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.npcId&&e.hasOwnProperty("npcId")&&t.uint32(8).int32(e.npcId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MenpaiStudy;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.npcId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.npcId&&e.hasOwnProperty("npcId")&&!An.isInteger(e.npcId)?"npcId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_MenpaiStudy)return e;var t=new En.base.C2S_MenpaiStudy;return null!=e.npcId&&(t.npcId=0|e.npcId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.npcId=0),null!=e.npcId&&e.hasOwnProperty("npcId")&&(n.npcId=e.npcId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MenpaiStudy=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MenpaiStudy;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.result&&e.hasOwnProperty("result")){var t=En.base.FightResultMsg.verify(e.result);if(t)return"result."+t}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MenpaiStudy)return e;var t=new En.base.S2C_MenpaiStudy;if(null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_MenpaiStudy.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.result=null),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_LianGongCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_LianGongCount;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_LianGongCount?e:new En.base.C2S_LianGongCount},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_LianGongCount=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.left=0,e.prototype.lian=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.left&&e.hasOwnProperty("left")&&t.uint32(8).int32(e.left),null!=e.lian&&e.hasOwnProperty("lian")&&t.uint32(16).int32(e.lian),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_LianGongCount;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.left=e.int32();break;case 2:i.lian=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.left&&e.hasOwnProperty("left")&&!An.isInteger(e.left)?"left: integer expected":null!=e.lian&&e.hasOwnProperty("lian")&&!An.isInteger(e.lian)?"lian: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_LianGongCount)return e;var t=new En.base.S2C_LianGongCount;return null!=e.left&&(t.left=0|e.left),null!=e.lian&&(t.lian=0|e.lian),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.left=0,n.lian=0),null!=e.left&&e.hasOwnProperty("left")&&(n.left=e.left),null!=e.lian&&e.hasOwnProperty("lian")&&(n.lian=e.lian),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_LingQuanPractice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_LingQuanPractice;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_LingQuanPractice?e:new En.base.C2S_LingQuanPractice},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_LingQuanPractice=function(){function e(e){if(this.cost=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.addXiuWei=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.cost=An.emptyArray,e.prototype.lingQuanCount=0,e.prototype.lingQuanMaxCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.addXiuWei&&e.hasOwnProperty("addXiuWei")&&t.uint32(8).int64(e.addXiuWei),null!=e.cost&&e.cost.length)for(var n=0;n<e.cost.length;++n)En.base.ResourceMsg.encode(e.cost[n],t.uint32(18).fork()).ldelim();return null!=e.lingQuanCount&&e.hasOwnProperty("lingQuanCount")&&t.uint32(24).int32(e.lingQuanCount),null!=e.lingQuanMaxCount&&e.hasOwnProperty("lingQuanMaxCount")&&t.uint32(32).int32(e.lingQuanMaxCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_LingQuanPractice;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.addXiuWei=e.int64();break;case 2:i.cost&&i.cost.length||(i.cost=[]),i.cost.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 3:i.lingQuanCount=e.int32();break;case 4:i.lingQuanMaxCount=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.addXiuWei&&e.hasOwnProperty("addXiuWei")&&!(An.isInteger(e.addXiuWei)||e.addXiuWei&&An.isInteger(e.addXiuWei.low)&&An.isInteger(e.addXiuWei.high)))return"addXiuWei: integer|Long expected";if(null!=e.cost&&e.hasOwnProperty("cost")){if(!Array.isArray(e.cost))return"cost: array expected";for(var t=0;t<e.cost.length;++t){var n=En.base.ResourceMsg.verify(e.cost[t]);if(n)return"cost."+n}}return null!=e.lingQuanCount&&e.hasOwnProperty("lingQuanCount")&&!An.isInteger(e.lingQuanCount)?"lingQuanCount: integer expected":null!=e.lingQuanMaxCount&&e.hasOwnProperty("lingQuanMaxCount")&&!An.isInteger(e.lingQuanMaxCount)?"lingQuanMaxCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_LingQuanPractice)return e;var t=new En.base.S2C_LingQuanPractice;if(null!=e.addXiuWei&&(An.Long?(t.addXiuWei=An.Long.fromValue(e.addXiuWei)).unsigned=!1:"string"==typeof e.addXiuWei?t.addXiuWei=parseInt(e.addXiuWei,10):"number"==typeof e.addXiuWei?t.addXiuWei=e.addXiuWei:"object"===Pn(e.addXiuWei)&&(t.addXiuWei=new An.LongBits(e.addXiuWei.low>>>0,e.addXiuWei.high>>>0).toNumber())),e.cost){if(!Array.isArray(e.cost))throw TypeError(".base.S2C_LingQuanPractice.cost: array expected");t.cost=[];for(var n=0;n<e.cost.length;++n){if("object"!==Pn(e.cost[n]))throw TypeError(".base.S2C_LingQuanPractice.cost: object expected");t.cost[n]=En.base.ResourceMsg.fromObject(e.cost[n])}}return null!=e.lingQuanCount&&(t.lingQuanCount=0|e.lingQuanCount),null!=e.lingQuanMaxCount&&(t.lingQuanMaxCount=0|e.lingQuanMaxCount),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.cost=[]),t.defaults){if(An.Long){var i=new An.Long(0,0,!1);n.addXiuWei=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.addXiuWei=t.longs===String?"0":0;n.lingQuanCount=0,n.lingQuanMaxCount=0}if(null!=e.addXiuWei&&e.hasOwnProperty("addXiuWei")&&("number"==typeof e.addXiuWei?n.addXiuWei=t.longs===String?String(e.addXiuWei):e.addXiuWei:n.addXiuWei=t.longs===String?An.Long.prototype.toString.call(e.addXiuWei):t.longs===Number?new An.LongBits(e.addXiuWei.low>>>0,e.addXiuWei.high>>>0).toNumber():e.addXiuWei),e.cost&&e.cost.length){n.cost=[];for(var o=0;o<e.cost.length;++o)n.cost[o]=En.base.ResourceMsg.toObject(e.cost[o],t)}return null!=e.lingQuanCount&&e.hasOwnProperty("lingQuanCount")&&(n.lingQuanCount=e.lingQuanCount),null!=e.lingQuanMaxCount&&e.hasOwnProperty("lingQuanMaxCount")&&(n.lingQuanMaxCount=e.lingQuanMaxCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Pet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.petID=0,e.prototype.feedID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.petID&&e.hasOwnProperty("petID")&&t.uint32(16).int32(e.petID),null!=e.feedID&&e.hasOwnProperty("feedID")&&t.uint32(24).int32(e.feedID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Pet;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.petID=e.int32();break;case 3:i.feedID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}return null!=e.petID&&e.hasOwnProperty("petID")&&!An.isInteger(e.petID)?"petID: integer expected":null!=e.feedID&&e.hasOwnProperty("feedID")&&!An.isInteger(e.feedID)?"feedID: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Pet)return e;var t=new En.base.C2S_Pet;switch(e.cmdType){case"GetPetList_Cmd":case 1:t.cmdType=1;break;case"ChangePet_Cmd":case 2:t.cmdType=2;break;case"Feed_Cmd":case 3:t.cmdType=3;break;case"Ride_Cmd":case 4:t.cmdType=4;break;case"CancelRide_Cmd":case 5:t.cmdType=5;break;case"Delete_Cmd":case 6:t.cmdType=6;break;case"FeedPetList_Cmd":case 7:t.cmdType=7;break;case"AoYou_Cmd":case 8:t.cmdType=8}return null!=e.petID&&(t.petID=0|e.petID),null!=e.feedID&&(t.feedID=0|e.feedID),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetPetList_Cmd":1,n.petID=0,n.feedID=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.PetCmdType[e.cmdType]:e.cmdType),null!=e.petID&&e.hasOwnProperty("petID")&&(n.petID=e.petID),null!=e.feedID&&e.hasOwnProperty("feedID")&&(n.feedID=e.feedID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Pet=function(){function e(e){if(this.pets=[],this.feedInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.pets=An.emptyArray,e.prototype.feedInfo=An.emptyArray,e.prototype.maxLimitCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.pets&&e.pets.length)for(var n=0;n<e.pets.length;++n)En.base.PetInfoPB.encode(e.pets[n],t.uint32(18).fork()).ldelim();if(null!=e.feedInfo&&e.feedInfo.length)for(n=0;n<e.feedInfo.length;++n)En.base.FeedPetInfoPB.encode(e.feedInfo[n],t.uint32(26).fork()).ldelim();return null!=e.maxLimitCount&&e.hasOwnProperty("maxLimitCount")&&t.uint32(32).int32(e.maxLimitCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Pet;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.pets&&i.pets.length||(i.pets=[]),i.pets.push(En.base.PetInfoPB.decode(e,e.uint32()));break;case 3:i.feedInfo&&i.feedInfo.length||(i.feedInfo=[]),i.feedInfo.push(En.base.FeedPetInfoPB.decode(e,e.uint32()));break;case 4:i.maxLimitCount=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:}if(null!=e.pets&&e.hasOwnProperty("pets")){if(!Array.isArray(e.pets))return"pets: array expected";for(var t=0;t<e.pets.length;++t)if(n=En.base.PetInfoPB.verify(e.pets[t]))return"pets."+n}if(null!=e.feedInfo&&e.hasOwnProperty("feedInfo")){if(!Array.isArray(e.feedInfo))return"feedInfo: array expected";for(t=0;t<e.feedInfo.length;++t){var n;if(n=En.base.FeedPetInfoPB.verify(e.feedInfo[t]))return"feedInfo."+n}}return null!=e.maxLimitCount&&e.hasOwnProperty("maxLimitCount")&&!An.isInteger(e.maxLimitCount)?"maxLimitCount: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Pet)return e;var t=new En.base.S2C_Pet;switch(e.cmdType){case"GetPetList_Cmd":case 1:t.cmdType=1;break;case"ChangePet_Cmd":case 2:t.cmdType=2;break;case"Feed_Cmd":case 3:t.cmdType=3;break;case"Ride_Cmd":case 4:t.cmdType=4;break;case"CancelRide_Cmd":case 5:t.cmdType=5;break;case"Delete_Cmd":case 6:t.cmdType=6;break;case"FeedPetList_Cmd":case 7:t.cmdType=7;break;case"AoYou_Cmd":case 8:t.cmdType=8}if(e.pets){if(!Array.isArray(e.pets))throw TypeError(".base.S2C_Pet.pets: array expected");t.pets=[];for(var n=0;n<e.pets.length;++n){if("object"!==Pn(e.pets[n]))throw TypeError(".base.S2C_Pet.pets: object expected");t.pets[n]=En.base.PetInfoPB.fromObject(e.pets[n])}}if(e.feedInfo){if(!Array.isArray(e.feedInfo))throw TypeError(".base.S2C_Pet.feedInfo: array expected");for(t.feedInfo=[],n=0;n<e.feedInfo.length;++n){if("object"!==Pn(e.feedInfo[n]))throw TypeError(".base.S2C_Pet.feedInfo: object expected");t.feedInfo[n]=En.base.FeedPetInfoPB.fromObject(e.feedInfo[n])}}return null!=e.maxLimitCount&&(t.maxLimitCount=0|e.maxLimitCount),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.pets=[],n.feedInfo=[]),t.defaults&&(n.cmdType=t.enums===String?"GetPetList_Cmd":1,n.maxLimitCount=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.PetCmdType[e.cmdType]:e.cmdType),e.pets&&e.pets.length){n.pets=[];for(var i=0;i<e.pets.length;++i)n.pets[i]=En.base.PetInfoPB.toObject(e.pets[i],t)}if(e.feedInfo&&e.feedInfo.length)for(n.feedInfo=[],i=0;i<e.feedInfo.length;++i)n.feedInfo[i]=En.base.FeedPetInfoPB.toObject(e.feedInfo[i],t);return null!=e.maxLimitCount&&e.hasOwnProperty("maxLimitCount")&&(n.maxLimitCount=e.maxLimitCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.PetCmdType=(he={},(ge=Object.create(he))[he[1]="GetPetList_Cmd"]=1,ge[he[2]="ChangePet_Cmd"]=2,ge[he[3]="Feed_Cmd"]=3,ge[he[4]="Ride_Cmd"]=4,ge[he[5]="CancelRide_Cmd"]=5,ge[he[6]="Delete_Cmd"]=6,ge[he[7]="FeedPetList_Cmd"]=7,ge[he[8]="AoYou_Cmd"]=8,ge),Dn.PetInfoPB=function(){function e(e){if(this.skills=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.level=0,e.prototype.experience=0,e.prototype.useing=!1,e.prototype.skills=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.id),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(16).int32(e.level),null!=e.experience&&e.hasOwnProperty("experience")&&t.uint32(24).int32(e.experience),null!=e.useing&&e.hasOwnProperty("useing")&&t.uint32(32).bool(e.useing),null!=e.skills&&e.skills.length)for(var n=0;n<e.skills.length;++n)t.uint32(40).int32(e.skills[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.PetInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.level=e.int32();break;case 3:i.experience=e.int32();break;case 4:i.useing=e.bool();break;case 5:if(i.skills&&i.skills.length||(i.skills=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.skills.push(e.int32());else i.skills.push(e.int32());break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!An.isInteger(e.id))return"id: integer expected";if(null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level))return"level: integer expected";if(null!=e.experience&&e.hasOwnProperty("experience")&&!An.isInteger(e.experience))return"experience: integer expected";if(null!=e.useing&&e.hasOwnProperty("useing")&&"boolean"!=typeof e.useing)return"useing: boolean expected";if(null!=e.skills&&e.hasOwnProperty("skills")){if(!Array.isArray(e.skills))return"skills: array expected";for(var t=0;t<e.skills.length;++t)if(!An.isInteger(e.skills[t]))return"skills: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.PetInfoPB)return e;var t=new En.base.PetInfoPB;if(null!=e.id&&(t.id=0|e.id),null!=e.level&&(t.level=0|e.level),null!=e.experience&&(t.experience=0|e.experience),null!=e.useing&&(t.useing=Boolean(e.useing)),e.skills){if(!Array.isArray(e.skills))throw TypeError(".base.PetInfoPB.skills: array expected");t.skills=[];for(var n=0;n<e.skills.length;++n)t.skills[n]=0|e.skills[n]}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.skills=[]),t.defaults&&(n.id=0,n.level=0,n.experience=0,n.useing=!1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.experience&&e.hasOwnProperty("experience")&&(n.experience=e.experience),null!=e.useing&&e.hasOwnProperty("useing")&&(n.useing=e.useing),e.skills&&e.skills.length){n.skills=[];for(var i=0;i<e.skills.length;++i)n.skills[i]=e.skills[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FeedPetInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.feedCount=0,e.prototype.feedBackValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.feedCount&&e.hasOwnProperty("feedCount")&&t.uint32(16).int32(e.feedCount),null!=e.feedBackValue&&e.hasOwnProperty("feedBackValue")&&t.uint32(24).int32(e.feedBackValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.FeedPetInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.feedCount=e.int32();break;case 3:i.feedBackValue=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.feedCount&&e.hasOwnProperty("feedCount")&&!An.isInteger(e.feedCount)?"feedCount: integer expected":null!=e.feedBackValue&&e.hasOwnProperty("feedBackValue")&&!An.isInteger(e.feedBackValue)?"feedBackValue: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.FeedPetInfoPB)return e;var t=new En.base.FeedPetInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.feedCount&&(t.feedCount=0|e.feedCount),null!=e.feedBackValue&&(t.feedBackValue=0|e.feedBackValue),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.feedCount=0,n.feedBackValue=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.feedCount&&e.hasOwnProperty("feedCount")&&(n.feedCount=e.feedCount),null!=e.feedBackValue&&e.hasOwnProperty("feedBackValue")&&(n.feedBackValue=e.feedBackValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FeedPetType=(ue={},(de=Object.create(ue))[ue[1]="RandomSkill1"]=1,de[ue[2]="RandomSkill2"]=2,de[ue[3]="RandomSkill3"]=3,de[ue[4]="RandomSkill4"]=4,de[ue[5]="AddExp"]=5,de),Dn.PlayerMsg=function(){function e(e){if(this.shuGeLevel=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.zhongZu=0,e.prototype.channel="",e.prototype.level1=0,e.prototype.level2=0,e.prototype.registerTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.pkgNum=0,e.prototype.pkgLevel=0,e.prototype.pkgUse=0,e.prototype.icon=0,e.prototype.menPaiID=0,e.prototype.vipEndTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.vipForever=!1,e.prototype.shuGeLevel=An.emptyArray,e.prototype.avataId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.pid&&e.hasOwnProperty("pid")&&t.uint32(8).int64(e.pid),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(24).int32(e.zhongZu),null!=e.channel&&e.hasOwnProperty("channel")&&t.uint32(34).string(e.channel),null!=e.level1&&e.hasOwnProperty("level1")&&t.uint32(40).int32(e.level1),null!=e.level2&&e.hasOwnProperty("level2")&&t.uint32(48).int32(e.level2),null!=e.registerTime&&e.hasOwnProperty("registerTime")&&t.uint32(56).int64(e.registerTime),null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&t.uint32(64).int32(e.pkgNum),null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&t.uint32(72).int32(e.pkgLevel),null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&t.uint32(80).int32(e.pkgUse),null!=e.icon&&e.hasOwnProperty("icon")&&t.uint32(88).int32(e.icon),null!=e.menPaiID&&e.hasOwnProperty("menPaiID")&&t.uint32(96).int32(e.menPaiID),null!=e.vipEndTime&&e.hasOwnProperty("vipEndTime")&&t.uint32(104).int64(e.vipEndTime),null!=e.vipForever&&e.hasOwnProperty("vipForever")&&t.uint32(112).bool(e.vipForever),null!=e.shuGeLevel&&e.shuGeLevel.length)for(var n=0;n<e.shuGeLevel.length;++n)t.uint32(120).int32(e.shuGeLevel[n]);return null!=e.avataId&&e.hasOwnProperty("avataId")&&t.uint32(128).int32(e.avataId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.PlayerMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.pid=e.int64();break;case 2:i.name=e.string();break;case 3:i.zhongZu=e.int32();break;case 4:i.channel=e.string();break;case 5:i.level1=e.int32();break;case 6:i.level2=e.int32();break;case 7:i.registerTime=e.int64();break;case 8:i.pkgNum=e.int32();break;case 9:i.pkgLevel=e.int32();break;case 10:i.pkgUse=e.int32();break;case 11:i.icon=e.int32();break;case 12:i.menPaiID=e.int32();break;case 13:i.vipEndTime=e.int64();break;case 14:i.vipForever=e.bool();break;case 15:if(i.shuGeLevel&&i.shuGeLevel.length||(i.shuGeLevel=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.shuGeLevel.push(e.int32());else i.shuGeLevel.push(e.int32());break;case 16:i.avataId=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.pid&&e.hasOwnProperty("pid")&&!(An.isInteger(e.pid)||e.pid&&An.isInteger(e.pid.low)&&An.isInteger(e.pid.high)))return"pid: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name))return"name: string expected";if(null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu))return"zhongZu: integer expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!An.isString(e.channel))return"channel: string expected";if(null!=e.level1&&e.hasOwnProperty("level1")&&!An.isInteger(e.level1))return"level1: integer expected";if(null!=e.level2&&e.hasOwnProperty("level2")&&!An.isInteger(e.level2))return"level2: integer expected";if(null!=e.registerTime&&e.hasOwnProperty("registerTime")&&!(An.isInteger(e.registerTime)||e.registerTime&&An.isInteger(e.registerTime.low)&&An.isInteger(e.registerTime.high)))return"registerTime: integer|Long expected";if(null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&!An.isInteger(e.pkgNum))return"pkgNum: integer expected";if(null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&!An.isInteger(e.pkgLevel))return"pkgLevel: integer expected";if(null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&!An.isInteger(e.pkgUse))return"pkgUse: integer expected";if(null!=e.icon&&e.hasOwnProperty("icon")&&!An.isInteger(e.icon))return"icon: integer expected";if(null!=e.menPaiID&&e.hasOwnProperty("menPaiID")&&!An.isInteger(e.menPaiID))return"menPaiID: integer expected";if(null!=e.vipEndTime&&e.hasOwnProperty("vipEndTime")&&!(An.isInteger(e.vipEndTime)||e.vipEndTime&&An.isInteger(e.vipEndTime.low)&&An.isInteger(e.vipEndTime.high)))return"vipEndTime: integer|Long expected";if(null!=e.vipForever&&e.hasOwnProperty("vipForever")&&"boolean"!=typeof e.vipForever)return"vipForever: boolean expected";if(null!=e.shuGeLevel&&e.hasOwnProperty("shuGeLevel")){if(!Array.isArray(e.shuGeLevel))return"shuGeLevel: array expected";for(var t=0;t<e.shuGeLevel.length;++t)if(!An.isInteger(e.shuGeLevel[t]))return"shuGeLevel: integer[] expected"}return null!=e.avataId&&e.hasOwnProperty("avataId")&&!An.isInteger(e.avataId)?"avataId: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.PlayerMsg)return e;var t=new En.base.PlayerMsg;if(null!=e.pid&&(An.Long?(t.pid=An.Long.fromValue(e.pid)).unsigned=!1:"string"==typeof e.pid?t.pid=parseInt(e.pid,10):"number"==typeof e.pid?t.pid=e.pid:"object"===Pn(e.pid)&&(t.pid=new An.LongBits(e.pid.low>>>0,e.pid.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.channel&&(t.channel=String(e.channel)),null!=e.level1&&(t.level1=0|e.level1),null!=e.level2&&(t.level2=0|e.level2),null!=e.registerTime&&(An.Long?(t.registerTime=An.Long.fromValue(e.registerTime)).unsigned=!1:"string"==typeof e.registerTime?t.registerTime=parseInt(e.registerTime,10):"number"==typeof e.registerTime?t.registerTime=e.registerTime:"object"===Pn(e.registerTime)&&(t.registerTime=new An.LongBits(e.registerTime.low>>>0,e.registerTime.high>>>0).toNumber())),null!=e.pkgNum&&(t.pkgNum=0|e.pkgNum),null!=e.pkgLevel&&(t.pkgLevel=0|e.pkgLevel),null!=e.pkgUse&&(t.pkgUse=0|e.pkgUse),null!=e.icon&&(t.icon=0|e.icon),null!=e.menPaiID&&(t.menPaiID=0|e.menPaiID),null!=e.vipEndTime&&(An.Long?(t.vipEndTime=An.Long.fromValue(e.vipEndTime)).unsigned=!1:"string"==typeof e.vipEndTime?t.vipEndTime=parseInt(e.vipEndTime,10):"number"==typeof e.vipEndTime?t.vipEndTime=e.vipEndTime:"object"===Pn(e.vipEndTime)&&(t.vipEndTime=new An.LongBits(e.vipEndTime.low>>>0,e.vipEndTime.high>>>0).toNumber())),null!=e.vipForever&&(t.vipForever=Boolean(e.vipForever)),e.shuGeLevel){if(!Array.isArray(e.shuGeLevel))throw TypeError(".base.PlayerMsg.shuGeLevel: array expected");t.shuGeLevel=[];for(var n=0;n<e.shuGeLevel.length;++n)t.shuGeLevel[n]=0|e.shuGeLevel[n]}return null!=e.avataId&&(t.avataId=0|e.avataId),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.shuGeLevel=[]),t.defaults){if(An.Long){var i=new An.Long(0,0,!1);n.pid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.pid=t.longs===String?"0":0;n.name="",n.zhongZu=0,n.channel="",n.level1=0,n.level2=0,An.Long?(i=new An.Long(0,0,!1),n.registerTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.registerTime=t.longs===String?"0":0,n.pkgNum=0,n.pkgLevel=0,n.pkgUse=0,n.icon=0,n.menPaiID=0,An.Long?(i=new An.Long(0,0,!1),n.vipEndTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.vipEndTime=t.longs===String?"0":0,n.vipForever=!1,n.avataId=0}if(null!=e.pid&&e.hasOwnProperty("pid")&&("number"==typeof e.pid?n.pid=t.longs===String?String(e.pid):e.pid:n.pid=t.longs===String?An.Long.prototype.toString.call(e.pid):t.longs===Number?new An.LongBits(e.pid.low>>>0,e.pid.high>>>0).toNumber():e.pid),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),null!=e.level1&&e.hasOwnProperty("level1")&&(n.level1=e.level1),null!=e.level2&&e.hasOwnProperty("level2")&&(n.level2=e.level2),null!=e.registerTime&&e.hasOwnProperty("registerTime")&&("number"==typeof e.registerTime?n.registerTime=t.longs===String?String(e.registerTime):e.registerTime:n.registerTime=t.longs===String?An.Long.prototype.toString.call(e.registerTime):t.longs===Number?new An.LongBits(e.registerTime.low>>>0,e.registerTime.high>>>0).toNumber():e.registerTime),null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&(n.pkgNum=e.pkgNum),null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&(n.pkgLevel=e.pkgLevel),null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&(n.pkgUse=e.pkgUse),null!=e.icon&&e.hasOwnProperty("icon")&&(n.icon=e.icon),null!=e.menPaiID&&e.hasOwnProperty("menPaiID")&&(n.menPaiID=e.menPaiID),null!=e.vipEndTime&&e.hasOwnProperty("vipEndTime")&&("number"==typeof e.vipEndTime?n.vipEndTime=t.longs===String?String(e.vipEndTime):e.vipEndTime:n.vipEndTime=t.longs===String?An.Long.prototype.toString.call(e.vipEndTime):t.longs===Number?new An.LongBits(e.vipEndTime.low>>>0,e.vipEndTime.high>>>0).toNumber():e.vipEndTime),null!=e.vipForever&&e.hasOwnProperty("vipForever")&&(n.vipForever=e.vipForever),e.shuGeLevel&&e.shuGeLevel.length){n.shuGeLevel=[];for(var o=0;o<e.shuGeLevel.length;++o)n.shuGeLevel[o]=e.shuGeLevel[o]}return null!=e.avataId&&e.hasOwnProperty("avataId")&&(n.avataId=e.avataId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Login=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channel="",e.prototype.session="",e.prototype.uid=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.openId="",e.prototype.sid=0,e.prototype.unionid="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.channel&&e.hasOwnProperty("channel")&&t.uint32(10).string(e.channel),null!=e.session&&e.hasOwnProperty("session")&&t.uint32(18).string(e.session),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(24).int64(e.uid),null!=e.openId&&e.hasOwnProperty("openId")&&t.uint32(34).string(e.openId),null!=e.sid&&e.hasOwnProperty("sid")&&t.uint32(40).int32(e.sid),null!=e.unionid&&e.hasOwnProperty("unionid")&&t.uint32(50).string(e.unionid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Login;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.channel=e.string();break;case 2:i.session=e.string();break;case 3:i.uid=e.int64();break;case 4:i.openId=e.string();break;case 5:i.sid=e.int32();break;case 6:i.unionid=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.channel&&e.hasOwnProperty("channel")&&!An.isString(e.channel)?"channel: string expected":null!=e.session&&e.hasOwnProperty("session")&&!An.isString(e.session)?"session: string expected":null!=e.uid&&e.hasOwnProperty("uid")&&!(An.isInteger(e.uid)||e.uid&&An.isInteger(e.uid.low)&&An.isInteger(e.uid.high))?"uid: integer|Long expected":null!=e.openId&&e.hasOwnProperty("openId")&&!An.isString(e.openId)?"openId: string expected":null!=e.sid&&e.hasOwnProperty("sid")&&!An.isInteger(e.sid)?"sid: integer expected":null!=e.unionid&&e.hasOwnProperty("unionid")&&!An.isString(e.unionid)?"unionid: string expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Login)return e;var t=new En.base.C2S_Login;return null!=e.channel&&(t.channel=String(e.channel)),null!=e.session&&(t.session=String(e.session)),null!=e.uid&&(An.Long?(t.uid=An.Long.fromValue(e.uid)).unsigned=!1:"string"==typeof e.uid?t.uid=parseInt(e.uid,10):"number"==typeof e.uid?t.uid=e.uid:"object"===Pn(e.uid)&&(t.uid=new An.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber())),null!=e.openId&&(t.openId=String(e.openId)),null!=e.sid&&(t.sid=0|e.sid),null!=e.unionid&&(t.unionid=String(e.unionid)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.channel="",n.session="",An.Long){var i=new An.Long(0,0,!1);n.uid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.uid=t.longs===String?"0":0;n.openId="",n.sid=0,n.unionid=""}return null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),null!=e.session&&e.hasOwnProperty("session")&&(n.session=e.session),null!=e.uid&&e.hasOwnProperty("uid")&&("number"==typeof e.uid?n.uid=t.longs===String?String(e.uid):e.uid:n.uid=t.longs===String?An.Long.prototype.toString.call(e.uid):t.longs===Number?new An.LongBits(e.uid.low>>>0,e.uid.high>>>0).toNumber():e.uid),null!=e.openId&&e.hasOwnProperty("openId")&&(n.openId=e.openId),null!=e.sid&&e.hasOwnProperty("sid")&&(n.sid=e.sid),null!=e.unionid&&e.hasOwnProperty("unionid")&&(n.unionid=e.unionid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Login=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.register=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.register&&e.hasOwnProperty("register")&&t.uint32(8).bool(e.register),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Login;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.register=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.register&&e.hasOwnProperty("register")&&"boolean"!=typeof e.register?"register: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Login)return e;var t=new En.base.S2C_Login;return null!=e.register&&(t.register=Boolean(e.register)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.register=!1),null!=e.register&&e.hasOwnProperty("register")&&(n.register=e.register),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Register=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.zhongZu=0,e.prototype.nickName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(8).int32(e.zhongZu),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(18).string(e.nickName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Register;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.zhongZu=e.int32();break;case 2:i.nickName=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu)?"zhongZu: integer expected":null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Register)return e;var t=new En.base.C2S_Register;return null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.nickName&&(t.nickName=String(e.nickName)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.zhongZu=0,n.nickName=""),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Register=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&t.uint32(8).bool(e.result),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Register;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.result&&e.hasOwnProperty("result")&&"boolean"!=typeof e.result?"result: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Register)return e;var t=new En.base.S2C_Register;return null!=e.result&&(t.result=Boolean(e.result)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.result=!1),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GetPlayer=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetPlayer;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetPlayer?e:new En.base.C2S_GetPlayer},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetPlayer=function(){function e(e){if(this.item=[],this.exchange=[],this.xiuLianLog=[],this.chapterReward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.player=null,e.prototype.serverTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.item=An.emptyArray,e.prototype.exchange=An.emptyArray,e.prototype.xiuLianLog=An.emptyArray,e.prototype.openDay=0,e.prototype.chapterReward=An.emptyArray,e.prototype.offlineTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.player&&e.hasOwnProperty("player")&&En.base.PlayerMsg.encode(e.player,t.uint32(10).fork()).ldelim(),null!=e.serverTime&&e.hasOwnProperty("serverTime")&&t.uint32(16).int64(e.serverTime),null!=e.item&&e.item.length)for(var n=0;n<e.item.length;++n)En.base.ItemMsg.encode(e.item[n],t.uint32(26).fork()).ldelim();if(null!=e.exchange&&e.exchange.length)for(n=0;n<e.exchange.length;++n)En.base.ExchangeMsg.encode(e.exchange[n],t.uint32(34).fork()).ldelim();if(null!=e.xiuLianLog&&e.xiuLianLog.length)for(n=0;n<e.xiuLianLog.length;++n)En.base.XiuLianLogInfoPB.encode(e.xiuLianLog[n],t.uint32(42).fork()).ldelim();if(null!=e.openDay&&e.hasOwnProperty("openDay")&&t.uint32(48).int32(e.openDay),null!=e.chapterReward&&e.chapterReward.length)for(n=0;n<e.chapterReward.length;++n)En.base.ItemMsg.encode(e.chapterReward[n],t.uint32(58).fork()).ldelim();return null!=e.offlineTime&&e.hasOwnProperty("offlineTime")&&t.uint32(64).int64(e.offlineTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetPlayer;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.player=En.base.PlayerMsg.decode(e,e.uint32());break;case 2:i.serverTime=e.int64();break;case 3:i.item&&i.item.length||(i.item=[]),i.item.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 4:i.exchange&&i.exchange.length||(i.exchange=[]),i.exchange.push(En.base.ExchangeMsg.decode(e,e.uint32()));break;case 5:i.xiuLianLog&&i.xiuLianLog.length||(i.xiuLianLog=[]),i.xiuLianLog.push(En.base.XiuLianLogInfoPB.decode(e,e.uint32()));break;case 6:i.openDay=e.int32();break;case 7:i.chapterReward&&i.chapterReward.length||(i.chapterReward=[]),i.chapterReward.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 8:i.offlineTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.player&&e.hasOwnProperty("player")&&(n=En.base.PlayerMsg.verify(e.player)))return"player."+n;if(null!=e.serverTime&&e.hasOwnProperty("serverTime")&&!(An.isInteger(e.serverTime)||e.serverTime&&An.isInteger(e.serverTime.low)&&An.isInteger(e.serverTime.high)))return"serverTime: integer|Long expected";if(null!=e.item&&e.hasOwnProperty("item")){if(!Array.isArray(e.item))return"item: array expected";for(var t=0;t<e.item.length;++t)if(n=En.base.ItemMsg.verify(e.item[t]))return"item."+n}if(null!=e.exchange&&e.hasOwnProperty("exchange")){if(!Array.isArray(e.exchange))return"exchange: array expected";for(t=0;t<e.exchange.length;++t)if(n=En.base.ExchangeMsg.verify(e.exchange[t]))return"exchange."+n}if(null!=e.xiuLianLog&&e.hasOwnProperty("xiuLianLog")){if(!Array.isArray(e.xiuLianLog))return"xiuLianLog: array expected";for(t=0;t<e.xiuLianLog.length;++t)if(n=En.base.XiuLianLogInfoPB.verify(e.xiuLianLog[t]))return"xiuLianLog."+n}if(null!=e.openDay&&e.hasOwnProperty("openDay")&&!An.isInteger(e.openDay))return"openDay: integer expected";if(null!=e.chapterReward&&e.hasOwnProperty("chapterReward")){if(!Array.isArray(e.chapterReward))return"chapterReward: array expected";for(t=0;t<e.chapterReward.length;++t){var n;if(n=En.base.ItemMsg.verify(e.chapterReward[t]))return"chapterReward."+n}}return null!=e.offlineTime&&e.hasOwnProperty("offlineTime")&&!(An.isInteger(e.offlineTime)||e.offlineTime&&An.isInteger(e.offlineTime.low)&&An.isInteger(e.offlineTime.high))?"offlineTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_GetPlayer)return e;var t=new En.base.S2C_GetPlayer;if(null!=e.player){if("object"!==Pn(e.player))throw TypeError(".base.S2C_GetPlayer.player: object expected");t.player=En.base.PlayerMsg.fromObject(e.player)}if(null!=e.serverTime&&(An.Long?(t.serverTime=An.Long.fromValue(e.serverTime)).unsigned=!1:"string"==typeof e.serverTime?t.serverTime=parseInt(e.serverTime,10):"number"==typeof e.serverTime?t.serverTime=e.serverTime:"object"===Pn(e.serverTime)&&(t.serverTime=new An.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber())),e.item){if(!Array.isArray(e.item))throw TypeError(".base.S2C_GetPlayer.item: array expected");t.item=[];for(var n=0;n<e.item.length;++n){if("object"!==Pn(e.item[n]))throw TypeError(".base.S2C_GetPlayer.item: object expected");t.item[n]=En.base.ItemMsg.fromObject(e.item[n])}}if(e.exchange){if(!Array.isArray(e.exchange))throw TypeError(".base.S2C_GetPlayer.exchange: array expected");for(t.exchange=[],n=0;n<e.exchange.length;++n){if("object"!==Pn(e.exchange[n]))throw TypeError(".base.S2C_GetPlayer.exchange: object expected");t.exchange[n]=En.base.ExchangeMsg.fromObject(e.exchange[n])}}if(e.xiuLianLog){if(!Array.isArray(e.xiuLianLog))throw TypeError(".base.S2C_GetPlayer.xiuLianLog: array expected");for(t.xiuLianLog=[],n=0;n<e.xiuLianLog.length;++n){if("object"!==Pn(e.xiuLianLog[n]))throw TypeError(".base.S2C_GetPlayer.xiuLianLog: object expected");t.xiuLianLog[n]=En.base.XiuLianLogInfoPB.fromObject(e.xiuLianLog[n])}}if(null!=e.openDay&&(t.openDay=0|e.openDay),e.chapterReward){if(!Array.isArray(e.chapterReward))throw TypeError(".base.S2C_GetPlayer.chapterReward: array expected");for(t.chapterReward=[],n=0;n<e.chapterReward.length;++n){if("object"!==Pn(e.chapterReward[n]))throw TypeError(".base.S2C_GetPlayer.chapterReward: object expected");t.chapterReward[n]=En.base.ItemMsg.fromObject(e.chapterReward[n])}}return null!=e.offlineTime&&(An.Long?(t.offlineTime=An.Long.fromValue(e.offlineTime)).unsigned=!1:"string"==typeof e.offlineTime?t.offlineTime=parseInt(e.offlineTime,10):"number"==typeof e.offlineTime?t.offlineTime=e.offlineTime:"object"===Pn(e.offlineTime)&&(t.offlineTime=new An.LongBits(e.offlineTime.low>>>0,e.offlineTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.item=[],n.exchange=[],n.xiuLianLog=[],n.chapterReward=[]),t.defaults){if(n.player=null,An.Long){var i=new An.Long(0,0,!1);n.serverTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.serverTime=t.longs===String?"0":0;n.openDay=0,An.Long?(i=new An.Long(0,0,!1),n.offlineTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.offlineTime=t.longs===String?"0":0}if(null!=e.player&&e.hasOwnProperty("player")&&(n.player=En.base.PlayerMsg.toObject(e.player,t)),null!=e.serverTime&&e.hasOwnProperty("serverTime")&&("number"==typeof e.serverTime?n.serverTime=t.longs===String?String(e.serverTime):e.serverTime:n.serverTime=t.longs===String?An.Long.prototype.toString.call(e.serverTime):t.longs===Number?new An.LongBits(e.serverTime.low>>>0,e.serverTime.high>>>0).toNumber():e.serverTime),e.item&&e.item.length){n.item=[];for(var o=0;o<e.item.length;++o)n.item[o]=En.base.ItemMsg.toObject(e.item[o],t)}if(e.exchange&&e.exchange.length)for(n.exchange=[],o=0;o<e.exchange.length;++o)n.exchange[o]=En.base.ExchangeMsg.toObject(e.exchange[o],t);if(e.xiuLianLog&&e.xiuLianLog.length)for(n.xiuLianLog=[],o=0;o<e.xiuLianLog.length;++o)n.xiuLianLog[o]=En.base.XiuLianLogInfoPB.toObject(e.xiuLianLog[o],t);if(null!=e.openDay&&e.hasOwnProperty("openDay")&&(n.openDay=e.openDay),e.chapterReward&&e.chapterReward.length)for(n.chapterReward=[],o=0;o<e.chapterReward.length;++o)n.chapterReward[o]=En.base.ItemMsg.toObject(e.chapterReward[o],t);return null!=e.offlineTime&&e.hasOwnProperty("offlineTime")&&("number"==typeof e.offlineTime?n.offlineTime=t.longs===String?String(e.offlineTime):e.offlineTime:n.offlineTime=t.longs===String?An.Long.prototype.toString.call(e.offlineTime):t.longs===Number?new An.LongBits(e.offlineTime.low>>>0,e.offlineTime.high>>>0).toNumber():e.offlineTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ItemChange=function(){function e(e){if(this.item=[],this.currency=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.item=An.emptyArray,e.prototype.currency=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.item&&e.item.length)for(var n=0;n<e.item.length;++n)En.base.ItemMsg.encode(e.item[n],t.uint32(10).fork()).ldelim();if(null!=e.currency&&e.currency.length)for(n=0;n<e.currency.length;++n)En.base.ItemMsg.encode(e.currency[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ItemChange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.item&&i.item.length||(i.item=[]),i.item.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 2:i.currency&&i.currency.length||(i.currency=[]),i.currency.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.item&&e.hasOwnProperty("item")){if(!Array.isArray(e.item))return"item: array expected";for(var t=0;t<e.item.length;++t)if(n=En.base.ItemMsg.verify(e.item[t]))return"item."+n}if(null!=e.currency&&e.hasOwnProperty("currency")){if(!Array.isArray(e.currency))return"currency: array expected";for(t=0;t<e.currency.length;++t){var n;if(n=En.base.ItemMsg.verify(e.currency[t]))return"currency."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_ItemChange)return e;var t=new En.base.S2C_ItemChange;if(e.item){if(!Array.isArray(e.item))throw TypeError(".base.S2C_ItemChange.item: array expected");t.item=[];for(var n=0;n<e.item.length;++n){if("object"!==Pn(e.item[n]))throw TypeError(".base.S2C_ItemChange.item: object expected");t.item[n]=En.base.ItemMsg.fromObject(e.item[n])}}if(e.currency){if(!Array.isArray(e.currency))throw TypeError(".base.S2C_ItemChange.currency: array expected");for(t.currency=[],n=0;n<e.currency.length;++n){if("object"!==Pn(e.currency[n]))throw TypeError(".base.S2C_ItemChange.currency: object expected");t.currency[n]=En.base.ItemMsg.fromObject(e.currency[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.item=[],n.currency=[]),e.item&&e.item.length){n.item=[];for(var i=0;i<e.item.length;++i)n.item[i]=En.base.ItemMsg.toObject(e.item[i],t)}if(e.currency&&e.currency.length)for(n.currency=[],i=0;i<e.currency.length;++i)n.currency[i]=En.base.ItemMsg.toObject(e.currency[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GetAllItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetAllItem;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetAllItem?e:new En.base.C2S_GetAllItem},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetAllItem=function(){function e(e){if(this.item=[],this.currency=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.item=An.emptyArray,e.prototype.currency=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.item&&e.item.length)for(var n=0;n<e.item.length;++n)En.base.ItemMsg.encode(e.item[n],t.uint32(10).fork()).ldelim();if(null!=e.currency&&e.currency.length)for(n=0;n<e.currency.length;++n)En.base.ItemMsg.encode(e.currency[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetAllItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.item&&i.item.length||(i.item=[]),i.item.push(En.base.ItemMsg.decode(e,e.uint32()));break;case 2:i.currency&&i.currency.length||(i.currency=[]),i.currency.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.item&&e.hasOwnProperty("item")){if(!Array.isArray(e.item))return"item: array expected";for(var t=0;t<e.item.length;++t)if(n=En.base.ItemMsg.verify(e.item[t]))return"item."+n}if(null!=e.currency&&e.hasOwnProperty("currency")){if(!Array.isArray(e.currency))return"currency: array expected";for(t=0;t<e.currency.length;++t){var n;if(n=En.base.ItemMsg.verify(e.currency[t]))return"currency."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_GetAllItem)return e;var t=new En.base.S2C_GetAllItem;if(e.item){if(!Array.isArray(e.item))throw TypeError(".base.S2C_GetAllItem.item: array expected");t.item=[];for(var n=0;n<e.item.length;++n){if("object"!==Pn(e.item[n]))throw TypeError(".base.S2C_GetAllItem.item: object expected");t.item[n]=En.base.ItemMsg.fromObject(e.item[n])}}if(e.currency){if(!Array.isArray(e.currency))throw TypeError(".base.S2C_GetAllItem.currency: array expected");for(t.currency=[],n=0;n<e.currency.length;++n){if("object"!==Pn(e.currency[n]))throw TypeError(".base.S2C_GetAllItem.currency: object expected");t.currency[n]=En.base.ItemMsg.fromObject(e.currency[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.item=[],n.currency=[]),e.item&&e.item.length){n.item=[];for(var i=0;i<e.item.length;++i)n.item[i]=En.base.ItemMsg.toObject(e.item[i],t)}if(e.currency&&e.currency.length)for(n.currency=[],i=0;i<e.currency.length;++i)n.currency[i]=En.base.ItemMsg.toObject(e.currency[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_UseItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.count=0,e.prototype.selectItemId=0,e.prototype.stringValue="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.itemId&&e.hasOwnProperty("itemId")&&t.uint32(8).int32(e.itemId),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),null!=e.selectItemId&&e.hasOwnProperty("selectItemId")&&t.uint32(24).int32(e.selectItemId),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&t.uint32(34).string(e.stringValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_UseItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemId=e.int32();break;case 2:i.count=e.int32();break;case 3:i.selectItemId=e.int32();break;case 4:i.stringValue=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!An.isInteger(e.itemId)?"itemId: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null!=e.selectItemId&&e.hasOwnProperty("selectItemId")&&!An.isInteger(e.selectItemId)?"selectItemId: integer expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!An.isString(e.stringValue)?"stringValue: string expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_UseItem)return e;var t=new En.base.C2S_UseItem;return null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.count&&(t.count=0|e.count),null!=e.selectItemId&&(t.selectItemId=0|e.selectItemId),null!=e.stringValue&&(t.stringValue=String(e.stringValue)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.itemId=0,n.count=0,n.selectItemId=0,n.stringValue=""),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.selectItemId&&e.hasOwnProperty("selectItemId")&&(n.selectItemId=e.selectItemId),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=e.stringValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_UseItem=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.count=0,e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.itemId&&e.hasOwnProperty("itemId")&&t.uint32(8).int32(e.itemId),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ItemMsg.encode(e.reward[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_UseItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemId=e.int32();break;case 2:i.count=e.int32();break;case 3:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.itemId&&e.hasOwnProperty("itemId")&&!An.isInteger(e.itemId))return"itemId: integer expected";if(null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count))return"count: integer expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n=En.base.ItemMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_UseItem)return e;var t=new En.base.S2C_UseItem;if(null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.count&&(t.count=0|e.count),e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_UseItem.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_UseItem.reward: object expected");t.reward[n]=En.base.ItemMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),t.defaults&&(n.itemId=0,n.count=0),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ItemMsg.toObject(e.reward[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ExchangeItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ExchangeItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_ExchangeItem)return e;var t=new En.base.C2S_ExchangeItem;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ExchangeItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ExchangeItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ExchangeItem)return e;var t=new En.base.S2C_ExchangeItem;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_SellItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.itemId&&e.hasOwnProperty("itemId")&&t.uint32(8).int32(e.itemId),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int64(e.id),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(24).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_SellItem;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemId=e.int32();break;case 2:i.id=e.int64();break;case 3:i.count=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.itemId&&e.hasOwnProperty("itemId")&&!An.isInteger(e.itemId)?"itemId: integer expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_SellItem)return e;var t=new En.base.C2S_SellItem;return null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.itemId=0,An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.count=0}return null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_SellItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_SellItem;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_SellItem?e:new En.base.S2C_SellItem},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_CurrencyChange=function(){function e(e){if(this.currency=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.currency=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.currency&&e.currency.length)for(var n=0;n<e.currency.length;++n)En.base.ItemMsg.encode(e.currency[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_CurrencyChange;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.currency&&i.currency.length||(i.currency=[]),i.currency.push(En.base.ItemMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.currency&&e.hasOwnProperty("currency")){if(!Array.isArray(e.currency))return"currency: array expected";for(var t=0;t<e.currency.length;++t){var n=En.base.ItemMsg.verify(e.currency[t]);if(n)return"currency."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_CurrencyChange)return e;var t=new En.base.S2C_CurrencyChange;if(e.currency){if(!Array.isArray(e.currency))throw TypeError(".base.S2C_CurrencyChange.currency: array expected");t.currency=[];for(var n=0;n<e.currency.length;++n){if("object"!==Pn(e.currency[n]))throw TypeError(".base.S2C_CurrencyChange.currency: object expected");t.currency[n]=En.base.ItemMsg.fromObject(e.currency[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.currency=[]),e.currency&&e.currency.length){n.currency=[];for(var i=0;i<e.currency.length;++i)n.currency[i]=En.base.ItemMsg.toObject(e.currency[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.LevelUpType=(ce={},(le=Object.create(ce))[ce[1]="DU_JIE"]=1,le[ce[2]="CUI_TI"]=2,le),Dn.C2S_LevelUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_LevelUp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_LevelUp)return e;var t=new En.base.C2S_LevelUp;switch(e.type){case"DU_JIE":case 1:t.type=1;break;case"CUI_TI":case 2:t.type=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"DU_JIE":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.LevelUpType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_LevelUp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.level=0,e.prototype.type=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(8).int32(e.level),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(16).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_LevelUp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.level=e.int32();break;case 2:i.type=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level))return"level: integer expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_LevelUp)return e;var t=new En.base.S2C_LevelUp;switch(null!=e.level&&(t.level=0|e.level),e.type){case"DU_JIE":case 1:t.type=1;break;case"CUI_TI":case 2:t.type=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.level=0,n.type=t.enums===String?"DU_JIE":1),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.LevelUpType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_XiuLian=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_XiuLian;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_XiuLian?e:new En.base.C2S_XiuLian},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_XiuLian=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(8).int64(e.endTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_XiuLian;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.endTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high))?"endTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_XiuLian)return e;var t=new En.base.S2C_XiuLian;return null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;return null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_SellManyEquip=function(){function e(e){if(this.equipQuality=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.equipQuality=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.equipQuality&&e.equipQuality.length)for(var n=0;n<e.equipQuality.length;++n)t.uint32(8).int32(e.equipQuality[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_SellManyEquip;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(i.equipQuality&&i.equipQuality.length||(i.equipQuality=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.equipQuality.push(e.int32());else i.equipQuality.push(e.int32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.equipQuality&&e.hasOwnProperty("equipQuality")){if(!Array.isArray(e.equipQuality))return"equipQuality: array expected";for(var t=0;t<e.equipQuality.length;++t)if(!An.isInteger(e.equipQuality[t]))return"equipQuality: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_SellManyEquip)return e;var t=new En.base.C2S_SellManyEquip;if(e.equipQuality){if(!Array.isArray(e.equipQuality))throw TypeError(".base.C2S_SellManyEquip.equipQuality: array expected");t.equipQuality=[];for(var n=0;n<e.equipQuality.length;++n)t.equipQuality[n]=0|e.equipQuality[n]}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.equipQuality=[]),e.equipQuality&&e.equipQuality.length){n.equipQuality=[];for(var i=0;i<e.equipQuality.length;++i)n.equipQuality[i]=e.equipQuality[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_SellManyEquip=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_SellManyEquip;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_SellManyEquip?e:new En.base.S2C_SellManyEquip},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_UpgradePkg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_UpgradePkg;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_UpgradePkg?e:new En.base.C2S_UpgradePkg},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_UpgradePkg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pkgNum=0,e.prototype.pkgLevel=0,e.prototype.pkgUse=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&t.uint32(8).int32(e.pkgNum),null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&t.uint32(16).int32(e.pkgLevel),null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&t.uint32(24).int32(e.pkgUse),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_UpgradePkg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.pkgNum=e.int32();break;case 2:i.pkgLevel=e.int32();break;case 3:i.pkgUse=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&!An.isInteger(e.pkgNum)?"pkgNum: integer expected":null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&!An.isInteger(e.pkgLevel)?"pkgLevel: integer expected":null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&!An.isInteger(e.pkgUse)?"pkgUse: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_UpgradePkg)return e;var t=new En.base.S2C_UpgradePkg;return null!=e.pkgNum&&(t.pkgNum=0|e.pkgNum),null!=e.pkgLevel&&(t.pkgLevel=0|e.pkgLevel),null!=e.pkgUse&&(t.pkgUse=0|e.pkgUse),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.pkgNum=0,n.pkgLevel=0,n.pkgUse=0),null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&(n.pkgNum=e.pkgNum),null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&(n.pkgLevel=e.pkgLevel),null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&(n.pkgUse=e.pkgUse),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.PropertyMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(16).int32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.PropertyMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.value=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 101:case 102:case 103:case 104:case 105:case 201:case 202:case 203:case 204:case 205:case 206:case 301:case 302:case 1001:case 1002:case 1003:case 1004:case 1005:case 1006:case 1007:}return null!=e.value&&e.hasOwnProperty("value")&&!An.isInteger(e.value)?"value: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.PropertyMsg)return e;var t=new En.base.PropertyMsg;switch(e.type){case"TiPo":case 1:t.type=1;break;case"ZhenQi":case 2:t.type=2;break;case"GenGu":case 3:t.type=3;break;case"ShenFa":case 4:t.type=4;break;case"LingLi":case 5:t.type=5;break;case"WuXing":case 6:t.type=6;break;case"JiYuan":case 7:t.type=7;break;case"JinXi":case 101:t.type=101;break;case"MuXi":case 102:t.type=102;break;case"ShuiXi":case 103:t.type=103;break;case"HuoXi":case 104:t.type=104;break;case"TuXi":case 105:t.type=105;break;case"RenZu":case 201:t.type=201;break;case"YaoZu":case 202:t.type=202;break;case"MoZu":case 203:t.type=203;break;case"ShouZu":case 204:t.type=204;break;case"LongZu":case 205:t.type=205;break;case"XianRen":case 206:t.type=206;break;case"ZhengQi":case 301:t.type=301;break;case"XieQi":case 302:t.type=302;break;case"ShengMing":case 1001:t.type=1001;break;case"GongJi":case 1002:t.type=1002;break;case"FangYu":case 1003:t.type=1003;break;case"ShanBi":case 1004:t.type=1004;break;case"BaoJi":case 1005:t.type=1005;break;case"XiuLianSuDu":case 1006:t.type=1006;break;case"LingLiHuoQu":case 1007:t.type=1007}return null!=e.value&&(t.value=0|e.value),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"TiPo":1,n.value=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.PropertyType[e.type]:e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PlayerProperty=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PlayerProperty;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_PlayerProperty?e:new En.base.C2S_PlayerProperty},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PlayerProperty=function(){function e(e){if(this.property=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.property=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.property&&e.property.length)for(var n=0;n<e.property.length;++n)En.base.PropertyMsg.encode(e.property[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PlayerProperty;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.property&&i.property.length||(i.property=[]),i.property.push(En.base.PropertyMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.property&&e.hasOwnProperty("property")){if(!Array.isArray(e.property))return"property: array expected";for(var t=0;t<e.property.length;++t){var n=En.base.PropertyMsg.verify(e.property[t]);if(n)return"property."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_PlayerProperty)return e;var t=new En.base.S2C_PlayerProperty;if(e.property){if(!Array.isArray(e.property))throw TypeError(".base.S2C_PlayerProperty.property: array expected");t.property=[];for(var n=0;n<e.property.length;++n){if("object"!==Pn(e.property[n]))throw TypeError(".base.S2C_PlayerProperty.property: object expected");t.property[n]=En.base.PropertyMsg.fromObject(e.property[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.property=[]),e.property&&e.property.length){n.property=[];for(var i=0;i<e.property.length;++i)n.property[i]=En.base.PropertyMsg.toObject(e.property[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_EquipmentOpt=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.wear=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),null!=e.wear&&e.hasOwnProperty("wear")&&t.uint32(16).bool(e.wear),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_EquipmentOpt;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.wear=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null!=e.wear&&e.hasOwnProperty("wear")&&"boolean"!=typeof e.wear?"wear: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_EquipmentOpt)return e;var t=new En.base.C2S_EquipmentOpt;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.wear&&(t.wear=Boolean(e.wear)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.wear=!1}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.wear&&e.hasOwnProperty("wear")&&(n.wear=e.wear),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_EquipmentOpt=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.wear=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int64(e.id),null!=e.wear&&e.hasOwnProperty("wear")&&t.uint32(16).bool(e.wear),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_EquipmentOpt;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.wear=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high))?"id: integer|Long expected":null!=e.wear&&e.hasOwnProperty("wear")&&"boolean"!=typeof e.wear?"wear: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_EquipmentOpt)return e;var t=new En.base.S2C_EquipmentOpt;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.wear&&(t.wear=Boolean(e.wear)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;n.wear=!1}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.wear&&e.hasOwnProperty("wear")&&(n.wear=e.wear),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DanYaoInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemId=0,e.prototype.useCount=0,e.prototype.maxCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.itemId),null!=e.useCount&&e.hasOwnProperty("useCount")&&t.uint32(16).int32(e.useCount),null!=e.maxCount&&e.hasOwnProperty("maxCount")&&t.uint32(24).int32(e.maxCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.DanYaoInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemId=e.int32();break;case 2:i.useCount=e.int32();break;case 3:i.maxCount=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("itemId"))throw An.ProtocolError("missing required 'itemId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.itemId)?null!=e.useCount&&e.hasOwnProperty("useCount")&&!An.isInteger(e.useCount)?"useCount: integer expected":null!=e.maxCount&&e.hasOwnProperty("maxCount")&&!An.isInteger(e.maxCount)?"maxCount: integer expected":null:"itemId: integer expected"},e.fromObject=function(e){if(e instanceof En.base.DanYaoInfoPB)return e;var t=new En.base.DanYaoInfoPB;return null!=e.itemId&&(t.itemId=0|e.itemId),null!=e.useCount&&(t.useCount=0|e.useCount),null!=e.maxCount&&(t.maxCount=0|e.maxCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.itemId=0,n.useCount=0,n.maxCount=0),null!=e.itemId&&e.hasOwnProperty("itemId")&&(n.itemId=e.itemId),null!=e.useCount&&e.hasOwnProperty("useCount")&&(n.useCount=e.useCount),null!=e.maxCount&&e.hasOwnProperty("maxCount")&&(n.maxCount=e.maxCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_LevelUpRate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_LevelUpRate;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_LevelUpRate?e:new En.base.C2S_LevelUpRate},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_LevelUpRate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rate=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.rate&&e.hasOwnProperty("rate")&&t.uint32(8).int32(e.rate),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_LevelUpRate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.rate=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.rate&&e.hasOwnProperty("rate")&&!An.isInteger(e.rate)?"rate: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_LevelUpRate)return e;var t=new En.base.S2C_LevelUpRate;return null!=e.rate&&(t.rate=0|e.rate),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.rate=0),null!=e.rate&&e.hasOwnProperty("rate")&&(n.rate=e.rate),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ItemUseInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ItemUseInfo;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_ItemUseInfo?e:new En.base.C2S_ItemUseInfo},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ItemUseInfo=function(){function e(e){if(this.itemUse=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemUse=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.itemUse&&e.itemUse.length)for(var n=0;n<e.itemUse.length;++n)En.base.ItemUseMsg.encode(e.itemUse[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ItemUseInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemUse&&i.itemUse.length||(i.itemUse=[]),i.itemUse.push(En.base.ItemUseMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.itemUse&&e.hasOwnProperty("itemUse")){if(!Array.isArray(e.itemUse))return"itemUse: array expected";for(var t=0;t<e.itemUse.length;++t){var n=En.base.ItemUseMsg.verify(e.itemUse[t]);if(n)return"itemUse."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_ItemUseInfo)return e;var t=new En.base.S2C_ItemUseInfo;if(e.itemUse){if(!Array.isArray(e.itemUse))throw TypeError(".base.S2C_ItemUseInfo.itemUse: array expected");t.itemUse=[];for(var n=0;n<e.itemUse.length;++n){if("object"!==Pn(e.itemUse[n]))throw TypeError(".base.S2C_ItemUseInfo.itemUse: object expected");t.itemUse[n]=En.base.ItemUseMsg.fromObject(e.itemUse[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.itemUse=[]),e.itemUse&&e.itemUse.length){n.itemUse=[];for(var i=0;i<e.itemUse.length;++i)n.itemUse[i]=En.base.ItemUseMsg.toObject(e.itemUse[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_ItemExchangeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ItemExchangeInfo;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_ItemExchangeInfo?e:new En.base.C2S_ItemExchangeInfo},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ItemExchangeInfo=function(){function e(e){if(this.itemExchange=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemExchange=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.itemExchange&&e.itemExchange.length)for(var n=0;n<e.itemExchange.length;++n)En.base.ExchangeMsg.encode(e.itemExchange[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ItemExchangeInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemExchange&&i.itemExchange.length||(i.itemExchange=[]),i.itemExchange.push(En.base.ExchangeMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.itemExchange&&e.hasOwnProperty("itemExchange")){if(!Array.isArray(e.itemExchange))return"itemExchange: array expected";for(var t=0;t<e.itemExchange.length;++t){var n=En.base.ExchangeMsg.verify(e.itemExchange[t]);if(n)return"itemExchange."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_ItemExchangeInfo)return e;var t=new En.base.S2C_ItemExchangeInfo;if(e.itemExchange){if(!Array.isArray(e.itemExchange))throw TypeError(".base.S2C_ItemExchangeInfo.itemExchange: array expected");t.itemExchange=[];for(var n=0;n<e.itemExchange.length;++n){if("object"!==Pn(e.itemExchange[n]))throw TypeError(".base.S2C_ItemExchangeInfo.itemExchange: object expected");t.itemExchange[n]=En.base.ExchangeMsg.fromObject(e.itemExchange[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.itemExchange=[]),e.itemExchange&&e.itemExchange.length){n.itemExchange=[];for(var i=0;i<e.itemExchange.length;++i)n.itemExchange[i]=En.base.ExchangeMsg.toObject(e.itemExchange[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PackageInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pkgNum=0,e.prototype.pkgLevel=0,e.prototype.pkgUse=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&t.uint32(8).int32(e.pkgNum),null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&t.uint32(16).int32(e.pkgLevel),null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&t.uint32(24).int32(e.pkgUse),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PackageInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.pkgNum=e.int32();break;case 2:i.pkgLevel=e.int32();break;case 3:i.pkgUse=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&!An.isInteger(e.pkgNum)?"pkgNum: integer expected":null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&!An.isInteger(e.pkgLevel)?"pkgLevel: integer expected":null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&!An.isInteger(e.pkgUse)?"pkgUse: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_PackageInfo)return e;var t=new En.base.S2C_PackageInfo;return null!=e.pkgNum&&(t.pkgNum=0|e.pkgNum),null!=e.pkgLevel&&(t.pkgLevel=0|e.pkgLevel),null!=e.pkgUse&&(t.pkgUse=0|e.pkgUse),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.pkgNum=0,n.pkgLevel=0,n.pkgUse=0),null!=e.pkgNum&&e.hasOwnProperty("pkgNum")&&(n.pkgNum=e.pkgNum),null!=e.pkgLevel&&e.hasOwnProperty("pkgLevel")&&(n.pkgLevel=e.pkgLevel),null!=e.pkgUse&&e.hasOwnProperty("pkgUse")&&(n.pkgUse=e.pkgUse),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_DuJieChance=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DuJieChance;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_DuJieChance?e:new En.base.C2S_DuJieChance},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DuJieChance=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.duJieChance=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.duJieChance&&e.hasOwnProperty("duJieChance")&&t.uint32(8).int32(e.duJieChance),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DuJieChance;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.duJieChance=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.duJieChance&&e.hasOwnProperty("duJieChance")&&!An.isInteger(e.duJieChance)?"duJieChance: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_DuJieChance)return e;var t=new En.base.S2C_DuJieChance;return null!=e.duJieChance&&(t.duJieChance=0|e.duJieChance),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.duJieChance=0),null!=e.duJieChance&&e.hasOwnProperty("duJieChance")&&(n.duJieChance=e.duJieChance),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.PackageUseRewardInfoPB=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.itemUseType=0,e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.itemUseType&&e.hasOwnProperty("itemUseType")&&t.uint32(8).int32(e.itemUseType),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.PackageUseRewardInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.itemUseType=e.int32();break;case 2:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.itemUseType&&e.hasOwnProperty("itemUseType")&&!An.isInteger(e.itemUseType))return"itemUseType: integer expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n=En.base.ResourceMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.PackageUseRewardInfoPB)return e;var t=new En.base.PackageUseRewardInfoPB;if(null!=e.itemUseType&&(t.itemUseType=0|e.itemUseType),e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.PackageUseRewardInfoPB.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.PackageUseRewardInfoPB.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),t.defaults&&(n.itemUseType=0),null!=e.itemUseType&&e.hasOwnProperty("itemUseType")&&(n.itemUseType=e.itemUseType),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ResourceMsg.toObject(e.reward[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_DanYao=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_DanYao;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_DanYao?e:new En.base.C2S_DanYao},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_DanYao=function(){function e(e){if(this.danYao=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.danYao=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.danYao&&e.danYao.length)for(var n=0;n<e.danYao.length;++n)En.base.DanYaoInfoPB.encode(e.danYao[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_DanYao;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.danYao&&i.danYao.length||(i.danYao=[]),i.danYao.push(En.base.DanYaoInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.danYao&&e.hasOwnProperty("danYao")){if(!Array.isArray(e.danYao))return"danYao: array expected";for(var t=0;t<e.danYao.length;++t){var n=En.base.DanYaoInfoPB.verify(e.danYao[t]);if(n)return"danYao."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_DanYao)return e;var t=new En.base.S2C_DanYao;if(e.danYao){if(!Array.isArray(e.danYao))throw TypeError(".base.S2C_DanYao.danYao: array expected");t.danYao=[];for(var n=0;n<e.danYao.length;++n){if("object"!==Pn(e.danYao[n]))throw TypeError(".base.S2C_DanYao.danYao: object expected");t.danYao[n]=En.base.DanYaoInfoPB.fromObject(e.danYao[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.danYao=[]),e.danYao&&e.danYao.length){n.danYao=[];for(var i=0;i<e.danYao.length;++i)n.danYao[i]=En.base.DanYaoInfoPB.toObject(e.danYao[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Switch=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=-1,e.prototype.state=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.state),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Switch;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.state=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("state"))throw An.ProtocolError("missing required 'state'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case-1:case 0:case 1:case 2:case 3:case 4:case 62:}return An.isInteger(e.state)?null:"state: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_Switch)return e;var t=new En.base.C2S_Switch;switch(e.type){case"GetAll":case-1:t.type=-1;break;case"WuDaoAuto":case 0:t.type=0;break;case"GongFaAuto":case 1:t.type=1;break;case"GoFishingAuto":case 2:t.type=2;break;case"DongFuAuto":case 3:t.type=3;break;case"PiXiuZhen":case 4:t.type=4;break;case"UnSetBit":case 62:t.type=62}return null!=e.state&&(t.state=0|e.state),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"GetAll":-1,n.state=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.SwitchType[e.type]:e.type),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Switch=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.allState=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.allState),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Switch;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.allState=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("allState"))throw An.ProtocolError("missing required 'allState'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.allState)||e.allState&&An.isInteger(e.allState.low)&&An.isInteger(e.allState.high)?null:"allState: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_Switch)return e;var t=new En.base.S2C_Switch;return null!=e.allState&&(An.Long?(t.allState=An.Long.fromValue(e.allState)).unsigned=!1:"string"==typeof e.allState?t.allState=parseInt(e.allState,10):"number"==typeof e.allState?t.allState=e.allState:"object"===Pn(e.allState)&&(t.allState=new An.LongBits(e.allState.low>>>0,e.allState.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(An.Long){var i=new An.Long(0,0,!1);n.allState=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.allState=t.longs===String?"0":0;return null!=e.allState&&e.hasOwnProperty("allState")&&("number"==typeof e.allState?n.allState=t.longs===String?String(e.allState):e.allState:n.allState=t.longs===String?An.Long.prototype.toString.call(e.allState):t.longs===Number?new An.LongBits(e.allState.low>>>0,e.allState.high>>>0).toNumber():e.allState),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_JoinQQGroup=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_JoinQQGroup;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_JoinQQGroup?e:new En.base.C2S_JoinQQGroup},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_JoinQQGroup=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.qq="",e.prototype.show=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),t.uint32(18).string(e.qq),t.uint32(24).bool(e.show),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_JoinQQGroup;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.qq=e.string();break;case 3:i.show=e.bool();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("qq"))throw An.ProtocolError("missing required 'qq'",{instance:i});if(!i.hasOwnProperty("show"))throw An.ProtocolError("missing required 'show'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?An.isString(e.qq)?"boolean"!=typeof e.show?"show: boolean expected":null:"qq: string expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_JoinQQGroup)return e;var t=new En.base.S2C_JoinQQGroup;return null!=e.id&&(t.id=0|e.id),null!=e.qq&&(t.qq=String(e.qq)),null!=e.show&&(t.show=Boolean(e.show)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.qq="",n.show=!1),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.qq&&e.hasOwnProperty("qq")&&(n.qq=e.qq),null!=e.show&&e.hasOwnProperty("show")&&(n.show=e.show),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Cdkey=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cdkey="",e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(10).string(e.cdkey),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Cdkey;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cdkey=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cdkey"))throw An.ProtocolError("missing required 'cdkey'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isString(e.cdkey)?null:"cdkey: string expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_Cdkey)return e;var t=new En.base.C2S_Cdkey;return null!=e.cdkey&&(t.cdkey=String(e.cdkey)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cdkey=""),null!=e.cdkey&&e.hasOwnProperty("cdkey")&&(n.cdkey=e.cdkey),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Cdkey=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reward=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Cdkey;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n=En.base.ResourceMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_Cdkey)return e;var t=new En.base.S2C_Cdkey;if(e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_Cdkey.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_Cdkey.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ResourceMsg.toObject(e.reward[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Activate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.wearId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.wearId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Activate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.wearId=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("wearId"))throw An.ProtocolError("missing required 'wearId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return An.isInteger(e.wearId)?null:"wearId: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_Activate)return e;var t=new En.base.C2S_Activate;switch(e.type){case"Fudi":case 1:t.type=1;break;case"Title":case 2:t.type=2;break;case"Skin":case 3:t.type=3;break;case"FaXiang":case 4:t.type=4}return null!=e.wearId&&(t.wearId=0|e.wearId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"Fudi":1,n.wearId=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.WearType[e.type]:e.type),null!=e.wearId&&e.hasOwnProperty("wearId")&&(n.wearId=e.wearId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Activate=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.wearId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.wearId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Activate;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.wearId=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("wearId"))throw An.ProtocolError("missing required 'wearId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return An.isInteger(e.wearId)?null:"wearId: integer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_Activate)return e;var t=new En.base.S2C_Activate;switch(e.type){case"Fudi":case 1:t.type=1;break;case"Title":case 2:t.type=2;break;case"Skin":case 3:t.type=3;break;case"FaXiang":case 4:t.type=4}return null!=e.wearId&&(t.wearId=0|e.wearId),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"Fudi":1,n.wearId=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.WearType[e.type]:e.type),null!=e.wearId&&e.hasOwnProperty("wearId")&&(n.wearId=e.wearId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XiuLianLogInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.level=0,e.prototype.xiuLianTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(8).int32(e.level),null!=e.xiuLianTime&&e.hasOwnProperty("xiuLianTime")&&t.uint32(16).int64(e.xiuLianTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XiuLianLogInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.level=e.int32();break;case 2:i.xiuLianTime=e.int64();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.xiuLianTime&&e.hasOwnProperty("xiuLianTime")&&!(An.isInteger(e.xiuLianTime)||e.xiuLianTime&&An.isInteger(e.xiuLianTime.low)&&An.isInteger(e.xiuLianTime.high))?"xiuLianTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.XiuLianLogInfoPB)return e;var t=new En.base.XiuLianLogInfoPB;return null!=e.level&&(t.level=0|e.level),null!=e.xiuLianTime&&(An.Long?(t.xiuLianTime=An.Long.fromValue(e.xiuLianTime)).unsigned=!1:"string"==typeof e.xiuLianTime?t.xiuLianTime=parseInt(e.xiuLianTime,10):"number"==typeof e.xiuLianTime?t.xiuLianTime=e.xiuLianTime:"object"===Pn(e.xiuLianTime)&&(t.xiuLianTime=new An.LongBits(e.xiuLianTime.low>>>0,e.xiuLianTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults)if(n.level=0,An.Long){var i=new An.Long(0,0,!1);n.xiuLianTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.xiuLianTime=t.longs===String?"0":0;return null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.xiuLianTime&&e.hasOwnProperty("xiuLianTime")&&("number"==typeof e.xiuLianTime?n.xiuLianTime=t.longs===String?String(e.xiuLianTime):e.xiuLianTime:n.xiuLianTime=t.longs===String?An.Long.prototype.toString.call(e.xiuLianTime):t.longs===Number?new An.LongBits(e.xiuLianTime.low>>>0,e.xiuLianTime.high>>>0).toNumber():e.xiuLianTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.WearMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.wearId=0,e.prototype.wear=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),null!=e.wearId&&e.hasOwnProperty("wearId")&&t.uint32(16).int32(e.wearId),null!=e.wear&&e.hasOwnProperty("wear")&&t.uint32(24).bool(e.wear),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.WearMsg;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.wearId=e.int32();break;case 3:i.wear=e.bool();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return null!=e.wearId&&e.hasOwnProperty("wearId")&&!An.isInteger(e.wearId)?"wearId: integer expected":null!=e.wear&&e.hasOwnProperty("wear")&&"boolean"!=typeof e.wear?"wear: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.WearMsg)return e;var t=new En.base.WearMsg;switch(e.type){case"Fudi":case 1:t.type=1;break;case"Title":case 2:t.type=2;break;case"Skin":case 3:t.type=3;break;case"FaXiang":case 4:t.type=4}return null!=e.wearId&&(t.wearId=0|e.wearId),null!=e.wear&&(t.wear=Boolean(e.wear)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"Fudi":1,n.wearId=0,n.wear=!1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.WearType[e.type]:e.type),null!=e.wearId&&e.hasOwnProperty("wearId")&&(n.wearId=e.wearId),null!=e.wear&&e.hasOwnProperty("wear")&&(n.wear=e.wear),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_WearList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_WearList;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_WearList?e:new En.base.C2S_WearList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_WearList=function(){function e(e){if(this.list=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.list&&e.list.length)for(var n=0;n<e.list.length;++n)En.base.WearMsg.encode(e.list[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_WearList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.list&&i.list.length||(i.list=[]),i.list.push(En.base.WearMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.list&&e.hasOwnProperty("list")){if(!Array.isArray(e.list))return"list: array expected";for(var t=0;t<e.list.length;++t){var n=En.base.WearMsg.verify(e.list[t]);if(n)return"list."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_WearList)return e;var t=new En.base.S2C_WearList;if(e.list){if(!Array.isArray(e.list))throw TypeError(".base.S2C_WearList.list: array expected");t.list=[];for(var n=0;n<e.list.length;++n){if("object"!==Pn(e.list[n]))throw TypeError(".base.S2C_WearList.list: object expected");t.list[n]=En.base.WearMsg.fromObject(e.list[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.list=[]),e.list&&e.list.length){n.list=[];for(var i=0;i<e.list.length;++i)n.list[i]=En.base.WearMsg.toObject(e.list[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_WearSkin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.wearId=0,e.prototype.wear=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.wearId),t.uint32(24).bool(e.wear),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_WearSkin;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.wearId=e.int32();break;case 3:i.wear=e.bool();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("wearId"))throw An.ProtocolError("missing required 'wearId'",{instance:i});if(!i.hasOwnProperty("wear"))throw An.ProtocolError("missing required 'wear'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return An.isInteger(e.wearId)?"boolean"!=typeof e.wear?"wear: boolean expected":null:"wearId: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_WearSkin)return e;var t=new En.base.C2S_WearSkin;switch(e.type){case"Fudi":case 1:t.type=1;break;case"Title":case 2:t.type=2;break;case"Skin":case 3:t.type=3;break;case"FaXiang":case 4:t.type=4}return null!=e.wearId&&(t.wearId=0|e.wearId),null!=e.wear&&(t.wear=Boolean(e.wear)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"Fudi":1,n.wearId=0,n.wear=!1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.WearType[e.type]:e.type),null!=e.wearId&&e.hasOwnProperty("wearId")&&(n.wearId=e.wearId),null!=e.wear&&e.hasOwnProperty("wear")&&(n.wear=e.wear),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_WearSkin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=1,e.prototype.wearId=0,e.prototype.wear=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t.uint32(16).int32(e.wearId),t.uint32(24).bool(e.wear),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_WearSkin;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.wearId=e.int32();break;case 3:i.wear=e.bool();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("wearId"))throw An.ProtocolError("missing required 'wearId'",{instance:i});if(!i.hasOwnProperty("wear"))throw An.ProtocolError("missing required 'wear'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}return An.isInteger(e.wearId)?"boolean"!=typeof e.wear?"wear: boolean expected":null:"wearId: integer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_WearSkin)return e;var t=new En.base.S2C_WearSkin;switch(e.type){case"Fudi":case 1:t.type=1;break;case"Title":case 2:t.type=2;break;case"Skin":case 3:t.type=3;break;case"FaXiang":case 4:t.type=4}return null!=e.wearId&&(t.wearId=0|e.wearId),null!=e.wear&&(t.wear=Boolean(e.wear)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=t.enums===String?"Fudi":1,n.wearId=0,n.wear=!1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?En.base.WearType[e.type]:e.type),null!=e.wearId&&e.hasOwnProperty("wearId")&&(n.wearId=e.wearId),null!=e.wear&&e.hasOwnProperty("wear")&&(n.wear=e.wear),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Offline=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId=An.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(10).bytes(e.channelId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Offline;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.channelId=e.bytes();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("channelId"))throw An.ProtocolError("missing required 'channelId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":e.channelId&&"number"==typeof e.channelId.length||An.isString(e.channelId)?null:"channelId: buffer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_Offline)return e;var t=new En.base.C2S_Offline;return null!=e.channelId&&("string"==typeof e.channelId?An.base64.decode(e.channelId,t.channelId=An.newBuffer(An.base64.length(e.channelId)),0):e.channelId.length&&(t.channelId=e.channelId)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(t.bytes===String?n.channelId="":(n.channelId=[],t.bytes!==Array&&(n.channelId=An.newBuffer(n.channelId)))),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=t.bytes===String?An.base64.encode(e.channelId,0,e.channelId.length):t.bytes===Array?Array.prototype.slice.call(e.channelId):e.channelId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Offline=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId=An.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(10).bytes(e.channelId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Offline;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.channelId=e.bytes();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("channelId"))throw An.ProtocolError("missing required 'channelId'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":e.channelId&&"number"==typeof e.channelId.length||An.isString(e.channelId)?null:"channelId: buffer expected"},e.fromObject=function(e){if(e instanceof En.base.S2C_Offline)return e;var t=new En.base.S2C_Offline;return null!=e.channelId&&("string"==typeof e.channelId?An.base64.decode(e.channelId,t.channelId=An.newBuffer(An.base64.length(e.channelId)),0):e.channelId.length&&(t.channelId=e.channelId)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(t.bytes===String?n.channelId="":(n.channelId=[],t.bytes!==Array&&(n.channelId=An.newBuffer(n.channelId)))),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=t.bytes===String?An.base64.encode(e.channelId,0,e.channelId.length):t.bytes===Array?Array.prototype.slice.call(e.channelId):e.channelId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.WorldType=(ae={},(se=Object.create(ae))[ae[1]="Ground"]=1,se[ae[2]="Sky"]=2,se),Dn.WorldCmdType=(oe={},(re=Object.create(oe))[oe[1]="GetWorld_Cmd"]=1,re[oe[2]="ChangeWorld_Cmd"]=2,re),Dn.C2S_World=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.word=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.word&&e.hasOwnProperty("word")&&t.uint32(16).int32(e.word),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_World;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.word=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}if(null!=e.word&&e.hasOwnProperty("word"))switch(e.word){default:return"word: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_World)return e;var t=new En.base.C2S_World;switch(e.cmdType){case"GetWorld_Cmd":case 1:t.cmdType=1;break;case"ChangeWorld_Cmd":case 2:t.cmdType=2}switch(e.word){case"Ground":case 1:t.word=1;break;case"Sky":case 2:t.word=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetWorld_Cmd":1,n.word=t.enums===String?"Ground":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WorldCmdType[e.cmdType]:e.cmdType),null!=e.word&&e.hasOwnProperty("word")&&(n.word=t.enums===String?En.base.WorldType[e.word]:e.word),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_World=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.word=1,e.prototype.isFlyUp=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.word&&e.hasOwnProperty("word")&&t.uint32(16).int32(e.word),null!=e.isFlyUp&&e.hasOwnProperty("isFlyUp")&&t.uint32(24).bool(e.isFlyUp),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_World;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.word=e.int32();break;case 3:i.isFlyUp=e.bool();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}if(null!=e.word&&e.hasOwnProperty("word"))switch(e.word){default:return"word: enum value expected";case 1:case 2:}return null!=e.isFlyUp&&e.hasOwnProperty("isFlyUp")&&"boolean"!=typeof e.isFlyUp?"isFlyUp: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_World)return e;var t=new En.base.S2C_World;switch(e.cmdType){case"GetWorld_Cmd":case 1:t.cmdType=1;break;case"ChangeWorld_Cmd":case 2:t.cmdType=2}switch(e.word){case"Ground":case 1:t.word=1;break;case"Sky":case 2:t.word=2}return null!=e.isFlyUp&&(t.isFlyUp=Boolean(e.isFlyUp)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetWorld_Cmd":1,n.word=t.enums===String?"Ground":1,n.isFlyUp=!1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WorldCmdType[e.cmdType]:e.cmdType),null!=e.word&&e.hasOwnProperty("word")&&(n.word=t.enums===String?En.base.WorldType[e.word]:e.word),null!=e.isFlyUp&&e.hasOwnProperty("isFlyUp")&&(n.isFlyUp=e.isFlyUp),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_FeedBack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.content="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.content&&e.hasOwnProperty("content")&&t.uint32(10).string(e.content),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_FeedBack;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.content=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.content&&e.hasOwnProperty("content")&&!An.isString(e.content)?"content: string expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_FeedBack)return e;var t=new En.base.C2S_FeedBack;return null!=e.content&&(t.content=String(e.content)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.content=""),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_FeedBack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_FeedBack;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.S2C_FeedBack?e:new En.base.S2C_FeedBack},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_RankList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_RankList;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_RankList?e:new En.base.C2S_RankList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_RankList=function(){function e(e){if(this.rankInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rankInfo=An.emptyArray,e.prototype.received=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.rankInfo&&e.rankInfo.length)for(var n=0;n<e.rankInfo.length;++n)En.base.RankInfoPB.encode(e.rankInfo[n],t.uint32(10).fork()).ldelim();return null!=e.received&&e.hasOwnProperty("received")&&t.uint32(16).bool(e.received),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_RankList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.rankInfo&&i.rankInfo.length||(i.rankInfo=[]),i.rankInfo.push(En.base.RankInfoPB.decode(e,e.uint32()));break;case 2:i.received=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.rankInfo&&e.hasOwnProperty("rankInfo")){if(!Array.isArray(e.rankInfo))return"rankInfo: array expected";for(var t=0;t<e.rankInfo.length;++t){var n=En.base.RankInfoPB.verify(e.rankInfo[t]);if(n)return"rankInfo."+n}}return null!=e.received&&e.hasOwnProperty("received")&&"boolean"!=typeof e.received?"received: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_RankList)return e;var t=new En.base.S2C_RankList;if(e.rankInfo){if(!Array.isArray(e.rankInfo))throw TypeError(".base.S2C_RankList.rankInfo: array expected");t.rankInfo=[];for(var n=0;n<e.rankInfo.length;++n){if("object"!==Pn(e.rankInfo[n]))throw TypeError(".base.S2C_RankList.rankInfo: object expected");t.rankInfo[n]=En.base.RankInfoPB.fromObject(e.rankInfo[n])}}return null!=e.received&&(t.received=Boolean(e.received)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rankInfo=[]),t.defaults&&(n.received=!1),e.rankInfo&&e.rankInfo.length){n.rankInfo=[];for(var i=0;i<e.rankInfo.length;++i)n.rankInfo[i]=En.base.RankInfoPB.toObject(e.rankInfo[i],t)}return null!=e.received&&e.hasOwnProperty("received")&&(n.received=e.received),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.RankInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.nickName="",e.prototype.zhongZu=0,e.prototype.level=0,e.prototype.rankIndex=0,e.prototype.value=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.playerID),t.uint32(18).string(e.nickName),t.uint32(24).int32(e.zhongZu),t.uint32(32).int32(e.level),t.uint32(40).int32(e.rankIndex),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(48).int32(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.RankInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.playerID=e.int64();break;case 2:i.nickName=e.string();break;case 3:i.zhongZu=e.int32();break;case 4:i.level=e.int32();break;case 5:i.rankIndex=e.int32();break;case 6:i.value=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("playerID"))throw An.ProtocolError("missing required 'playerID'",{instance:i});if(!i.hasOwnProperty("nickName"))throw An.ProtocolError("missing required 'nickName'",{instance:i});if(!i.hasOwnProperty("zhongZu"))throw An.ProtocolError("missing required 'zhongZu'",{instance:i});if(!i.hasOwnProperty("level"))throw An.ProtocolError("missing required 'level'",{instance:i});if(!i.hasOwnProperty("rankIndex"))throw An.ProtocolError("missing required 'rankIndex'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high)?An.isString(e.nickName)?An.isInteger(e.zhongZu)?An.isInteger(e.level)?An.isInteger(e.rankIndex)?null!=e.value&&e.hasOwnProperty("value")&&!An.isInteger(e.value)?"value: integer expected":null:"rankIndex: integer expected":"level: integer expected":"zhongZu: integer expected":"nickName: string expected":"playerID: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.RankInfoPB)return e;var t=new En.base.RankInfoPB;return null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.level&&(t.level=0|e.level),null!=e.rankIndex&&(t.rankIndex=0|e.rankIndex),null!=e.value&&(t.value=0|e.value),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerID=t.longs===String?"0":0;n.nickName="",n.zhongZu=0,n.level=0,n.rankIndex=0,n.value=0}return null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.rankIndex&&e.hasOwnProperty("rankIndex")&&(n.rankIndex=e.rankIndex),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_RankReward=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_RankReward;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_RankReward?e:new En.base.C2S_RankReward},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_RankReward=function(){function e(e){if(this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reward=An.emptyArray,e.prototype.received=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.reward&&e.reward.length)for(var n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(10).fork()).ldelim();return null!=e.received&&e.hasOwnProperty("received")&&t.uint32(16).bool(e.received),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_RankReward;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 2:i.received=e.bool();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(var t=0;t<e.reward.length;++t){var n=En.base.ResourceMsg.verify(e.reward[t]);if(n)return"reward."+n}}return null!=e.received&&e.hasOwnProperty("received")&&"boolean"!=typeof e.received?"received: boolean expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_RankReward)return e;var t=new En.base.S2C_RankReward;if(e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_RankReward.reward: array expected");t.reward=[];for(var n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_RankReward.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}return null!=e.received&&(t.received=Boolean(e.received)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.reward=[]),t.defaults&&(n.received=!1),e.reward&&e.reward.length){n.reward=[];for(var i=0;i<e.reward.length;++i)n.reward[i]=En.base.ResourceMsg.toObject(e.reward[i],t)}return null!=e.received&&e.hasOwnProperty("received")&&(n.received=e.received),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_AttributeRankList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_AttributeRankList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("type"))throw An.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.type)?null:"type: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_AttributeRankList)return e;var t=new En.base.C2S_AttributeRankList;return null!=e.type&&(t.type=0|e.type),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_AttributeRankList=function(){function e(e){if(this.rankInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rankInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.rankInfo&&e.rankInfo.length)for(var n=0;n<e.rankInfo.length;++n)En.base.RankInfoPB.encode(e.rankInfo[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_AttributeRankList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.rankInfo&&i.rankInfo.length||(i.rankInfo=[]),i.rankInfo.push(En.base.RankInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.rankInfo&&e.hasOwnProperty("rankInfo")){if(!Array.isArray(e.rankInfo))return"rankInfo: array expected";for(var t=0;t<e.rankInfo.length;++t){var n=En.base.RankInfoPB.verify(e.rankInfo[t]);if(n)return"rankInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_AttributeRankList)return e;var t=new En.base.S2C_AttributeRankList;if(e.rankInfo){if(!Array.isArray(e.rankInfo))throw TypeError(".base.S2C_AttributeRankList.rankInfo: array expected");t.rankInfo=[];for(var n=0;n<e.rankInfo.length;++n){if("object"!==Pn(e.rankInfo[n]))throw TypeError(".base.S2C_AttributeRankList.rankInfo: object expected");t.rankInfo[n]=En.base.RankInfoPB.fromObject(e.rankInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rankInfo=[]),e.rankInfo&&e.rankInfo.length){n.rankInfo=[];for(var i=0;i<e.rankInfo.length;++i)n.rankInfo[i]=En.base.RankInfoPB.toObject(e.rankInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_QQun=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_QQun;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_QQun?e:new En.base.C2S_QQun},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_QQun=function(){function e(e){if(this.qQunInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.qQunInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.qQunInfo&&e.qQunInfo.length)for(var n=0;n<e.qQunInfo.length;++n)En.base.QunInfoPB.encode(e.qQunInfo[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_QQun;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.qQunInfo&&i.qQunInfo.length||(i.qQunInfo=[]),i.qQunInfo.push(En.base.QunInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.qQunInfo&&e.hasOwnProperty("qQunInfo")){if(!Array.isArray(e.qQunInfo))return"qQunInfo: array expected";for(var t=0;t<e.qQunInfo.length;++t){var n=En.base.QunInfoPB.verify(e.qQunInfo[t]);if(n)return"qQunInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_QQun)return e;var t=new En.base.S2C_QQun;if(e.qQunInfo){if(!Array.isArray(e.qQunInfo))throw TypeError(".base.S2C_QQun.qQunInfo: array expected");t.qQunInfo=[];for(var n=0;n<e.qQunInfo.length;++n){if("object"!==Pn(e.qQunInfo[n]))throw TypeError(".base.S2C_QQun.qQunInfo: object expected");t.qQunInfo[n]=En.base.QunInfoPB.fromObject(e.qQunInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.qQunInfo=[]),e.qQunInfo&&e.qQunInfo.length){n.qQunInfo=[];for(var i=0;i<e.qQunInfo.length;++i)n.qQunInfo[i]=En.base.QunInfoPB.toObject(e.qQunInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.QunInfoPB=function(){function e(e){if(this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.qunID="",e.prototype.name="",e.prototype.rewards=An.emptyArray,e.prototype.desc="",e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.id),t.uint32(18).string(e.qunID),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.rewards&&e.rewards.length)for(var n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(34).fork()).ldelim();return null!=e.desc&&e.hasOwnProperty("desc")&&t.uint32(42).string(e.desc),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.QunInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.qunID=e.string();break;case 3:i.name=e.string();break;case 4:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 5:i.desc=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("qunID"))throw An.ProtocolError("missing required 'qunID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!An.isInteger(e.id))return"id: integer expected";if(!An.isString(e.qunID))return"qunID: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name))return"name: string expected";if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(var t=0;t<e.rewards.length;++t){var n=En.base.ResourceMsg.verify(e.rewards[t]);if(n)return"rewards."+n}}return null!=e.desc&&e.hasOwnProperty("desc")&&!An.isString(e.desc)?"desc: string expected":null},e.fromObject=function(e){if(e instanceof En.base.QunInfoPB)return e;var t=new En.base.QunInfoPB;if(null!=e.id&&(t.id=0|e.id),null!=e.qunID&&(t.qunID=String(e.qunID)),null!=e.name&&(t.name=String(e.name)),e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.QunInfoPB.rewards: array expected");t.rewards=[];for(var n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.QunInfoPB.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return null!=e.desc&&(t.desc=String(e.desc)),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rewards=[]),t.defaults&&(n.id=0,n.qunID="",n.name="",n.desc=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.qunID&&e.hasOwnProperty("qunID")&&(n.qunID=e.qunID),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.rewards&&e.rewards.length){n.rewards=[];for(var i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t)}return null!=e.desc&&e.hasOwnProperty("desc")&&(n.desc=e.desc),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_MonthCardReward=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_MonthCardReward;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_MonthCardReward?e:new En.base.C2S_MonthCardReward},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_MonthCardReward=function(){function e(e){if(this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.rewards&&e.rewards.length)for(var n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_MonthCardReward;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(var t=0;t<e.rewards.length;++t){var n=En.base.ResourceMsg.verify(e.rewards[t]);if(n)return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_MonthCardReward)return e;var t=new En.base.S2C_MonthCardReward;if(e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_MonthCardReward.rewards: array expected");t.rewards=[];for(var n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_MonthCardReward.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rewards=[]),e.rewards&&e.rewards.length){n.rewards=[];for(var i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Recharge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Recharge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_Recharge)return e;var t=new En.base.C2S_Recharge;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Recharge=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Recharge;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_Recharge)return e;var t=new En.base.S2C_Recharge;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_RechargeOrder=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_RechargeOrder;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_RechargeOrder)return e;var t=new En.base.C2S_RechargeOrder;return null!=e.id&&(t.id=0|e.id),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_RechargeOrder=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.tyProdId="",e.prototype.prodPrice=0,e.prototype.prodCount=0,e.prototype.name="",e.prototype.extraProdId="",e.prototype.extraAppInfo="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).int32(e.id),null!=e.tyProdId&&e.hasOwnProperty("tyProdId")&&t.uint32(18).string(e.tyProdId),null!=e.prodPrice&&e.hasOwnProperty("prodPrice")&&t.uint32(24).int32(e.prodPrice),null!=e.prodCount&&e.hasOwnProperty("prodCount")&&t.uint32(32).int32(e.prodCount),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(42).string(e.name),null!=e.extraProdId&&e.hasOwnProperty("extraProdId")&&t.uint32(50).string(e.extraProdId),null!=e.extraAppInfo&&e.hasOwnProperty("extraAppInfo")&&t.uint32(58).string(e.extraAppInfo),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_RechargeOrder;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.tyProdId=e.string();break;case 3:i.prodPrice=e.int32();break;case 4:i.prodCount=e.int32();break;case 5:i.name=e.string();break;case 6:i.extraProdId=e.string();break;case 7:i.extraAppInfo=e.string();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id)?"id: integer expected":null!=e.tyProdId&&e.hasOwnProperty("tyProdId")&&!An.isString(e.tyProdId)?"tyProdId: string expected":null!=e.prodPrice&&e.hasOwnProperty("prodPrice")&&!An.isInteger(e.prodPrice)?"prodPrice: integer expected":null!=e.prodCount&&e.hasOwnProperty("prodCount")&&!An.isInteger(e.prodCount)?"prodCount: integer expected":null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name)?"name: string expected":null!=e.extraProdId&&e.hasOwnProperty("extraProdId")&&!An.isString(e.extraProdId)?"extraProdId: string expected":null!=e.extraAppInfo&&e.hasOwnProperty("extraAppInfo")&&!An.isString(e.extraAppInfo)?"extraAppInfo: string expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_RechargeOrder)return e;var t=new En.base.S2C_RechargeOrder;return null!=e.id&&(t.id=0|e.id),null!=e.tyProdId&&(t.tyProdId=String(e.tyProdId)),null!=e.prodPrice&&(t.prodPrice=0|e.prodPrice),null!=e.prodCount&&(t.prodCount=0|e.prodCount),null!=e.name&&(t.name=String(e.name)),null!=e.extraProdId&&(t.extraProdId=String(e.extraProdId)),null!=e.extraAppInfo&&(t.extraAppInfo=String(e.extraAppInfo)),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.tyProdId="",n.prodPrice=0,n.prodCount=0,n.name="",n.extraProdId="",n.extraAppInfo=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.tyProdId&&e.hasOwnProperty("tyProdId")&&(n.tyProdId=e.tyProdId),null!=e.prodPrice&&e.hasOwnProperty("prodPrice")&&(n.prodPrice=e.prodPrice),null!=e.prodCount&&e.hasOwnProperty("prodCount")&&(n.prodCount=e.prodCount),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.extraProdId&&e.hasOwnProperty("extraProdId")&&(n.extraProdId=e.extraProdId),null!=e.extraAppInfo&&e.hasOwnProperty("extraAppInfo")&&(n.extraAppInfo=e.extraAppInfo),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.RedDotType=(ne={},(ie=Object.create(ne))[ne[100]="Mail"]=100,ie[ne[200]="Activity"]=200,ie[ne[201]="ActivityLevel"]=201,ie[ne[202]="ActivityXiuLian"]=202,ie[ne[203]="ActivityAddUpRecharge"]=203,ie[ne[204]="ActivityDailyRecharge1"]=204,ie[ne[205]="ActivityDailyRecharge2"]=205,ie[ne[50000001]="ActivityRecource"]=50000001,ie[ne[207]="ActivityLogin"]=207,ie[ne[208]="ActivityNewYear"]=208,ie[ne[209]="ActivityInvestPlan"]=209,ie[ne[210]="ActivityDiscountShop"]=210,ie[ne[211]="ActivityTurnTable"]=211,ie[ne[222]="ActivityAddUpRecharge2"]=222,ie[ne[223]="ActivitySkin"]=223,ie[ne[224]="ActivityLimitedTimeConsume"]=224,ie[ne[51000002]="ActivityRecource2"]=51000002,ie[ne[300]="Daily"]=300,ie[ne[400]="JiYuan"]=400,ie[ne[500]="LingChi"]=500,ie[ne[600]="MenPai"]=600,ie[ne[601]="MenPaiYaoZu"]=601,ie[ne[602]="MenPaiPracticeRoom"]=602,ie[ne[603]="MenPaiTask"]=603,ie[ne[604]="MenPaiLingQuan"]=604,ie[ne[700]="DongFu"]=700,ie[ne[701]="DongFuResource"]=701,ie[ne[702]="DongFuShuGe"]=702,ie[ne[703]="DongFuQiShi"]=703,ie[ne[704]="DongFuDanDao"]=704,ie[ne[705]="DongFuLingMai"]=705,ie[ne[706]="DongFuJingMai"]=706,ie[ne[707]="DongFuQiLing"]=707,ie[ne[708]="DongFuQiLingLevel"]=708,ie[ne[709]="DongFuQiLingGift"]=709,ie[ne[800]="LiLian"]=800,ie[ne[801]="LiLianQiYu"]=801,ie[ne[802]="LiLianGoFishing"]=802,ie[ne[803]="LiLianBossFengYin"]=803,ie[ne[804]="LiLianThroughMapReward"]=804,ie[ne[805]="LiLianDiGong"]=805,ie[ne[806]="LiLianFuBen"]=806,ie[ne[807]="LiLianHuoDong"]=807,ie[ne[900]="FirstRecharge"]=900,ie[ne[1e3]="GongFa"]=1e3,ie[ne[1100]="ZongMen"]=1100,ie[ne[1101]="ZongMenWuDaoShi"]=1101,ie[ne[1102]="ZongMenWuDao"]=1102,ie[ne[1103]="ZongMenNingTi"]=1103,ie[ne[1201]="MiLing"]=1201,ie[ne[1202]="MiLingReward"]=1202,ie[ne[1203]="MiLingTask"]=1203,ie[ne[1300]="DailyRecharge"]=1300,ie[ne[1400]="MonthCardReward"]=1400,ie),Dn.RedDotCmdType=(ee={},(te=Object.create(ee))[ee[1]="GetRedDot_Cmd"]=1,te[ee[2]="UpdateRedDot_Cmd"]=2,te),Dn.C2S_RedDot=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_RedDot;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_RedDot)return e;var t=new En.base.C2S_RedDot;switch(e.cmdType){case"GetRedDot_Cmd":case 1:t.cmdType=1;break;case"UpdateRedDot_Cmd":case 2:t.cmdType=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetRedDot_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.RedDotCmdType[e.cmdType]:e.cmdType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_RedDot=function(){function e(e){if(this.redDotInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.redDotInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.redDotInfo&&e.redDotInfo.length)for(var n=0;n<e.redDotInfo.length;++n)En.base.RedDotInfoPB.encode(e.redDotInfo[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_RedDot;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.redDotInfo&&i.redDotInfo.length||(i.redDotInfo=[]),i.redDotInfo.push(En.base.RedDotInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}if(null!=e.redDotInfo&&e.hasOwnProperty("redDotInfo")){if(!Array.isArray(e.redDotInfo))return"redDotInfo: array expected";for(var t=0;t<e.redDotInfo.length;++t){var n=En.base.RedDotInfoPB.verify(e.redDotInfo[t]);if(n)return"redDotInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_RedDot)return e;var t=new En.base.S2C_RedDot;switch(e.cmdType){case"GetRedDot_Cmd":case 1:t.cmdType=1;break;case"UpdateRedDot_Cmd":case 2:t.cmdType=2}if(e.redDotInfo){if(!Array.isArray(e.redDotInfo))throw TypeError(".base.S2C_RedDot.redDotInfo: array expected");t.redDotInfo=[];for(var n=0;n<e.redDotInfo.length;++n){if("object"!==Pn(e.redDotInfo[n]))throw TypeError(".base.S2C_RedDot.redDotInfo: object expected");t.redDotInfo[n]=En.base.RedDotInfoPB.fromObject(e.redDotInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.redDotInfo=[]),t.defaults&&(n.cmdType=t.enums===String?"GetRedDot_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.RedDotCmdType[e.cmdType]:e.cmdType),e.redDotInfo&&e.redDotInfo.length){n.redDotInfo=[];for(var i=0;i<e.redDotInfo.length;++i)n.redDotInfo[i]=En.base.RedDotInfoPB.toObject(e.redDotInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.RedDotInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.show=!1,e.prototype.optionalValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),t.uint32(16).bool(e.show),null!=e.optionalValue&&e.hasOwnProperty("optionalValue")&&t.uint32(24).int32(e.optionalValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.RedDotInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.show=e.bool();break;case 3:i.optionalValue=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("show"))throw An.ProtocolError("missing required 'show'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?"boolean"!=typeof e.show?"show: boolean expected":null!=e.optionalValue&&e.hasOwnProperty("optionalValue")&&!An.isInteger(e.optionalValue)?"optionalValue: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.RedDotInfoPB)return e;var t=new En.base.RedDotInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.show&&(t.show=Boolean(e.show)),null!=e.optionalValue&&(t.optionalValue=0|e.optionalValue),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.show=!1,n.optionalValue=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.show&&e.hasOwnProperty("show")&&(n.show=e.show),null!=e.optionalValue&&e.hasOwnProperty("optionalValue")&&(n.optionalValue=e.optionalValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GetShopList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetShopList;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetShopList?e:new En.base.C2S_GetShopList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetShopList=function(){function e(e){if(this.shopInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.shopInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.shopInfo&&e.shopInfo.length)for(var n=0;n<e.shopInfo.length;++n)En.base.ShopInfoPB.encode(e.shopInfo[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetShopList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.shopInfo&&i.shopInfo.length||(i.shopInfo=[]),i.shopInfo.push(En.base.ShopInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.shopInfo&&e.hasOwnProperty("shopInfo")){if(!Array.isArray(e.shopInfo))return"shopInfo: array expected";for(var t=0;t<e.shopInfo.length;++t){var n=En.base.ShopInfoPB.verify(e.shopInfo[t]);if(n)return"shopInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_GetShopList)return e;var t=new En.base.S2C_GetShopList;if(e.shopInfo){if(!Array.isArray(e.shopInfo))throw TypeError(".base.S2C_GetShopList.shopInfo: array expected");t.shopInfo=[];for(var n=0;n<e.shopInfo.length;++n){if("object"!==Pn(e.shopInfo[n]))throw TypeError(".base.S2C_GetShopList.shopInfo: object expected");t.shopInfo[n]=En.base.ShopInfoPB.fromObject(e.shopInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.shopInfo=[]),e.shopInfo&&e.shopInfo.length){n.shopInfo=[];for(var i=0;i<e.shopInfo.length;++i)n.shopInfo[i]=En.base.ShopInfoPB.toObject(e.shopInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PurchaseGoods=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.shopType=0,e.prototype.layer=0,e.prototype.goodsID=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.shopType),t.uint32(16).int32(e.layer),t.uint32(24).int32(e.goodsID),t.uint32(32).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PurchaseGoods;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.shopType=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.goodsID=e.int32();break;case 4:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("shopType"))throw An.ProtocolError("missing required 'shopType'",{instance:i});if(!i.hasOwnProperty("layer"))throw An.ProtocolError("missing required 'layer'",{instance:i});if(!i.hasOwnProperty("goodsID"))throw An.ProtocolError("missing required 'goodsID'",{instance:i});if(!i.hasOwnProperty("count"))throw An.ProtocolError("missing required 'count'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.shopType)?An.isInteger(e.layer)?An.isInteger(e.goodsID)?An.isInteger(e.count)?null:"count: integer expected":"goodsID: integer expected":"layer: integer expected":"shopType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_PurchaseGoods)return e;var t=new En.base.C2S_PurchaseGoods;return null!=e.shopType&&(t.shopType=0|e.shopType),null!=e.layer&&(t.layer=0|e.layer),null!=e.goodsID&&(t.goodsID=0|e.goodsID),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.shopType=0,n.layer=0,n.goodsID=0,n.count=0),null!=e.shopType&&e.hasOwnProperty("shopType")&&(n.shopType=e.shopType),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.goodsID&&e.hasOwnProperty("goodsID")&&(n.goodsID=e.goodsID),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PurchaseGoods=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.shopInfo=null,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),En.base.ShopInfoPB.encode(e.shopInfo,t.uint32(10).fork()).ldelim(),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PurchaseGoods;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.shopInfo=En.base.ShopInfoPB.decode(e,e.uint32());break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("shopInfo"))throw An.ProtocolError("missing required 'shopInfo'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";var t=En.base.ShopInfoPB.verify(e.shopInfo);return t?"shopInfo."+t:null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_PurchaseGoods)return e;var t=new En.base.S2C_PurchaseGoods;if(null!=e.shopInfo){if("object"!==Pn(e.shopInfo))throw TypeError(".base.S2C_PurchaseGoods.shopInfo: object expected");t.shopInfo=En.base.ShopInfoPB.fromObject(e.shopInfo)}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.shopInfo=null,n.count=0),null!=e.shopInfo&&e.hasOwnProperty("shopInfo")&&(n.shopInfo=En.base.ShopInfoPB.toObject(e.shopInfo,t)),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_HeiShi=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.selectItemID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.selectItemID&&e.hasOwnProperty("selectItemID")&&t.uint32(16).int32(e.selectItemID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_HeiShi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.selectItemID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null!=e.selectItemID&&e.hasOwnProperty("selectItemID")&&!An.isInteger(e.selectItemID)?"selectItemID: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_HeiShi)return e;var t=new En.base.C2S_HeiShi;switch(e.cmdType){case"EnterHeiShi_Cmd":case 1:t.cmdType=1;break;case"SelectShop_Cmd":case 2:t.cmdType=2;break;case"Reconnect_Cmd":case 3:t.cmdType=3}return null!=e.selectItemID&&(t.selectItemID=0|e.selectItemID),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"EnterHeiShi_Cmd":1,n.selectItemID=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.HeiShiCmdType[e.cmdType]:e.cmdType),null!=e.selectItemID&&e.hasOwnProperty("selectItemID")&&(n.selectItemID=e.selectItemID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_HeiShi=function(){function e(e){if(this.heiShiList=[],this.reward=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.heiShiList=An.emptyArray,e.prototype.reward=An.emptyArray,e.prototype.heiShiConsume=null,e.prototype.countDown=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.gameState=0,e.prototype.selectItemID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.heiShiList&&e.heiShiList.length)for(var n=0;n<e.heiShiList.length;++n)t.uint32(16).int32(e.heiShiList[n]);if(null!=e.reward&&e.reward.length)for(n=0;n<e.reward.length;++n)En.base.ResourceMsg.encode(e.reward[n],t.uint32(26).fork()).ldelim();return null!=e.heiShiConsume&&e.hasOwnProperty("heiShiConsume")&&En.base.HeiShiConsumeInfoPB.encode(e.heiShiConsume,t.uint32(34).fork()).ldelim(),null!=e.countDown&&e.hasOwnProperty("countDown")&&t.uint32(40).int64(e.countDown),null!=e.gameState&&e.hasOwnProperty("gameState")&&t.uint32(48).int32(e.gameState),null!=e.selectItemID&&e.hasOwnProperty("selectItemID")&&t.uint32(56).int32(e.selectItemID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_HeiShi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:if(i.heiShiList&&i.heiShiList.length||(i.heiShiList=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.heiShiList.push(e.int32());else i.heiShiList.push(e.int32());break;case 3:i.reward&&i.reward.length||(i.reward=[]),i.reward.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 4:i.heiShiConsume=En.base.HeiShiConsumeInfoPB.decode(e,e.uint32());break;case 5:i.countDown=e.int64();break;case 6:i.gameState=e.int32();break;case 7:i.selectItemID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.heiShiList&&e.hasOwnProperty("heiShiList")){if(!Array.isArray(e.heiShiList))return"heiShiList: array expected";for(var t=0;t<e.heiShiList.length;++t)if(!An.isInteger(e.heiShiList[t]))return"heiShiList: integer[] expected"}if(null!=e.reward&&e.hasOwnProperty("reward")){if(!Array.isArray(e.reward))return"reward: array expected";for(t=0;t<e.reward.length;++t)if(n=En.base.ResourceMsg.verify(e.reward[t]))return"reward."+n}var n;return null!=e.heiShiConsume&&e.hasOwnProperty("heiShiConsume")&&(n=En.base.HeiShiConsumeInfoPB.verify(e.heiShiConsume))?"heiShiConsume."+n:null!=e.countDown&&e.hasOwnProperty("countDown")&&!(An.isInteger(e.countDown)||e.countDown&&An.isInteger(e.countDown.low)&&An.isInteger(e.countDown.high))?"countDown: integer|Long expected":null!=e.gameState&&e.hasOwnProperty("gameState")&&!An.isInteger(e.gameState)?"gameState: integer expected":null!=e.selectItemID&&e.hasOwnProperty("selectItemID")&&!An.isInteger(e.selectItemID)?"selectItemID: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_HeiShi)return e;var t=new En.base.S2C_HeiShi;switch(e.cmdType){case"EnterHeiShi_Cmd":case 1:t.cmdType=1;break;case"SelectShop_Cmd":case 2:t.cmdType=2;break;case"Reconnect_Cmd":case 3:t.cmdType=3}if(e.heiShiList){if(!Array.isArray(e.heiShiList))throw TypeError(".base.S2C_HeiShi.heiShiList: array expected");t.heiShiList=[];for(var n=0;n<e.heiShiList.length;++n)t.heiShiList[n]=0|e.heiShiList[n]}if(e.reward){if(!Array.isArray(e.reward))throw TypeError(".base.S2C_HeiShi.reward: array expected");for(t.reward=[],n=0;n<e.reward.length;++n){if("object"!==Pn(e.reward[n]))throw TypeError(".base.S2C_HeiShi.reward: object expected");t.reward[n]=En.base.ResourceMsg.fromObject(e.reward[n])}}if(null!=e.heiShiConsume){if("object"!==Pn(e.heiShiConsume))throw TypeError(".base.S2C_HeiShi.heiShiConsume: object expected");t.heiShiConsume=En.base.HeiShiConsumeInfoPB.fromObject(e.heiShiConsume)}return null!=e.countDown&&(An.Long?(t.countDown=An.Long.fromValue(e.countDown)).unsigned=!1:"string"==typeof e.countDown?t.countDown=parseInt(e.countDown,10):"number"==typeof e.countDown?t.countDown=e.countDown:"object"===Pn(e.countDown)&&(t.countDown=new An.LongBits(e.countDown.low>>>0,e.countDown.high>>>0).toNumber())),null!=e.gameState&&(t.gameState=0|e.gameState),null!=e.selectItemID&&(t.selectItemID=0|e.selectItemID),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.heiShiList=[],n.reward=[]),t.defaults){if(n.cmdType=t.enums===String?"EnterHeiShi_Cmd":1,n.heiShiConsume=null,An.Long){var i=new An.Long(0,0,!1);n.countDown=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.countDown=t.longs===String?"0":0;n.gameState=0,n.selectItemID=0}if(null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.HeiShiCmdType[e.cmdType]:e.cmdType),e.heiShiList&&e.heiShiList.length){n.heiShiList=[];for(var o=0;o<e.heiShiList.length;++o)n.heiShiList[o]=e.heiShiList[o]}if(e.reward&&e.reward.length)for(n.reward=[],o=0;o<e.reward.length;++o)n.reward[o]=En.base.ResourceMsg.toObject(e.reward[o],t);return null!=e.heiShiConsume&&e.hasOwnProperty("heiShiConsume")&&(n.heiShiConsume=En.base.HeiShiConsumeInfoPB.toObject(e.heiShiConsume,t)),null!=e.countDown&&e.hasOwnProperty("countDown")&&("number"==typeof e.countDown?n.countDown=t.longs===String?String(e.countDown):e.countDown:n.countDown=t.longs===String?An.Long.prototype.toString.call(e.countDown):t.longs===Number?new An.LongBits(e.countDown.low>>>0,e.countDown.high>>>0).toNumber():e.countDown),null!=e.gameState&&e.hasOwnProperty("gameState")&&(n.gameState=e.gameState),null!=e.selectItemID&&e.hasOwnProperty("selectItemID")&&(n.selectItemID=e.selectItemID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_XiJie=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.layer=0,e.prototype.npcIndex=0,e.prototype.xiJieType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.layer&&e.hasOwnProperty("layer")&&t.uint32(16).int32(e.layer),null!=e.npcIndex&&e.hasOwnProperty("npcIndex")&&t.uint32(24).int32(e.npcIndex),t.uint32(32).int32(e.xiJieType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_XiJie;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.type=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.npcIndex=e.int32();break;case 4:i.xiJieType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xiJieType"))throw An.ProtocolError("missing required 'xiJieType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!An.isInteger(e.type))return"type: integer expected";if(null!=e.layer&&e.hasOwnProperty("layer")&&!An.isInteger(e.layer))return"layer: integer expected";if(null!=e.npcIndex&&e.hasOwnProperty("npcIndex")&&!An.isInteger(e.npcIndex))return"npcIndex: integer expected";switch(e.xiJieType){default:return"xiJieType: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_XiJie)return e;var t=new En.base.C2S_XiJie;switch(null!=e.type&&(t.type=0|e.type),null!=e.layer&&(t.layer=0|e.layer),null!=e.npcIndex&&(t.npcIndex=0|e.npcIndex),e.xiJieType){case"Robbery":case 1:t.xiJieType=1;break;case"Help":case 2:t.xiJieType=2}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=0,n.layer=0,n.npcIndex=0,n.xiJieType=t.enums===String?"Robbery":1),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.npcIndex&&e.hasOwnProperty("npcIndex")&&(n.npcIndex=e.npcIndex),null!=e.xiJieType&&e.hasOwnProperty("xiJieType")&&(n.xiJieType=t.enums===String?En.base.XiJieType[e.xiJieType]:e.xiJieType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_XiJie=function(){function e(e){if(this.resource=[],this.npcID=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=null,e.prototype.resource=An.emptyArray,e.prototype.npcID=An.emptyArray,e.prototype.xiJieType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.result&&e.hasOwnProperty("result")&&En.base.FightResultMsg.encode(e.result,t.uint32(10).fork()).ldelim(),null!=e.resource&&e.resource.length)for(var n=0;n<e.resource.length;++n)En.base.ResourceMsg.encode(e.resource[n],t.uint32(18).fork()).ldelim();if(null!=e.npcID&&e.npcID.length)for(n=0;n<e.npcID.length;++n)t.uint32(24).int32(e.npcID[n]);return t.uint32(32).int32(e.xiJieType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_XiJie;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.result=En.base.FightResultMsg.decode(e,e.uint32());break;case 2:i.resource&&i.resource.length||(i.resource=[]),i.resource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 3:if(i.npcID&&i.npcID.length||(i.npcID=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.npcID.push(e.int32());else i.npcID.push(e.int32());break;case 4:i.xiJieType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xiJieType"))throw An.ProtocolError("missing required 'xiJieType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.result&&e.hasOwnProperty("result")&&(n=En.base.FightResultMsg.verify(e.result)))return"result."+n;if(null!=e.resource&&e.hasOwnProperty("resource")){if(!Array.isArray(e.resource))return"resource: array expected";for(var t=0;t<e.resource.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.resource[t]))return"resource."+n}}if(null!=e.npcID&&e.hasOwnProperty("npcID")){if(!Array.isArray(e.npcID))return"npcID: array expected";for(t=0;t<e.npcID.length;++t)if(!An.isInteger(e.npcID[t]))return"npcID: integer[] expected"}switch(e.xiJieType){default:return"xiJieType: enum value expected";case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_XiJie)return e;var t=new En.base.S2C_XiJie;if(null!=e.result){if("object"!==Pn(e.result))throw TypeError(".base.S2C_XiJie.result: object expected");t.result=En.base.FightResultMsg.fromObject(e.result)}if(e.resource){if(!Array.isArray(e.resource))throw TypeError(".base.S2C_XiJie.resource: array expected");t.resource=[];for(var n=0;n<e.resource.length;++n){if("object"!==Pn(e.resource[n]))throw TypeError(".base.S2C_XiJie.resource: object expected");t.resource[n]=En.base.ResourceMsg.fromObject(e.resource[n])}}if(e.npcID){if(!Array.isArray(e.npcID))throw TypeError(".base.S2C_XiJie.npcID: array expected");for(t.npcID=[],n=0;n<e.npcID.length;++n)t.npcID[n]=0|e.npcID[n]}switch(e.xiJieType){case"Robbery":case 1:t.xiJieType=1;break;case"Help":case 2:t.xiJieType=2}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.resource=[],n.npcID=[]),t.defaults&&(n.result=null,n.xiJieType=t.enums===String?"Robbery":1),null!=e.result&&e.hasOwnProperty("result")&&(n.result=En.base.FightResultMsg.toObject(e.result,t)),e.resource&&e.resource.length){n.resource=[];for(var i=0;i<e.resource.length;++i)n.resource[i]=En.base.ResourceMsg.toObject(e.resource[i],t)}if(e.npcID&&e.npcID.length)for(n.npcID=[],i=0;i<e.npcID.length;++i)n.npcID[i]=e.npcID[i];return null!=e.xiJieType&&e.hasOwnProperty("xiJieType")&&(n.xiJieType=t.enums===String?En.base.XiJieType[e.xiJieType]:e.xiJieType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ShopType=(K={},($=Object.create(K))[K[1]="LingBaoGe"]=1,$[K[2]="CangShuGe"]=2,$[K[3]="XianYuGe"]=3,$[K[4]="WeiWangGe"]=4,$[K[5]="Recharge"]=5,$),Dn.ShopStateType=(V={},(z=Object.create(V))[V[-1]="AlreaStudy"]=-1,z[V[0]="Normal"]=0,z),Dn.ShopInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.shopType=0,e.prototype.layer=0,e.prototype.goodsID=0,e.prototype.remainCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.shopType),t.uint32(16).int32(e.layer),t.uint32(24).int32(e.goodsID),t.uint32(32).int32(e.remainCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ShopInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.shopType=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.goodsID=e.int32();break;case 4:i.remainCount=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("shopType"))throw An.ProtocolError("missing required 'shopType'",{instance:i});if(!i.hasOwnProperty("layer"))throw An.ProtocolError("missing required 'layer'",{instance:i});if(!i.hasOwnProperty("goodsID"))throw An.ProtocolError("missing required 'goodsID'",{instance:i});if(!i.hasOwnProperty("remainCount"))throw An.ProtocolError("missing required 'remainCount'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.shopType)?An.isInteger(e.layer)?An.isInteger(e.goodsID)?An.isInteger(e.remainCount)?null:"remainCount: integer expected":"goodsID: integer expected":"layer: integer expected":"shopType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.ShopInfoPB)return e;var t=new En.base.ShopInfoPB;return null!=e.shopType&&(t.shopType=0|e.shopType),null!=e.layer&&(t.layer=0|e.layer),null!=e.goodsID&&(t.goodsID=0|e.goodsID),null!=e.remainCount&&(t.remainCount=0|e.remainCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.shopType=0,n.layer=0,n.goodsID=0,n.remainCount=0),null!=e.shopType&&e.hasOwnProperty("shopType")&&(n.shopType=e.shopType),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.goodsID&&e.hasOwnProperty("goodsID")&&(n.goodsID=e.goodsID),null!=e.remainCount&&e.hasOwnProperty("remainCount")&&(n.remainCount=e.remainCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.HeiShiCmdType=(Y={},(Q=Object.create(Y))[Y[1]="EnterHeiShi_Cmd"]=1,Q[Y[2]="SelectShop_Cmd"]=2,Q[Y[3]="Reconnect_Cmd"]=3,Q),Dn.HeiShiGameState=(q={},(J=Object.create(q))[q[1]="Select"]=1,J[q[2]="Stop"]=2,J),Dn.HeiShiConsumeInfoPB=function(){function e(e){if(this.resource=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.avaliableLevel=!1,e.prototype.avaliableCount=0,e.prototype.resource=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).bool(e.avaliableLevel),t.uint32(16).int32(e.avaliableCount),null!=e.resource&&e.resource.length)for(var n=0;n<e.resource.length;++n)En.base.ResourceMsg.encode(e.resource[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.HeiShiConsumeInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.avaliableLevel=e.bool();break;case 2:i.avaliableCount=e.int32();break;case 3:i.resource&&i.resource.length||(i.resource=[]),i.resource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("avaliableLevel"))throw An.ProtocolError("missing required 'avaliableLevel'",{instance:i});if(!i.hasOwnProperty("avaliableCount"))throw An.ProtocolError("missing required 'avaliableCount'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if("boolean"!=typeof e.avaliableLevel)return"avaliableLevel: boolean expected";if(!An.isInteger(e.avaliableCount))return"avaliableCount: integer expected";if(null!=e.resource&&e.hasOwnProperty("resource")){if(!Array.isArray(e.resource))return"resource: array expected";for(var t=0;t<e.resource.length;++t){var n=En.base.ResourceMsg.verify(e.resource[t]);if(n)return"resource."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.HeiShiConsumeInfoPB)return e;var t=new En.base.HeiShiConsumeInfoPB;if(null!=e.avaliableLevel&&(t.avaliableLevel=Boolean(e.avaliableLevel)),null!=e.avaliableCount&&(t.avaliableCount=0|e.avaliableCount),e.resource){if(!Array.isArray(e.resource))throw TypeError(".base.HeiShiConsumeInfoPB.resource: array expected");t.resource=[];for(var n=0;n<e.resource.length;++n){if("object"!==Pn(e.resource[n]))throw TypeError(".base.HeiShiConsumeInfoPB.resource: object expected");t.resource[n]=En.base.ResourceMsg.fromObject(e.resource[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.resource=[]),t.defaults&&(n.avaliableLevel=!1,n.avaliableCount=0),null!=e.avaliableLevel&&e.hasOwnProperty("avaliableLevel")&&(n.avaliableLevel=e.avaliableLevel),null!=e.avaliableCount&&e.hasOwnProperty("avaliableCount")&&(n.avaliableCount=e.avaliableCount),e.resource&&e.resource.length){n.resource=[];for(var i=0;i<e.resource.length;++i)n.resource[i]=En.base.ResourceMsg.toObject(e.resource[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XiJieType=(X={},(Z=Object.create(X))[X[1]="Robbery"]=1,Z[X[2]="Help"]=2,Z),Dn.TimeResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.hour=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.hour&&e.hasOwnProperty("hour")&&t.uint32(8).int32(e.hour),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.TimeResponse;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.hour=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.hour&&e.hasOwnProperty("hour")&&!An.isInteger(e.hour)?"hour: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.TimeResponse)return e;var t=new En.base.TimeResponse;return null!=e.hour&&(t.hour=0|e.hour),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.hour=0),null!=e.hour&&e.hasOwnProperty("hour")&&(n.hour=e.hour),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PopUpMsg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PopUpMsg;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_PopUpMsg?e:new En.base.C2S_PopUpMsg},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_WaBao=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(16).int32(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_WaBao;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.index=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null!=e.index&&e.hasOwnProperty("index")&&!An.isInteger(e.index)?"index: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_WaBao)return e;var t=new En.base.C2S_WaBao;switch(e.cmdType){case"GetWaBaoInfo_Cmd":case 1:t.cmdType=1;break;case"EnterMap":case 2:t.cmdType=2;break;case"Reward":case 3:t.cmdType=3}return null!=e.index&&(t.index=0|e.index),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetWaBaoInfo_Cmd":1,n.index=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WaBaoCmdType[e.cmdType]:e.cmdType),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_WaBao=function(){function e(e){if(this.position=[],this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.treasureMapType=0,e.prototype.position=An.emptyArray,e.prototype.result=!1,e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.treasureMapType&&e.hasOwnProperty("treasureMapType")&&t.uint32(16).int32(e.treasureMapType),null!=e.position&&e.position.length)for(var n=0;n<e.position.length;++n)t.uint32(24).int32(e.position[n]);if(null!=e.result&&e.hasOwnProperty("result")&&t.uint32(32).bool(e.result),null!=e.rewards&&e.rewards.length)for(n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_WaBao;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.treasureMapType=e.int32();break;case 3:if(i.position&&i.position.length||(i.position=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.position.push(e.int32());else i.position.push(e.int32());break;case 4:i.result=e.bool();break;case 5:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.treasureMapType&&e.hasOwnProperty("treasureMapType")&&!An.isInteger(e.treasureMapType))return"treasureMapType: integer expected";if(null!=e.position&&e.hasOwnProperty("position")){if(!Array.isArray(e.position))return"position: array expected";for(var t=0;t<e.position.length;++t)if(!An.isInteger(e.position[t]))return"position: integer[] expected"}if(null!=e.result&&e.hasOwnProperty("result")&&"boolean"!=typeof e.result)return"result: boolean expected";if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(t=0;t<e.rewards.length;++t){var n=En.base.ResourceMsg.verify(e.rewards[t]);if(n)return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_WaBao)return e;var t=new En.base.S2C_WaBao;switch(e.cmdType){case"GetWaBaoInfo_Cmd":case 1:t.cmdType=1;break;case"EnterMap":case 2:t.cmdType=2;break;case"Reward":case 3:t.cmdType=3}if(null!=e.treasureMapType&&(t.treasureMapType=0|e.treasureMapType),e.position){if(!Array.isArray(e.position))throw TypeError(".base.S2C_WaBao.position: array expected");t.position=[];for(var n=0;n<e.position.length;++n)t.position[n]=0|e.position[n]}if(null!=e.result&&(t.result=Boolean(e.result)),e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_WaBao.rewards: array expected");for(t.rewards=[],n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_WaBao.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.position=[],n.rewards=[]),t.defaults&&(n.cmdType=t.enums===String?"GetWaBaoInfo_Cmd":1,n.treasureMapType=0,n.result=!1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WaBaoCmdType[e.cmdType]:e.cmdType),null!=e.treasureMapType&&e.hasOwnProperty("treasureMapType")&&(n.treasureMapType=e.treasureMapType),e.position&&e.position.length){n.position=[];for(var i=0;i<e.position.length;++i)n.position[i]=e.position[i]}if(null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),e.rewards&&e.rewards.length)for(n.rewards=[],i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.WaBaoCmdType=(U={},(H=Object.create(U))[U[1]="GetWaBaoInfo_Cmd"]=1,H[U[2]="EnterMap"]=2,H[U[3]="Reward"]=3,H),Dn.WeChatFollowCmdType=(W={},(j=Object.create(W))[W[1]="GetFollow_Cmd"]=1,j[W[2]="Follow_Cmd"]=2,j[W[3]="Reveived_Cmd"]=3,j),Dn.C2S_WeChatFollow=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_WeChatFollow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_WeChatFollow)return e;var t=new En.base.C2S_WeChatFollow;switch(e.cmdType){case"GetFollow_Cmd":case 1:t.cmdType=1;break;case"Follow_Cmd":case 2:t.cmdType=2;break;case"Reveived_Cmd":case 3:t.cmdType=3}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetFollow_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WeChatFollowCmdType[e.cmdType]:e.cmdType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_WeChatFollow=function(){function e(e){if(this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.followState=0,e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.followState&&e.hasOwnProperty("followState")&&t.uint32(16).int32(e.followState),null!=e.rewards&&e.rewards.length)for(var n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_WeChatFollow;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.followState=e.int32();break;case 3:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.followState&&e.hasOwnProperty("followState")&&!An.isInteger(e.followState))return"followState: integer expected";if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(var t=0;t<e.rewards.length;++t){var n=En.base.ResourceMsg.verify(e.rewards[t]);if(n)return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_WeChatFollow)return e;var t=new En.base.S2C_WeChatFollow;switch(e.cmdType){case"GetFollow_Cmd":case 1:t.cmdType=1;break;case"Follow_Cmd":case 2:t.cmdType=2;break;case"Reveived_Cmd":case 3:t.cmdType=3}if(null!=e.followState&&(t.followState=0|e.followState),e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_WeChatFollow.rewards: array expected");t.rewards=[];for(var n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_WeChatFollow.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rewards=[]),t.defaults&&(n.cmdType=t.enums===String?"GetFollow_Cmd":1,n.followState=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WeChatFollowCmdType[e.cmdType]:e.cmdType),null!=e.followState&&e.hasOwnProperty("followState")&&(n.followState=e.followState),e.rewards&&e.rewards.length){n.rewards=[];for(var i=0;i<e.rewards.length;++i)n.rewards[i]=En.base.ResourceMsg.toObject(e.rewards[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.FollowStateType=(F={},(G=Object.create(F))[F[1]="None"]=1,G[F[2]="Followed"]=2,G[F[3]="Finished"]=3,G),Dn.WeChatShareCmdType=(A={},(E=Object.create(A))[A[1]="GetShare_Cmd"]=1,E[A[2]="Share_Cmd"]=2,E[A[3]="Reveived_Cmd"]=3,E),Dn.C2S_WeChatShare=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_WeChatShare;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof En.base.C2S_WeChatShare)return e;var t=new En.base.C2S_WeChatShare;switch(e.cmdType){case"GetShare_Cmd":case 1:t.cmdType=1;break;case"Share_Cmd":case 2:t.cmdType=2;break;case"Reveived_Cmd":case 3:t.cmdType=3}return t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetShare_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WeChatShareCmdType[e.cmdType]:e.cmdType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_WeChatShare=function(){function e(e){if(this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.id=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.received=!1,e.prototype.rewards=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).int32(e.id),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(24).int64(e.endTime),null!=e.received&&e.hasOwnProperty("received")&&t.uint32(32).bool(e.received),null!=e.rewards&&e.rewards.length)for(var n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_WeChatShare;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.id=e.int32();break;case 3:i.endTime=e.int64();break;case 4:i.received=e.bool();break;case 5:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.id&&e.hasOwnProperty("id")&&!An.isInteger(e.id))return"id: integer expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.received&&e.hasOwnProperty("received")&&"boolean"!=typeof e.received)return"received: boolean expected";if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(var t=0;t<e.rewards.length;++t){var n=En.base.ResourceMsg.verify(e.rewards[t]);if(n)return"rewards."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_WeChatShare)return e;var t=new En.base.S2C_WeChatShare;switch(e.cmdType){case"GetShare_Cmd":case 1:t.cmdType=1;break;case"Share_Cmd":case 2:t.cmdType=2;break;case"Reveived_Cmd":case 3:t.cmdType=3}if(null!=e.id&&(t.id=0|e.id),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),null!=e.received&&(t.received=Boolean(e.received)),e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_WeChatShare.rewards: array expected");t.rewards=[];for(var n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_WeChatShare.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rewards=[]),t.defaults){if(n.cmdType=t.enums===String?"GetShare_Cmd":1,n.id=0,An.Long){var i=new An.Long(0,0,!1);n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endTime=t.longs===String?"0":0;n.received=!1}if(null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.WeChatShareCmdType[e.cmdType]:e.cmdType),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),null!=e.received&&e.hasOwnProperty("received")&&(n.received=e.received),e.rewards&&e.rewards.length){n.rewards=[];for(var o=0;o<e.rewards.length;++o)n.rewards[o]=En.base.ResourceMsg.toObject(e.rewards[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_Wudao=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_Wudao;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_Wudao?e:new En.base.C2S_Wudao},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_Wudao=function(){function e(e){if(this.attr=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.level=0,e.prototype.time=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.attr=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(8).int32(e.level),null!=e.time&&e.hasOwnProperty("time")&&t.uint32(16).int64(e.time),null!=e.attr&&e.attr.length)for(var n=0;n<e.attr.length;++n)t.uint32(24).int32(e.attr[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_Wudao;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.level=e.int32();break;case 2:i.time=e.int64();break;case 3:if(i.attr&&i.attr.length||(i.attr=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.attr.push(e.int32());else i.attr.push(e.int32());break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level))return"level: integer expected";if(null!=e.time&&e.hasOwnProperty("time")&&!(An.isInteger(e.time)||e.time&&An.isInteger(e.time.low)&&An.isInteger(e.time.high)))return"time: integer|Long expected";if(null!=e.attr&&e.hasOwnProperty("attr")){if(!Array.isArray(e.attr))return"attr: array expected";for(var t=0;t<e.attr.length;++t)if(!An.isInteger(e.attr[t]))return"attr: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_Wudao)return e;var t=new En.base.S2C_Wudao;if(null!=e.level&&(t.level=0|e.level),null!=e.time&&(An.Long?(t.time=An.Long.fromValue(e.time)).unsigned=!1:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"===Pn(e.time)&&(t.time=new An.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber())),e.attr){if(!Array.isArray(e.attr))throw TypeError(".base.S2C_Wudao.attr: array expected");t.attr=[];for(var n=0;n<e.attr.length;++n)t.attr[n]=0|e.attr[n]}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.attr=[]),t.defaults)if(n.level=0,An.Long){var i=new An.Long(0,0,!1);n.time=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.time=t.longs===String?"0":0;if(null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?An.Long.prototype.toString.call(e.time):t.longs===Number?new An.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber():e.time),e.attr&&e.attr.length){n.attr=[];for(var o=0;o<e.attr.length;++o)n.attr[o]=e.attr[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_UpgradeWudao=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_UpgradeWudao;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_UpgradeWudao?e:new En.base.C2S_UpgradeWudao},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_UpgradeWudao=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.level=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(8).int32(e.level),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_UpgradeWudao;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.level=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_UpgradeWudao)return e;var t=new En.base.S2C_UpgradeWudao;return null!=e.level&&(t.level=0|e.level),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.level=0),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_UpgradeWudaoAttr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(8).int32(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_UpgradeWudaoAttr;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.index=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.index&&e.hasOwnProperty("index")&&!An.isInteger(e.index)?"index: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_UpgradeWudaoAttr)return e;var t=new En.base.C2S_UpgradeWudaoAttr;return null!=e.index&&(t.index=0|e.index),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.index=0),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_UpgradeWudaoAttr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.level=0,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(8).int32(e.level),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(16).int32(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_UpgradeWudaoAttr;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.level=e.int32();break;case 2:i.index=e.int32();break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.index&&e.hasOwnProperty("index")&&!An.isInteger(e.index)?"index: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_UpgradeWudaoAttr)return e;var t=new En.base.S2C_UpgradeWudaoAttr;return null!=e.level&&(t.level=0|e.level),null!=e.index&&(t.index=0|e.index),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.level=0,n.index=0),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_GetXianFangList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create()},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_GetXianFangList;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof En.base.C2S_GetXianFangList?e:new En.base.C2S_GetXianFangList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_GetXianFangList=function(){function e(e){if(this.xianFangInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xianFangInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t=t||Rn.create(),null!=e.xianFangInfo&&e.xianFangInfo.length)for(var n=0;n<e.xianFangInfo.length;++n)En.base.XianFangInfoPB.encode(e.xianFangInfo[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_GetXianFangList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xianFangInfo&&i.xianFangInfo.length||(i.xianFangInfo=[]),i.xianFangInfo.push(En.base.XianFangInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(null!=e.xianFangInfo&&e.hasOwnProperty("xianFangInfo")){if(!Array.isArray(e.xianFangInfo))return"xianFangInfo: array expected";for(var t=0;t<e.xianFangInfo.length;++t){var n=En.base.XianFangInfoPB.verify(e.xianFangInfo[t]);if(n)return"xianFangInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_GetXianFangList)return e;var t=new En.base.S2C_GetXianFangList;if(e.xianFangInfo){if(!Array.isArray(e.xianFangInfo))throw TypeError(".base.S2C_GetXianFangList.xianFangInfo: array expected");t.xianFangInfo=[];for(var n=0;n<e.xianFangInfo.length;++n){if("object"!==Pn(e.xianFangInfo[n]))throw TypeError(".base.S2C_GetXianFangList.xianFangInfo: object expected");t.xianFangInfo[n]=En.base.XianFangInfoPB.fromObject(e.xianFangInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.xianFangInfo=[]),e.xianFangInfo&&e.xianFangInfo.length){n.xianFangInfo=[];for(var i=0;i<e.xianFangInfo.length;++i)n.xianFangInfo[i]=En.base.XianFangInfoPB.toObject(e.xianFangInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_PurchaseXianFangGoods=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xianFangType=0,e.prototype.layer=0,e.prototype.goodsID=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.xianFangType),t.uint32(16).int32(e.layer),t.uint32(24).int32(e.goodsID),t.uint32(32).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_PurchaseXianFangGoods;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xianFangType=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.goodsID=e.int32();break;case 4:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xianFangType"))throw An.ProtocolError("missing required 'xianFangType'",{instance:i});if(!i.hasOwnProperty("layer"))throw An.ProtocolError("missing required 'layer'",{instance:i});if(!i.hasOwnProperty("goodsID"))throw An.ProtocolError("missing required 'goodsID'",{instance:i});if(!i.hasOwnProperty("count"))throw An.ProtocolError("missing required 'count'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.xianFangType)?An.isInteger(e.layer)?An.isInteger(e.goodsID)?An.isInteger(e.count)?null:"count: integer expected":"goodsID: integer expected":"layer: integer expected":"xianFangType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.C2S_PurchaseXianFangGoods)return e;var t=new En.base.C2S_PurchaseXianFangGoods;return null!=e.xianFangType&&(t.xianFangType=0|e.xianFangType),null!=e.layer&&(t.layer=0|e.layer),null!=e.goodsID&&(t.goodsID=0|e.goodsID),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.xianFangType=0,n.layer=0,n.goodsID=0,n.count=0),null!=e.xianFangType&&e.hasOwnProperty("xianFangType")&&(n.xianFangType=e.xianFangType),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.goodsID&&e.hasOwnProperty("goodsID")&&(n.goodsID=e.goodsID),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_PurchaseXianFangGoods=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xianFangInfo=null,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t=t||Rn.create(),En.base.XianFangInfoPB.encode(e.xianFangInfo,t.uint32(10).fork()).ldelim(),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_PurchaseXianFangGoods;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xianFangInfo=En.base.XianFangInfoPB.decode(e,e.uint32());break;case 2:i.count=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xianFangInfo"))throw An.ProtocolError("missing required 'xianFangInfo'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";var t=En.base.XianFangInfoPB.verify(e.xianFangInfo);return t?"xianFangInfo."+t:null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_PurchaseXianFangGoods)return e;var t=new En.base.S2C_PurchaseXianFangGoods;if(null!=e.xianFangInfo){if("object"!==Pn(e.xianFangInfo))throw TypeError(".base.S2C_PurchaseXianFangGoods.xianFangInfo: object expected");t.xianFangInfo=En.base.XianFangInfoPB.fromObject(e.xianFangInfo)}return null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.xianFangInfo=null,n.count=0),null!=e.xianFangInfo&&e.hasOwnProperty("xianFangInfo")&&(n.xianFangInfo=En.base.XianFangInfoPB.toObject(e.xianFangInfo,t)),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XianFangType=(O={},(R=Object.create(O))[O[1]="LingYuLou"]=1,R[O[2]="CangShuLou"]=2,R[O[3]="CangBaoLou"]=3,R[O[4]="XianYuLou"]=4,R[O[5]="Recharge"]=5,R),Dn.XianFangStateType=(P={},(N=Object.create(P))[P[-1]="AlreaStudy"]=-1,N[P[0]="Normal"]=0,N),Dn.XianFangInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xianFangType=0,e.prototype.layer=0,e.prototype.goodsID=0,e.prototype.remainCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.xianFangType),t.uint32(16).int32(e.layer),t.uint32(24).int32(e.goodsID),t.uint32(32).int32(e.remainCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XianFangInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xianFangType=e.int32();break;case 2:i.layer=e.int32();break;case 3:i.goodsID=e.int32();break;case 4:i.remainCount=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xianFangType"))throw An.ProtocolError("missing required 'xianFangType'",{instance:i});if(!i.hasOwnProperty("layer"))throw An.ProtocolError("missing required 'layer'",{instance:i});if(!i.hasOwnProperty("goodsID"))throw An.ProtocolError("missing required 'goodsID'",{instance:i});if(!i.hasOwnProperty("remainCount"))throw An.ProtocolError("missing required 'remainCount'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.xianFangType)?An.isInteger(e.layer)?An.isInteger(e.goodsID)?An.isInteger(e.remainCount)?null:"remainCount: integer expected":"goodsID: integer expected":"layer: integer expected":"xianFangType: integer expected"},e.fromObject=function(e){if(e instanceof En.base.XianFangInfoPB)return e;var t=new En.base.XianFangInfoPB;return null!=e.xianFangType&&(t.xianFangType=0|e.xianFangType),null!=e.layer&&(t.layer=0|e.layer),null!=e.goodsID&&(t.goodsID=0|e.goodsID),null!=e.remainCount&&(t.remainCount=0|e.remainCount),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.xianFangType=0,n.layer=0,n.goodsID=0,n.remainCount=0),null!=e.xianFangType&&e.hasOwnProperty("xianFangType")&&(n.xianFangType=e.xianFangType),null!=e.layer&&e.hasOwnProperty("layer")&&(n.layer=e.layer),null!=e.goodsID&&e.hasOwnProperty("goodsID")&&(n.goodsID=e.goodsID),null!=e.remainCount&&e.hasOwnProperty("remainCount")&&(n.remainCount=e.remainCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_XianMeng=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.createType=0,e.prototype.name="",e.prototype.xianMengID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.autoJoinSwitch=!1,e.prototype.autoJoinLevel=0,e.prototype.notices=0,e.prototype.duty=0,e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.dealState=0,e.prototype.donateType=0,e.prototype.skillType=0,e.prototype.activityTime="",e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.createType&&e.hasOwnProperty("createType")&&t.uint32(16).int32(e.createType),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.xianMengID&&e.hasOwnProperty("xianMengID")&&t.uint32(32).int64(e.xianMengID),null!=e.autoJoinSwitch&&e.hasOwnProperty("autoJoinSwitch")&&t.uint32(40).bool(e.autoJoinSwitch),null!=e.autoJoinLevel&&e.hasOwnProperty("autoJoinLevel")&&t.uint32(48).int32(e.autoJoinLevel),null!=e.notices&&e.hasOwnProperty("notices")&&t.uint32(56).int32(e.notices),null!=e.duty&&e.hasOwnProperty("duty")&&t.uint32(64).int32(e.duty),null!=e.playerID&&e.hasOwnProperty("playerID")&&t.uint32(72).int64(e.playerID),null!=e.dealState&&e.hasOwnProperty("dealState")&&t.uint32(80).int32(e.dealState),null!=e.donateType&&e.hasOwnProperty("donateType")&&t.uint32(88).int32(e.donateType),null!=e.skillType&&e.hasOwnProperty("skillType")&&t.uint32(96).int32(e.skillType),null!=e.activityTime&&e.hasOwnProperty("activityTime")&&t.uint32(106).string(e.activityTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_XianMeng;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.createType=e.int32();break;case 3:i.name=e.string();break;case 4:i.xianMengID=e.int64();break;case 5:i.autoJoinSwitch=e.bool();break;case 6:i.autoJoinLevel=e.int32();break;case 7:i.notices=e.int32();break;case 8:i.duty=e.int32();break;case 9:i.playerID=e.int64();break;case 10:i.dealState=e.int32();break;case 11:i.donateType=e.int32();break;case 12:i.skillType=e.int32();break;case 13:i.activityTime=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:}return null!=e.createType&&e.hasOwnProperty("createType")&&!An.isInteger(e.createType)?"createType: integer expected":null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name)?"name: string expected":null!=e.xianMengID&&e.hasOwnProperty("xianMengID")&&!(An.isInteger(e.xianMengID)||e.xianMengID&&An.isInteger(e.xianMengID.low)&&An.isInteger(e.xianMengID.high))?"xianMengID: integer|Long expected":null!=e.autoJoinSwitch&&e.hasOwnProperty("autoJoinSwitch")&&"boolean"!=typeof e.autoJoinSwitch?"autoJoinSwitch: boolean expected":null!=e.autoJoinLevel&&e.hasOwnProperty("autoJoinLevel")&&!An.isInteger(e.autoJoinLevel)?"autoJoinLevel: integer expected":null!=e.notices&&e.hasOwnProperty("notices")&&!An.isInteger(e.notices)?"notices: integer expected":null!=e.duty&&e.hasOwnProperty("duty")&&!An.isInteger(e.duty)?"duty: integer expected":null!=e.playerID&&e.hasOwnProperty("playerID")&&!(An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high))?"playerID: integer|Long expected":null!=e.dealState&&e.hasOwnProperty("dealState")&&!An.isInteger(e.dealState)?"dealState: integer expected":null!=e.donateType&&e.hasOwnProperty("donateType")&&!An.isInteger(e.donateType)?"donateType: integer expected":null!=e.skillType&&e.hasOwnProperty("skillType")&&!An.isInteger(e.skillType)?"skillType: integer expected":null!=e.activityTime&&e.hasOwnProperty("activityTime")&&!An.isString(e.activityTime)?"activityTime: string expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_XianMeng)return e;var t=new En.base.C2S_XianMeng;switch(e.cmdType){case"CreateXianMeng_Cmd":case 1:t.cmdType=1;break;case"GetXianMengInfo_Cmd":case 2:t.cmdType=2;break;case"UpdateXianMengInfo_Cmd":case 3:t.cmdType=3;break;case"GetPlayerXianMengInfo_Cmd":case 4:t.cmdType=4;break;case"UpdatePlayerXianMengInfo_Cmd":case 5:t.cmdType=5;break;case"GetXianMengList":case 6:t.cmdType=6;break;case"GetMemberList":case 7:t.cmdType=7;break;case"JoinXianMeng":case 8:t.cmdType=8;break;case"DealJoinXianMeng":case 9:t.cmdType=9;break;case"GetJoinApplyList":case 10:t.cmdType=10;break;case"JoinApplySetting":case 11:t.cmdType=11;break;case"SetNotices":case 12:t.cmdType=12;break;case"KickOutMemger":case 13:t.cmdType=13;break;case"DutyManager":case 14:t.cmdType=14;break;case"ExitXianMeng":case 15:t.cmdType=15;break;case"Donate":case 16:t.cmdType=16;break;case"LevelUpSkill":case 17:t.cmdType=17;break;case"GetBossInfo":case 18:t.cmdType=18;break;case"UpdateBossInfo":case 19:t.cmdType=19;break;case"ChallengeBoss":case 20:t.cmdType=20;break;case"PurchaseChallengeCount":case 21:t.cmdType=21;break;case"OpenBossChallenge":case 22:t.cmdType=22;break;case"BossHurtRankList":case 23:t.cmdType=23;break;case"SetName":case 24:t.cmdType=24;break;case"GetXianMengLog":case 25:t.cmdType=25;break;case"ChallengeCountDown":case 26:t.cmdType=26;break;case"SetActivityTime_Cmd":case 27:t.cmdType=27}return null!=e.createType&&(t.createType=0|e.createType),null!=e.name&&(t.name=String(e.name)),null!=e.xianMengID&&(An.Long?(t.xianMengID=An.Long.fromValue(e.xianMengID)).unsigned=!1:"string"==typeof e.xianMengID?t.xianMengID=parseInt(e.xianMengID,10):"number"==typeof e.xianMengID?t.xianMengID=e.xianMengID:"object"===Pn(e.xianMengID)&&(t.xianMengID=new An.LongBits(e.xianMengID.low>>>0,e.xianMengID.high>>>0).toNumber())),null!=e.autoJoinSwitch&&(t.autoJoinSwitch=Boolean(e.autoJoinSwitch)),null!=e.autoJoinLevel&&(t.autoJoinLevel=0|e.autoJoinLevel),null!=e.notices&&(t.notices=0|e.notices),null!=e.duty&&(t.duty=0|e.duty),null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.dealState&&(t.dealState=0|e.dealState),null!=e.donateType&&(t.donateType=0|e.donateType),null!=e.skillType&&(t.skillType=0|e.skillType),null!=e.activityTime&&(t.activityTime=String(e.activityTime)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.cmdType=t.enums===String?"CreateXianMeng_Cmd":1,n.createType=0,n.name="",An.Long){var i=new An.Long(0,0,!1);n.xianMengID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.xianMengID=t.longs===String?"0":0;n.autoJoinSwitch=!1,n.autoJoinLevel=0,n.notices=0,n.duty=0,An.Long?(i=new An.Long(0,0,!1),n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.playerID=t.longs===String?"0":0,n.dealState=0,n.donateType=0,n.skillType=0,n.activityTime=""}return null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.XianMengCmdType[e.cmdType]:e.cmdType),null!=e.createType&&e.hasOwnProperty("createType")&&(n.createType=e.createType),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.xianMengID&&e.hasOwnProperty("xianMengID")&&("number"==typeof e.xianMengID?n.xianMengID=t.longs===String?String(e.xianMengID):e.xianMengID:n.xianMengID=t.longs===String?An.Long.prototype.toString.call(e.xianMengID):t.longs===Number?new An.LongBits(e.xianMengID.low>>>0,e.xianMengID.high>>>0).toNumber():e.xianMengID),null!=e.autoJoinSwitch&&e.hasOwnProperty("autoJoinSwitch")&&(n.autoJoinSwitch=e.autoJoinSwitch),null!=e.autoJoinLevel&&e.hasOwnProperty("autoJoinLevel")&&(n.autoJoinLevel=e.autoJoinLevel),null!=e.notices&&e.hasOwnProperty("notices")&&(n.notices=e.notices),null!=e.duty&&e.hasOwnProperty("duty")&&(n.duty=e.duty),null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.dealState&&e.hasOwnProperty("dealState")&&(n.dealState=e.dealState),null!=e.donateType&&e.hasOwnProperty("donateType")&&(n.donateType=e.donateType),null!=e.skillType&&e.hasOwnProperty("skillType")&&(n.skillType=e.skillType),null!=e.activityTime&&e.hasOwnProperty("activityTime")&&(n.activityTime=e.activityTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_XianMeng=function(){function e(e){if(this.xianMengInfo=[],this.playerXianMeng=[],this.joinApplys=[],this.baseResource=[],this.luckResource=[],this.lastResource=[],this.rankList=[],this.logInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.xianMengInfo=An.emptyArray,e.prototype.playerXianMeng=An.emptyArray,e.prototype.joinApplys=An.emptyArray,e.prototype.result=!1,e.prototype.errorCode=0,e.prototype.bossInfo=null,e.prototype.fightResult=null,e.prototype.baseResource=An.emptyArray,e.prototype.luckResource=An.emptyArray,e.prototype.lastResource=An.emptyArray,e.prototype.rankList=An.emptyArray,e.prototype.logInfos=An.emptyArray,e.prototype.donateType=0,e.prototype.count=0,e.prototype.challengeRecoveryTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.xianMengInfo&&e.xianMengInfo.length)for(var n=0;n<e.xianMengInfo.length;++n)En.base.XianMengInfoPB.encode(e.xianMengInfo[n],t.uint32(18).fork()).ldelim();if(null!=e.playerXianMeng&&e.playerXianMeng.length)for(n=0;n<e.playerXianMeng.length;++n)En.base.PlayerXianMengInfoPB.encode(e.playerXianMeng[n],t.uint32(26).fork()).ldelim();if(null!=e.joinApplys&&e.joinApplys.length)for(n=0;n<e.joinApplys.length;++n)En.base.JoinApplyInfoPB.encode(e.joinApplys[n],t.uint32(34).fork()).ldelim();if(null!=e.result&&e.hasOwnProperty("result")&&t.uint32(40).bool(e.result),null!=e.errorCode&&e.hasOwnProperty("errorCode")&&t.uint32(48).int32(e.errorCode),null!=e.bossInfo&&e.hasOwnProperty("bossInfo")&&En.base.XianMengBossInfoPB.encode(e.bossInfo,t.uint32(58).fork()).ldelim(),null!=e.fightResult&&e.hasOwnProperty("fightResult")&&En.base.FightResultMsg.encode(e.fightResult,t.uint32(66).fork()).ldelim(),null!=e.baseResource&&e.baseResource.length)for(n=0;n<e.baseResource.length;++n)En.base.ResourceMsg.encode(e.baseResource[n],t.uint32(74).fork()).ldelim();if(null!=e.luckResource&&e.luckResource.length)for(n=0;n<e.luckResource.length;++n)En.base.ResourceMsg.encode(e.luckResource[n],t.uint32(82).fork()).ldelim();if(null!=e.lastResource&&e.lastResource.length)for(n=0;n<e.lastResource.length;++n)En.base.ResourceMsg.encode(e.lastResource[n],t.uint32(90).fork()).ldelim();if(null!=e.rankList&&e.rankList.length)for(n=0;n<e.rankList.length;++n)En.base.XianMengRankInfoPB.encode(e.rankList[n],t.uint32(98).fork()).ldelim();if(null!=e.logInfos&&e.logInfos.length)for(n=0;n<e.logInfos.length;++n)En.base.XianMengLogInfoPB.encode(e.logInfos[n],t.uint32(106).fork()).ldelim();return null!=e.donateType&&e.hasOwnProperty("donateType")&&t.uint32(112).int32(e.donateType),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(120).int32(e.count),null!=e.challengeRecoveryTime&&e.hasOwnProperty("challengeRecoveryTime")&&t.uint32(128).int64(e.challengeRecoveryTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_XianMeng;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.xianMengInfo&&i.xianMengInfo.length||(i.xianMengInfo=[]),i.xianMengInfo.push(En.base.XianMengInfoPB.decode(e,e.uint32()));break;case 3:i.playerXianMeng&&i.playerXianMeng.length||(i.playerXianMeng=[]),i.playerXianMeng.push(En.base.PlayerXianMengInfoPB.decode(e,e.uint32()));break;case 4:i.joinApplys&&i.joinApplys.length||(i.joinApplys=[]),i.joinApplys.push(En.base.JoinApplyInfoPB.decode(e,e.uint32()));break;case 5:i.result=e.bool();break;case 6:i.errorCode=e.int32();break;case 7:i.bossInfo=En.base.XianMengBossInfoPB.decode(e,e.uint32());break;case 8:i.fightResult=En.base.FightResultMsg.decode(e,e.uint32());break;case 9:i.baseResource&&i.baseResource.length||(i.baseResource=[]),i.baseResource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 10:i.luckResource&&i.luckResource.length||(i.luckResource=[]),i.luckResource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 11:i.lastResource&&i.lastResource.length||(i.lastResource=[]),i.lastResource.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 12:i.rankList&&i.rankList.length||(i.rankList=[]),i.rankList.push(En.base.XianMengRankInfoPB.decode(e,e.uint32()));break;case 13:i.logInfos&&i.logInfos.length||(i.logInfos=[]),i.logInfos.push(En.base.XianMengLogInfoPB.decode(e,e.uint32()));break;case 14:i.donateType=e.int32();break;case 15:i.count=e.int32();break;case 16:i.challengeRecoveryTime=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:}if(null!=e.xianMengInfo&&e.hasOwnProperty("xianMengInfo")){if(!Array.isArray(e.xianMengInfo))return"xianMengInfo: array expected";for(var t=0;t<e.xianMengInfo.length;++t)if(n=En.base.XianMengInfoPB.verify(e.xianMengInfo[t]))return"xianMengInfo."+n}if(null!=e.playerXianMeng&&e.hasOwnProperty("playerXianMeng")){if(!Array.isArray(e.playerXianMeng))return"playerXianMeng: array expected";for(t=0;t<e.playerXianMeng.length;++t)if(n=En.base.PlayerXianMengInfoPB.verify(e.playerXianMeng[t]))return"playerXianMeng."+n}if(null!=e.joinApplys&&e.hasOwnProperty("joinApplys")){if(!Array.isArray(e.joinApplys))return"joinApplys: array expected";for(t=0;t<e.joinApplys.length;++t)if(n=En.base.JoinApplyInfoPB.verify(e.joinApplys[t]))return"joinApplys."+n}if(null!=e.result&&e.hasOwnProperty("result")&&"boolean"!=typeof e.result)return"result: boolean expected";if(null!=e.errorCode&&e.hasOwnProperty("errorCode")&&!An.isInteger(e.errorCode))return"errorCode: integer expected";if(null!=e.bossInfo&&e.hasOwnProperty("bossInfo")&&(n=En.base.XianMengBossInfoPB.verify(e.bossInfo)))return"bossInfo."+n;if(null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n=En.base.FightResultMsg.verify(e.fightResult)))return"fightResult."+n;if(null!=e.baseResource&&e.hasOwnProperty("baseResource")){if(!Array.isArray(e.baseResource))return"baseResource: array expected";for(t=0;t<e.baseResource.length;++t)if(n=En.base.ResourceMsg.verify(e.baseResource[t]))return"baseResource."+n}if(null!=e.luckResource&&e.hasOwnProperty("luckResource")){if(!Array.isArray(e.luckResource))return"luckResource: array expected";for(t=0;t<e.luckResource.length;++t)if(n=En.base.ResourceMsg.verify(e.luckResource[t]))return"luckResource."+n}if(null!=e.lastResource&&e.hasOwnProperty("lastResource")){if(!Array.isArray(e.lastResource))return"lastResource: array expected";for(t=0;t<e.lastResource.length;++t)if(n=En.base.ResourceMsg.verify(e.lastResource[t]))return"lastResource."+n}if(null!=e.rankList&&e.hasOwnProperty("rankList")){if(!Array.isArray(e.rankList))return"rankList: array expected";for(t=0;t<e.rankList.length;++t)if(n=En.base.XianMengRankInfoPB.verify(e.rankList[t]))return"rankList."+n}if(null!=e.logInfos&&e.hasOwnProperty("logInfos")){if(!Array.isArray(e.logInfos))return"logInfos: array expected";for(t=0;t<e.logInfos.length;++t){var n;if(n=En.base.XianMengLogInfoPB.verify(e.logInfos[t]))return"logInfos."+n}}return null!=e.donateType&&e.hasOwnProperty("donateType")&&!An.isInteger(e.donateType)?"donateType: integer expected":null!=e.count&&e.hasOwnProperty("count")&&!An.isInteger(e.count)?"count: integer expected":null!=e.challengeRecoveryTime&&e.hasOwnProperty("challengeRecoveryTime")&&!(An.isInteger(e.challengeRecoveryTime)||e.challengeRecoveryTime&&An.isInteger(e.challengeRecoveryTime.low)&&An.isInteger(e.challengeRecoveryTime.high))?"challengeRecoveryTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_XianMeng)return e;var t=new En.base.S2C_XianMeng;switch(e.cmdType){case"CreateXianMeng_Cmd":case 1:t.cmdType=1;break;case"GetXianMengInfo_Cmd":case 2:t.cmdType=2;break;case"UpdateXianMengInfo_Cmd":case 3:t.cmdType=3;break;case"GetPlayerXianMengInfo_Cmd":case 4:t.cmdType=4;break;case"UpdatePlayerXianMengInfo_Cmd":case 5:t.cmdType=5;break;case"GetXianMengList":case 6:t.cmdType=6;break;case"GetMemberList":case 7:t.cmdType=7;break;case"JoinXianMeng":case 8:t.cmdType=8;break;case"DealJoinXianMeng":case 9:t.cmdType=9;break;case"GetJoinApplyList":case 10:t.cmdType=10;break;case"JoinApplySetting":case 11:t.cmdType=11;break;case"SetNotices":case 12:t.cmdType=12;break;case"KickOutMemger":case 13:t.cmdType=13;break;case"DutyManager":case 14:t.cmdType=14;break;case"ExitXianMeng":case 15:t.cmdType=15;break;case"Donate":case 16:t.cmdType=16;break;case"LevelUpSkill":case 17:t.cmdType=17;break;case"GetBossInfo":case 18:t.cmdType=18;break;case"UpdateBossInfo":case 19:t.cmdType=19;break;case"ChallengeBoss":case 20:t.cmdType=20;break;case"PurchaseChallengeCount":case 21:t.cmdType=21;break;case"OpenBossChallenge":case 22:t.cmdType=22;break;case"BossHurtRankList":case 23:t.cmdType=23;break;case"SetName":case 24:t.cmdType=24;break;case"GetXianMengLog":case 25:t.cmdType=25;break;case"ChallengeCountDown":case 26:t.cmdType=26;break;case"SetActivityTime_Cmd":case 27:t.cmdType=27}if(e.xianMengInfo){if(!Array.isArray(e.xianMengInfo))throw TypeError(".base.S2C_XianMeng.xianMengInfo: array expected");t.xianMengInfo=[];for(var n=0;n<e.xianMengInfo.length;++n){if("object"!==Pn(e.xianMengInfo[n]))throw TypeError(".base.S2C_XianMeng.xianMengInfo: object expected");t.xianMengInfo[n]=En.base.XianMengInfoPB.fromObject(e.xianMengInfo[n])}}if(e.playerXianMeng){if(!Array.isArray(e.playerXianMeng))throw TypeError(".base.S2C_XianMeng.playerXianMeng: array expected");for(t.playerXianMeng=[],n=0;n<e.playerXianMeng.length;++n){if("object"!==Pn(e.playerXianMeng[n]))throw TypeError(".base.S2C_XianMeng.playerXianMeng: object expected");t.playerXianMeng[n]=En.base.PlayerXianMengInfoPB.fromObject(e.playerXianMeng[n])}}if(e.joinApplys){if(!Array.isArray(e.joinApplys))throw TypeError(".base.S2C_XianMeng.joinApplys: array expected");for(t.joinApplys=[],n=0;n<e.joinApplys.length;++n){if("object"!==Pn(e.joinApplys[n]))throw TypeError(".base.S2C_XianMeng.joinApplys: object expected");t.joinApplys[n]=En.base.JoinApplyInfoPB.fromObject(e.joinApplys[n])}}if(null!=e.result&&(t.result=Boolean(e.result)),null!=e.errorCode&&(t.errorCode=0|e.errorCode),null!=e.bossInfo){if("object"!==Pn(e.bossInfo))throw TypeError(".base.S2C_XianMeng.bossInfo: object expected");t.bossInfo=En.base.XianMengBossInfoPB.fromObject(e.bossInfo)}if(null!=e.fightResult){if("object"!==Pn(e.fightResult))throw TypeError(".base.S2C_XianMeng.fightResult: object expected");t.fightResult=En.base.FightResultMsg.fromObject(e.fightResult)}if(e.baseResource){if(!Array.isArray(e.baseResource))throw TypeError(".base.S2C_XianMeng.baseResource: array expected");for(t.baseResource=[],n=0;n<e.baseResource.length;++n){if("object"!==Pn(e.baseResource[n]))throw TypeError(".base.S2C_XianMeng.baseResource: object expected");t.baseResource[n]=En.base.ResourceMsg.fromObject(e.baseResource[n])}}if(e.luckResource){if(!Array.isArray(e.luckResource))throw TypeError(".base.S2C_XianMeng.luckResource: array expected");for(t.luckResource=[],n=0;n<e.luckResource.length;++n){if("object"!==Pn(e.luckResource[n]))throw TypeError(".base.S2C_XianMeng.luckResource: object expected");t.luckResource[n]=En.base.ResourceMsg.fromObject(e.luckResource[n])}}if(e.lastResource){if(!Array.isArray(e.lastResource))throw TypeError(".base.S2C_XianMeng.lastResource: array expected");for(t.lastResource=[],n=0;n<e.lastResource.length;++n){if("object"!==Pn(e.lastResource[n]))throw TypeError(".base.S2C_XianMeng.lastResource: object expected");t.lastResource[n]=En.base.ResourceMsg.fromObject(e.lastResource[n])}}if(e.rankList){if(!Array.isArray(e.rankList))throw TypeError(".base.S2C_XianMeng.rankList: array expected");for(t.rankList=[],n=0;n<e.rankList.length;++n){if("object"!==Pn(e.rankList[n]))throw TypeError(".base.S2C_XianMeng.rankList: object expected");t.rankList[n]=En.base.XianMengRankInfoPB.fromObject(e.rankList[n])}}if(e.logInfos){if(!Array.isArray(e.logInfos))throw TypeError(".base.S2C_XianMeng.logInfos: array expected");for(t.logInfos=[],n=0;n<e.logInfos.length;++n){if("object"!==Pn(e.logInfos[n]))throw TypeError(".base.S2C_XianMeng.logInfos: object expected");t.logInfos[n]=En.base.XianMengLogInfoPB.fromObject(e.logInfos[n])}}return null!=e.donateType&&(t.donateType=0|e.donateType),null!=e.count&&(t.count=0|e.count),null!=e.challengeRecoveryTime&&(An.Long?(t.challengeRecoveryTime=An.Long.fromValue(e.challengeRecoveryTime)).unsigned=!1:"string"==typeof e.challengeRecoveryTime?t.challengeRecoveryTime=parseInt(e.challengeRecoveryTime,10):"number"==typeof e.challengeRecoveryTime?t.challengeRecoveryTime=e.challengeRecoveryTime:"object"===Pn(e.challengeRecoveryTime)&&(t.challengeRecoveryTime=new An.LongBits(e.challengeRecoveryTime.low>>>0,e.challengeRecoveryTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.xianMengInfo=[],n.playerXianMeng=[],n.joinApplys=[],n.baseResource=[],n.luckResource=[],n.lastResource=[],n.rankList=[],n.logInfos=[]),t.defaults)if(n.cmdType=t.enums===String?"CreateXianMeng_Cmd":1,n.result=!1,n.errorCode=0,n.bossInfo=null,n.fightResult=null,n.donateType=0,n.count=0,An.Long){var i=new An.Long(0,0,!1);n.challengeRecoveryTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.challengeRecoveryTime=t.longs===String?"0":0;if(null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.XianMengCmdType[e.cmdType]:e.cmdType),e.xianMengInfo&&e.xianMengInfo.length){n.xianMengInfo=[];for(var o=0;o<e.xianMengInfo.length;++o)n.xianMengInfo[o]=En.base.XianMengInfoPB.toObject(e.xianMengInfo[o],t)}if(e.playerXianMeng&&e.playerXianMeng.length)for(n.playerXianMeng=[],o=0;o<e.playerXianMeng.length;++o)n.playerXianMeng[o]=En.base.PlayerXianMengInfoPB.toObject(e.playerXianMeng[o],t);if(e.joinApplys&&e.joinApplys.length)for(n.joinApplys=[],o=0;o<e.joinApplys.length;++o)n.joinApplys[o]=En.base.JoinApplyInfoPB.toObject(e.joinApplys[o],t);if(null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),null!=e.errorCode&&e.hasOwnProperty("errorCode")&&(n.errorCode=e.errorCode),null!=e.bossInfo&&e.hasOwnProperty("bossInfo")&&(n.bossInfo=En.base.XianMengBossInfoPB.toObject(e.bossInfo,t)),null!=e.fightResult&&e.hasOwnProperty("fightResult")&&(n.fightResult=En.base.FightResultMsg.toObject(e.fightResult,t)),e.baseResource&&e.baseResource.length)for(n.baseResource=[],o=0;o<e.baseResource.length;++o)n.baseResource[o]=En.base.ResourceMsg.toObject(e.baseResource[o],t);if(e.luckResource&&e.luckResource.length)for(n.luckResource=[],o=0;o<e.luckResource.length;++o)n.luckResource[o]=En.base.ResourceMsg.toObject(e.luckResource[o],t);if(e.lastResource&&e.lastResource.length)for(n.lastResource=[],o=0;o<e.lastResource.length;++o)n.lastResource[o]=En.base.ResourceMsg.toObject(e.lastResource[o],t);if(e.rankList&&e.rankList.length)for(n.rankList=[],o=0;o<e.rankList.length;++o)n.rankList[o]=En.base.XianMengRankInfoPB.toObject(e.rankList[o],t);if(e.logInfos&&e.logInfos.length)for(n.logInfos=[],o=0;o<e.logInfos.length;++o)n.logInfos[o]=En.base.XianMengLogInfoPB.toObject(e.logInfos[o],t);return null!=e.donateType&&e.hasOwnProperty("donateType")&&(n.donateType=e.donateType),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.challengeRecoveryTime&&e.hasOwnProperty("challengeRecoveryTime")&&("number"==typeof e.challengeRecoveryTime?n.challengeRecoveryTime=t.longs===String?String(e.challengeRecoveryTime):e.challengeRecoveryTime:n.challengeRecoveryTime=t.longs===String?An.Long.prototype.toString.call(e.challengeRecoveryTime):t.longs===Number?new An.LongBits(e.challengeRecoveryTime.low>>>0,e.challengeRecoveryTime.high>>>0).toNumber():e.challengeRecoveryTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XianMengCmdType=(B={},(D=Object.create(B))[B[1]="CreateXianMeng_Cmd"]=1,D[B[2]="GetXianMengInfo_Cmd"]=2,D[B[3]="UpdateXianMengInfo_Cmd"]=3,D[B[4]="GetPlayerXianMengInfo_Cmd"]=4,D[B[5]="UpdatePlayerXianMengInfo_Cmd"]=5,D[B[6]="GetXianMengList"]=6,D[B[7]="GetMemberList"]=7,D[B[8]="JoinXianMeng"]=8,D[B[9]="DealJoinXianMeng"]=9,D[B[10]="GetJoinApplyList"]=10,D[B[11]="JoinApplySetting"]=11,D[B[12]="SetNotices"]=12,D[B[13]="KickOutMemger"]=13,D[B[14]="DutyManager"]=14,D[B[15]="ExitXianMeng"]=15,D[B[16]="Donate"]=16,D[B[17]="LevelUpSkill"]=17,D[B[18]="GetBossInfo"]=18,D[B[19]="UpdateBossInfo"]=19,D[B[20]="ChallengeBoss"]=20,D[B[21]="PurchaseChallengeCount"]=21,D[B[22]="OpenBossChallenge"]=22,D[B[23]="BossHurtRankList"]=23,D[B[24]="SetName"]=24,D[B[25]="GetXianMengLog"]=25,D[B[26]="ChallengeCountDown"]=26,D[B[27]="SetActivityTime_Cmd"]=27,D),Dn.XianMengInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.zhongZu=0,e.prototype.playerLevel=0,e.prototype.nickName="",e.prototype.name="",e.prototype.exp=0,e.prototype.level=0,e.prototype.notices=0,e.prototype.memberCount=0,e.prototype.autoJoinSwitch=!1,e.prototype.autoJoinLevel=0,e.prototype.xianMengIndex=0,e.prototype.activityTime="",e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.id),null!=e.playerID&&e.hasOwnProperty("playerID")&&t.uint32(16).int64(e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(24).int32(e.zhongZu),null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&t.uint32(32).int32(e.playerLevel),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(42).string(e.nickName),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(50).string(e.name),null!=e.exp&&e.hasOwnProperty("exp")&&t.uint32(56).int32(e.exp),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(64).int32(e.level),null!=e.notices&&e.hasOwnProperty("notices")&&t.uint32(72).int32(e.notices),null!=e.memberCount&&e.hasOwnProperty("memberCount")&&t.uint32(80).int32(e.memberCount),null!=e.autoJoinSwitch&&e.hasOwnProperty("autoJoinSwitch")&&t.uint32(88).bool(e.autoJoinSwitch),null!=e.autoJoinLevel&&e.hasOwnProperty("autoJoinLevel")&&t.uint32(96).int32(e.autoJoinLevel),null!=e.xianMengIndex&&e.hasOwnProperty("xianMengIndex")&&t.uint32(104).int32(e.xianMengIndex),null!=e.activityTime&&e.hasOwnProperty("activityTime")&&t.uint32(114).string(e.activityTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XianMengInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int64();break;case 2:i.playerID=e.int64();break;case 3:i.zhongZu=e.int32();break;case 4:i.playerLevel=e.int32();break;case 5:i.nickName=e.string();break;case 6:i.name=e.string();break;case 7:i.exp=e.int32();break;case 8:i.level=e.int32();break;case 9:i.notices=e.int32();break;case 10:i.memberCount=e.int32();break;case 11:i.autoJoinSwitch=e.bool();break;case 12:i.autoJoinLevel=e.int32();break;case 13:i.xianMengIndex=e.int32();break;case 14:i.activityTime=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)||e.id&&An.isInteger(e.id.low)&&An.isInteger(e.id.high)?null!=e.playerID&&e.hasOwnProperty("playerID")&&!(An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high))?"playerID: integer|Long expected":null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu)?"zhongZu: integer expected":null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&!An.isInteger(e.playerLevel)?"playerLevel: integer expected":null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name)?"name: string expected":null!=e.exp&&e.hasOwnProperty("exp")&&!An.isInteger(e.exp)?"exp: integer expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.notices&&e.hasOwnProperty("notices")&&!An.isInteger(e.notices)?"notices: integer expected":null!=e.memberCount&&e.hasOwnProperty("memberCount")&&!An.isInteger(e.memberCount)?"memberCount: integer expected":null!=e.autoJoinSwitch&&e.hasOwnProperty("autoJoinSwitch")&&"boolean"!=typeof e.autoJoinSwitch?"autoJoinSwitch: boolean expected":null!=e.autoJoinLevel&&e.hasOwnProperty("autoJoinLevel")&&!An.isInteger(e.autoJoinLevel)?"autoJoinLevel: integer expected":null!=e.xianMengIndex&&e.hasOwnProperty("xianMengIndex")&&!An.isInteger(e.xianMengIndex)?"xianMengIndex: integer expected":null!=e.activityTime&&e.hasOwnProperty("activityTime")&&!An.isString(e.activityTime)?"activityTime: string expected":null:"id: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.XianMengInfoPB)return e;var t=new En.base.XianMengInfoPB;return null!=e.id&&(An.Long?(t.id=An.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"===Pn(e.id)&&(t.id=new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.playerLevel&&(t.playerLevel=0|e.playerLevel),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.name&&(t.name=String(e.name)),null!=e.exp&&(t.exp=0|e.exp),null!=e.level&&(t.level=0|e.level),null!=e.notices&&(t.notices=0|e.notices),null!=e.memberCount&&(t.memberCount=0|e.memberCount),null!=e.autoJoinSwitch&&(t.autoJoinSwitch=Boolean(e.autoJoinSwitch)),null!=e.autoJoinLevel&&(t.autoJoinLevel=0|e.autoJoinLevel),null!=e.xianMengIndex&&(t.xianMengIndex=0|e.xianMengIndex),null!=e.activityTime&&(t.activityTime=String(e.activityTime)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.id=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.id=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.playerID=t.longs===String?"0":0,n.zhongZu=0,n.playerLevel=0,n.nickName="",n.name="",n.exp=0,n.level=0,n.notices=0,n.memberCount=0,n.autoJoinSwitch=!1,n.autoJoinLevel=0,n.xianMengIndex=0,n.activityTime=""}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?An.Long.prototype.toString.call(e.id):t.longs===Number?new An.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&(n.playerLevel=e.playerLevel),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.exp&&e.hasOwnProperty("exp")&&(n.exp=e.exp),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.notices&&e.hasOwnProperty("notices")&&(n.notices=e.notices),null!=e.memberCount&&e.hasOwnProperty("memberCount")&&(n.memberCount=e.memberCount),null!=e.autoJoinSwitch&&e.hasOwnProperty("autoJoinSwitch")&&(n.autoJoinSwitch=e.autoJoinSwitch),null!=e.autoJoinLevel&&e.hasOwnProperty("autoJoinLevel")&&(n.autoJoinLevel=e.autoJoinLevel),null!=e.xianMengIndex&&e.hasOwnProperty("xianMengIndex")&&(n.xianMengIndex=e.xianMengIndex),null!=e.activityTime&&e.hasOwnProperty("activityTime")&&(n.activityTime=e.activityTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.PlayerXianMengInfoPB=function(){function e(e){if(this.skills=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xianMengID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.zhongZu=0,e.prototype.playerLevel=0,e.prototype.nickName="",e.prototype.duty=0,e.prototype.xuanDonateCount=0,e.prototype.diDonateCount=0,e.prototype.tianDonateCount=0,e.prototype.donateCount=0,e.prototype.totalDonateCount=0,e.prototype.skills=An.emptyArray,e.prototype.online=!1,e.prototype.bossChallengeCount=0,e.prototype.offlineTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int64(e.xianMengID),null!=e.playerID&&e.hasOwnProperty("playerID")&&t.uint32(16).int64(e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(24).int32(e.zhongZu),null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&t.uint32(32).int32(e.playerLevel),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(42).string(e.nickName),null!=e.duty&&e.hasOwnProperty("duty")&&t.uint32(48).int32(e.duty),null!=e.xuanDonateCount&&e.hasOwnProperty("xuanDonateCount")&&t.uint32(56).int32(e.xuanDonateCount),null!=e.diDonateCount&&e.hasOwnProperty("diDonateCount")&&t.uint32(64).int32(e.diDonateCount),null!=e.tianDonateCount&&e.hasOwnProperty("tianDonateCount")&&t.uint32(72).int32(e.tianDonateCount),null!=e.donateCount&&e.hasOwnProperty("donateCount")&&t.uint32(80).int32(e.donateCount),null!=e.totalDonateCount&&e.hasOwnProperty("totalDonateCount")&&t.uint32(88).int32(e.totalDonateCount),null!=e.skills&&e.skills.length)for(var n=0;n<e.skills.length;++n)t.uint32(96).int32(e.skills[n]);return null!=e.online&&e.hasOwnProperty("online")&&t.uint32(104).bool(e.online),null!=e.bossChallengeCount&&e.hasOwnProperty("bossChallengeCount")&&t.uint32(112).int32(e.bossChallengeCount),null!=e.offlineTime&&e.hasOwnProperty("offlineTime")&&t.uint32(120).int64(e.offlineTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.PlayerXianMengInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xianMengID=e.int64();break;case 2:i.playerID=e.int64();break;case 3:i.zhongZu=e.int32();break;case 4:i.playerLevel=e.int32();break;case 5:i.nickName=e.string();break;case 6:i.duty=e.int32();break;case 7:i.xuanDonateCount=e.int32();break;case 8:i.diDonateCount=e.int32();break;case 9:i.tianDonateCount=e.int32();break;case 10:i.donateCount=e.int32();break;case 11:i.totalDonateCount=e.int32();break;case 12:if(i.skills&&i.skills.length||(i.skills=[]),2==(7&o))for(var r=e.uint32()+e.pos;e.pos<r;)i.skills.push(e.int32());else i.skills.push(e.int32());break;case 13:i.online=e.bool();break;case 14:i.bossChallengeCount=e.int32();break;case 15:i.offlineTime=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xianMengID"))throw An.ProtocolError("missing required 'xianMengID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!(An.isInteger(e.xianMengID)||e.xianMengID&&An.isInteger(e.xianMengID.low)&&An.isInteger(e.xianMengID.high)))return"xianMengID: integer|Long expected";if(null!=e.playerID&&e.hasOwnProperty("playerID")&&!(An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high)))return"playerID: integer|Long expected";if(null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu))return"zhongZu: integer expected";if(null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&!An.isInteger(e.playerLevel))return"playerLevel: integer expected";if(null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName))return"nickName: string expected";if(null!=e.duty&&e.hasOwnProperty("duty")&&!An.isInteger(e.duty))return"duty: integer expected";if(null!=e.xuanDonateCount&&e.hasOwnProperty("xuanDonateCount")&&!An.isInteger(e.xuanDonateCount))return"xuanDonateCount: integer expected";if(null!=e.diDonateCount&&e.hasOwnProperty("diDonateCount")&&!An.isInteger(e.diDonateCount))return"diDonateCount: integer expected";if(null!=e.tianDonateCount&&e.hasOwnProperty("tianDonateCount")&&!An.isInteger(e.tianDonateCount))return"tianDonateCount: integer expected";if(null!=e.donateCount&&e.hasOwnProperty("donateCount")&&!An.isInteger(e.donateCount))return"donateCount: integer expected";if(null!=e.totalDonateCount&&e.hasOwnProperty("totalDonateCount")&&!An.isInteger(e.totalDonateCount))return"totalDonateCount: integer expected";if(null!=e.skills&&e.hasOwnProperty("skills")){if(!Array.isArray(e.skills))return"skills: array expected";for(var t=0;t<e.skills.length;++t)if(!An.isInteger(e.skills[t]))return"skills: integer[] expected"}return null!=e.online&&e.hasOwnProperty("online")&&"boolean"!=typeof e.online?"online: boolean expected":null!=e.bossChallengeCount&&e.hasOwnProperty("bossChallengeCount")&&!An.isInteger(e.bossChallengeCount)?"bossChallengeCount: integer expected":null!=e.offlineTime&&e.hasOwnProperty("offlineTime")&&!(An.isInteger(e.offlineTime)||e.offlineTime&&An.isInteger(e.offlineTime.low)&&An.isInteger(e.offlineTime.high))?"offlineTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.PlayerXianMengInfoPB)return e;var t=new En.base.PlayerXianMengInfoPB;if(null!=e.xianMengID&&(An.Long?(t.xianMengID=An.Long.fromValue(e.xianMengID)).unsigned=!1:"string"==typeof e.xianMengID?t.xianMengID=parseInt(e.xianMengID,10):"number"==typeof e.xianMengID?t.xianMengID=e.xianMengID:"object"===Pn(e.xianMengID)&&(t.xianMengID=new An.LongBits(e.xianMengID.low>>>0,e.xianMengID.high>>>0).toNumber())),null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.playerLevel&&(t.playerLevel=0|e.playerLevel),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.duty&&(t.duty=0|e.duty),null!=e.xuanDonateCount&&(t.xuanDonateCount=0|e.xuanDonateCount),null!=e.diDonateCount&&(t.diDonateCount=0|e.diDonateCount),null!=e.tianDonateCount&&(t.tianDonateCount=0|e.tianDonateCount),null!=e.donateCount&&(t.donateCount=0|e.donateCount),null!=e.totalDonateCount&&(t.totalDonateCount=0|e.totalDonateCount),e.skills){if(!Array.isArray(e.skills))throw TypeError(".base.PlayerXianMengInfoPB.skills: array expected");t.skills=[];for(var n=0;n<e.skills.length;++n)t.skills[n]=0|e.skills[n]}return null!=e.online&&(t.online=Boolean(e.online)),null!=e.bossChallengeCount&&(t.bossChallengeCount=0|e.bossChallengeCount),null!=e.offlineTime&&(An.Long?(t.offlineTime=An.Long.fromValue(e.offlineTime)).unsigned=!1:"string"==typeof e.offlineTime?t.offlineTime=parseInt(e.offlineTime,10):"number"==typeof e.offlineTime?t.offlineTime=e.offlineTime:"object"===Pn(e.offlineTime)&&(t.offlineTime=new An.LongBits(e.offlineTime.low>>>0,e.offlineTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.skills=[]),t.defaults){if(An.Long){var i=new An.Long(0,0,!1);n.xianMengID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.xianMengID=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.playerID=t.longs===String?"0":0,n.zhongZu=0,n.playerLevel=0,n.nickName="",n.duty=0,n.xuanDonateCount=0,n.diDonateCount=0,n.tianDonateCount=0,n.donateCount=0,n.totalDonateCount=0,n.online=!1,n.bossChallengeCount=0,An.Long?(i=new An.Long(0,0,!1),n.offlineTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.offlineTime=t.longs===String?"0":0}if(null!=e.xianMengID&&e.hasOwnProperty("xianMengID")&&("number"==typeof e.xianMengID?n.xianMengID=t.longs===String?String(e.xianMengID):e.xianMengID:n.xianMengID=t.longs===String?An.Long.prototype.toString.call(e.xianMengID):t.longs===Number?new An.LongBits(e.xianMengID.low>>>0,e.xianMengID.high>>>0).toNumber():e.xianMengID),null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&(n.playerLevel=e.playerLevel),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.duty&&e.hasOwnProperty("duty")&&(n.duty=e.duty),null!=e.xuanDonateCount&&e.hasOwnProperty("xuanDonateCount")&&(n.xuanDonateCount=e.xuanDonateCount),null!=e.diDonateCount&&e.hasOwnProperty("diDonateCount")&&(n.diDonateCount=e.diDonateCount),null!=e.tianDonateCount&&e.hasOwnProperty("tianDonateCount")&&(n.tianDonateCount=e.tianDonateCount),null!=e.donateCount&&e.hasOwnProperty("donateCount")&&(n.donateCount=e.donateCount),null!=e.totalDonateCount&&e.hasOwnProperty("totalDonateCount")&&(n.totalDonateCount=e.totalDonateCount),e.skills&&e.skills.length){n.skills=[];for(var o=0;o<e.skills.length;++o)n.skills[o]=e.skills[o]}return null!=e.online&&e.hasOwnProperty("online")&&(n.online=e.online),null!=e.bossChallengeCount&&e.hasOwnProperty("bossChallengeCount")&&(n.bossChallengeCount=e.bossChallengeCount),null!=e.offlineTime&&e.hasOwnProperty("offlineTime")&&("number"==typeof e.offlineTime?n.offlineTime=t.longs===String?String(e.offlineTime):e.offlineTime:n.offlineTime=t.longs===String?An.Long.prototype.toString.call(e.offlineTime):t.longs===Number?new An.LongBits(e.offlineTime.low>>>0,e.offlineTime.high>>>0).toNumber():e.offlineTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.JoinApplyInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xianMengID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.zhongZu=0,e.prototype.playerLevel=0,e.prototype.nickName="",e.prototype.dealAdmin=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.dealNick="",e.prototype.state=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.xianMengID),null!=e.playerID&&e.hasOwnProperty("playerID")&&t.uint32(16).int64(e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(24).int32(e.zhongZu),null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&t.uint32(32).int32(e.playerLevel),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(42).string(e.nickName),null!=e.dealAdmin&&e.hasOwnProperty("dealAdmin")&&t.uint32(48).int64(e.dealAdmin),null!=e.dealNick&&e.hasOwnProperty("dealNick")&&t.uint32(58).string(e.dealNick),null!=e.state&&e.hasOwnProperty("state")&&t.uint32(64).int32(e.state),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.JoinApplyInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.xianMengID=e.int64();break;case 2:i.playerID=e.int64();break;case 3:i.zhongZu=e.int32();break;case 4:i.playerLevel=e.int32();break;case 5:i.nickName=e.string();break;case 6:i.dealAdmin=e.int64();break;case 7:i.dealNick=e.string();break;case 8:i.state=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("xianMengID"))throw An.ProtocolError("missing required 'xianMengID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.xianMengID)||e.xianMengID&&An.isInteger(e.xianMengID.low)&&An.isInteger(e.xianMengID.high)?null!=e.playerID&&e.hasOwnProperty("playerID")&&!(An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high))?"playerID: integer|Long expected":null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu)?"zhongZu: integer expected":null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&!An.isInteger(e.playerLevel)?"playerLevel: integer expected":null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null!=e.dealAdmin&&e.hasOwnProperty("dealAdmin")&&!(An.isInteger(e.dealAdmin)||e.dealAdmin&&An.isInteger(e.dealAdmin.low)&&An.isInteger(e.dealAdmin.high))?"dealAdmin: integer|Long expected":null!=e.dealNick&&e.hasOwnProperty("dealNick")&&!An.isString(e.dealNick)?"dealNick: string expected":null!=e.state&&e.hasOwnProperty("state")&&!An.isInteger(e.state)?"state: integer expected":null:"xianMengID: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.JoinApplyInfoPB)return e;var t=new En.base.JoinApplyInfoPB;return null!=e.xianMengID&&(An.Long?(t.xianMengID=An.Long.fromValue(e.xianMengID)).unsigned=!1:"string"==typeof e.xianMengID?t.xianMengID=parseInt(e.xianMengID,10):"number"==typeof e.xianMengID?t.xianMengID=e.xianMengID:"object"===Pn(e.xianMengID)&&(t.xianMengID=new An.LongBits(e.xianMengID.low>>>0,e.xianMengID.high>>>0).toNumber())),null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.playerLevel&&(t.playerLevel=0|e.playerLevel),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.dealAdmin&&(An.Long?(t.dealAdmin=An.Long.fromValue(e.dealAdmin)).unsigned=!1:"string"==typeof e.dealAdmin?t.dealAdmin=parseInt(e.dealAdmin,10):"number"==typeof e.dealAdmin?t.dealAdmin=e.dealAdmin:"object"===Pn(e.dealAdmin)&&(t.dealAdmin=new An.LongBits(e.dealAdmin.low>>>0,e.dealAdmin.high>>>0).toNumber())),null!=e.dealNick&&(t.dealNick=String(e.dealNick)),null!=e.state&&(t.state=0|e.state),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.xianMengID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.xianMengID=t.longs===String?"0":0;An.Long?(i=new An.Long(0,0,!1),n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.playerID=t.longs===String?"0":0,n.zhongZu=0,n.playerLevel=0,n.nickName="",An.Long?(i=new An.Long(0,0,!1),n.dealAdmin=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.dealAdmin=t.longs===String?"0":0,n.dealNick="",n.state=0}return null!=e.xianMengID&&e.hasOwnProperty("xianMengID")&&("number"==typeof e.xianMengID?n.xianMengID=t.longs===String?String(e.xianMengID):e.xianMengID:n.xianMengID=t.longs===String?An.Long.prototype.toString.call(e.xianMengID):t.longs===Number?new An.LongBits(e.xianMengID.low>>>0,e.xianMengID.high>>>0).toNumber():e.xianMengID),null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.playerLevel&&e.hasOwnProperty("playerLevel")&&(n.playerLevel=e.playerLevel),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.dealAdmin&&e.hasOwnProperty("dealAdmin")&&("number"==typeof e.dealAdmin?n.dealAdmin=t.longs===String?String(e.dealAdmin):e.dealAdmin:n.dealAdmin=t.longs===String?An.Long.prototype.toString.call(e.dealAdmin):t.longs===Number?new An.LongBits(e.dealAdmin.low>>>0,e.dealAdmin.high>>>0).toNumber():e.dealAdmin),null!=e.dealNick&&e.hasOwnProperty("dealNick")&&(n.dealNick=e.dealNick),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XianMengBossInfoPB=function(){function e(e){if(this.killedBoss=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bossID=0,e.prototype.curBloodVolume=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.bossState=0,e.prototype.endTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.killedBoss=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.bossID),null!=e.curBloodVolume&&e.hasOwnProperty("curBloodVolume")&&t.uint32(16).int64(e.curBloodVolume),null!=e.bossState&&e.hasOwnProperty("bossState")&&t.uint32(24).int32(e.bossState),null!=e.endTime&&e.hasOwnProperty("endTime")&&t.uint32(32).int64(e.endTime),null!=e.killedBoss&&e.killedBoss.length)for(var n=0;n<e.killedBoss.length;++n)En.base.KilledBossInfoPB.encode(e.killedBoss[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XianMengBossInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.bossID=e.int32();break;case 2:i.curBloodVolume=e.int64();break;case 3:i.bossState=e.int32();break;case 4:i.endTime=e.int64();break;case 5:i.killedBoss&&i.killedBoss.length||(i.killedBoss=[]),i.killedBoss.push(En.base.KilledBossInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("bossID"))throw An.ProtocolError("missing required 'bossID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!An.isInteger(e.bossID))return"bossID: integer expected";if(null!=e.curBloodVolume&&e.hasOwnProperty("curBloodVolume")&&!(An.isInteger(e.curBloodVolume)||e.curBloodVolume&&An.isInteger(e.curBloodVolume.low)&&An.isInteger(e.curBloodVolume.high)))return"curBloodVolume: integer|Long expected";if(null!=e.bossState&&e.hasOwnProperty("bossState")&&!An.isInteger(e.bossState))return"bossState: integer expected";if(null!=e.endTime&&e.hasOwnProperty("endTime")&&!(An.isInteger(e.endTime)||e.endTime&&An.isInteger(e.endTime.low)&&An.isInteger(e.endTime.high)))return"endTime: integer|Long expected";if(null!=e.killedBoss&&e.hasOwnProperty("killedBoss")){if(!Array.isArray(e.killedBoss))return"killedBoss: array expected";for(var t=0;t<e.killedBoss.length;++t){var n=En.base.KilledBossInfoPB.verify(e.killedBoss[t]);if(n)return"killedBoss."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.XianMengBossInfoPB)return e;var t=new En.base.XianMengBossInfoPB;if(null!=e.bossID&&(t.bossID=0|e.bossID),null!=e.curBloodVolume&&(An.Long?(t.curBloodVolume=An.Long.fromValue(e.curBloodVolume)).unsigned=!1:"string"==typeof e.curBloodVolume?t.curBloodVolume=parseInt(e.curBloodVolume,10):"number"==typeof e.curBloodVolume?t.curBloodVolume=e.curBloodVolume:"object"===Pn(e.curBloodVolume)&&(t.curBloodVolume=new An.LongBits(e.curBloodVolume.low>>>0,e.curBloodVolume.high>>>0).toNumber())),null!=e.bossState&&(t.bossState=0|e.bossState),null!=e.endTime&&(An.Long?(t.endTime=An.Long.fromValue(e.endTime)).unsigned=!1:"string"==typeof e.endTime?t.endTime=parseInt(e.endTime,10):"number"==typeof e.endTime?t.endTime=e.endTime:"object"===Pn(e.endTime)&&(t.endTime=new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber())),e.killedBoss){if(!Array.isArray(e.killedBoss))throw TypeError(".base.XianMengBossInfoPB.killedBoss: array expected");t.killedBoss=[];for(var n=0;n<e.killedBoss.length;++n){if("object"!==Pn(e.killedBoss[n]))throw TypeError(".base.XianMengBossInfoPB.killedBoss: object expected");t.killedBoss[n]=En.base.KilledBossInfoPB.fromObject(e.killedBoss[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.killedBoss=[]),t.defaults){if(n.bossID=0,An.Long){var i=new An.Long(0,0,!1);n.curBloodVolume=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.curBloodVolume=t.longs===String?"0":0;n.bossState=0,An.Long?(i=new An.Long(0,0,!1),n.endTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.endTime=t.longs===String?"0":0}if(null!=e.bossID&&e.hasOwnProperty("bossID")&&(n.bossID=e.bossID),null!=e.curBloodVolume&&e.hasOwnProperty("curBloodVolume")&&("number"==typeof e.curBloodVolume?n.curBloodVolume=t.longs===String?String(e.curBloodVolume):e.curBloodVolume:n.curBloodVolume=t.longs===String?An.Long.prototype.toString.call(e.curBloodVolume):t.longs===Number?new An.LongBits(e.curBloodVolume.low>>>0,e.curBloodVolume.high>>>0).toNumber():e.curBloodVolume),null!=e.bossState&&e.hasOwnProperty("bossState")&&(n.bossState=e.bossState),null!=e.endTime&&e.hasOwnProperty("endTime")&&("number"==typeof e.endTime?n.endTime=t.longs===String?String(e.endTime):e.endTime:n.endTime=t.longs===String?An.Long.prototype.toString.call(e.endTime):t.longs===Number?new An.LongBits(e.endTime.low>>>0,e.endTime.high>>>0).toNumber():e.endTime),e.killedBoss&&e.killedBoss.length){n.killedBoss=[];for(var o=0;o<e.killedBoss.length;++o)n.killedBoss[o]=En.base.KilledBossInfoPB.toObject(e.killedBoss[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.KilledBossInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bossID=0,e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.zhongZu=0,e.prototype.level=0,e.prototype.nickName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.bossID),null!=e.playerID&&e.hasOwnProperty("playerID")&&t.uint32(16).int64(e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&t.uint32(24).int32(e.zhongZu),null!=e.level&&e.hasOwnProperty("level")&&t.uint32(32).int32(e.level),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(42).string(e.nickName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.KilledBossInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.bossID=e.int32();break;case 2:i.playerID=e.int64();break;case 3:i.zhongZu=e.int32();break;case 4:i.level=e.int32();break;case 5:i.nickName=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("bossID"))throw An.ProtocolError("missing required 'bossID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.bossID)?null!=e.playerID&&e.hasOwnProperty("playerID")&&!(An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high))?"playerID: integer|Long expected":null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&!An.isInteger(e.zhongZu)?"zhongZu: integer expected":null!=e.level&&e.hasOwnProperty("level")&&!An.isInteger(e.level)?"level: integer expected":null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null:"bossID: integer expected"},e.fromObject=function(e){if(e instanceof En.base.KilledBossInfoPB)return e;var t=new En.base.KilledBossInfoPB;return null!=e.bossID&&(t.bossID=0|e.bossID),null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.level&&(t.level=0|e.level),null!=e.nickName&&(t.nickName=String(e.nickName)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.bossID=0,An.Long){var i=new An.Long(0,0,!1);n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerID=t.longs===String?"0":0;n.zhongZu=0,n.level=0,n.nickName=""}return null!=e.bossID&&e.hasOwnProperty("bossID")&&(n.bossID=e.bossID),null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.DutyType=(L={},(M=Object.create(L))[L[0]="Member"]=0,M[L[1]="Admin"]=1,M[L[2]="Creator"]=2,M),Dn.JoinApplyStateType=(S={},(k=Object.create(S))[S[0]="processing"]=0,k[S[1]="agree"]=1,k[S[2]="refuse"]=2,k),Dn.XianMengDonateType=(_={},(T=Object.create(_))[_[1]="XuanLevel"]=1,T[_[2]="DiLevel"]=2,T[_[3]="TianLevel"]=3,T),Dn.XianMengSkillType=(I={},(b=Object.create(I))[I[1]="Skill1"]=1,b[I[2]="Skill2"]=2,b[I[3]="Skill3"]=3,b[I[4]="Skill4"]=4,b[I[5]="Skill5"]=5,b[I[6]="Skill6"]=6,b[I[7]="Skill7"]=7,b[I[8]="Skill8"]=8,b[I[9]="Skill9"]=9,b[I[10]="Skill10"]=10,b),Dn.BossStateType=(w={},(C=Object.create(w))[w[1]="NotStart"]=1,C[w[2]="Fighting"]=2,C[w[3]="GameOver"]=3,C),Dn.XianMengRankInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.nickName="",e.prototype.zhongZu=0,e.prototype.level=0,e.prototype.rankIndex=0,e.prototype.hurt=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.duty=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.playerID),t.uint32(18).string(e.nickName),t.uint32(24).int32(e.zhongZu),t.uint32(32).int32(e.level),t.uint32(40).int32(e.rankIndex),null!=e.hurt&&e.hasOwnProperty("hurt")&&t.uint32(48).int64(e.hurt),null!=e.duty&&e.hasOwnProperty("duty")&&t.uint32(56).int32(e.duty),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XianMengRankInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.playerID=e.int64();break;case 2:i.nickName=e.string();break;case 3:i.zhongZu=e.int32();break;case 4:i.level=e.int32();break;case 5:i.rankIndex=e.int32();break;case 6:i.hurt=e.int64();break;case 7:i.duty=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("playerID"))throw An.ProtocolError("missing required 'playerID'",{instance:i});if(!i.hasOwnProperty("nickName"))throw An.ProtocolError("missing required 'nickName'",{instance:i});if(!i.hasOwnProperty("zhongZu"))throw An.ProtocolError("missing required 'zhongZu'",{instance:i});if(!i.hasOwnProperty("level"))throw An.ProtocolError("missing required 'level'",{instance:i});if(!i.hasOwnProperty("rankIndex"))throw An.ProtocolError("missing required 'rankIndex'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high)?An.isString(e.nickName)?An.isInteger(e.zhongZu)?An.isInteger(e.level)?An.isInteger(e.rankIndex)?null!=e.hurt&&e.hasOwnProperty("hurt")&&!(An.isInteger(e.hurt)||e.hurt&&An.isInteger(e.hurt.low)&&An.isInteger(e.hurt.high))?"hurt: integer|Long expected":null!=e.duty&&e.hasOwnProperty("duty")&&!An.isInteger(e.duty)?"duty: integer expected":null:"rankIndex: integer expected":"level: integer expected":"zhongZu: integer expected":"nickName: string expected":"playerID: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.XianMengRankInfoPB)return e;var t=new En.base.XianMengRankInfoPB;return null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.zhongZu&&(t.zhongZu=0|e.zhongZu),null!=e.level&&(t.level=0|e.level),null!=e.rankIndex&&(t.rankIndex=0|e.rankIndex),null!=e.hurt&&(An.Long?(t.hurt=An.Long.fromValue(e.hurt)).unsigned=!1:"string"==typeof e.hurt?t.hurt=parseInt(e.hurt,10):"number"==typeof e.hurt?t.hurt=e.hurt:"object"===Pn(e.hurt)&&(t.hurt=new An.LongBits(e.hurt.low>>>0,e.hurt.high>>>0).toNumber())),null!=e.duty&&(t.duty=0|e.duty),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerID=t.longs===String?"0":0;n.nickName="",n.zhongZu=0,n.level=0,n.rankIndex=0,An.Long?(i=new An.Long(0,0,!1),n.hurt=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.hurt=t.longs===String?"0":0,n.duty=0}return null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.zhongZu&&e.hasOwnProperty("zhongZu")&&(n.zhongZu=e.zhongZu),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),null!=e.rankIndex&&e.hasOwnProperty("rankIndex")&&(n.rankIndex=e.rankIndex),null!=e.hurt&&e.hasOwnProperty("hurt")&&("number"==typeof e.hurt?n.hurt=t.longs===String?String(e.hurt):e.hurt:n.hurt=t.longs===String?An.Long.prototype.toString.call(e.hurt):t.longs===Number?new An.LongBits(e.hurt.low>>>0,e.hurt.high>>>0).toNumber():e.hurt),null!=e.duty&&e.hasOwnProperty("duty")&&(n.duty=e.duty),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XianMengLogInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerID=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.nickName="",e.prototype.type=0,e.prototype.createTime=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.optionalValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int64(e.playerID),null!=e.nickName&&e.hasOwnProperty("nickName")&&t.uint32(18).string(e.nickName),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(24).int32(e.type),null!=e.createTime&&e.hasOwnProperty("createTime")&&t.uint32(32).int64(e.createTime),null!=e.optionalValue&&e.hasOwnProperty("optionalValue")&&t.uint32(40).int32(e.optionalValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XianMengLogInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.playerID=e.int64();break;case 2:i.nickName=e.string();break;case 3:i.type=e.int32();break;case 4:i.createTime=e.int64();break;case 5:i.optionalValue=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("playerID"))throw An.ProtocolError("missing required 'playerID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.playerID)||e.playerID&&An.isInteger(e.playerID.low)&&An.isInteger(e.playerID.high)?null!=e.nickName&&e.hasOwnProperty("nickName")&&!An.isString(e.nickName)?"nickName: string expected":null!=e.type&&e.hasOwnProperty("type")&&!An.isInteger(e.type)?"type: integer expected":null!=e.createTime&&e.hasOwnProperty("createTime")&&!(An.isInteger(e.createTime)||e.createTime&&An.isInteger(e.createTime.low)&&An.isInteger(e.createTime.high))?"createTime: integer|Long expected":null!=e.optionalValue&&e.hasOwnProperty("optionalValue")&&!An.isInteger(e.optionalValue)?"optionalValue: integer expected":null:"playerID: integer|Long expected"},e.fromObject=function(e){if(e instanceof En.base.XianMengLogInfoPB)return e;var t=new En.base.XianMengLogInfoPB;return null!=e.playerID&&(An.Long?(t.playerID=An.Long.fromValue(e.playerID)).unsigned=!1:"string"==typeof e.playerID?t.playerID=parseInt(e.playerID,10):"number"==typeof e.playerID?t.playerID=e.playerID:"object"===Pn(e.playerID)&&(t.playerID=new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber())),null!=e.nickName&&(t.nickName=String(e.nickName)),null!=e.type&&(t.type=0|e.type),null!=e.createTime&&(An.Long?(t.createTime=An.Long.fromValue(e.createTime)).unsigned=!1:"string"==typeof e.createTime?t.createTime=parseInt(e.createTime,10):"number"==typeof e.createTime?t.createTime=e.createTime:"object"===Pn(e.createTime)&&(t.createTime=new An.LongBits(e.createTime.low>>>0,e.createTime.high>>>0).toNumber())),null!=e.optionalValue&&(t.optionalValue=0|e.optionalValue),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(An.Long){var i=new An.Long(0,0,!1);n.playerID=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerID=t.longs===String?"0":0;n.nickName="",n.type=0,An.Long?(i=new An.Long(0,0,!1),n.createTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i):n.createTime=t.longs===String?"0":0,n.optionalValue=0}return null!=e.playerID&&e.hasOwnProperty("playerID")&&("number"==typeof e.playerID?n.playerID=t.longs===String?String(e.playerID):e.playerID:n.playerID=t.longs===String?An.Long.prototype.toString.call(e.playerID):t.longs===Number?new An.LongBits(e.playerID.low>>>0,e.playerID.high>>>0).toNumber():e.playerID),null!=e.nickName&&e.hasOwnProperty("nickName")&&(n.nickName=e.nickName),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.createTime&&e.hasOwnProperty("createTime")&&("number"==typeof e.createTime?n.createTime=t.longs===String?String(e.createTime):e.createTime:n.createTime=t.longs===String?An.Long.prototype.toString.call(e.createTime):t.longs===Number?new An.LongBits(e.createTime.low>>>0,e.createTime.high>>>0).toNumber():e.createTime),null!=e.optionalValue&&e.hasOwnProperty("optionalValue")&&(n.optionalValue=e.optionalValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XianMengLogType=(v={},(x=Object.create(v))[v[1]="CreateXianMeng"]=1,x[v[2]="Join"]=2,x[v[3]="Exit"]=3,x[v[4]="UpDuty"]=4,x[v[5]="DownDuty"]=5,x),Dn.XiSuiCmdType=(f={},(m=Object.create(f))[f[1]="GetXiSui_Cmd"]=1,m[f[2]="XiSui_Cmd"]=2,m),Dn.C2S_XiSui=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.jie=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.jie&&e.hasOwnProperty("jie")&&t.uint32(16).int32(e.jie),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_XiSui;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.jie=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}return null!=e.jie&&e.hasOwnProperty("jie")&&!An.isInteger(e.jie)?"jie: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_XiSui)return e;var t=new En.base.C2S_XiSui;switch(e.cmdType){case"GetXiSui_Cmd":case 1:t.cmdType=1;break;case"XiSui_Cmd":case 2:t.cmdType=2}return null!=e.jie&&(t.jie=0|e.jie),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetXiSui_Cmd":1,n.jie=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.XiSuiCmdType[e.cmdType]:e.cmdType),null!=e.jie&&e.hasOwnProperty("jie")&&(n.jie=e.jie),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_XiSu=function(){function e(e){if(this.xiSuiInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.xiSuiInfo=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.xiSuiInfo&&e.xiSuiInfo.length)for(var n=0;n<e.xiSuiInfo.length;++n)En.base.XiSuiInfoPB.encode(e.xiSuiInfo[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_XiSu;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.xiSuiInfo&&i.xiSuiInfo.length||(i.xiSuiInfo=[]),i.xiSuiInfo.push(En.base.XiSuiInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:}if(null!=e.xiSuiInfo&&e.hasOwnProperty("xiSuiInfo")){if(!Array.isArray(e.xiSuiInfo))return"xiSuiInfo: array expected";for(var t=0;t<e.xiSuiInfo.length;++t){var n=En.base.XiSuiInfoPB.verify(e.xiSuiInfo[t]);if(n)return"xiSuiInfo."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_XiSu)return e;var t=new En.base.S2C_XiSu;switch(e.cmdType){case"GetXiSui_Cmd":case 1:t.cmdType=1;break;case"XiSui_Cmd":case 2:t.cmdType=2}if(e.xiSuiInfo){if(!Array.isArray(e.xiSuiInfo))throw TypeError(".base.S2C_XiSu.xiSuiInfo: array expected");t.xiSuiInfo=[];for(var n=0;n<e.xiSuiInfo.length;++n){if("object"!==Pn(e.xiSuiInfo[n]))throw TypeError(".base.S2C_XiSu.xiSuiInfo: object expected");t.xiSuiInfo[n]=En.base.XiSuiInfoPB.fromObject(e.xiSuiInfo[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.xiSuiInfo=[]),t.defaults&&(n.cmdType=t.enums===String?"GetXiSui_Cmd":1),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.XiSuiCmdType[e.cmdType]:e.cmdType),e.xiSuiInfo&&e.xiSuiInfo.length){n.xiSuiInfo=[];for(var i=0;i<e.xiSuiInfo.length;++i)n.xiSuiInfo[i]=En.base.XiSuiInfoPB.toObject(e.xiSuiInfo[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.XiSuiInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.jie=0,e.prototype.num=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.jie),t.uint32(16).int32(e.num),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.XiSuiInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.jie=e.int32();break;case 2:i.num=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("jie"))throw An.ProtocolError("missing required 'jie'",{instance:i});if(!i.hasOwnProperty("num"))throw An.ProtocolError("missing required 'num'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.jie)?An.isInteger(e.num)?null:"num: integer expected":"jie: integer expected"},e.fromObject=function(e){if(e instanceof En.base.XiSuiInfoPB)return e;var t=new En.base.XiSuiInfoPB;return null!=e.jie&&(t.jie=0|e.jie),null!=e.num&&(t.num=0|e.num),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.jie=0,n.num=0),null!=e.jie&&e.hasOwnProperty("jie")&&(n.jie=e.jie),null!=e.num&&e.hasOwnProperty("num")&&(n.num=e.num),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.C2S_YouLi=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.mapID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.mapID&&e.hasOwnProperty("mapID")&&t.uint32(16).int32(e.mapID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_YouLi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.mapID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}return null!=e.mapID&&e.hasOwnProperty("mapID")&&!An.isInteger(e.mapID)?"mapID: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_YouLi)return e;var t=new En.base.C2S_YouLi;switch(e.cmdType){case"GetYouLi_Cmd":case 1:t.cmdType=1;break;case"EnterMap_Cmd":case 2:t.cmdType=2;break;case"ExitMap_Cmd":case 3:t.cmdType=3}return null!=e.mapID&&(t.mapID=0|e.mapID),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetYouLi_Cmd":1,n.mapID=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.YouLiCmdType[e.cmdType]:e.cmdType),null!=e.mapID&&e.hasOwnProperty("mapID")&&(n.mapID=e.mapID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_YouLi=function(){function e(e){if(this.mapInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.topMapID=0,e.prototype.mapInfos=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.topMapID&&e.hasOwnProperty("topMapID")&&t.uint32(16).int32(e.topMapID),null!=e.mapInfos&&e.mapInfos.length)for(var n=0;n<e.mapInfos.length;++n)En.base.MapInfoPB.encode(e.mapInfos[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_YouLi;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.topMapID=e.int32();break;case 3:i.mapInfos&&i.mapInfos.length||(i.mapInfos=[]),i.mapInfos.push(En.base.MapInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:}if(null!=e.topMapID&&e.hasOwnProperty("topMapID")&&!An.isInteger(e.topMapID))return"topMapID: integer expected";if(null!=e.mapInfos&&e.hasOwnProperty("mapInfos")){if(!Array.isArray(e.mapInfos))return"mapInfos: array expected";for(var t=0;t<e.mapInfos.length;++t){var n=En.base.MapInfoPB.verify(e.mapInfos[t]);if(n)return"mapInfos."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.S2C_YouLi)return e;var t=new En.base.S2C_YouLi;switch(e.cmdType){case"GetYouLi_Cmd":case 1:t.cmdType=1;break;case"EnterMap_Cmd":case 2:t.cmdType=2;break;case"ExitMap_Cmd":case 3:t.cmdType=3}if(null!=e.topMapID&&(t.topMapID=0|e.topMapID),e.mapInfos){if(!Array.isArray(e.mapInfos))throw TypeError(".base.S2C_YouLi.mapInfos: array expected");t.mapInfos=[];for(var n=0;n<e.mapInfos.length;++n){if("object"!==Pn(e.mapInfos[n]))throw TypeError(".base.S2C_YouLi.mapInfos: object expected");t.mapInfos[n]=En.base.MapInfoPB.fromObject(e.mapInfos[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.mapInfos=[]),t.defaults&&(n.cmdType=t.enums===String?"GetYouLi_Cmd":1,n.topMapID=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.YouLiCmdType[e.cmdType]:e.cmdType),null!=e.topMapID&&e.hasOwnProperty("topMapID")&&(n.topMapID=e.topMapID),e.mapInfos&&e.mapInfos.length){n.mapInfos=[];for(var i=0;i<e.mapInfos.length;++i)n.mapInfos[i]=En.base.MapInfoPB.toObject(e.mapInfos[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.YouLiCmdType=(p={},(y=Object.create(p))[p[1]="GetYouLi_Cmd"]=1,y[p[2]="EnterMap_Cmd"]=2,y[p[3]="ExitMap_Cmd"]=3,y),Dn.MapInfoPB=function(){function e(e){if(this.checkPoint=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.pass=!1,e.prototype.explore=!1,e.prototype.jingWeiValue=0,e.prototype.chongBaiValue=0,e.prototype.curCheckPoint=0,e.prototype.checkPoint=An.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.id),null!=e.pass&&e.hasOwnProperty("pass")&&t.uint32(16).bool(e.pass),null!=e.explore&&e.hasOwnProperty("explore")&&t.uint32(24).bool(e.explore),null!=e.jingWeiValue&&e.hasOwnProperty("jingWeiValue")&&t.uint32(32).int32(e.jingWeiValue),null!=e.chongBaiValue&&e.hasOwnProperty("chongBaiValue")&&t.uint32(40).int32(e.chongBaiValue),null!=e.curCheckPoint&&e.hasOwnProperty("curCheckPoint")&&t.uint32(48).int32(e.curCheckPoint),null!=e.checkPoint&&e.checkPoint.length)for(var n=0;n<e.checkPoint.length;++n)En.base.MapCheckPointInfoPB.encode(e.checkPoint[n],t.uint32(58).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.MapInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.pass=e.bool();break;case 3:i.explore=e.bool();break;case 4:i.jingWeiValue=e.int32();break;case 5:i.chongBaiValue=e.int32();break;case 6:i.curCheckPoint=e.int32();break;case 7:i.checkPoint&&i.checkPoint.length||(i.checkPoint=[]),i.checkPoint.push(En.base.MapCheckPointInfoPB.decode(e,e.uint32()));break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";if(!An.isInteger(e.id))return"id: integer expected";if(null!=e.pass&&e.hasOwnProperty("pass")&&"boolean"!=typeof e.pass)return"pass: boolean expected";if(null!=e.explore&&e.hasOwnProperty("explore")&&"boolean"!=typeof e.explore)return"explore: boolean expected";if(null!=e.jingWeiValue&&e.hasOwnProperty("jingWeiValue")&&!An.isInteger(e.jingWeiValue))return"jingWeiValue: integer expected";if(null!=e.chongBaiValue&&e.hasOwnProperty("chongBaiValue")&&!An.isInteger(e.chongBaiValue))return"chongBaiValue: integer expected";if(null!=e.curCheckPoint&&e.hasOwnProperty("curCheckPoint")&&!An.isInteger(e.curCheckPoint))return"curCheckPoint: integer expected";if(null!=e.checkPoint&&e.hasOwnProperty("checkPoint")){if(!Array.isArray(e.checkPoint))return"checkPoint: array expected";for(var t=0;t<e.checkPoint.length;++t){var n=En.base.MapCheckPointInfoPB.verify(e.checkPoint[t]);if(n)return"checkPoint."+n}}return null},e.fromObject=function(e){if(e instanceof En.base.MapInfoPB)return e;var t=new En.base.MapInfoPB;if(null!=e.id&&(t.id=0|e.id),null!=e.pass&&(t.pass=Boolean(e.pass)),null!=e.explore&&(t.explore=Boolean(e.explore)),null!=e.jingWeiValue&&(t.jingWeiValue=0|e.jingWeiValue),null!=e.chongBaiValue&&(t.chongBaiValue=0|e.chongBaiValue),null!=e.curCheckPoint&&(t.curCheckPoint=0|e.curCheckPoint),e.checkPoint){if(!Array.isArray(e.checkPoint))throw TypeError(".base.MapInfoPB.checkPoint: array expected");t.checkPoint=[];for(var n=0;n<e.checkPoint.length;++n){if("object"!==Pn(e.checkPoint[n]))throw TypeError(".base.MapInfoPB.checkPoint: object expected");t.checkPoint[n]=En.base.MapCheckPointInfoPB.fromObject(e.checkPoint[n])}}return t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.checkPoint=[]),t.defaults&&(n.id=0,n.pass=!1,n.explore=!1,n.jingWeiValue=0,n.chongBaiValue=0,n.curCheckPoint=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.pass&&e.hasOwnProperty("pass")&&(n.pass=e.pass),null!=e.explore&&e.hasOwnProperty("explore")&&(n.explore=e.explore),null!=e.jingWeiValue&&e.hasOwnProperty("jingWeiValue")&&(n.jingWeiValue=e.jingWeiValue),null!=e.chongBaiValue&&e.hasOwnProperty("chongBaiValue")&&(n.chongBaiValue=e.chongBaiValue),null!=e.curCheckPoint&&e.hasOwnProperty("curCheckPoint")&&(n.curCheckPoint=e.curCheckPoint),e.checkPoint&&e.checkPoint.length){n.checkPoint=[];for(var i=0;i<e.checkPoint.length;++i)n.checkPoint[i]=En.base.MapCheckPointInfoPB.toObject(e.checkPoint[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.MapCheckPointInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.pass=!1,e.prototype.jingWeiValue=0,e.prototype.chongBaiValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.pass&&e.hasOwnProperty("pass")&&t.uint32(16).bool(e.pass),null!=e.jingWeiValue&&e.hasOwnProperty("jingWeiValue")&&t.uint32(24).int32(e.jingWeiValue),null!=e.chongBaiValue&&e.hasOwnProperty("chongBaiValue")&&t.uint32(32).int32(e.chongBaiValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.MapCheckPointInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.pass=e.bool();break;case 3:i.jingWeiValue=e.int32();break;case 4:i.chongBaiValue=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.pass&&e.hasOwnProperty("pass")&&"boolean"!=typeof e.pass?"pass: boolean expected":null!=e.jingWeiValue&&e.hasOwnProperty("jingWeiValue")&&!An.isInteger(e.jingWeiValue)?"jingWeiValue: integer expected":null!=e.chongBaiValue&&e.hasOwnProperty("chongBaiValue")&&!An.isInteger(e.chongBaiValue)?"chongBaiValue: integer expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.MapCheckPointInfoPB)return e;var t=new En.base.MapCheckPointInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.pass&&(t.pass=Boolean(e.pass)),null!=e.jingWeiValue&&(t.jingWeiValue=0|e.jingWeiValue),null!=e.chongBaiValue&&(t.chongBaiValue=0|e.chongBaiValue),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id=0,n.pass=!1,n.jingWeiValue=0,n.chongBaiValue=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.pass&&e.hasOwnProperty("pass")&&(n.pass=e.pass),null!=e.jingWeiValue&&e.hasOwnProperty("jingWeiValue")&&(n.jingWeiValue=e.jingWeiValue),null!=e.chongBaiValue&&e.hasOwnProperty("chongBaiValue")&&(n.chongBaiValue=e.chongBaiValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ZongMenCmdType=(h={},(g=Object.create(h))[h[1]="GetZongMen_Cmd"]=1,g[h[2]="CreateZongMen_Cmd"]=2,g[h[3]="ChangeName_Cmd"]=3,g[h[4]="ChangeCouplets_Cmd"]=4,g[h[5]="WuDao_Cmd"]=5,g[h[6]="NingTi_Cmd"]=6,g[h[7]="GetWuDaoShiActivity_Cmd"]=7,g[h[8]="UpdateWuDaoShiActivity_Cmd"]=8,g[h[9]="ReceivedWuDaoShi_Cmd"]=9,g[h[10]="DuBo_Cmd"]=10,g[h[11]="GetDuBoInfo_Cmd"]=11,g[h[12]="Change_Task_Cmd"]=12,g),Dn.C2S_ZongMen=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.zongMenInfo=null,e.prototype.activityID=0,e.prototype.rewardID=0,e.prototype.taskID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.zongMenInfo&&e.hasOwnProperty("zongMenInfo")&&En.base.ZongMenInfoPB.encode(e.zongMenInfo,t.uint32(18).fork()).ldelim(),null!=e.activityID&&e.hasOwnProperty("activityID")&&t.uint32(24).int32(e.activityID),null!=e.rewardID&&e.hasOwnProperty("rewardID")&&t.uint32(32).int32(e.rewardID),null!=e.taskID&&e.hasOwnProperty("taskID")&&t.uint32(40).int32(e.taskID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.C2S_ZongMen;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.zongMenInfo=En.base.ZongMenInfoPB.decode(e,e.uint32());break;case 3:i.activityID=e.int32();break;case 4:i.rewardID=e.int32();break;case 5:i.taskID=e.int32();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:}if(null!=e.zongMenInfo&&e.hasOwnProperty("zongMenInfo")){var t=En.base.ZongMenInfoPB.verify(e.zongMenInfo);if(t)return"zongMenInfo."+t}return null!=e.activityID&&e.hasOwnProperty("activityID")&&!An.isInteger(e.activityID)?"activityID: integer expected":null!=e.rewardID&&e.hasOwnProperty("rewardID")&&!An.isInteger(e.rewardID)?"rewardID: integer expected":null!=e.taskID&&e.hasOwnProperty("taskID")&&!An.isInteger(e.taskID)?"taskID: integer expected":null},e.fromObject=function(e){if(e instanceof En.base.C2S_ZongMen)return e;var t=new En.base.C2S_ZongMen;switch(e.cmdType){case"GetZongMen_Cmd":case 1:t.cmdType=1;break;case"CreateZongMen_Cmd":case 2:t.cmdType=2;break;case"ChangeName_Cmd":case 3:t.cmdType=3;break;case"ChangeCouplets_Cmd":case 4:t.cmdType=4;break;case"WuDao_Cmd":case 5:t.cmdType=5;break;case"NingTi_Cmd":case 6:t.cmdType=6;break;case"GetWuDaoShiActivity_Cmd":case 7:t.cmdType=7;break;case"UpdateWuDaoShiActivity_Cmd":case 8:t.cmdType=8;break;case"ReceivedWuDaoShi_Cmd":case 9:t.cmdType=9;break;case"DuBo_Cmd":case 10:t.cmdType=10;break;case"GetDuBoInfo_Cmd":case 11:t.cmdType=11;break;case"Change_Task_Cmd":case 12:t.cmdType=12}if(null!=e.zongMenInfo){if("object"!==Pn(e.zongMenInfo))throw TypeError(".base.C2S_ZongMen.zongMenInfo: object expected");t.zongMenInfo=En.base.ZongMenInfoPB.fromObject(e.zongMenInfo)}return null!=e.activityID&&(t.activityID=0|e.activityID),null!=e.rewardID&&(t.rewardID=0|e.rewardID),null!=e.taskID&&(t.taskID=0|e.taskID),t},e.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.cmdType=t.enums===String?"GetZongMen_Cmd":1,n.zongMenInfo=null,n.activityID=0,n.rewardID=0,n.taskID=0),null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.ZongMenCmdType[e.cmdType]:e.cmdType),null!=e.zongMenInfo&&e.hasOwnProperty("zongMenInfo")&&(n.zongMenInfo=En.base.ZongMenInfoPB.toObject(e.zongMenInfo,t)),null!=e.activityID&&e.hasOwnProperty("activityID")&&(n.activityID=e.activityID),null!=e.rewardID&&e.hasOwnProperty("rewardID")&&(n.rewardID=e.rewardID),null!=e.taskID&&e.hasOwnProperty("taskID")&&(n.taskID=e.taskID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.S2C_ZongMen=function(){function e(e){if(this.taskInfo=[],this.rewards=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cmdType=1,e.prototype.zongMenInfo=null,e.prototype.taskInfo=An.emptyArray,e.prototype.rewards=An.emptyArray,e.prototype.duBoCount=0,e.prototype.wuDaoShiCount=0,e.prototype.taskID=0,e.prototype.taskEndTime=An.Long?An.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if((t=t||Rn.create()).uint32(8).int32(e.cmdType),null!=e.zongMenInfo&&e.hasOwnProperty("zongMenInfo")&&En.base.ZongMenInfoPB.encode(e.zongMenInfo,t.uint32(18).fork()).ldelim(),null!=e.taskInfo&&e.taskInfo.length)for(var n=0;n<e.taskInfo.length;++n)En.base.TaskInfoPB.encode(e.taskInfo[n],t.uint32(26).fork()).ldelim();if(null!=e.rewards&&e.rewards.length)for(n=0;n<e.rewards.length;++n)En.base.ResourceMsg.encode(e.rewards[n],t.uint32(34).fork()).ldelim();return null!=e.duBoCount&&e.hasOwnProperty("duBoCount")&&t.uint32(40).int32(e.duBoCount),null!=e.wuDaoShiCount&&e.hasOwnProperty("wuDaoShiCount")&&t.uint32(48).int32(e.wuDaoShiCount),null!=e.taskID&&e.hasOwnProperty("taskID")&&t.uint32(56).int32(e.taskID),null!=e.taskEndTime&&e.hasOwnProperty("taskEndTime")&&t.uint32(64).int64(e.taskEndTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.S2C_ZongMen;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.cmdType=e.int32();break;case 2:i.zongMenInfo=En.base.ZongMenInfoPB.decode(e,e.uint32());break;case 3:i.taskInfo&&i.taskInfo.length||(i.taskInfo=[]),i.taskInfo.push(En.base.TaskInfoPB.decode(e,e.uint32()));break;case 4:i.rewards&&i.rewards.length||(i.rewards=[]),i.rewards.push(En.base.ResourceMsg.decode(e,e.uint32()));break;case 5:i.duBoCount=e.int32();break;case 6:i.wuDaoShiCount=e.int32();break;case 7:i.taskID=e.int32();break;case 8:i.taskEndTime=e.int64();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("cmdType"))throw An.ProtocolError("missing required 'cmdType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":Pn(e))||null===e)return"object expected";switch(e.cmdType){default:return"cmdType: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:}if(null!=e.zongMenInfo&&e.hasOwnProperty("zongMenInfo")&&(n=En.base.ZongMenInfoPB.verify(e.zongMenInfo)))return"zongMenInfo."+n;if(null!=e.taskInfo&&e.hasOwnProperty("taskInfo")){if(!Array.isArray(e.taskInfo))return"taskInfo: array expected";for(var t=0;t<e.taskInfo.length;++t)if(n=En.base.TaskInfoPB.verify(e.taskInfo[t]))return"taskInfo."+n}if(null!=e.rewards&&e.hasOwnProperty("rewards")){if(!Array.isArray(e.rewards))return"rewards: array expected";for(t=0;t<e.rewards.length;++t){var n;if(n=En.base.ResourceMsg.verify(e.rewards[t]))return"rewards."+n}}return null!=e.duBoCount&&e.hasOwnProperty("duBoCount")&&!An.isInteger(e.duBoCount)?"duBoCount: integer expected":null!=e.wuDaoShiCount&&e.hasOwnProperty("wuDaoShiCount")&&!An.isInteger(e.wuDaoShiCount)?"wuDaoShiCount: integer expected":null!=e.taskID&&e.hasOwnProperty("taskID")&&!An.isInteger(e.taskID)?"taskID: integer expected":null!=e.taskEndTime&&e.hasOwnProperty("taskEndTime")&&!(An.isInteger(e.taskEndTime)||e.taskEndTime&&An.isInteger(e.taskEndTime.low)&&An.isInteger(e.taskEndTime.high))?"taskEndTime: integer|Long expected":null},e.fromObject=function(e){if(e instanceof En.base.S2C_ZongMen)return e;var t=new En.base.S2C_ZongMen;switch(e.cmdType){case"GetZongMen_Cmd":case 1:t.cmdType=1;break;case"CreateZongMen_Cmd":case 2:t.cmdType=2;break;case"ChangeName_Cmd":case 3:t.cmdType=3;break;case"ChangeCouplets_Cmd":case 4:t.cmdType=4;break;case"WuDao_Cmd":case 5:t.cmdType=5;break;case"NingTi_Cmd":case 6:t.cmdType=6;break;case"GetWuDaoShiActivity_Cmd":case 7:t.cmdType=7;break;case"UpdateWuDaoShiActivity_Cmd":case 8:t.cmdType=8;break;case"ReceivedWuDaoShi_Cmd":case 9:t.cmdType=9;break;case"DuBo_Cmd":case 10:t.cmdType=10;break;case"GetDuBoInfo_Cmd":case 11:t.cmdType=11;break;case"Change_Task_Cmd":case 12:t.cmdType=12}if(null!=e.zongMenInfo){if("object"!==Pn(e.zongMenInfo))throw TypeError(".base.S2C_ZongMen.zongMenInfo: object expected");t.zongMenInfo=En.base.ZongMenInfoPB.fromObject(e.zongMenInfo)}if(e.taskInfo){if(!Array.isArray(e.taskInfo))throw TypeError(".base.S2C_ZongMen.taskInfo: array expected");t.taskInfo=[];for(var n=0;n<e.taskInfo.length;++n){if("object"!==Pn(e.taskInfo[n]))throw TypeError(".base.S2C_ZongMen.taskInfo: object expected");t.taskInfo[n]=En.base.TaskInfoPB.fromObject(e.taskInfo[n])}}if(e.rewards){if(!Array.isArray(e.rewards))throw TypeError(".base.S2C_ZongMen.rewards: array expected");for(t.rewards=[],n=0;n<e.rewards.length;++n){if("object"!==Pn(e.rewards[n]))throw TypeError(".base.S2C_ZongMen.rewards: object expected");t.rewards[n]=En.base.ResourceMsg.fromObject(e.rewards[n])}}return null!=e.duBoCount&&(t.duBoCount=0|e.duBoCount),null!=e.wuDaoShiCount&&(t.wuDaoShiCount=0|e.wuDaoShiCount),null!=e.taskID&&(t.taskID=0|e.taskID),null!=e.taskEndTime&&(An.Long?(t.taskEndTime=An.Long.fromValue(e.taskEndTime)).unsigned=!1:"string"==typeof e.taskEndTime?t.taskEndTime=parseInt(e.taskEndTime,10):"number"==typeof e.taskEndTime?t.taskEndTime=e.taskEndTime:"object"===Pn(e.taskEndTime)&&(t.taskEndTime=new An.LongBits(e.taskEndTime.low>>>0,e.taskEndTime.high>>>0).toNumber())),t},e.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.taskInfo=[],n.rewards=[]),t.defaults)if(n.cmdType=t.enums===String?"GetZongMen_Cmd":1,n.zongMenInfo=null,n.duBoCount=0,n.wuDaoShiCount=0,n.taskID=0,An.Long){var i=new An.Long(0,0,!1);n.taskEndTime=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.taskEndTime=t.longs===String?"0":0;if(null!=e.cmdType&&e.hasOwnProperty("cmdType")&&(n.cmdType=t.enums===String?En.base.ZongMenCmdType[e.cmdType]:e.cmdType),null!=e.zongMenInfo&&e.hasOwnProperty("zongMenInfo")&&(n.zongMenInfo=En.base.ZongMenInfoPB.toObject(e.zongMenInfo,t)),e.taskInfo&&e.taskInfo.length){n.taskInfo=[];for(var o=0;o<e.taskInfo.length;++o)n.taskInfo[o]=En.base.TaskInfoPB.toObject(e.taskInfo[o],t)}if(e.rewards&&e.rewards.length)for(n.rewards=[],o=0;o<e.rewards.length;++o)n.rewards[o]=En.base.ResourceMsg.toObject(e.rewards[o],t);return null!=e.duBoCount&&e.hasOwnProperty("duBoCount")&&(n.duBoCount=e.duBoCount),null!=e.wuDaoShiCount&&e.hasOwnProperty("wuDaoShiCount")&&(n.wuDaoShiCount=e.wuDaoShiCount),null!=e.taskID&&e.hasOwnProperty("taskID")&&(n.taskID=e.taskID),null!=e.taskEndTime&&e.hasOwnProperty("taskEndTime")&&("number"==typeof e.taskEndTime?n.taskEndTime=t.longs===String?String(e.taskEndTime):e.taskEndTime:n.taskEndTime=t.longs===String?An.Long.prototype.toString.call(e.taskEndTime):t.longs===Number?new An.LongBits(e.taskEndTime.low>>>0,e.taskEndTime.high>>>0).toNumber():e.taskEndTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn.ZongMenInfoPB=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.playerZongMenId=An.Long?An.Long.fromBits(0,0,!1):0,e.prototype.name="",e.prototype.couplets="",e.create=function(t){return new e(t)},e.encode=function(e,t){return(t=t||Rn.create()).uint32(8).int32(e.id),null!=e.playerZongMenId&&e.hasOwnProperty("playerZongMenId")&&t.uint32(16).int64(e.playerZongMenId),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.couplets&&e.hasOwnProperty("couplets")&&t.uint32(34).string(e.couplets),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof On||(e=On.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new En.base.ZongMenInfoPB;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:i.id=e.int32();break;case 2:i.playerZongMenId=e.int64();break;case 3:i.name=e.string();break;case 4:i.couplets=e.string();break;default:e.skipType(7&o)}}if(!i.hasOwnProperty("id"))throw An.ProtocolError("missing required 'id'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof On||(e=new On(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":Pn(e))||null===e?"object expected":An.isInteger(e.id)?null!=e.playerZongMenId&&e.hasOwnProperty("playerZongMenId")&&!(An.isInteger(e.playerZongMenId)||e.playerZongMenId&&An.isInteger(e.playerZongMenId.low)&&An.isInteger(e.playerZongMenId.high))?"playerZongMenId: integer|Long expected":null!=e.name&&e.hasOwnProperty("name")&&!An.isString(e.name)?"name: string expected":null!=e.couplets&&e.hasOwnProperty("couplets")&&!An.isString(e.couplets)?"couplets: string expected":null:"id: integer expected"},e.fromObject=function(e){if(e instanceof En.base.ZongMenInfoPB)return e;var t=new En.base.ZongMenInfoPB;return null!=e.id&&(t.id=0|e.id),null!=e.playerZongMenId&&(An.Long?(t.playerZongMenId=An.Long.fromValue(e.playerZongMenId)).unsigned=!1:"string"==typeof e.playerZongMenId?t.playerZongMenId=parseInt(e.playerZongMenId,10):"number"==typeof e.playerZongMenId?t.playerZongMenId=e.playerZongMenId:"object"===Pn(e.playerZongMenId)&&(t.playerZongMenId=new An.LongBits(e.playerZongMenId.low>>>0,e.playerZongMenId.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),null!=e.couplets&&(t.couplets=String(e.couplets)),t},e.toObject=function(e,t){var n={};if((t=t||{}).defaults){if(n.id=0,An.Long){var i=new An.Long(0,0,!1);n.playerZongMenId=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.playerZongMenId=t.longs===String?"0":0;n.name="",n.couplets=""}return null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.playerZongMenId&&e.hasOwnProperty("playerZongMenId")&&("number"==typeof e.playerZongMenId?n.playerZongMenId=t.longs===String?String(e.playerZongMenId):e.playerZongMenId:n.playerZongMenId=t.longs===String?An.Long.prototype.toString.call(e.playerZongMenId):t.longs===Number?new An.LongBits(e.playerZongMenId.low>>>0,e.playerZongMenId.high>>>0).toNumber():e.playerZongMenId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.couplets&&e.hasOwnProperty("couplets")&&(n.couplets=e.couplets),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Nn.util.toJSONOptions)},e}(),Dn),En.com=((d={}).xgame=((u={}).proto=((l={}).functionswitch=((c={}).FunctionOpenType=(a={},(s=Object.create(a))[a[1]="DuJie"]=1,s[a[2]="CuiTi"]=2,s[a[3]="ShuGeDanDao"]=3,s[a[4]="ShuGeQiDao"]=4,s[a[5]="ShuGeWuDao"]=5,s[a[6]="DongFuDanFang"]=6,s[a[7]="DongFuQiShi"]=7,s[a[8]="DongFuXianNiang"]=8,s[a[9]="ShenYou"]=9,s[a[10]="DuJieFeiSheng"]=10,s[a[11]="CuiTiFengSheng"]=11,s[a[12]="HeiShi"]=12,s[a[13]="LingGen"]=13,s[a[14]="GongFa"]=14,s[a[15]="MenPai"]=15,s[a[16]="MenPaiLianGong"]=16,s[a[17]="MenPaiTask"]=17,s[a[18]="MenPaiSalary"]=18,s[a[19]="MenPaiChallenge"]=19,s[a[20]="MenPaiPanJiao"]=20,s[a[21]="DongFu"]=21,s[a[22]="DongDuDaoLv"]=22,s[a[23]="LiLian"]=23,s[a[24]="LiLianQiYu"]=24,s[a[25]="LiLianGoFishing"]=25,s[a[26]="LiLianBossFengYin"]=26,s[a[27]="DailyTask"]=27,s[a[28]="ChengHao"]=28,s[a[29]="Welfare"]=29,s[a[30]="Skin"]=30,s[a[31]="FaXiang"]=31,s[a[32]="FirstRecharge"]=32,s[a[46]="JiYuan"]=46,s[a[61]="RankList"]=61,s[a[62]="ThroughNewMap"]=62,s[a[66]="LingQuan"]=66,s[a[76]="LingMai"]=76,s[a[77]="QiLing"]=77,s[a[78]="JingMai"]=78,s[a[79]="DiGong"]=79,s[a[80]="DongTian"]=80,s[a[82]="XianMeng"]=82,s[a[83]="XianMengBuild"]=83,s[a[84]="XianMengSkill"]=84,s[a[85]="XianMengShop"]=85,s[a[86]="XianMengYanHui"]=86,s[a[87]="XianMengBoss"]=87,s[a[88]="XianMengWeiDao"]=88,s[a[89]="XianMengShiWu"]=89,s[a[81]="DailyRecharge"]=81,s[a[1001]="GROW_GIFT_1"]=1001,s[a[1002]="GROW_GIFT_2"]=1002,s[a[1003]="GROW_GIFT_3"]=1003,s[a[1004]="GROW_GIFT_4"]=1004,s[a[1005]="GROW_GIFT_5"]=1005,s[a[1006]="GROW_GIFT_6"]=1006,s[a[1007]="GROW_GIFT_7"]=1007,s[a[1008]="GROW_GIFT_8"]=1008,s[a[1009]="GROW_GIFT_9"]=1009,s[a[1010]="GROW_GIFT_10"]=1010,s[a[1011]="GROW_GIFT_11"]=1011,s[a[1012]="FIRST_RECHARGE_1"]=1012,s),c.FunctionOpenConditionType=(o={},(r=Object.create(o))[o[1]="Level1"]=1,r[o[2]="Level2"]=2,r[o[3]="ThroughMap"]=3,r[o[4]="Vip"]=4,r[o[5]="ServerDayTime"]=5,r[o[7]="DanDaoLevel"]=7,r[o[8]="QiDaoLevel"]=8,r),c),l),u),d),n.exports=En,cc._RF.pop()},{protobuf:"protobuf"}],test:[function(e,t,n){cc._RF.push(t,"07654q9Lu5F2Lzf6w1XCCfq","test"),yx.TestUtil=function(){this.init()},yx.TestUtil.prototype={constructor:yx.TestUtil,init:function init(){},testLoadPrefab:function testLoadPrefab(){this.LoadDir("prefabs/")},LoadOnePrefab:function LoadOnePrefab(){this._urls=[],this._urls.push("prefabs/panels/MiLingPanel"),this.testLoadOne()},LoadDir:function LoadDir(e){this._urls=[],cc.loader._resources.getUuidArray(e,null,this._urls),this.testLoadOne()},testLoadOne:function testLoadOne(){if(0<this._urls.length){this._currUrl=this._urls.pop(),yx.log("[Test testLoadOne] start ================================================================="),this._timeS=Date.now();var o=this;this._timeO=this._timeS,this._showTotal=!1,yx.resUtil.LoadRes(this._currUrl,function(e,t,n){var i=(Date.now()-o._timeO)/1e3;.3<=i?yx.error("[Test testLoadOne] completeCount:"+e+" totalCount:"+t+" url:"+o._currUrl+" item:"+n.url+" duration:"+i+"s"):.05<=i?yx.warn("[Test testLoadOne] completeCount:"+e+" totalCount:"+t+" url:"+o._currUrl+" item:"+n.url+" duration:"+i+"s"):yx.log("[Test testLoadOne] completeCount:"+e+" totalCount:"+t+" url:"+o._currUrl+" item:"+n.url+" duration:"+i+"s"),o._timeO=Date.now()},function(e,t){var n=(Date.now()-o._timeS)/1e3;.5<=n?yx.error("[Test testLoadOne] loadres complete "+o._currUrl+" duration:"+n+"s"):.2<=n?yx.warn("[Test testLoadOne] loadres complete "+o._currUrl+" duration:"+n+"s"):yx.log("[Test testLoadOne] loadres complete "+o._currUrl+" duration:"+n+"s"),cc.loader.releaseAsset(t),yx.CodeHelper.CallInNextTick(o.testLoadOne.bind(o))})}else yx.log("[Test] complete =================================================================")}},yx.testUtil=new yx.TestUtil,t.exports=yx.testUtil,cc._RF.pop()},{}]},{},["GameMain","NameCertificationPanel","QQQunRewardPanel","Version","ActivityCunJieScrollItem","ActivityCunJieScrollItem2","ActivityDailyScrollItem","ActivityRankScrollItem","ActivityScrollItem","ActivityScrollItem2","ActivityScrollItem3","ActivityTabItem","ActivityWindow","FenXiangPanel","JueXuePanel","ShouChongPanel","ShouChongPerDay","TurnTableRewardPanel","WXShouCangPanel","BagWindow","DanYaoNumItem","DanYaoTitleItem","EquipDetailPanel","EquipWidget","ItemDetailPanel","ItemSelectPanel","ItemSelectWidget","LongWangWindow","OneKeySellPanel","PkgUpgradePanel","RoleInfoWindow","SkinChangePanel","SkinSelectItem","SkinTotalAttrPanel","SkinWindow","XiSuiItem","XiSuiPanel","BattleActivityCDPage","BattleActivityMJItem","BattleActivityMJPage","BattleActivityWindow","BattleGuaJiRewordWidget","BossPkResultPanel","CangBaoMapWindow","DropShowPanel","FightPanel","BuildPanel","ColorSquareItem","DaoLvWindow","DongFuWindow","LianLuItem","LianZhiItem","LianZhiPanel","LianZhiSelectItem","LingMaiWindow","QiLingActivityPanel","QiLingScrollItem","ShenHunWuDaoPanel","ShuGeWindow","ShuItem","ShuJiaItem","ShuPanel","StuffItemWidget","StuffWindow","XianNiangItem","XianNiangWindow","ChatItem","ChatPanel","ChengZhangLiBaoItem","ChengZhangLiBaoPanel","ShiZhuangLiBaoPanel","TongGuanRewardItem","TongGuanRewardPanel","XianShiLiBaoItem","XianShiLiBaoPanel","XianShiRewardItem","XianShiRewardPanel","AtrrItem","AttrGroupWidget","BaseItem","BaseRepeatItem","ClockWidget","CodeHelper","ColorUtil","DuiHuanWidget","EnumDefine","FightHelper","FrameLoadWidget","HelpPanel","ItemDetailShowPanel","ItemQuickBuyPanel","ItemRichTextWidget","ListToastWidget","LoadingWindow","LogUtil","LongPressWidget","NpcRichTextWidget","NumberWidget","NumpadPanel","RewardDisplayPanel","ScrollViewEnhance","ScrollViewRepeat","SettingItem","SimpleToastWidget","SimpleWidget","SkillTipsPanel","TextConfirm","TextDict","TimeProBarWidget","TimeUtil","ToastUtil","TuJianItemWidget","WaitingPanel","WindowInfoDict","DiarysDict","DiarysUtil","DiGongRankPanel","DiGongSaoDangPanel","DongTianHunItem","DongTianLuoDuoPanel","DongTianRewardPanel","DongTianRoleItem","DongTianXiuLianPanel","FangShiScrollItem","FangShiWindow","GoodsDetailPanel","GoodsItemWidget","HuoLangWindow","XianFangWindow","FengShenItem","FengShenRankPanel","FengShenWindow","KuiTanTianJiWindow","XianDingFaQiInfoItem","XianDingFaQiPanel","Adapter","ConfigManager","FrameWork","LocalStorage","PreDefine","ResUtil","SoundManager","EventDispatch","HttpRequest","NetWork","SocketWrapper","BaseWindow","GoBackWidget","SceneManager","WindowManager","FuBenDiGongPage","FuBenDongTianPage","FuBenShengShouPage","FuBenWindow","GongFaScrollItem","GongFaWindow","ZhaoShiScrollItem","HeiShiItem","HeiShiRewardPanel","HeiShiWindow","ItemWidget","BiWuItem","BiWuRankItem","BiWuRankPanel","BiWuResultPanel","DouFaItem","DouFaResultPanel","JingJiWindow","JiYuanWindow","ChuangXianItem","ChuangXianWindow","ChuiDiaoFrameEvent","ChuiDiaoWindow","DuiHuanPanel","LiLianItem","LiLianItemTipPanel","LiLianWindow","QiYuWindow","ShenHunShiYiPanel","ShuoMIngPanel","XianJIeMenPanel","YuHuoPanel","CreateRoleWindow","GongGaoPanel","LoginWindow","ServerInfoWidget","ServerListPanel","ServerRegionItem","SplashWindow","MailInfoPanel","MailItem","MailWindow","YiJianFanKuiPanel","ChangNamePanel","ChangeWorldPanel","DuJieWindow","ItemUsePanel","LiXianPanel","MainBattleWindow","MainWindow","QuickBattlePanel","QuickBattleResultPanel","XiuZhenRiZhiPanel","ActivityMgr","BaGuaMgr","BadgeMgr","BagMgr","BattleMgr","BiWuMgr","CangBaoTuMgr","CaveMgr","ChengZhangLiBaoMgr","ChuangXianZhenMgr","ChuiDiaoMgr","DaoLvMgr","DiGongMgr","DongTianMgr","FaQiMgr","FangShiMgr","FengShengBangMgr","GongFaMgr","HeiShiMgr","HuoLangMgr","JiYuanMgr","LingMaiMgr","MailMgr","MenPaiMgr","MiLingMgr","PerDayChongZhiMgr","PlayerMgr","QQqunMgr","RankMgr","RechargeMgr","RichangMgr","ServerMgr","ShareMgr","ShenYouMgr","ShengShouMgr","SkinMgr","TaskMgr","WuDaoMgr","XiSuiMgr","XianFangMgr","XianMengMgr","YouLiMgr","ZhaoDianShiMgr","ZongMenMgr","MenPaiChuangongPanel","MenPaiDuiHuanPanel","MenPaiDuiHuanScrollItem","MenPaiQingAnPanel","MenPaiSelectPanel","MenPaiSelectScrollItem","MenPaiShouYePanel","MenPaiShouYeScrollItem","MenPaiTaskScrollItem","MenPaiTiaoZhanPanel","MenPaiWindow","MenPaiZhiWeiPanel","MenPaiZhiWeiScrollItem","MiLingBuyLevelPanel","MiLingLockPanel","MiLingPanel","MiLingRewardScrollItem","MiLingTaskScrollItem","protobuf","protores","AtrrRankItem","AtrrRankPanel","RankItem","RankPanel","RichangReward","RichangScrollItem","RichangWindow","RichangZhaohuiPanel","RichangZhaohuiScrollItem","SdkComBase","SdkComBhwx","SdkComCsqq","SdkComSsAndroid","SdkComSswx","SdkComTywx","SdkConfig","SdkMidLayer","GameHelpPanel","GameHelpTitleItem","SettingPanel","test","VipWindow","WuDaoWindow","XianMengApplyListItem","XianMengApplyListPanel","XianMengBossItem","XianMengBossRankItem","XianMengBossRankPanel","XianMengBossRankRewardItem","XianMengBossRankRewardPanel","XianMengBossRewardPanel","XianMengChangNamePanel","XianMengCreatePanel","XianMengDaTingPage","XianMengGongGaoListItem","XianMengGongGaoListPanel","XianMengJianShePage","XianMengListItem1","XianMengListItem2","XianMengListPanel1","XianMengListPanel2","XianMengMemberItem","XianMengMemberPanel","XianMengMiJIngPage","XianMengPlayerInfoPanel","XianMengRecordItem","XianMengRecordPanel","XianMengShopPanel","XianMengWindow","XianMengZhanPage","XianMengZhenFaPage","XianMengZhenfaItem","FaQiInfoPanel","FaQiJiaChengPanel","FaQiLevelPanel","FaQiLevelScrollItem","XiuLianBaGuaPage","XiuLianFaQiPage","XiuLianFaZhenItem","XiuLianFaZhenPanel","XiuLianWindow","YouLiItem","YouLiMapGroupItem","YouLiMapItem","YouLiMapWindow","YouLiWindow","ZhaoDianShiWindow","ChangeZhongZuPanel","ChangeDuiLianPanel","CreateZongMenPanel","ShanMenWindow","ShiSiWindow","WuDaoShiRewardPanel","WuDaoShiRewardScrollItem","WuDaoShiWindow","ZongMenHuoDongScrollItem","ZongMenHuoDongWindow","ZongMenWindow"])}.call(this,__webpack_require__(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(t,e){(function(e){t.exports=e}).call(this,{})}]);