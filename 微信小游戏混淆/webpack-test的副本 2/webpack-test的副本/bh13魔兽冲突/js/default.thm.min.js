var egret=window.egret,__reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i},JSONParseClass=function(){function e(){this.skinClass={},this.euiNormalizeNames={$eBL:"eui.BitmapLabel",$eB:"eui.Button",$eCB:"eui.CheckBox",$eC:"eui.Component",$eDG:"eui.DataGroup",$eET:"eui.EditableText",$eG:"eui.Group",$eHL:"eui.HorizontalLayout",$eHSB:"eui.HScrollBar",$eHS:"eui.HSlider",$eI:"eui.Image",$eL:"eui.Label",$eLs:"eui.List",$eP:"eui.Panel",$ePB:"eui.ProgressBar",$eRB:"eui.RadioButton",$eRBG:"eui.RadioButtonGroup",$eRa:"eui.Range",$eR:"eui.Rect",$eRAl:"eui.RowAlign",$eS:"eui.Scroller",$eT:"eui.TabBar",$eTI:"eui.TextInput",$eTL:"eui.TileLayout",$eTB:"eui.ToggleButton",$eTS:"eui.ToggleSwitch",$eVL:"eui.VerticalLayout",$eV:"eui.ViewStack",$eVSB:"eui.VScrollBar",$eVS:"eui.VSlider",$eSk:"eui.Skin"}}return e.prototype.setData=function(e){if(this.json)for(var t in this.parseSkinMap(e),e)this.json[t]=e[t];else this.json=e,this.parseSkinMap(this.json)},e.prototype.generateSkinClass=function(e,t,i){if(!e)return null;for(var r=i.split("."),s=window,n=0,a=r;n<a.length;n++){var o=a[n];s=s[o]}function l(){s.call(this),window.JSONParseClass.create(t,this)}return __extends(l,s),__reflect(l,t,[i]),l},e.prototype.parseSkinMap=function(e){var t={};for(var i in e){var r=e[i];if(r){for(var s=i.split("."),n=window,a=0,o=s;a<o.length;a++){var l=o[a],u=n;l!==s[s.length-1]&&null==(n=n[l])&&(n={},u[l]=n)}var p=null==this.euiNormalizeNames[r.$sC]?r.$sC:this.euiNormalizeNames[r.$sC];t[i]=n[s[s.length-1]]=this.generateSkinClass(r,i,p),e[i].$path&&(generateEUI2.paths[e[i].$path]=t[i])}}return t},e.prototype.create=function(e,t){if(!this.json)return console.log("Missing json defined by eui resource, please modify the theme adapter"),void console.log("缺少eui资源定义的json，请修改主题适配器");this.target=t,this.skinName=e,this.skinClass=this.json[e],this.applyBase(),this.applySkinParts(),this.applyState(),this.applyBinding(),null==this.skinClass.$sP?this.target.skinParts=[]:this.target.skinParts=this.skinClass.$sP},e.prototype.applySkinParts=function(){if(null!=this.skinClass.$sP)for(var e=0,t=this.skinClass.$sP;e<t.length;e++){var i=t[e];null==this.target[i]&&this.createElementContentOrViewport(i)}},e.prototype.applyBase=function(){null!=this.skinClass.$bs&&this.addCommonProperty("$bs",this.target)},e.prototype.createElementContentOrViewport=function(e){var t,i=this.getNormalizeEuiName(this.skinClass[e].$t);if("egret.tween.TweenGroup"==i)t=this.creatsEgretTweenGroup(e);else{var r=egret.getDefinitionByName(i);this.$createNewObject(function(){t=new r}),this.addCommonProperty(e,t)}return this.target[e]=t},e.prototype.$createNewObject=function(e){var t=this.skinName,i=this.target;e(),this.skinName=t,this.skinClass=this.json[this.skinName],this.target=i},e.prototype.creatsEgretTweenGroup=function(e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].items;r<s.length;r++){var n=s[r];i.push(this.createEgretTweenItem(n))}return t.items=i,t},e.prototype.createEgretTweenItem=function(n){function e(e){var t=u.skinClass[n][e];if("$t"==e||"target"==e);else if("paths"==e)for(var i=0,r=t;i<r.length;i++){var s=r[i];l.push(u.createSetOrTo(s))}else"target"==e?u.$createNewObject(function(){o[e]=a.createElementContentOrViewport(t),a.target[t]=o[e]}):o[e]=t}var a=this,o=this.createTypeObject(n),l=[],u=this;for(var t in this.skinClass[n])e(t);return o.paths=l,this.target[n]=o},e.prototype.createSetOrTo=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e]){var r=this.skinClass[e][i];"$t"==i||"target"==i||("props"==i?(t[i]=this.createObject(r),this.target[r]=t[i]):t[i]=r)}return t},e.prototype.createObject=function(e){var t={};for(var i in this.skinClass[e])"$t"==i||"target"==i||(t[i]=this.skinClass[e][i]);return t},e.prototype.addCommonProperty=function(e,a){function t(s){var n=o.skinClass[e][s];"$t"==s||("layout"==s?a[s]=o.createLayout(n):"$eleC"==s?i=n:"$sId"==s?r=n:"scale9Grid"==s?a[s]=o.getScale9Grid(n):"skinName"==s?o.$createNewObject(function(){a[s]=n}):"itemRendererSkinName"==s?o.$createNewObject(function(){for(var e=n.split("."),t=window,i=0,r=e;i<r.length;i++){t=t[r[i]]}a[s]=t}):a[s]="itemRenderer"==s?egret.getDefinitionByName(n):"dataProvider"==s?o.createDataProvider(n):"viewport"==s?o.createElementContentOrViewport(n):n)}var i,r,o=this;for(var s in this.skinClass[e])t(s);var n=[];if(i&&0<i.length)for(var l=0,u=i;l<u.length;l++){var p=u[l],c=this.createElementContentOrViewport(p);n.push(c)}if(a.elementsContent=n,r&&0<r.length)for(var h=0,m=r;h<m.length;h++){p=m[h];this.createElementContentOrViewport(p)}return a},e.prototype.createLayout=function(e){var t=this.createTypeObject(e),i=this.skinClass[e];for(var r in i)"$t"!==r&&(t[r]=i[r]);return this.target[e]=t},e.prototype.applyState=function(){if(null!=this.skinClass.$s){var e=[];for(var t in this.skinClass.$s){var i=[],r=this.skinClass.$s[t];if(r.$saI)for(var s=0,n=r.$saI;s<n.length;s++){var a=n[s];i.push(new eui.AddItems(a.target,a.property,a.position,a.relativeTo))}if(r.$ssP)for(var o=0,l=r.$ssP;o<l.length;o++){if((a=l[o]).name){var u=a.value;"scale9Grid"==a.name&&(u=this.getScale9Grid(a.value)),i.push(new eui.SetProperty(a.target,a.name,u))}else i.push(new eui.SetStateProperty(this.target,a.templates,a.chainIndex,this.target[a.target],a.property))}e.push(new eui.State(t,i))}this.target.states=e}},e.prototype.applyBinding=function(){if(null!=this.skinClass.$b)for(var e=0,t=this.skinClass.$b;e<t.length;e++){var i=t[e];void 0!==i.$bc?eui.Binding.$bindProperties(this.target,i.$bd,i.$bc,this.target[i.$bt],i.$bp):eui.Binding.bindProperty(this.target,i.$bd[0].split("."),this.target[i.$bt],i.$bp)}},e.prototype.createDataProvider=function(e){if(""!=e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].source;r<s.length;r++){var n=s[r];i.push(this.createItemRender(n))}return t.source=i,t}},e.prototype.createItemRender=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e])"$t"!=i&&(t[i]=this.skinClass[e][i]);return t},e.prototype.getNormalizeEuiName=function(e){return this.euiNormalizeNames[e]?this.euiNormalizeNames[e]:e},e.prototype.createTypeObject=function(e){var t=this.getNormalizeEuiName(this.skinClass[e].$t);return new(egret.getDefinitionByName(t))},e.prototype.getScale9Grid=function(e){var t=e.split(",");return new egret.Rectangle(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]))},e}();window.JSONParseClass=new JSONParseClass,window.generateEUI2={},generateEUI2.paths={},generateEUI2.styles={FightTips:{size:25,bold:!0,textColor:"0xFFea00"}},generateEUI2.skins={"eui.CheckBox":"resource/exml/eui_skins/CheckBoxSkin.exml","eui.HScrollBar":"resource/exml/eui_skins/HScrollBarSkin.exml","eui.Panel":"resource/exml/eui_skins/PanelSkin.exml","eui.TextInput":"resource/exml/eui_skins/TextInputSkin.exml","eui.ProgressBar":"resource/exml/eui_skins/ProgressBarSkin.exml","eui.TabbarButton":"resource/exml/eui_skins/TabbarButtonSkin1.exml","eui.Button":"resource/exml/eui_skins/ButtonSkinCuHuang.exml","eui.Scroller":"resource/exml/eui_skins/ScrollerSkin.exml","eui.ToggleSwitch":"resource/exml/eui_skins/ToggleSwitchSkin.exml","eui.VScrollBar":"resource/exml/eui_skins/VScrollBarSkin.exml","eui.EditableText":"resource/exml/eui_skins/EditableTextSkin.exml","eui.VSlider":"resource/exml/eui_skins/VSliderSkin.exml","eui.ItemRenderer":"resource/exml/eui_skins/ItemRendererSkin.exml","customui.FightModel":"resource/exml/module/FightModelSkin.exml","customui.PkmFormationListHor":"resource/exml/module/PkmFormationListHor.exml","customui.RadarChart":"resource/exml/component/RadarChart.exml"};