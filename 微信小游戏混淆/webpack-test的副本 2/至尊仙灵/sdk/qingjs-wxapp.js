!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=33)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillboardPopupFrequency=t.BillboardPopupTiming=t.SDKType=t.RealNamePopupTime=t.H5GuideType=t.OpenCustomerServiceType=t.PayInfoType=t.ResponseCode=t.PayState=t.OSName=t.OSCodeEnum=t.StoreKey=t.CXSDK_VERSION=void 0,t.CXSDK_VERSION="2.0.0",function(e){e.FENBAO_IOS="CX_FENBAO_IOS",e.FENBAO_ANDROID="CX_FENBAO_ANDROID",e.FENBAO_ANDROID_V1="CX_FENBAP_ANDROID",e.AD_CLICK_ID="CX_AD_CLICK_ID",e.IN_LIST="CX_IN_LIST",e.OPENID="CX_OPEN_ID",e.CX_NOT_FOUND_GAME_KEY_SELECT_OS="CX_NOT_FOUND_GAME_KEY_SELECT_OS",e.BILLBOARD_LAST_SHOW_TIME_PREFIX="CX_BOARD_LAST_SHOW_DATE:",e.ROLE_INFO="CX_ROLE_INFO",e.DEVICE_ID="CX_DEVICE_ID"}(t.StoreKey||(t.StoreKey={})),function(e){e[e.OS_CODE_IOS=0]="OS_CODE_IOS",e[e.OS_CODE_ANDROID=1]="OS_CODE_ANDROID",e[e.OS_CODE_WINDOWS=2]="OS_CODE_WINDOWS",e[e.OS_CODE_MACOS=3]="OS_CODE_MACOS",e[e.OS_CODE_UNKNOWN=1e3]="OS_CODE_UNKNOWN"}(t.OSCodeEnum||(t.OSCodeEnum={})),function(e){e.ANDROID="Android",e.IOS="iOS"}(t.OSName||(t.OSName={})),function(e){e[e.SUCCESS=2]="SUCCESS"}(t.PayState||(t.PayState={})),function(e){e[e.SDK_PAY_MINORS_LIMIT=2011]="SDK_PAY_MINORS_LIMIT",e[e.SDK_PAY_MINORS_LIMIT_TOAST=2012]="SDK_PAY_MINORS_LIMIT_TOAST",e[e.NEED_LOGIN=4003]="NEED_LOGIN"}(t.ResponseCode||(t.ResponseCode={})),function(e){e[e.PAY_INFO_TYPE_HTML=0]="PAY_INFO_TYPE_HTML",e[e.PAY_INFO_TYPE_STRING=1]="PAY_INFO_TYPE_STRING",e[e.PAY_INFO_TYPE_URL=2]="PAY_INFO_TYPE_URL",e[e.PAY_INFO_TYPE_IAP=3]="PAY_INFO_TYPE_IAP",e[e.PAY_INFO_TYPE_QR_CODE=4]="PAY_INFO_TYPE_QR_CODE",e[e.PAY_INFO_TYPE_MINI_PROGRAM=5]="PAY_INFO_TYPE_MINI_PROGRAM",e[e.PAY_INFO_TYPE_QR_CODE_WITH_CLIPBOARD=6]="PAY_INFO_TYPE_QR_CODE_WITH_CLIPBOARD",e[e.PAY_INFO_TYPE_ORDER_FINISH=7]="PAY_INFO_TYPE_ORDER_FINISH",e[e.PAY_INFO_TYPE_MSG=8]="PAY_INFO_TYPE_MSG"}(t.PayInfoType||(t.PayInfoType={})),function(e){e[e.DIRECT=0]="DIRECT",e[e.QR_CODE=1]="QR_CODE"}(t.OpenCustomerServiceType||(t.OpenCustomerServiceType={})),function(e){e[e.CUSTOMER_MESSAGE=1]="CUSTOMER_MESSAGE",e[e.PREVIEW_IMAGE=2]="PREVIEW_IMAGE"}(t.H5GuideType||(t.H5GuideType={})),function(e){e[e.GOVERNMENT_STANDARD=1]="GOVERNMENT_STANDARD",e[e.BEFORE_PAY=2]="BEFORE_PAY",e[e.AFTER_PAY=3]="AFTER_PAY"}(t.RealNamePopupTime||(t.RealNamePopupTime={})),function(e){e.JS_WEIXIN_MINI_GAME="js-wx-mini-game",e.JS_H5="js-h5",e.IOS_NATIVE="ios-native",e.ANDROID_NATIVE="android-native"}(t.SDKType||(t.SDKType={})),function(e){e.LOGIN="login",e.ENTER_GAME="entergame",e.LAUNCHED="launched"}(t.BillboardPopupTiming||(t.BillboardPopupTiming={})),function(e){e.ONLY_ONCE="only_once",e.ONCE_A_DAY="once_a_day",e.ALWAYS="always"}(t.BillboardPopupFrequency||(t.BillboardPopupFrequency={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(){function e(){}return e.prototype.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},e.prototype.getOsCodeByName=function(e){return"Android"===e?o.OSCodeEnum.OS_CODE_ANDROID:e.toLowerCase().indexOf("win")>=0?o.OSCodeEnum.OS_CODE_WINDOWS:"OSX"===e||"macOS"===e?o.OSCodeEnum.OS_CODE_MACOS:"iOS"===e?o.OSCodeEnum.OS_CODE_IOS:o.OSCodeEnum.OS_CODE_UNKNOWN},e.prototype.getOsNameByCode=function(e){return e===o.OSCodeEnum.OS_CODE_ANDROID?"Android":e===o.OSCodeEnum.OS_CODE_WINDOWS?"Windows":e===o.OSCodeEnum.OS_CODE_MACOS?"macOS":e===o.OSCodeEnum.OS_CODE_IOS?"iOS":"UNKNOWN"},e.prototype.getOsTipsByCode=function(e){return e===o.OSCodeEnum.OS_CODE_ANDROID?"安卓":e===o.OSCodeEnum.OS_CODE_WINDOWS?"Windows":e===o.OSCodeEnum.OS_CODE_MACOS?"macOS":e===o.OSCodeEnum.OS_CODE_IOS?"iOS":"UNKNOWN"},e.prototype.queryParams=function(e){var t=[],n=function(n){if(!e.hasOwnProperty(n))return"continue";var o=e[n];if(!o)return"continue";o.constructor===Array?o.forEach(function(e){t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))};for(var o in e)n(o);return t.length?""+t.join("&"):""},e.prototype.currentDate=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),r=n+"";n<10&&(r="0"+n);var i=o+"";return o<10&&(i="0"+o),t+"-"+r+"-"+i},e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonData=void 0;var o=function(){return function(){}}();t.CommonData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instance=void 0;var o=n(4);try{console.log("qingjs build time: "+BUILD_TIME)}catch(e){}var r=n(20),i=n(21),s=i.cxGetRequestData,a=i.cxGetResponseData,u=s,c=new o.CXSDK(r,u,function(e){return(e=a(e)).substring(0,e.lastIndexOf("}")+1)}),p=function(){function e(){}return e.prototype.isVideoAdValid=function(){return c.wechatADApp&&c.wechatADApp.isVideoAdValid()},e.prototype.showVideoAd=function(e){c.wechatADApp&&c.wechatADApp.showVideoAd(e)},e}(),l=function(){function e(){this.channelName="",this.WechatAD=new p}return e.prototype.init=function(){throw Error("init 方法已经过时，请使用qingjs.instance.onInit(callback)代替")},e.prototype.onInit=function(e){c.onInit(e)},e.prototype.login=function(e,t){c.onLogin(t)},e.prototype.canPay=function(){return c.payApp.canPay()},e.prototype.can_pay=function(){return console.warn("can_pay 方法已过时，请使用canPay"),this.canPay()},e.prototype.purchase=function(e,t){e.productName=null!=e.product_name?e.product_name:e.productName,e.productId=null!=e.product_id?e.product_id:e.productId,e.productPrice=null!=e.product_price?e.product_price:e.productPrice,e.cpOrderId=null!=e.cp_order_id?e.cp_order_id:e.cpOrderId,e.extendsParam1=null!=e.extends_param1?e.extends_param1:e.extendsParam1,e.extendsParam2=null!=e.extends_param2?e.extends_param2:e.extendsParam2,e.roleId=null!=e.role_id?e.role_id:e.roleId,e.roleName=null!=e.role_name?e.role_name:e.roleName,e.roleLevel=null!=e.role_level?e.role_level:e.roleLevel,e.serverId=null!=e.server_id?e.server_id:e.serverId,e.serverName=null!=e.server_name?e.server_name:e.serverName,e.roleVip=null!=e.role_vip?e.role_vip:e.roleVip,c.purchase(e).then(function(e){var n=e;n.is_success=e.isSuccess,n.cp_order_id=e.cpOrderId,n.cx_order_id=e.cxOrderId,t&&t(n)}).catch(function(e){console.error(e)})},e.prototype.onPayResult=function(e){c.payApp.addOnPayResultCallback(function(t){var n=t;n.is_success=t.isSuccess,n.cp_order_id=t.cpOrderId,n.cx_order_id=t.cxOrderId,e&&e(n)})},e.prototype.on_pay_result=function(e){console.warn("on_pay_result 方法已过时，请使用onPayResult"),this.onPayResult(e)},e.prototype.inList=function(){return c.payApp.inList},e.prototype.in_list=function(){return console.warn("in_list 方法已过时，请使用inList"),this.inList()},e.prototype.reportRoleInfo=function(e,t){e.roleId=null!=e.roleId?e.roleId:e.role_id,e.roleLevel=null!=e.roleLevel?e.roleLevel:e.role_level,e.roleName=null!=e.roleName?e.roleName:e.role_name,e.rolePower=parseInt(String(null!=e.rolePower?e.rolePower:e.role_power)),e.serverId=null!=e.serverId?e.serverId:e.server_id,e.serverName=null!=e.serverName?e.serverName:e.server_name,e.roleVip=parseInt(String(null!=e.roleVip?e.roleVip:e.role_vip)),e.reportType=null!=e.reportType?e.reportType:e.report_type,c.reportRoleInfo(e).then(function(e){var n=Object.assign({},e);n.can_pay=e.canPay,t&&t(n)})},e.prototype.report_role_info=function(e,t){console.warn("report_role_info 方法已过时，请使用reportRoleInfo"),this.reportRoleInfo(e,t)},e.prototype.reportEvent=function(e){c.reportEvent(e)},e.prototype.report_event=function(e){console.warn("report_event 方法已过时，请使用reportEvent"),this.reportEvent(e)},e.prototype.getShareToken=function(){return c.getShareToken()},e.prototype.get_share_token=function(){return console.warn("get_share_token 方法已过时，请使用getShareToken"),this.getShareToken()},e.prototype.getOS=function(){return c.deviceInfo.os},e.prototype.openCustomerService=function(){c.openCustomerService()},e.prototype.showMenu=function(e){c.uiApp&&c.uiApp.showMenu(e)},e.prototype.onUserInfoBtnTap=function(e){c.onUserInfoBtnTap(e)},e.prototype.goCustomerService=function(){c.openCustomerService()},e.prototype.queryOrderResult=function(e,t){c.payApp.queryOrderResult(e).then(function(e){var n=e;n.is_success=e.isSuccess,n.cp_order_id=e.cpOrderId,n.cx_order_id=e.cxOrderId,c.log(n),t&&t(n)})},e.prototype.query_order_result=function(e,t){console.warn("query_order_result 方法已过时，请使用queryOrderResult"),this.queryOrderResult(e,t)},e}();t.instance=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CXSDK=t.CXRequestError=void 0;var o=n(5),r=n(1),i=n(6),s=n(7),a=n(8),u=n(9),c=n(2),p=n(10),l=n(11),f=n(12),h=n(13),d=n(14),_=n(15),y=n(16),g=n(17),I=n(18),m=n(19),O=n(0),v=function(){return function(){}}();t.CXRequestError=v;var b=function(){function e(e,t,n){this.getOpenIDChannelCode=44,this.loginChannel=-1,this.loginChannelUID="",this.loginChannelToken="",this._console=new I.CXConsole,this._subApps=[],this._hasCallInit=!1,this._conf=e,this.encryptFunction=t,this.decryptFunction=n,this._console.logLog=this.conf.DEBUG,this.log("QING_CONF.APP_VERSION:"+this._conf.APP_VERSION),this.log("QING_CONF.GAMEKEY:"+this._conf.GAMEKEY),this._commonData=new c.CommonData,this._db=new u.DB,this._userInfo=new d.UserInfo(this._db),this._urlManager=new s.UrlManager(this._conf),this._urlManager.setSDK(this),this._deviceInfo=new a.DeviceInfo,this.initSubApp(),this._appRunner=new y.AppRunner,this._appRunner.setSDK(this),this._appRunner.onSDKCreate()}return e.prototype.initSubApp=function(){for(var e in this._subApps.push(this._urlManager),this._subApps.push(new i.WXInit),this._subApps.push(new p.ConfCommonDataApp),this._subApps.push(new l.AutoInitLoginApp),this._payApp=new h.PayApp,this._subApps.push(this._payApp),this._fenbaoIDApp=new _.FenbaoIDApp,this._subApps.push(this._fenbaoIDApp),this._subApps.push(new g.OnlineTimeApp),this._subApps.push(new m.BillboardApp),GameGlobal.CXChannelApp&&this._subApps.push(GameGlobal.CXChannelApp),this._subApps){this._subApps[e].setSDK(this)}this._callbackApp=new f.CallbackApp,this._subApps.push(this._callbackApp),this._callbackApp.setSDK(this)},e.prototype.log=function(e){this._console.log(e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._console.warn.apply(this._console,arguments)},e.prototype.onInit=function(e){this._callbackApp.addOnInitCallback(e)},e.prototype.onLogin=function(e){this._callbackApp.addOnLoginCallback(e)},e.prototype.onUserInfoBtnTap=function(e){this._requestUserInfoApp&&this._requestUserInfoApp.addOnUserInfoBtnTapCallback(e)},e.prototype.isInit=function(){return!!this._initResponse},e.prototype.init=function(){var e=this;this._hasCallInit=!0,this._appRunner.beforeInit().then(function(t){e.requestInit().then(function(t){e._initResponse=t,e._appRunner.onInit(t).then()})})},e.prototype.request=function(e,t,n){void 0===n&&(n=!0);var r=this;n&&(t=Object.assign(t,this.copyCommonData()));var i=JSON.stringify(t);return this.encryptFunction&&(i=this.encryptFunction(t)),new Promise(function(t,n){o.default.requestCXServer(e,i).then(function(e){if(200==e.statusCode){var o=e.data,i=o.message;if(200!=o.code)n({statusCode:e.statusCode,code:o.code,errMsg:i});else if("string"==typeof o.data){var s=r.decryptFunction(o.data);t(JSON.parse(s))}else t(o.data)}else n({statusCode:e.statusCode,code:-1,errMsg:"server error"})})})},e.prototype.getRequest=function(e,t){var n=this;return new Promise(function(r,i){o.default.getRequest(e,t).then(function(e){if(200==e.statusCode){var t=e.data,o=t.message;if(200!=t.code)i({statusCode:e.statusCode,code:t.code,errMsg:o});else if("string"==typeof t.data){var s=n.decryptFunction(t.data);r(JSON.parse(s))}else r(t.data)}else i({statusCode:e.statusCode,code:-1,errMsg:"server error"})})})},e.prototype.requestInit=function(){var e=this,t={},n=this.urlManager.initUrl;return new Promise(function(o,r){e.request(n,t).then(function(t){e.log("初始化成功"),o(t)}).catch(function(t){e.log("初始化失败:"+t.errMsg),r(t.errMsg)})})},e.prototype.getOpenID=function(e){var t=this;void 0===e&&(e=!1);var n=this;function o(e,t){wx.login({success:function(o){if(o.code){n.log("微信登录成功");var r=o.code,i=n.commonData.game_key,s={channel:n.getOpenIDChannelCode,oauth_code:r,game_key:i},a=n.urlManager.oauthUrl;n.request(a,s,!1).then(function(t){n._openID=t.uid,n.db.setID(O.StoreKey.OPENID,n._openID),e(n._openID)}).catch(t)}},fail:function(e){n.log("wx.login fail"),n.log(e)}})}return new Promise(function(r,i){t._openID||(t._openID=t.db.getID(O.StoreKey.OPENID)),e&&o(r,i),t._openID?(n.log("checkSession"),wx.checkSession({success:function(){r(n._openID)},fail:function(){o(r,i)}})):o(r,i)})},e.prototype.forceGetOpenID=function(){return this.getOpenID(!0)},e.prototype.isLogin=function(){return!!this._loginResponse},e.prototype.login=function(){var e=this;if(!this._hasCallInit)throw new Error("CX登录失败，尚未调用初始化");this._callbackApp.addOnInitCallback(function(){e._appRunner.beforeLogin().then(function(t){e.requestLogin().then(function(t){e._loginResponse=t,e._userInfo.gameAccount=t.game_account,e._userInfo.token=t.token,e._userInfo.uid=t.uid,e._userInfo.phone=t.bind_phone,e._userInfo.realNameInfo=t.real_name_info,e._appRunner.onLogin(t).then()})})})},e.prototype.requestLogin=function(){var e=this,t={};t.channel_uid=this.loginChannelUID,t.channel_token=this.loginChannelToken,t.channel=this.loginChannel;var n=this.urlManager.loginUrl;return new Promise(function(o,r){e.request(n,t).then(function(t){e.log("CX登录成功,绑定账号为:"+t.game_account),o(t)}).catch(function(t){e.log("CX登录失败:"+t.errMsg),wx.showToast({title:t.errMsg,icon:"none"}),r(t.errMsg)})})},e.prototype.purchase=function(e){var t=this;if(!this.isLogin())throw new Error("请先登录");return new Promise(function(n,o){t._appRunner.beforePay(e).then(function(o){wx.showLoading({title:"处理中"}),t._userInfo.setRoleInfoByPurchaseParameter(e),t.requestPurchase(e).then(function(o){wx.hideLoading(),t._purchaseResponse=o,t._appRunner.onPay(o).then(function(){n({code:200,message:"下单成功",isSuccess:!0,cpOrderId:e.cpOrderId,cxOrderId:o.order_id})})}).catch(function(o){wx.hideLoading(),console.warn(o),t._payApp.onPayCatch(o),n({code:-1,message:"下单失败",isSuccess:!1,cpOrderId:e.cpOrderId,cxOrderId:""})})}).catch(function(){})})},e.prototype.requestPurchase=function(e){var t=this,n={};return n.game_account=this._userInfo.gameAccount,n.product_name=e.productName,n.product_id=e.productId,n.product_price=e.productPrice,n.cp_order_id=e.cpOrderId,n.is_sandbox=!1,n.extends_param1=e.extendsParam1,n.extends_param2=e.extendsParam2,n.role_id=e.roleId,n.role_name=e.roleName,n.role_level=e.roleLevel,n.server_id=e.serverId,n.server_name=e.serverName,n.role_vip=e.roleVip,new Promise(function(e,o){var r=t.urlManager.purchaseUrl;t.payApp.getPurchaseUrlParameter().then(function(i){r+="?"+i,t.request(r,n).then(function(n){t.log("CX下单成功:"+n.order_id),e(n)}).catch(function(e){t.log("CX下单失败:"+e.errMsg),o(e)})})})},e.prototype.onPaySuccess=function(e){this._appRunner.onPaySuccess(e)},e.prototype.afterPay=function(e){},e.prototype.reportRoleInfo=function(e){var t=this;if(!this.isLogin())throw new Error("请先登录");var n=this;return this._userInfo.setRoleInfo(e),new Promise(function(o,r){n._appRunner.beforeReportRoleInfo(e).then(function(r){t.requestReportRoleInfo(e).then(function(e){n._appRunner.onReportRoleInfo(e).then(function(){o({code:200,message:"上报角色数据成功",canPay:n.payApp.canPay()})})}).catch(function(e){o({code:e.code,message:e.errMsg,canPay:n.payApp.canPay()})})})})},e.prototype.requestReportRoleInfo=function(e){var t=this,n=this.urlManager.reportRoleInfoUrl,o={};return o.game_account=this._userInfo.gameAccount,o.role_id=e.roleId,o.role_level=e.roleLevel,o.role_name=e.roleName,o.role_power=e.rolePower,o.server_id=e.serverId,o.server_name=e.serverName,o.role_vip=e.roleVip,o.report_type=e.reportType,new Promise(function(e,r){t.request(n,o).then(function(t){e(t)}).catch(function(e){t.log("CX上报角色数据失败:"+e.errMsg),r(e)})})},e.prototype.reportEvent=function(e){this.requestReportEvent(e).then()},e.prototype.requestReportEvent=function(e){var t=this,n=this.urlManager.reportEventUrl,o={};return o.game_account=this._userInfo.gameAccount,o.event_type=e.eventType,o.event_source=e.eventSource,o.event_ext=e.eventExt,new Promise(function(e,r){t.request(n,o).then(function(t){e(t)}).catch(function(e){t.log("CX上报日志失败:"+e.errMsg),r(e)})})},e.prototype.reportCommonEvent=function(e,t){void 0===t&&(t=null),this.requestReportCommonEvent2V1(e,t).then()},e.prototype.requestReportCommonEvent2V1=function(e,t){var n=this;void 0===t&&(t=null);var o=this.urlManager.reportCommonEvent2V1Url,r={};return r.event=e,r.content=t,new Promise(function(e,t){n.request(o,r).then(function(t){e(t)}).catch(function(e){n.log("CX上报COMMON日志失败:"+e.errMsg),t(e)})})},e.prototype.getShareToken=function(){var e=this._fenbaoIDApp.getFenbaoID();return e?"srcFID="+e:"srcFID=Natural"},e.prototype.openCustomerService=function(){var e={account:this._userInfo.gameAccount,roleName:this._userInfo.roleInfo.roleName,serverName:this._userInfo.roleInfo.serverName};console.error(e);var t=this._initResponse.game_settings.goCustomerServiceInfo;t.type==O.OpenCustomerServiceType.DIRECT?wx.setClipboardData({data:"",success:function(){wx.navigateToMiniProgram({appId:t.appConfig.appID,path:t.appConfig.newQuestionPath+"?"+r.default.queryParams(e),envVersion:"develop"})}}):wx.setClipboardData({data:r.default.queryParams(e),success:function(){var e=[];e.push(t.appConfig.qrCodeUrl),wx.previewImage({urls:e,complete:function(){}})}})},e.prototype.showModal=function(e,t,n){if(t){var o=this._urlManager.dialogConfigUrl,r={name:t};this.getRequest(o,r).then(function(t){var o=t.config;n&&n(o),o.title&&(e.title=o.title),o.content&&(e.content=o.content),o.button1&&(e.cancelText=o.button1),o.button2&&(e.confirmText=o.button2),wx.showModal(e)}).catch(function(){wx.showModal(e)})}else wx.showModal(e)},Object.defineProperty(e.prototype,"conf",{get:function(){return this._conf},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlManager",{get:function(){return this._urlManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceInfo",{get:function(){return this._deviceInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return this._db},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commonData",{get:function(){return this._commonData.fenbaoid=this.fenbaoIDApp.getFenbaoID(),this._commonData},set:function(e){this._commonData=e},enumerable:!1,configurable:!0}),e.prototype.copyCommonData=function(){return Object.assign({},this.commonData)},Object.defineProperty(e.prototype,"openID",{get:function(){return this._openID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payApp",{get:function(){return this._payApp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fenbaoIDApp",{get:function(){return this._fenbaoIDApp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wechatADApp",{get:function(){return this._wechatADApp},set:function(e){this._wechatADApp=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestUserInfoApp",{get:function(){return this._requestUserInfoApp},set:function(e){this._requestUserInfoApp=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userInfo",{get:function(){return this._userInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uiApp",{get:function(){return this._uiApp},set:function(e){this._uiApp=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h5GuideApp",{get:function(){return this._h5GuideApp},set:function(e){this._h5GuideApp=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subApps",{get:function(){return this._subApps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"console",{get:function(){return this._console},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cxChannelApp",{get:function(){return GameGlobal.CXChannelApp},enumerable:!1,configurable:!0}),e}();t.CXSDK=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetWorkRequest=void 0;var o=function(){function e(){}return e.prototype.requestCXServer=function(e,t,n){void 0===n&&(n=0);var o=this;return new Promise(function(r,i){if(n>2)return i(),void console.warn("requestCXServer fail:"+e);wx.request({url:e,method:"POST",data:{data:t},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){r(e)},fail:function(s){console.log("wx.request fail"),o.requestCXServer(e,t,n+1).then(r).catch(i)},complete:function(){}})})},e.prototype.getRequest=function(e,t,n){var o=this;return void 0===n&&(n=0),new Promise(function(r,i){if(n>2)return i(),void console.warn("normalGet fail:"+e);wx.request({url:e,data:t,method:"GET",dataType:"json",success:function(e){r(e)},fail:function(s){console.log("wx.request fail"),o.getRequest(e,t,n+1).then(r).catch(i)},complete:function(){}})})},e}();t.NetWorkRequest=o,t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WXInit=void 0;var o=function(){function e(){}return e.prototype.setSDK=function(e){this.sdk=e},e.prototype.beforeInit=function(){return this.init()},e.prototype.onInit=function(){this.reportEvent({eventType:"option",eventSource:"launch",eventExt:JSON.stringify(wx.getLaunchOptionsSync())})},e.prototype.reportEvent=function(e){this.sdk.reportEvent(e)},e.prototype.setInList=function(e){this.sdk.payApp.inList=e},e.prototype.wxOnShow=function(e){this.reportEvent({eventType:"onShow",eventSource:e.scene,eventExt:""}),this.reportEvent({eventType:"option",eventSource:"onshow",eventExt:JSON.stringify(e)})},e.prototype.wxOnHide=function(){this.reportEvent({eventType:"onHide",eventSource:"",eventExt:""})},e.prototype.registerOnShow=function(){wx.onShow&&wx.onShow(this.wxOnShow.bind(this)),wx.onAppShow&&wx.onAppShow(this.wxOnShow.bind(this)),wx.onHide&&wx.onHide(this.wxOnHide.bind(this)),wx.onAppHide&&wx.onAppHide(this.wxOnHide.bind(this))},e.prototype.init=function(){var e=this;return this.sdk.deviceInfo.sysInfo.model.toLowerCase().indexOf("wetest")>-1&&this.setInList(!0),new Promise(function(t){e.handleLaunchOptions(null).then(function(){e.registerOnShow(),t()})})},e.prototype.handleLaunchOptions=function(e){var t=e;null==t&&(t=wx.getLaunchOptionsSync());var n=t.scene;1030==n&&this.setInList(!0);var o=null;t.query.scene&&(o=decodeURIComponent(t.query.scene));o&&0==o.indexOf("orig_account:")&&(this.originAccount=o.substring("orig_account:".length));var r=t.query.fenbaoid,i=t.query.weixinadinfo,s=t.query.srcFID;i&&(s=i),t.referrerInfo&&t.referrerInfo.appId&&(s=t.referrerInfo.appId+"_"+t.referrerInfo.extraData);var a=n+"";if(s&&(a=n+"_"+s),r)this.sdk.fenbaoIDApp.setAndroidFenbaoID(r),this.sdk.fenbaoIDApp.setIOSFenbaoID(r);else if(o){var u=o.indexOf("cxhd:");if(u>=0){var c=(o=o.substring(u+5,o.length)).split("_")[0].split("-");this.sdk.fenbaoIDApp.setAndroidFenbaoID(c[0]),this.sdk.fenbaoIDApp.setIOSFenbaoID(c[1])}}return this.sdk.commonData.scene=a,this.sdk.commonData.scene_id=n+"",Promise.resolve(null)},e.prototype.name=function(){return"WXInit"},e}();t.WXInit=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlManager=void 0;var o=function(){function e(e){this.defaultDomainName="cxgame.net",this.hosts=[],this.curApiHost="https://api.cxgame.net",this.conf=e,console.log(this.conf),this.conf.API_HOST&&(this.curApiHost=this.conf.API_HOST)}return e.prototype.setSDK=function(e){this.sdk=e},e.prototype.name=function(){return"UrlManager"},e.prototype.beforeInit=function(){var e=this;return new Promise(function(t,n){e.checkHost().then(function(e){console.log("check host resolve:"+e),t()}).catch(n)})},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.sdk&&this.sdk.log.apply(this.sdk,arguments)},e.prototype.checkHost=function(){var e=this,t=this;return new Promise(function(n,o){if(t.conf.API_HOST)n(t.conf.API_HOST);else{var r=t.defaultDomainName;t.conf.DOMAIN_NAME&&(r=t.conf.DOMAIN_NAME),t.hosts.push("https://api."+r),t.hosts.push("https://dns1.api."+r),t.hosts.push("https://dns2.api."+r);var i=!1,s=0,a=function(r){var a=e.hosts[r];t.curApiHost=a;var u=t.checkNetWorkUrl;wx.request({url:u,method:"GET",success:function(){e.log("network success "+a),0==i&&(e.log("use host "+a),e.curApiHost=a,i=!0,n(e.curApiHost))},fail:function(){e.log("network fail "+a),++s>=e.hosts.length&&o("no useful host")},complete:function(){}})};for(var u in t.hosts)a(u)}})},Object.defineProperty(e.prototype,"apiHost",{get:function(){if(this.conf.API_HOST)return this.conf.API_HOST;var e=this.defaultDomainName;return this.conf.DOMAIN_NAME&&(e=this.conf.DOMAIN_NAME),"https://api."+e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cdnHost",{get:function(){var e=this.defaultDomainName;return this.conf.DOMAIN_NAME&&(e=this.conf.DOMAIN_NAME),"https://cdn."+e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkNetWorkUrl",{get:function(){return this.apiHost+"/app/sdk/v1/echo?word=1"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oauthUrl",{get:function(){return this.apiHost+"/app/sdk/v1/third-oauth-info"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initUrl",{get:function(){return this.apiHost+"/VGXup/ukXaF"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginUrl",{get:function(){return this.apiHost+"/VGXup/S9j35"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"purchaseUrl",{get:function(){return this.apiHost+"/YrjhK/3hfdp"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reportRoleInfoUrl",{get:function(){return this.apiHost+"/VGXup/2onyw"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reportEventUrl",{get:function(){return this.apiHost+"/VGXup/HSOGu"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryOrderResultUrl",{get:function(){return this.apiHost+"/YrjhK/oSSN1"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reportWXUserInfoUrl",{get:function(){return this.apiHost+"/app/sdk/v1/wx/report-userinfo"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reportCommonEvent2V1Url",{get:function(){return this.apiHost+"/VGXup/OJPny"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wxSubMsgSuccessUrl",{get:function(){return this.apiHost+"/app/sdk/v1/wx/sub-msg"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refreshUserInfoUrl",{get:function(){return this.apiHost+"/VGXup/LJGei"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkAgreementUpgradeUrl",{get:function(){return this.apiHost+"/VGXup/8Mp0b"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"agreeAgreementUrl",{get:function(){return this.apiHost+"/VGXup/u1WTp"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dialogConfigUrl",{get:function(){return this.apiHost+"/config/get/dialog"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"billboardUrl",{get:function(){return this.apiHost+"/billboard/get"},enumerable:!1,configurable:!0}),e}();t.UrlManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceInfo=void 0;var o=function(){function e(){this._sysInfo=wx.getSystemInfoSync()}return Object.defineProperty(e.prototype,"sysInfo",{get:function(){return this._sysInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"os",{get:function(){return this._sysInfo.system.split(" ")[0]},enumerable:!1,configurable:!0}),e}();t.DeviceInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DB=void 0;var o=function(){function e(){this.storageMap={}}return e.prototype.getID=function(e){if(void 0!=this.storageMap[e])return this.storageMap[e];var t=wx.getStorageSync(e);return this.storageMap[e]=t,void 0==t&&(t=null),t},e.prototype.setID=function(e,t){return wx.setStorageSync(e,t),this.storageMap[e]=t,t},e}();t.DB=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfCommonDataApp=void 0;var o=n(2),r=n(1),i=n(0),s=function(){function e(){this.systemInfo=wx.getSystemInfoSync()}return e.prototype.getDeviceID=function(){var e=i.StoreKey.DEVICE_ID,t=this.sdk.db.getID(e);return t||(t=r.default.generateUUID().toUpperCase(),this.sdk.db.setID(e,t)),t},e.prototype.onSDKCreate=function(){var e=this.systemInfo.system.split(" ")[0],t=r.default.getOsCodeByName(e);this.configGameKey(t),this.sdk.commonData.sdk_type=i.SDKType.JS_WEIXIN_MINI_GAME,this.sdk.commonData.os=t,this.sdk.commonData.gamepkgname=this.sdk.conf.APP_ID,this.sdk.commonData.gamepkgversion=this.sdk.conf.APP_VERSION,this.sdk.commonData.gamebuildversion=this.sdk.conf.APP_VERSION},e.prototype.configGameKey=function(e){var t=this.sdk.conf.GAMEKEY;return t||(e==i.OSCodeEnum.OS_CODE_ANDROID?t=this.sdk.conf.GAMEKEY_ANDROID:e==i.OSCodeEnum.OS_CODE_IOS&&(t=this.sdk.conf.GAMEKEY_IOS)),t&&(this.sdk.commonData.game_key=t),t},e.prototype.onSelectOs=function(e){var t=r.default.getOsNameByCode(e);this.sdk.db.setID(i.StoreKey.CX_NOT_FOUND_GAME_KEY_SELECT_OS,t),this.configGameKey(e),wx.showModal({title:"提示",content:"您已选择以"+r.default.getOsTipsByCode(e)+"系统账号进入游戏，如需更改，请删除游戏后再次进入",showCancel:!1})},e.prototype.manualSelectOS=function(){var e=this;if(this.sdk.commonData.game_key)return Promise.resolve();var t=this.sdk.db.getID(i.StoreKey.CX_NOT_FOUND_GAME_KEY_SELECT_OS);return!t||"Android"!=t&&"iOS"!=t?new Promise(function(t){wx.showModal({title:"提示",content:"请选择您的手机微信系统版本，如已经在本游戏有账号记录的，请务必选择对应的系统",cancelText:"安卓",cancelColor:"#000000",confirmText:"iOS",confirmColor:"#000000",success:function(n){n.confirm?(e.onSelectOs(i.OSCodeEnum.OS_CODE_IOS),t()):n.cancel&&(e.onSelectOs(i.OSCodeEnum.OS_CODE_ANDROID),t())}})}):(this.configGameKey(r.default.getOsCodeByName(t)),Promise.resolve())},e.prototype.afterPay=function(){},e.prototype.beforeInit=function(){var e=this;return new Promise(function(t){e.manualSelectOS().then(function(){var n=e;e.sdk.commonData||(e.sdk.commonData=new o.CommonData);var s,a,u=e.systemInfo.system.split(" ")[0],c=new Promise(function(e){wx.getBatteryInfo({success:function(e){s=e.level,a=e.isCharging},fail:function(){},complete:function(){e()}})}),p=r.default.getOsCodeByName(u),l=e.getDeviceID();e.sdk.commonData.uuid=l,e.sdk.commonData.os=r.default.getOsCodeByName(u),e.sdk.commonData.deviceid1=l,e.sdk.commonData.deviceid2=l,p===i.OSCodeEnum.OS_CODE_ANDROID?(e.sdk.commonData.imsi=l,e.sdk.commonData.devicemanufacturer="",e.sdk.commonData.mac_address="",e.sdk.commonData.cpuabi="",e.sdk.commonData.fenbaoid=e.sdk.fenbaoIDApp.getFenbaoID()):p===i.OSCodeEnum.OS_CODE_IOS&&(e.sdk.commonData.fenbaoid=e.sdk.fenbaoIDApp.getFenbaoID()),e.sdk.commonData.gamepkgname=e.sdk.conf.APP_ID,e.sdk.commonData.gamepkgversion=e.sdk.conf.APP_VERSION,e.sdk.commonData.gamebuildversion=e.sdk.conf.APP_VERSION,e.sdk.commonData.carrier=e.systemInfo.version+"_"+e.systemInfo.SDKVersion,e.sdk.commonData.devicemodel=e.systemInfo.model,e.sdk.commonData.screensize=e.systemInfo.screenHeight+"x"+e.systemInfo.screenWidth,e.sdk.commonData.osversion=e.systemInfo.system.split(" ")[1],e.sdk.commonData.sdkversion=i.CXSDK_VERSION,e.sdk.commonData.batterylevel=s,e.sdk.commonData.batterystate=a;var f=new Promise(function(e,t){wx.getNetworkType({success:function(e){n.sdk.commonData.netstate=e.networkType},fail:function(){},complete:function(){e()}})});Promise.all([c,f]).then(function(){t()})})})},e.prototype.beforePay=function(){},e.prototype.onInit=function(){},e.prototype.onLogin=function(e){this.sdk.commonData.token=e.token},e.prototype.onPaySuccess=function(){},e.prototype.setSDK=function(e){this.sdk=e,wx.onNetworkStatusChange(function(t){e.commonData.netstate=t.networkType})},e.prototype.name=function(){return"ConfCommonDataApp"},e}();t.ConfCommonDataApp=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoInitLoginApp=void 0;var o=function(){function e(){}return e.prototype.setSDK=function(e){this.sdk=e},e.prototype.onInit=function(){console.log("auto login"),this.sdk.login()},e.prototype.onLogin=function(){},e.prototype.onPaySuccess=function(){},e.prototype.onSDKCreate=function(){console.log("auto init"),this.sdk.init()},e.prototype.name=function(){return"AutoInitLoginApp"},e}();t.AutoInitLoginApp=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackApp=void 0;var o=function(){return function(e){this.code=200,this.message="初始化成功",this.inList=e.in_list,this.isReviewVer=e.is_review_ver,this.settings=e.game_settings;var t=null;try{t=wx.getSystemInfoSync().system.split(" ")[0]}catch(e){}this.os=t}}(),r=function(){return function(e,t){this.code=200,this.message="登录成功",this.uid=e.uid,this.token=e.token,this.account=e.game_account,this.newUser=e.new_user;var n=null;try{n=wx.getSystemInfoSync().system.split(" ")[0]}catch(e){}this.os=n,this.openid=t}}(),i=function(){function e(){this.onInitCallbacks=[],this.onLoginCallbacks=[]}return e.prototype.afterPay=function(){},e.prototype.beforeInit=function(){},e.prototype.beforeLogin=function(){},e.prototype.beforePay=function(){},e.prototype.addOnInitCallback=function(e){if(this._initResponse){var t=new o(this._initResponse);t.inList=this.sdk.payApp.inList,e&&e(t)}else this.onInitCallbacks.push(e)},e.prototype.onInit=function(e){this._initResponse=e;var t=new o(this._initResponse);for(var n in this.onInitCallbacks){var r=this.onInitCallbacks[n];r&&r(t)}this.onInitCallbacks=[]},e.prototype.addOnLoginCallback=function(e){if(this._loginResponse){var t=new r(this._loginResponse,this.sdk.openID);e&&e(t)}else this.onLoginCallbacks.push(e)},e.prototype.onLogin=function(e){this._loginResponse=e;var t=new r(this._loginResponse,this.sdk.openID);for(var n in this.onLoginCallbacks){var o=this.onLoginCallbacks[n];o&&o(t)}this.onLoginCallbacks=[]},e.prototype.onPaySuccess=function(){},e.prototype.onSDKCreate=function(){},e.prototype.setSDK=function(e){this.sdk=e},e.prototype.name=function(){return"CallbackApp"},e}();t.CallbackApp=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PayApp=void 0;var o=n(0),r=function(){function e(){this._canPayWithCX=!1,this._inList=!1,this.onPayResultCallbacks=[],this.systemInfo=wx.getSystemInfoSync()}return Object.defineProperty(e.prototype,"inList",{get:function(){return this._inList},set:function(e){e&&(this._inList=e,this.sdk.db.setID(o.StoreKey.IN_LIST,!0))},enumerable:!1,configurable:!0}),e.prototype.setSDK=function(e){this.sdk=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.sdk&&this.sdk.log.apply(this.sdk,arguments)},e.prototype.canPay=function(){return!!this.canPayWithCX()||!!this.sdk.cxChannelApp.canPay&&this.sdk.cxChannelApp.canPay()},e.prototype.canPayWithCX=function(){return!this._inList&&this._canPayWithCX},e.prototype.getPurchaseUrlParameter=function(){return this.sdk.cxChannelApp&&this.sdk.cxChannelApp.getPurchaseUrlParameter?this.sdk.cxChannelApp.getPurchaseUrlParameter():Promise.resolve("")},e.prototype.addOnPayResultCallback=function(e){this.onPayResultCallbacks.push(e)},e.prototype.queryOrderResult=function(e){var t=this;return new Promise(function(n){t.requestQueryOrderResult(e).then(function(e){var t={isSuccess:e.state==o.PayState.SUCCESS,cpOrderId:e.cp_order_id,cxOrderId:e.order_id};n(t)})})},e.prototype.requestQueryOrderResult=function(e){var t=this,n=this.sdk.urlManager.queryOrderResultUrl,o={order_id:e};return new Promise(function(e,r){t.sdk.request(n,o,!1).then(function(t){e(t)}).catch(function(e){r(e.errMsg)})})},e.prototype.onShow=function(){var e=this;this.log("query order onShow "+this.lastOrderID),this.lastOrderID&&(this.requestQueryOrderResult(this.lastOrderID).then(function(t){var n={isSuccess:t.state==o.PayState.SUCCESS,cpOrderId:t.cp_order_id,cxOrderId:t.order_id};for(var r in e.onPayResultCallbacks){var i=e.onPayResultCallbacks[r];i&&i(n)}n.isSuccess&&(e.sdk.onPaySuccess(e.lastOrderID),e.lastOrderID=null)}),this.sdk.afterPay(this.lastOrderID))},e.prototype.registerQueryOrderOnShow=function(){wx.onShow&&wx.onShow(this.onShow.bind(this))},e.prototype.onSDKCreate=function(){this.inList=this.sdk.db.getID(o.StoreKey.IN_LIST),this.registerQueryOrderOnShow()},e.prototype.onInit=function(e){this.initResonse=e,this.gameSettings=e.game_settings,this._canPayWithCX=e.age,console.debug("init age-r:"+e["age-r"]),this.inList=e.in_list},e.prototype.onLogin=function(e){this.thirdLoginExtInfo=e.third_login_ext,this._canPayWithCX=e.age,console.debug("login age-r:"+e["age-r"])},e.prototype.onReportRoleInfo=function(e){this._canPayWithCX=e.age,console.debug("report role info age-r:"+e["age-r"])},e.prototype.onPay=function(e){this.lastOrderID=e.order_id,this.log("CX下单成功")},e.prototype.processNormalPurchaseResponse=function(e){e.order_id;var t=e.pay_info.info_type,n=e.pay_info.content;switch(t){case o.PayInfoType.PAY_INFO_TYPE_URL:this.purchaseWithUrl(n);break;case o.PayInfoType.PAY_INFO_TYPE_QR_CODE:this.purchaseWithQrCode(n);break;case o.PayInfoType.PAY_INFO_TYPE_MINI_PROGRAM:this.purchaseWithMiniProgram(n);break;case o.PayInfoType.PAY_INFO_TYPE_QR_CODE_WITH_CLIPBOARD:this.purchaseWithQrCodeWithClipboard(n);break;case o.PayInfoType.PAY_INFO_TYPE_HTML:this.purchaseWithHtml(n);break;case o.PayInfoType.PAY_INFO_TYPE_ORDER_FINISH:this.purchaseWithMsg("支付完成");break;case o.PayInfoType.PAY_INFO_TYPE_MSG:this.purchaseWithMsg(n)}},e.prototype.purchaseWithUrl=function(e){function t(e){wx.showModal({title:"充值教程",content:e,showCancel:!1,confirmText:"朕知道了"})}wx.setClipboardData({data:e,success:function(){t("支付链接已复制到粘贴板，请在浏览器中粘贴访问即可完成支付")},fail:function(){t("支付失败，请重新下单")}})},e.prototype.purchaseWithQrCode=function(e){var t=[];t.push(e);var n=this;wx.previewImage({urls:t,success:function(){n.sdk.reportEvent({eventType:"PreviewPayCode_Success",eventSource:"",eventExt:""})},fail:function(){wx.showToast({title:"支付异常，请联系客服",icon:"none"}),n.sdk.reportEvent({eventType:"PreviewPayCode_Fail",eventSource:"",eventExt:""})},complete:function(){}})},e.prototype.purchaseWithMiniProgram=function(e){if(wx.navigateToMiniProgram){var t=JSON.parse(e);t.envVersion="develop",t.success=function(){console.log("to mini su")},t.fail=function(){console.log("to mini fa")},t.complete=function(){},wx.navigateToMiniProgram(t).then()}else wx.showToast({title:"微信版本过低，请升级微信",icon:"none"})},e.prototype.purchaseWithQrCodeWithClipboard=function(e){var t=JSON.parse(e),n=t.qr_code_url,o=t.clip_board_data,r=[];r.push(n),wx.setClipboardData({data:o,success:function(){wx.previewImage({urls:r,complete:function(){}})}})},e.prototype.purchaseWithHtml=function(e){var t=this.sdk.urlManager.cdnHost;wx.setClipboardData({data:e,success:function(){wx.showModal({title:"充值教程",content:"充值链接已复制至剪切板，请前往“客服会话”粘贴并发送，再点击链接完成充值。",showCancel:!1,confirmText:"前往粘贴",complete:function(){wx.openCustomerServiceConversation?wx.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:"请粘贴然后发送",sendMessageImg:t+"/sdk/assets/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F%E5%AE%A2%E6%9C%8D%E7%B2%98%E8%B4%B4%E6%8C%87%E5%BC%95.gif"}).then():wx.showToast({title:"微信版本过低，请升级微信",icon:"none"})}})},fail:function(){wx.showModal({title:"充值教程",content:"支付失败，请重新下单",showCancel:!1})}})},e.prototype.purchaseWithMsg=function(e){wx.showModal({title:"温馨提示",content:e,showCancel:!1,confirmText:"我知道了"})},e.prototype.onPayCatch=function(e){e.code==o.ResponseCode.NEED_LOGIN?(this.sdk.forceGetOpenID().then(),wx.showToast({title:"网络错误请重新下单",icon:"none"})):e.code==o.ResponseCode.SDK_PAY_MINORS_LIMIT?wx.showModal({title:"提示",content:e.errMsg,showCancel:!1,confirmText:"确定"}):e.code==o.ResponseCode.SDK_PAY_MINORS_LIMIT_TOAST?wx.showToast({title:e.errMsg,icon:"none"}):this.canPayWithCX()?wx.showToast({title:"请求失败，请检查网络后重试",icon:"none"}):wx.showToast({title:"暂不支持支付",icon:"none"})},e.prototype.name=function(){return"PayApp"},e}();t.PayApp=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfo=void 0;var o=n(0),r=function(){function e(e){this._db=e,this.initRoleInfo()}return e.prototype.initRoleInfo=function(){this._db&&(this._roleInfo=this._db.getID(o.StoreKey.ROLE_INFO)),this._roleInfo||(this._roleInfo={roleId:null,roleLevel:null,roleName:null,rolePower:-1,serverId:null,serverName:null,roleVip:-1})},Object.defineProperty(e.prototype,"roleInfo",{get:function(){return this._roleInfo},enumerable:!1,configurable:!0}),e.prototype.saveRoleInfo=function(){this._roleInfo&&this._db&&this._db.setID(o.StoreKey.ROLE_INFO,this._roleInfo)},e.prototype.setRoleInfoByPurchaseParameter=function(e){this._roleInfo||this.initRoleInfo(),this._roleInfo.roleId=e.roleId,this._roleInfo.roleLevel=e.roleLevel,this._roleInfo.roleName=e.roleName,this._roleInfo.serverId=e.serverId,this._roleInfo.serverName=e.serverName,this.saveRoleInfo()},e.prototype.setRoleInfo=function(e){this._roleInfo.roleId=e.roleId,this._roleInfo.roleLevel=e.roleLevel,this._roleInfo.roleName=e.roleName,this._roleInfo.rolePower=e.rolePower,this._roleInfo.serverId=e.serverId,this._roleInfo.serverName=e.serverName,this._roleInfo.roleVip=e.roleVip,this.saveRoleInfo()},e}();t.UserInfo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FenbaoIDApp=void 0;var o=n(0),r=n(1),i=function(){function e(){this.systemInfo=wx.getSystemInfoSync()}return e.prototype.onInit=function(e){this.initResonse=e,this.gameSettings=e.game_settings},e.prototype.onLogin=function(e){var t=e.fenbao_id;if(t&&""!=t){var n=this.systemInfo.system.split(" ")[0],i=r.default.getOsCodeByName(n);i==o.OSCodeEnum.OS_CODE_ANDROID?this.setAndroidFenbaoID(t):i==o.OSCodeEnum.OS_CODE_IOS&&this.setIOSFenbaoID(t)}},e.prototype.setSDK=function(e){this.sdk=e},e.prototype.setAndroidFenbaoID=function(e){this.androidFenbaoID=e,this.sdk.db.setID(o.StoreKey.FENBAO_ANDROID,e),this.sdk.db.setID(o.StoreKey.FENBAO_ANDROID_V1,e)},e.prototype.setIOSFenbaoID=function(e){this.iOSFenbaoID=e,this.sdk.db.setID(o.StoreKey.FENBAO_IOS,e)},e.prototype.getFenbaoID=function(){var e=this.sdk.deviceInfo.os,t=null;return o.OSName.ANDROID===e?t=this.androidFenbaoID:o.OSName.IOS==e&&(t=this.iOSFenbaoID),t},e.prototype.onSDKCreate=function(){this.androidFenbaoID=this.sdk.db.getID(o.StoreKey.FENBAO_ANDROID),this.iOSFenbaoID=this.sdk.db.getID(o.StoreKey.FENBAO_IOS)},e.prototype.name=function(){return"FenbaoIDApp"},e}();t.FenbaoIDApp=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppRunner=void 0;var o=function(){function e(e,t,n){this.app=[],this.index=0,this.results=[],this.app=e,this.func=t,this.logFunc=n}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logFunc&&this.logFunc.apply(this.logFunc,arguments)},e.prototype.then=function(){if(this.results.push(arguments),this.index++,this.index!=this.app.length){var e=this.app[this.index],t=null;e[this.func]&&(this.log(e.name()+" run "+this.func),t=e[this.func].apply(e,this.arguments)),Promise.all([t]).then(this.then.bind(this)).catch(this.catch.bind(this))}else this.resolve(this.results)},e.prototype.catch=function(){var e=this.app[this.index];this.log(e.name()+" run "+this.func+" catch"),console.error.apply(console,arguments),this.reject(arguments)},e.prototype.promise=function(e,t){this.resolve=e,this.reject=t;var n=this.app[this.index],o=null;n[this.func]&&(this.log(n.name()+" run "+this.func),o=n[this.func].apply(n,this.arguments)),Promise.all([o]).then(this.then.bind(this)).catch(this.catch.bind(this))},e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.arguments=arguments,new Promise(this.promise.bind(this))},e}(),r=function(){function e(e,t,n){this.app=[],this.app=e,this.func=t,this.logFunc=n}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logFunc&&this.logFunc.apply(this.logFunc,arguments)},e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.arguments=arguments;var n=[];for(var o in this.app){var r=this.app[o];if(r[this.func]){this.log(r.name()+" run "+this.func);var i=r[this.func].apply(r,this.arguments);n.push(i)}}return new Promise(function(e,t){Promise.all(n).then(e).catch(function(e){console.error(e),t()})})},e}(),i=function(){function e(){}return e.prototype.afterPay=function(){},e.prototype.beforeInit=function(){return new r(this._subApps,"beforeInit",this.sdk.log.bind(this.sdk)).run()},e.prototype.onInit=function(e){var t=[];for(var n in this._subApps){var o=this._subApps[n];o.onInit&&t.push(o.onInit(e))}return Promise.all(t)},e.prototype.beforeLogin=function(){var e=[];for(var t in this._subApps){var n=this._subApps[t];n.beforeLogin&&e.push(n.beforeLogin())}return Promise.all(e)},e.prototype.onLogin=function(e){var t=[];for(var n in this._subApps){var o=this._subApps[n];o.onLogin&&t.push(o.onLogin(e))}return Promise.all(t)},e.prototype.beforePay=function(e){return new o(this._subApps,"beforePay",this.sdk.log.bind(this.sdk)).run(e)},e.prototype.onPay=function(e){var t=[];for(var n in this._subApps){var o=this._subApps[n];o.onPay&&t.push(o.onPay(e))}return Promise.all(t)},e.prototype.beforeReportRoleInfo=function(e){var t=[];for(var n in this._subApps){var o=this._subApps[n];o.beforeReportRoleInfo&&t.push(o.beforeReportRoleInfo(e))}return Promise.all(t)},e.prototype.onReportRoleInfo=function(e){var t=[];for(var n in this._subApps){var o=this._subApps[n];o.onReportRoleInfo&&t.push(o.onReportRoleInfo(e))}return Promise.all(t)},e.prototype.onPaySuccess=function(e){for(var t in this._subApps){var n=this._subApps[t];n.onPaySuccess&&n.onPaySuccess(e)}},e.prototype.onSDKCreate=function(){for(var e in this._subApps){var t=this._subApps[e];t.onSDKCreate&&t.onSDKCreate()}},e.prototype.setSDK=function(e){this.sdk=e,this._subApps=e.subApps},e.prototype.name=function(){return"AppRunner"},e}();t.AppRunner=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnlineTimeApp=void 0;var o=function(){function e(){this.onlineTimer=null}return e.prototype.name=function(){return"OnlineTimeApp"},e.prototype.onLogin=function(e){var t=this;null!=this.onlineTimer&&clearInterval(this.onlineTimer),this.onlineTimer=setInterval(function(){t.sdk.log("report online log"),t.sdk.reportCommonEvent("online")},6e4)},e.prototype.setSDK=function(e){this.sdk=e},e}();t.OnlineTimeApp=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CXConsole=void 0;var o=function(){function e(){this._logLog=!1}return e.prototype.log=function(e){this._logLog&&console.log(e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console.warn,arguments)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug.apply(console.debug,arguments)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console.error,arguments)},Object.defineProperty(e.prototype,"logLog",{set:function(e){this._logLog=e},enumerable:!1,configurable:!0}),e}();t.CXConsole=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillboardApp=void 0;var o=n(0),r=n(1),i=function(){function e(e,t){this.index=0,this.app=e,this.billboards=t}return e.prototype.then=function(){var e=this;if(this.index++,this.index!=this.billboards.length){var t=this.billboards[this.index];this.app.condition(t).then(function(n){n?e.app.showBillboard(t).then(e.then.bind(e)).catch(e.catch.bind(e)):e.then()})}},e.prototype.catch=function(){console.error.apply(console,arguments)},e.prototype.run=function(){var e=this;if(null!=this.billboards&&0!==this.billboards.length){var t=this.billboards[this.index];this.app.condition(t).then(function(n){n?e.app.showBillboard(t).then(e.then.bind(e)).catch(e.catch.bind(e)):e.then()})}},e}(),s=function(){function e(){}return e.prototype.name=function(){return"BillboardApp"},e.prototype.getBillboard=function(e){var t=this,n={},o=this.sdk.urlManager.billboardUrl;n.age=this.sdk.payApp.canPayWithCX(),n.timing=e,this.sdk.request(o,n).then(function(e){console.log(e),new i(t,e.billboard_list).run()})},e.prototype.setBillboardLastShowDate=function(e,t){var n=o.StoreKey.BILLBOARD_LAST_SHOW_TIME_PREFIX+e;this.sdk.db.setID(n,t)},e.prototype.getBillboardLastShowDate=function(e){var t=o.StoreKey.BILLBOARD_LAST_SHOW_TIME_PREFIX+e,n=this.sdk.db.getID(t);return Promise.resolve(n)},e.prototype.condition=function(e){var t=this;return e?o.BillboardPopupFrequency.ALWAYS===e.frequency?Promise.resolve(!0):new Promise(function(n){o.BillboardPopupFrequency.ONLY_ONCE===e.frequency?t.getBillboardLastShowDate(e.id).then(function(e){n(!e)}):o.BillboardPopupFrequency.ONCE_A_DAY===e.frequency?t.getBillboardLastShowDate(e.id).then(function(e){var t=r.default.currentDate();n(t!==e)}):n(!1)}):Promise.resolve(!1)},e.prototype.showBillboard=function(e){var t=this;return new Promise(function(n){wx.showModal({title:e.title,content:e.txt_content,confirmText:e.button_txt,showCancel:!1,success:function(o){t.setBillboardLastShowDate(e.id,r.default.currentDate()),o.confirm?n():o.cancel&&n()}})})},e.prototype.onSDKCreate=function(){this.getBillboard(o.BillboardPopupTiming.LAUNCHED)},e.prototype.onLogin=function(e){this.getBillboard(o.BillboardPopupTiming.LOGIN)},e.prototype.setSDK=function(e){this.sdk=e},e}();t.BillboardApp=s},function(e,t){e.exports=require("qingjs-conf")},function(e,t,n){"use strict";var o="bqt34u8K",r="0002030205060607",i="zxc8923n",s="0102010204060607",a="134zadsa",u="0002030203060608",c="OnT8f4MNHXw10Dg9SIKFPKnOzWP2lMQSzhpkmCZnFi1XaLUcijWOH8ak+3Y/kGba",p="Ztm3tRDSDg7/rj5o5yx+Y3p7X749beZYcxCdGlOki9tKL3DvoC8J0S9fqiJ4Qe/v5VrPgjKSAsglhSZNLeqCiQ==";function l(e,t,n,o,r,i){var s,a,u,c,p,l,f,h,d,_,y,g,I,m,O=new Array(16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756),v=new Array(-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344),b=new Array(520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584),A=new Array(8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928),S=new Array(256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080),C=new Array(536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312),D=new Array(2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154),P=new Array(268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696),w=function(e){for(var t,n,o=new Array(0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964),r=new Array(0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697),i=new Array(0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272),s=new Array(0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144),a=new Array(0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256),u=new Array(0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488),c=new Array(0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746),p=new Array(0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568),l=new Array(0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578),f=new Array(0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488),h=new Array(0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800),d=new Array(0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744),_=new Array(0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128),y=new Array(0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261),g=e.length>8?3:1,I=new Array(32*g),m=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0),O=0,v=0,b=0;b<g;b++){var A=e.charCodeAt(O++)<<24|e.charCodeAt(O++)<<16|e.charCodeAt(O++)<<8|e.charCodeAt(O++),S=e.charCodeAt(O++)<<24|e.charCodeAt(O++)<<16|e.charCodeAt(O++)<<8|e.charCodeAt(O++),C=252645135&(A>>>4^S);A^=C<<4,A^=C=65535&((S^=C)>>>-16^A),A^=(C=858993459&(A>>>2^(S^=C<<-16)))<<2,A^=C=65535&((S^=C)>>>-16^A),A^=(C=1431655765&(A>>>1^(S^=C<<-16)))<<1,A^=C=16711935&((S^=C)>>>8^A),C=(A^=(C=1431655765&(A>>>1^(S^=C<<8)))<<1)<<8|(S^=C)>>>20&240,A=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=C;for(var D=0;D<m.length;D++)m[D]?(A=A<<2|A>>>26,S=S<<2|S>>>26):(A=A<<1|A>>>27,S=S<<1|S>>>27),S&=-15,t=o[(A&=-15)>>>28]|r[A>>>24&15]|i[A>>>20&15]|s[A>>>16&15]|a[A>>>12&15]|u[A>>>8&15]|c[A>>>4&15],n=p[S>>>28]|l[S>>>24&15]|f[S>>>20&15]|h[S>>>16&15]|d[S>>>12&15]|_[S>>>8&15]|y[S>>>4&15],C=65535&(n>>>16^t),I[v++]=t^C,I[v++]=n^C<<16}return I}(e),E=0,N=t.length,R=0,k=32==w.length?3:9;h=3==k?n?new Array(0,32,2):new Array(30,-2,-2):n?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2),2==i?t+="        ":1==i?(u=8-N%8,t+=String.fromCharCode(u,u,u,u,u,u,u,u),8==u&&(N+=8)):i||(t+="\0\0\0\0\0\0\0\0");var x="",T="";for(1==o&&(d=r.charCodeAt(E++)<<24|r.charCodeAt(E++)<<16|r.charCodeAt(E++)<<8|r.charCodeAt(E++),y=r.charCodeAt(E++)<<24|r.charCodeAt(E++)<<16|r.charCodeAt(E++)<<8|r.charCodeAt(E++),E=0);E<N;){for(l=t.charCodeAt(E++)<<24|t.charCodeAt(E++)<<16|t.charCodeAt(E++)<<8|t.charCodeAt(E++),f=t.charCodeAt(E++)<<24|t.charCodeAt(E++)<<16|t.charCodeAt(E++)<<8|t.charCodeAt(E++),1==o&&(n?(l^=d,f^=y):(_=d,g=y,d=l,y=f)),l^=(u=252645135&(l>>>4^f))<<4,l^=(u=65535&(l>>>16^(f^=u)))<<16,l^=u=858993459&((f^=u)>>>2^l),l^=u=16711935&((f^=u<<2)>>>8^l),l=(l^=(u=1431655765&(l>>>1^(f^=u<<8)))<<1)<<1|l>>>31,f=(f^=u)<<1|f>>>31,a=0;a<k;a+=3){for(I=h[a+1],m=h[a+2],s=h[a];s!=I;s+=m)c=f^w[s],p=(f>>>4|f<<28)^w[s+1],u=l,l=f,f=u^(v[c>>>24&63]|A[c>>>16&63]|C[c>>>8&63]|P[63&c]|O[p>>>24&63]|b[p>>>16&63]|S[p>>>8&63]|D[63&p]);u=l,l=f,f=u}f=f>>>1|f<<31,f^=u=1431655765&((l=l>>>1|l<<31)>>>1^f),f^=(u=16711935&(f>>>8^(l^=u<<1)))<<8,f^=(u=858993459&(f>>>2^(l^=u)))<<2,f^=u=65535&((l^=u)>>>16^f),f^=u=252645135&((l^=u<<16)>>>4^f),l^=u<<4,1==o&&(n?(d=l,y=f):(l^=_,f^=g)),T+=String.fromCharCode(l>>>24,l>>>16&255,l>>>8&255,255&l,f>>>24,f>>>16&255,f>>>8&255,255&f),512==(R+=8)&&(x+=T,T="",R=0)}return x+T}function f(e){for(var t="",n="0x"==e.substr(0,2)?2:0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function _(e){var t,n,o,r,i,s,a;for(s=e.length,i=0,a="";i<s;){do{t=d[255&e.charCodeAt(i++)]}while(i<s&&-1==t);if(-1==t)break;do{n=d[255&e.charCodeAt(i++)]}while(i<s&&-1==n);if(-1==n)break;a+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(o=255&e.charCodeAt(i++)))return a;o=d[o]}while(i<s&&-1==o);if(-1==o)break;a+=String.fromCharCode((15&n)<<4|(60&o)>>2);do{if(61==(r=255&e.charCodeAt(i++)))return a;r=d[r]}while(i<s&&-1==r);if(-1==r)break;a+=String.fromCharCode((3&o)<<6|r)}return a}var y={encode:function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},decode:function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})}};e.exports={cxGetRequestData:function(e){var t=l(a,_(c),0,1,f(u),0),n=l(i,_(t),0,1,f(s),0),d=l(o,_(n),0,1,f(r),0),g=l(a,_(p),0,1,f(u),0),I=l(i,_(g),0,1,f(s),0),m=l(o,_(I),0,1,f(r),0);return function(e){var t,n,o,r,i,s;for(o=e.length,n=0,t="";n<o;){if(r=255&e.charCodeAt(n++),n==o){t+=h.charAt(r>>2),t+=h.charAt((3&r)<<4),t+="==";break}if(i=e.charCodeAt(n++),n==o){t+=h.charAt(r>>2),t+=h.charAt((3&r)<<4|(240&i)>>4),t+=h.charAt((15&i)<<2),t+="=";break}s=e.charCodeAt(n++),t+=h.charAt(r>>2),t+=h.charAt((3&r)<<4|(240&i)>>4),t+=h.charAt((15&i)<<2|(192&s)>>6),t+=h.charAt(63&s)}return t}(l(d.substring(0,8),y.encode(JSON.stringify(e)),1,1,f(m.substring(0,16)),1))},cxGetResponseData:function(e){var t=l(a,_(c),0,1,f(u),0),n=l(i,_(t),0,1,f(s),0),h=l(o,_(n),0,1,f(r),0),d=l(a,_(p),0,1,f(u),0),g=l(i,_(d),0,1,f(s),0),I=l(o,_(g),0,1,f(r),0);return y.decode(l(h.substring(0,8),_(e),0,1,f(I.substring(0,16)),0))}}},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(34);GameGlobal.CXChannelApp=new o.default;var r=n(3);r.instance.channelName="senjin",t.instance=r.instance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(35),i=n(0);!function(e){e.NORMAL="1",e.URL="2",e.QR_CODE="3",e.CUSTOMERSERVICE_WITH_CLIPBOARD="4"}(o||(o={}));var s=function(){function e(){}return e.prototype.canPay=function(){return!1},e.prototype.afterPay=function(){},e.prototype.beforeInit=function(){},e.prototype.beforeLogin=function(){var t=this,n=wx.getLaunchOptionsSync();return new Promise(function(o,i){r.login({data:{state:n.query.state||n.query.scene||""}}).then(function(n){console.log(n);var r=n.data,i={mem_id:r.mg_mem_id,user_token:r.cp_user_token};t.sdk.loginChannelUID=r.mg_mem_id,t.sdk.loginChannelToken=JSON.stringify(i),t.sdk.loginChannel=e.LOGINCHANNEL,o()}).catch(function(e){console.log(e),i(e)})})},e.prototype.beforePay=function(e){},e.prototype.beforeReportRoleInfo=function(e){var t;"entergame"===e.reportType?t="online":"createrole"===e.reportType?t="create":"roleupgrade"===e.reportType&&(t="levelup"),r.updateRoleInfo({data:{"role-event":t,"role-server_id":e.serverId,"role-server_name":e.serverName,"role-role_id":e.roleId,"role-role_name":e.roleName,"role-role_level":e.roleLevel,"role-role_vip":e.roleVip,"role-combat_num":e.rolePower}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},e.prototype.name=function(){return"ChannelSenJinApp"},e.prototype.onInit=function(e){var t=e.game_settings;this._settings=t,r.init({app_id:t.app_id,mp_id:t.wx_app_id}).then(function(e){console.log(e)}).catch(function(e){console.error(e)})},e.prototype.onLogin=function(e){},e.prototype.onPay=function(e){var t=e.pay_info.info_type,n=e.pay_info.content;switch(t){case i.PayInfoType.PAY_INFO_TYPE_IAP:var o=JSON.parse(n);r.pay(o).then(function(e){});break;default:this.sdk.payApp.processNormalPurchaseResponse(e)}},e.prototype.onPaySuccess=function(e){},e.prototype.onReportRoleInfo=function(e){},e.prototype.onSDKCreate=function(){},e.prototype.setSDK=function(e){this.sdk=e},e.LOGINCHANNEL=78,e}();t.default=s},function(e,t){e.exports=require("sdk-1.0.1.js")}]));
//# sourceMappingURL=qingjs-wxapp.js.map