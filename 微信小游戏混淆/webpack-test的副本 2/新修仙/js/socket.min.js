var _0xd1f1=['readBytes','prototype','web','egret.ISocket','ProgressEvent','writeBytes','thisObject','concat','connectByUrl','onSocketData','TYPE_STRING','onopen','CONNECT','WebSocket','call','_isReadySend','ByteArray','port','connected','_connecting','dispatchProgressEvent','clear','_connected','connect','addCallBacks','close','_bindEvent','host','egret','$warn','_bytesWrite','writeUTF','socket','onClose','_readByte','onConnect','dispatchEventWith','egret.WebSocket','Event','__types__','ISocket','flush','_writeMessage','TYPE_BINARY','__reflect','webSocketTypeString','onError','HTML5WebSocket','onerror','position','IO_ERROR','defineProperty','_type','binaryType','onclose','type','string','data','disconnect','onmessage','readUTF','send','_writeByte','egret.web.HTML5WebSocket','ws://','_readMessage','__extends'];(function(_0x2ae5d4,_0xd1f1f4){var _0x1b9b88=function(_0x1bf7eb){while(--_0x1bf7eb){_0x2ae5d4['push'](_0x2ae5d4['shift']());}};_0x1b9b88(++_0xd1f1f4);}(_0xd1f1,0x139));var _0x1b9b=function(_0x2ae5d4,_0xd1f1f4){_0x2ae5d4=_0x2ae5d4-0x0;var _0x1b9b88=_0xd1f1[_0x2ae5d4];return _0x1b9b88;};var _0x531f85=_0x1b9b,_0x1bf7eb=window[_0x531f85('0x32')],_0x58bab3=this&&this[_0x531f85('0x42')]||function(_0x4ca350,_0x57adb1,_0x2c48dc){var _0xee1083=_0x531f85;_0x4ca350['__class__']=_0x57adb1,_0x2c48dc?_0x2c48dc['push'](_0x57adb1):_0x2c48dc=[_0x57adb1],_0x4ca350[_0xee1083('0x3d')]=_0x4ca350['__types__']?_0x2c48dc[_0xee1083('0x1d')](_0x4ca350[_0xee1083('0x3d')]):_0x2c48dc;},_0x2e2bfb=this&&this[_0x531f85('0x15')]||function(_0x58a059,_0x5457b4){var _0x24ae7d=_0x531f85;function _0x306f0f(){this['constructor']=_0x58a059;}for(var _0x192c94 in _0x5457b4)_0x5457b4['hasOwnProperty'](_0x192c94)&&(_0x58a059[_0x192c94]=_0x5457b4[_0x192c94]);_0x306f0f[_0x24ae7d('0x17')]=_0x5457b4[_0x24ae7d('0x17')],_0x58a059[_0x24ae7d('0x17')]=new _0x306f0f();},_0x1bf7eb;!function(_0x5ea254){}(_0x1bf7eb||(_0x1bf7eb={}));var _0x1bf7eb;!function(_0x53e87c){var _0x22d177=_0x531f85,_0x2815da=function(_0x44b7f9){var _0x8e8b9e=_0x1b9b;function _0x177f17(_0x28a60a,_0x2ee5a9){var _0x16d6fc=_0x1b9b;void 0x0===_0x28a60a&&(_0x28a60a=''),void 0x0===_0x2ee5a9&&(_0x2ee5a9=0x0);var _0x15a392=_0x44b7f9[_0x16d6fc('0x24')](this)||this;return _0x15a392[_0x16d6fc('0x40')]='',_0x15a392['_readMessage']='',_0x15a392[_0x16d6fc('0x2c')]=!0x1,_0x15a392['_connecting']=!0x1,_0x15a392['_isReadySend']=!0x1,_0x15a392[_0x16d6fc('0x34')]=!0x1,_0x15a392[_0x16d6fc('0x7')]=_0x177f17[_0x16d6fc('0x20')],_0x15a392[_0x16d6fc('0x2c')]=!0x1,_0x15a392['_writeMessage']='',_0x15a392[_0x16d6fc('0x14')]='',_0x15a392[_0x16d6fc('0x36')]=new _0x53e87c['ISocket'](),_0x15a392[_0x16d6fc('0x36')][_0x16d6fc('0x2e')](_0x15a392[_0x16d6fc('0x39')],_0x15a392[_0x16d6fc('0x37')],_0x15a392['onSocketData'],_0x15a392[_0x16d6fc('0x1')],_0x15a392),_0x15a392;}return _0x2e2bfb(_0x177f17,_0x44b7f9),_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x2d')]=function(_0x256a06,_0x319497){var _0x585d77=_0x8e8b9e;this[_0x585d77('0x29')]||this[_0x585d77('0x2c')]||(this[_0x585d77('0x29')]=!0x0,this[_0x585d77('0x36')]['connect'](_0x256a06,_0x319497));},_0x177f17[_0x8e8b9e('0x17')]['connectByUrl']=function(_0x39a909){var _0x175185=_0x8e8b9e;this[_0x175185('0x29')]||this[_0x175185('0x2c')]||(this[_0x175185('0x29')]=!0x0,this[_0x175185('0x36')][_0x175185('0x1e')](_0x39a909));},_0x177f17[_0x8e8b9e('0x17')]['close']=function(){var _0x97e3ea=_0x8e8b9e;this[_0x97e3ea('0x2c')]&&this[_0x97e3ea('0x36')][_0x97e3ea('0x2f')]();},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x39')]=function(){var _0x322a36=_0x8e8b9e;this[_0x322a36('0x2c')]=!0x0,this['_connecting']=!0x1,this['dispatchEventWith'](_0x53e87c['Event'][_0x322a36('0x22')]);},_0x177f17[_0x8e8b9e('0x17')]['onClose']=function(){var _0x3f3e3b=_0x8e8b9e;this[_0x3f3e3b('0x2c')]=!0x1,this[_0x3f3e3b('0x3a')](_0x53e87c[_0x3f3e3b('0x3c')]['CLOSE']);},_0x177f17[_0x8e8b9e('0x17')]['onError']=function(){var _0xfde1fb=_0x8e8b9e;this[_0xfde1fb('0x29')]&&(this[_0xfde1fb('0x29')]=!0x1),this[_0xfde1fb('0x3a')](_0x53e87c['IOErrorEvent'][_0xfde1fb('0x5')]);},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x1f')]=function(_0x5c1998){var _0x341be4=_0x8e8b9e;_0x341be4('0xb')==typeof _0x5c1998?this['_readMessage']+=_0x5c1998:this[_0x341be4('0x38')]['_writeUint8Array'](new Uint8Array(_0x5c1998)),_0x53e87c[_0x341be4('0x1a')][_0x341be4('0x2a')](this,_0x53e87c[_0x341be4('0x1a')]['SOCKET_DATA']);},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x3f')]=function(){var _0x5e25e3=_0x8e8b9e;return this[_0x5e25e3('0x2c')]?(this['_writeMessage']&&(this['socket']['send'](this[_0x5e25e3('0x40')]),this['_writeMessage']=''),this[_0x5e25e3('0x34')]&&(this[_0x5e25e3('0x36')][_0x5e25e3('0x10')](this['_writeByte']['buffer']),this[_0x5e25e3('0x34')]=!0x1,this[_0x5e25e3('0x11')]['clear']()),void(this[_0x5e25e3('0x25')]=!0x1)):void _0x53e87c[_0x5e25e3('0x33')](0xc1d);},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x35')]=function(_0x55b589){var _0x17837f=_0x8e8b9e;return this['_connected']?(this['_type']==_0x177f17[_0x17837f('0x41')]?(this[_0x17837f('0x34')]=!0x0,this[_0x17837f('0x11')]['writeUTF'](_0x55b589)):this[_0x17837f('0x40')]+=_0x55b589,void this[_0x17837f('0x3f')]()):void _0x53e87c[_0x17837f('0x33')](0xc1d);},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0xf')]=function(){var _0x192129=_0x8e8b9e,_0x449cad;return this[_0x192129('0x7')]==_0x177f17[_0x192129('0x41')]?(this['_readByte']['position']=0x0,_0x449cad=this[_0x192129('0x38')]['readUTF'](),this[_0x192129('0x38')][_0x192129('0x2b')]()):(_0x449cad=this[_0x192129('0x14')],this[_0x192129('0x14')]=''),_0x449cad;},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x1b')]=function(_0x513679,_0x4a3a53,_0x134c25){var _0x22f08a=_0x8e8b9e;return void 0x0===_0x4a3a53&&(_0x4a3a53=0x0),void 0x0===_0x134c25&&(_0x134c25=0x0),this['_connected']?this['_writeByte']?(this[_0x22f08a('0x34')]=!0x0,this[_0x22f08a('0x11')][_0x22f08a('0x1b')](_0x513679,_0x4a3a53,_0x134c25),void this[_0x22f08a('0x3f')]()):void _0x53e87c[_0x22f08a('0x33')](0xc1e):void _0x53e87c[_0x22f08a('0x33')](0xc1d);},_0x177f17[_0x8e8b9e('0x17')][_0x8e8b9e('0x16')]=function(_0xdc1855,_0x1246c5,_0x27161e){var _0x3350a0=_0x8e8b9e;return void 0x0===_0x1246c5&&(_0x1246c5=0x0),void 0x0===_0x27161e&&(_0x27161e=0x0),this[_0x3350a0('0x38')]?(this[_0x3350a0('0x38')][_0x3350a0('0x4')]=0x0,this[_0x3350a0('0x38')][_0x3350a0('0x16')](_0xdc1855,_0x1246c5,_0x27161e),void this[_0x3350a0('0x38')]['clear']()):void _0x53e87c['$warn'](0xc1e);},Object[_0x8e8b9e('0x6')](_0x177f17[_0x8e8b9e('0x17')],_0x8e8b9e('0x28'),{'get':function(){return this['_connected'];},'enumerable':!0x0,'configurable':!0x0}),Object[_0x8e8b9e('0x6')](_0x177f17['prototype'],_0x8e8b9e('0xa'),{'get':function(){var _0x2d6c92=_0x8e8b9e;return this[_0x2d6c92('0x7')];},'set':function(_0x41ab76){var _0x374438=_0x8e8b9e;this[_0x374438('0x7')]=_0x41ab76,_0x41ab76!=_0x177f17['TYPE_BINARY']||this['_writeByte']||(this[_0x374438('0x38')]=new _0x53e87c[(_0x374438('0x26'))](),this['_writeByte']=new _0x53e87c[(_0x374438('0x26'))]());},'enumerable':!0x0,'configurable':!0x0}),_0x177f17[_0x8e8b9e('0x20')]=_0x8e8b9e('0x0'),_0x177f17[_0x8e8b9e('0x41')]='webSocketTypeBinary',_0x177f17;}(_0x53e87c['EventDispatcher']);_0x53e87c[_0x22d177('0x23')]=_0x2815da,_0x58bab3(_0x2815da[_0x22d177('0x17')],_0x22d177('0x3b'));}(_0x1bf7eb||(_0x1bf7eb={}));var _0x1bf7eb;!function(_0x1622d5){var _0x3979d1=_0x531f85,_0x25f4c5;!function(_0x5e49fc){var _0x2ef847=_0x1b9b,_0xbaba49=function(){var _0x5e49b8=_0x1b9b;function _0x1ce6ec(){var _0x4da1ce=_0x1b9b;this[_0x4da1ce('0x31')]='',this[_0x4da1ce('0x27')]=0x0,window[_0x4da1ce('0x23')]||_0x1622d5['$error'](0xc1c);}return _0x1ce6ec[_0x5e49b8('0x17')][_0x5e49b8('0x2e')]=function(_0x49c16d,_0x95c4a1,_0x3fa703,_0x1472e6,_0x2bc5dd){var _0x57a7b6=_0x5e49b8;this[_0x57a7b6('0x39')]=_0x49c16d,this[_0x57a7b6('0x37')]=_0x95c4a1,this[_0x57a7b6('0x1f')]=_0x3fa703,this[_0x57a7b6('0x1')]=_0x1472e6,this[_0x57a7b6('0x1c')]=_0x2bc5dd;},_0x1ce6ec[_0x5e49b8('0x17')]['connect']=function(_0x17d9c6,_0x425143){var _0xb2a50a=_0x5e49b8;this[_0xb2a50a('0x31')]=_0x17d9c6,this[_0xb2a50a('0x27')]=_0x425143;var _0x3f9b35=_0xb2a50a('0x13')+this['host']+':'+this[_0xb2a50a('0x27')];this['socket']=new window[(_0xb2a50a('0x23'))](_0x3f9b35),this['socket'][_0xb2a50a('0x8')]='arraybuffer',this[_0xb2a50a('0x30')]();},_0x1ce6ec['prototype'][_0x5e49b8('0x1e')]=function(_0x4f4bbc){var _0x2c0755=_0x5e49b8;this[_0x2c0755('0x36')]=new window[(_0x2c0755('0x23'))](_0x4f4bbc),this[_0x2c0755('0x36')][_0x2c0755('0x8')]='arraybuffer',this[_0x2c0755('0x30')]();},_0x1ce6ec[_0x5e49b8('0x17')]['_bindEvent']=function(){var _0x6174ff=_0x5e49b8,_0xf0cfbf=this,_0x59f3ea=this[_0x6174ff('0x36')];_0x59f3ea[_0x6174ff('0x21')]=function(){var _0x9f8aa=_0x6174ff;_0xf0cfbf[_0x9f8aa('0x39')]&&_0xf0cfbf['onConnect'][_0x9f8aa('0x24')](_0xf0cfbf[_0x9f8aa('0x1c')]);},_0x59f3ea[_0x6174ff('0x9')]=function(_0x489714){var _0x20ccd4=_0x6174ff;_0xf0cfbf[_0x20ccd4('0x37')]&&_0xf0cfbf[_0x20ccd4('0x37')][_0x20ccd4('0x24')](_0xf0cfbf[_0x20ccd4('0x1c')]);},_0x59f3ea[_0x6174ff('0x3')]=function(_0x256ff5){var _0x23dd5d=_0x6174ff;_0xf0cfbf[_0x23dd5d('0x1')]&&_0xf0cfbf[_0x23dd5d('0x1')][_0x23dd5d('0x24')](_0xf0cfbf[_0x23dd5d('0x1c')]);},_0x59f3ea[_0x6174ff('0xe')]=function(_0x4a86e0){var _0x19dc24=_0x6174ff;_0xf0cfbf[_0x19dc24('0x1f')]&&_0xf0cfbf['onSocketData'][_0x19dc24('0x24')](_0xf0cfbf[_0x19dc24('0x1c')],_0x4a86e0[_0x19dc24('0xc')]);};},_0x1ce6ec['prototype'][_0x5e49b8('0x10')]=function(_0x3f8681){var _0x232a87=_0x5e49b8;this['socket'][_0x232a87('0x10')](_0x3f8681);},_0x1ce6ec[_0x5e49b8('0x17')][_0x5e49b8('0x2f')]=function(){var _0x53dd74=_0x5e49b8;this[_0x53dd74('0x36')]['close']();},_0x1ce6ec['prototype'][_0x5e49b8('0xd')]=function(){var _0x3ef613=_0x5e49b8;this[_0x3ef613('0x36')]['disconnect']&&this[_0x3ef613('0x36')][_0x3ef613('0xd')]();},_0x1ce6ec;}();_0x5e49fc[_0x2ef847('0x2')]=_0xbaba49,_0x58bab3(_0xbaba49[_0x2ef847('0x17')],_0x2ef847('0x12'),[_0x2ef847('0x19')]),_0x1622d5[_0x2ef847('0x3e')]=_0xbaba49;}(_0x25f4c5=_0x1622d5[_0x3979d1('0x18')]||(_0x1622d5[_0x3979d1('0x18')]={}));}(_0x1bf7eb||(_0x1bf7eb={}));